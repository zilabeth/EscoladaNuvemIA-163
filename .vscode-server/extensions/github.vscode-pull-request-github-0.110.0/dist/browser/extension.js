var qR=Object.defineProperty;var HR=(Va,$r,Kt)=>$r in Va?qR(Va,$r,{enumerable:!0,configurable:!0,writable:!0,value:Kt}):Va[$r]=Kt;var xt=(Va,$r,Kt)=>HR(Va,typeof $r!="symbol"?$r+"":$r,Kt);(()=>{var Va={14523:(s,V,T)=>{"use strict";T.r(V),T.d(V,{AppInsightsCore:()=>F,BaseCore:()=>L,BaseTelemetryPlugin:()=>B.s,CoreUtils:()=>E.jS,DiagnosticLogger:()=>_.wq,ESPromise:()=>ie,ESPromiseScheduler:()=>j,EventHelper:()=>he.fs,EventLatency:()=>c,EventPersistence:()=>h,EventPropertyType:()=>f,EventsDiscardedReason:()=>xe.x,FullVersionString:()=>E.xE,InternalAppInsightsCore:()=>p._,InternalBaseCore:()=>W.F,LoggingSeverity:()=>S.b,MinChannelPriorty:()=>Z,NotificationManager:()=>te.h,PerfEvent:()=>m.Q6,PerfManager:()=>m.NS,ProcessTelemetryContext:()=>ae.W0,TraceLevel:()=>k,Undefined:()=>X.bA,Utils:()=>E.Aq,ValueKind:()=>d,ValueSanitizer:()=>H,Version:()=>E.Rx,_ExtendedInternalMessageId:()=>y,_InternalLogMessage:()=>_.WD,_InternalMessageId:()=>S.$,__getRegisteredEvents:()=>Ee.El,_logInternalMessage:()=>_.Oc,_throwInternal:()=>_.ZP,_warnToConsole:()=>_.OG,addEventHandler:()=>Ee.So,addEventListeners:()=>Ee.lQ,addPageHideEventListener:()=>Ee.Fc,addPageShowEventListener:()=>Ee.oS,addPageUnloadEventListener:()=>Ee.ee,areCookiesSupported:()=>ee.gi,arrForEach:()=>P.Iu,arrIndexOf:()=>P.rD,arrMap:()=>P.W$,arrReduce:()=>P.KT,attachEvent:()=>Ee.Q3,cookieAvailable:()=>ee.gi,createCookieMgr:()=>ee.xN,createEnumStyle:()=>A.Hj,createGuid:()=>E.gj,createProcessTelemetryContext:()=>ae.i8,createTraceParent:()=>_e.wk,createUniqueNamespace:()=>de.Z,createUnloadHandlerContainer:()=>me.P,dateNow:()=>P.x3,deleteCookie:()=>E.Yj,detachEvent:()=>Ee.Ym,disableCookies:()=>E.WD,disallowsSameSiteNone:()=>ee.It,doPerf:()=>m.r2,dumpObj:()=>g.mm,eventOff:()=>Ee.ML,eventOn:()=>Ee.mB,extend:()=>E.X$,findW3cTraceParent:()=>_e.ef,formatTraceParent:()=>_e.L0,generateW3CId:()=>he.cL,getCommonSchemaMetaData:()=>E.Go,getConsole:()=>g.U5,getCookie:()=>E.Ri,getCookieValue:()=>E.UM,getCrypto:()=>g.MY,getDocument:()=>g.YE,getExceptionName:()=>P.lL,getFieldValueType:()=>E.cq,getGlobal:()=>Y.mS,getGlobalInst:()=>g.EH,getHistory:()=>g.JK,getIEVersion:()=>g.L0,getISOString:()=>P._u,getJSON:()=>g.hm,getLocation:()=>g.g$,getMsCrypto:()=>g.iN,getNavigator:()=>g.w3,getPerformance:()=>g.FJ,getSetValue:()=>P.c2,getTenantId:()=>E.EO,getTime:()=>E.WB,getWindow:()=>g.zk,hasDocument:()=>g.Wt,hasHistory:()=>g.tw,hasJSON:()=>g.Z,hasNavigator:()=>g.w9,hasOwnProperty:()=>P.mQ,hasWindow:()=>g.Vd,isArray:()=>P.cy,isArrayValid:()=>E.wJ,isBeaconsSupported:()=>g.Uf,isBoolean:()=>P.Lm,isChromium:()=>E.F2,isDate:()=>P.$P,isDocumentObjectAvailable:()=>E.g8,isError:()=>P.bJ,isFetchSupported:()=>g.R7,isFunction:()=>P.Tn,isIE:()=>g.lT,isLatency:()=>E.Hh,isNotTruthy:()=>P.wo,isNullOrUndefined:()=>P.hX,isNumber:()=>P.Et,isObject:()=>P.Gv,isReactNative:()=>g.lV,isSampledFlag:()=>_e.N7,isString:()=>P.Kg,isTruthy:()=>P.zz,isTypeof:()=>P.Ed,isUint8ArrayAvailable:()=>E.h3,isUndefined:()=>P.b0,isValidSpanId:()=>_e.wN,isValidTraceId:()=>_e.hX,isValidTraceParent:()=>_e.mJ,isValueAssigned:()=>E.yD,isValueKind:()=>E.m0,isWindowObjectAvailable:()=>E.P$,isXhrSupported:()=>g.xk,mergeEvtNamespace:()=>Ee.Hm,newGuid:()=>he.aq,newId:()=>Ne.Si,normalizeJsName:()=>P.cH,objCreate:()=>Y.AQ,objDefineAccessors:()=>P.r,objForEachKey:()=>P.z,objFreeze:()=>P.N6,objKeys:()=>P.cG,objSeal:()=>P.js,openXhr:()=>E.H$,optimizeObject:()=>P.hW,parseTraceParent:()=>_e.ZI,perfNow:()=>he.UU,proxyAssign:()=>P.qz,proxyFunctionAs:()=>P.RF,proxyFunctions:()=>P.o$,random32:()=>Ne.VN,randomValue:()=>Ne.Z1,removeEventHandler:()=>Ee.zh,removeEventListeners:()=>Ee.Wg,removePageHideEventListener:()=>Ee.sq,removePageShowEventListener:()=>Ee.vF,removePageUnloadEventListener:()=>Ee.Ds,safeGetCookieMgr:()=>ee.um,safeGetLogger:()=>_.y0,sanitizeProperty:()=>E.TC,setCookie:()=>E.TV,setEnableEnvMocks:()=>g.cU,setProcessTelemetryTimings:()=>E.u9,setValue:()=>P.KY,strContains:()=>P.Ju,strEndsWith:()=>P.Cv,strFunction:()=>X.hW,strObject:()=>X._1,strPrototype:()=>X.vR,strStartsWith:()=>P.tG,strTrim:()=>P.EH,strUndefined:()=>X.bA,throwError:()=>P.$8,toISOString:()=>P._u,useXDomainRequest:()=>g.PV});var R=T(8747),A=T(96434),P=T(12497),S=T(83897),d=(0,A.Hj)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),c=(0,A.Hj)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),f=(0,A.Hj)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),h=(0,A.Hj)({Normal:1,Critical:2}),k=(0,A.Hj)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),y=(0,P.N6)((0,R.Im)((0,R.Im)({},S.$),(0,A.Hj)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),u=T(92457),_=T(99015),m=T(5204),g=T(44180),p=T(12235),N=T(52976),E=T(59091),x=function(U){(0,R.qU)(O,U);function O(){var oe=U.call(this)||this;return oe.pluginVersionStringArr=[],(0,u.A)(O,oe,function(ve,we){(!ve.logger||!ve.logger.queue)&&(ve.logger=new _.wq({loggingLevelConsole:1})),ve.initialize=function(pe,Pe,Le,He){(0,m.r2)(ve,function(){return"AppInsightsCore.initialize"},function(){var kt=ve.pluginVersionStringArr;if(pe){pe.endpointUrl||(pe.endpointUrl=N.S);var Ke=pe.propertyStorageOverride;Ke&&(!Ke.getProperty||!Ke.setProperty)&&(0,P.$8)("Invalid property storage override passed."),pe.channels&&(0,P.Iu)(pe.channels,function(ce){ce&&(0,P.Iu)(ce,function(ne){if(ne.identifier&&ne.version){var se=ne.identifier+"="+ne.version;kt.push(se)}})})}ve.getWParam=function(){return typeof document!="undefined"||pe.enableWParam?0:-1},Pe&&(0,P.Iu)(Pe,function(ce){if(ce&&ce.identifier&&ce.version){var ne=ce.identifier+"="+ce.version;kt.push(ne)}}),ve.pluginVersionString=kt.join(";"),ve.pluginVersionStringArr=kt;try{we.initialize(pe,Pe,Le,He),ve.pollInternalLogs("InternalLog")}catch(ce){var Ze=ve.logger,yt=(0,g.mm)(ce);yt.indexOf("channels")!==-1&&(yt+=`
 - Channels must be provided through config.channels only!`),(0,_.ZP)(Ze,1,514,"SDK Initialization Failed - no telemetry will be sent: "+yt)}},function(){return{config:pe,extensions:Pe,logger:Le,notificationManager:He}})},ve.track=function(pe){(0,m.r2)(ve,function(){return"AppInsightsCore.track"},function(){var Pe=pe;if(Pe){Pe.timings=Pe.timings||{},Pe.timings.trackStart=(0,E.WB)(),(0,E.Hh)(Pe.latency)||(Pe.latency=1);var Le=Pe.ext=Pe.ext||{};Le.sdk=Le.sdk||{},Le.sdk.ver=E.xE;var He=Pe.baseData=Pe.baseData||{};He[N._0]=He[N._0]||{};var kt=He[N._0];kt[N.hj]=kt[N.hj]||ve.pluginVersionString||N.m5}we.track(Pe)},function(){return{item:pe}},!pe.sync)}}),oe}return O.__ieDyn=1,O}(p._);const F=x;var W=T(34082),b=function(U){(0,R.qU)(O,U);function O(){var oe=U.call(this)||this;return(0,u.A)(O,oe,function(ve,we){ve.initialize=function(pe,Pe,Le,He){pe&&!pe.endpointUrl&&(pe.endpointUrl=N.S),ve.getWParam=function(){return E.g8||pe.enableWParam?0:-1};try{we.initialize(pe,Pe,Le,He)}catch(kt){(0,_.ZP)(ve.logger,1,514,"Initialization Failed: "+(0,g.mm)(kt)+`
 - Note: Channels must be provided through config.channels only`)}},ve.track=function(pe){var Pe=pe;if(Pe){var Le=Pe.ext=Pe.ext||{};Le.sdk=Le.sdk||{},Le.sdk.ver=E.xE}we.track(Pe)}}),oe}return O.__ieDyn=1,O}(W.F);const L=b;var z=P.Tn;function K(U,O,oe){return function(ve){U[O]=ve,oe()}}var J=function(){function U(O){var oe=0,ve=null,we=[];(0,u.A)(U,this,function(kt){kt.then=function(Ke,Ze){return new U(function(yt,ce){pe(Ke,Ze,yt,ce)})},kt.catch=function(Ke){return kt.then(null,Ke)}});function pe(kt,Ke,Ze,yt){we.push(function(){var ce;try{oe===1?ce=z(kt)?kt(ve):ve:ce=z(Ke)?Ke(ve):ve,ce instanceof U?ce.then(Ze,yt):oe===2&&!z(Ke)?yt(ce):Ze(ce)}catch(ne){yt(ne);return}}),oe!==0&&Pe()}function Pe(){if(we.length>0){var kt=we.slice();we=[],setTimeout(function(){for(var Ke=0,Ze=kt.length;Ke<Ze;++Ke)try{kt[Ke]()}catch{}},0)}}function Le(kt){oe===0&&(ve=kt,oe=1,Pe())}function He(kt){oe===0&&(ve=kt,oe=2,Pe())}(function(){if(!z(O))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{O(Le,He)}catch(Ke){He(Ke)}})()}return U.resolve=function(O){return O instanceof U?O:O&&z(O.then)?new U(function(oe,ve){try{O.then(oe,ve)}catch(we){ve(we)}}):new U(function(oe){oe(O)})},U.reject=function(O){return new U(function(oe,ve){ve(O)})},U.all=function(O){if(!(!O||!O.length))return new U(function(oe,ve){try{for(var we=[],pe=0,Pe=0;Pe<O.length;Pe++){var Le=O[Pe];Le&&z(Le.then)?(pe++,Le.then(K(we,Pe,function(){--pe===0&&oe(we)}),ve)):we[Pe]=Le}pe===0&&setTimeout(function(){oe(we)},0)}catch(He){ve(He)}})},U.race=function(O){return new U(function(oe,ve){if(!(!O||!O.length))try{for(var we=function(Pe){var Le=O[Pe];Le&&z(Le.then)?Le.then(oe,ve):setTimeout(function(){oe(Le)},0)},pe=0;pe<O.length;pe++)we(pe)}catch(Pe){ve(Pe)}})},U}();const ie=J;var Y=T(75148),M=6e5,$=0,C=[],l=[],w=[];function D(){return new Date().getTime()}var q=function(){function U(O,oe){var ve=0,we=(O||"<unnamed>")+"."+$;$++,(0,u.A)(U,this,function(Le){var He=null,kt=0;Le.scheduleEvent=function(Ze,yt,ce){var ne=we+"."+kt;kt++,yt&&(ne+="-("+yt+")");var se=ne+"{"+ve+"}";ve++;var be={evt:null,tm:D(),id:se,isRunning:!1,isAborted:!1};return He?be.evt=rt(be,He):be.evt=et(be),He=be,He.evt._schId=se,be.evt;function Me(ut){for(var mt=D(),vt=mt-M,ai=ut.length,ht=0;ht<ai;){var Pt=ut[ht];if(Pt&&Pt.tm<vt){var Fi=null;Pt.abort?(Fi="Aborting ["+Pt.id+"] due to Excessive runtime ("+(mt-Pt.tm)+" ms)",Pt.abort(Fi)):Fi="Removing ["+Pt.id+"] due to Excessive runtime ("+(mt-Pt.tm)+" ms)",Pe(Fi),ut.splice(ht,1),ai--}else ht++}}function Ve(ut,mt){var vt=!1,ai=Ke(C,ut);if(ai||(ai=Ke(w,ut),vt=!0),ai){ai.to&&(clearTimeout(ai.to),ai.to=null);var ht=D()-ai.tm;mt?vt?Pe("Timed out event ["+ut+"] finally complete -- "+ht+" ms"):pe("Promise ["+ut+"] Complete -- "+ht+" ms"):(w.push(ai),Pe("Event ["+ut+"] Timed out and removed -- "+ht+" ms"))}else pe("Failed to remove ["+ut+"] from running queue");He&&He.id===ut&&(He=null),Me(C),Me(l),Me(w)}function Fe(ut,mt){return function(vt){return Ve(ut,!0),mt&&mt(vt),vt}}function Ye(ut,mt,vt,ai){mt.then(function(ht){return ht instanceof ie?(pe("Event ["+ut+"] returned a promise -- waiting"),Ye(ut,ht,vt,ai),ht):Fe(ut,vt)(ht)},Fe(ut,ai))}function Tt(ut,mt){var vt=ut.id;return new ie(function(ai,ht){pe("Event ["+vt+"] Starting -- waited for "+(ut.wTm||"--")+" ms"),ut.isRunning=!0,ut.abort=function(Fi){ut.abort=null,ut.isAborted=!0,Ve(vt,!1),ht(new Error(Fi))};var Pt=mt(vt);Pt instanceof ie?(ce&&(ut.to=setTimeout(function(){Ve(vt,!1),ht(new Error("Timed out after ["+ce+"] ms"))},ce)),Ye(vt,Pt,function(Fi){pe("Event ["+vt+"] Resolving after "+(D()-ut.tm)+" ms"),ai(Fi)},ht)):(pe("Promise ["+vt+"] Auto completed as the start action did not return a promise"),ai())})}function et(ut){var mt=D();return ut.wTm=mt-ut.tm,ut.tm=mt,ut.isAborted?ie.reject(new Error("["+ne+"] was aborted")):(C.push(ut),Tt(ut,Ze))}function rt(ut,mt){var vt=new ie(function(ai,ht){var Pt=D()-mt.tm,Fi=mt.id;pe("["+ne+"] is waiting for ["+Fi+":"+Pt+" ms] to complete before starting -- ["+l.length+"] waiting and ["+C.length+"] running"),ut.abort=function(Rt){ut.abort=null,Ke(l,ne),ut.isAborted=!0,ht(new Error(Rt))},mt.evt.then(function(Rt){Ke(l,ne),et(ut).then(ai,ht)},function(Rt){Ke(l,ne),et(ut).then(ai,ht)})});return l.push(ut),vt}};function Ke(Ze,yt){for(var ce=0;ce<Ze.length;ce++)if(Ze[ce].id===yt)return Ze.splice(ce,1)[0];return null}});function pe(Le){var He=(0,Y.mS)();He&&He.QUnit&&console&&console.log("ESPromiseScheduler["+we+"] "+Le)}function Pe(Le){(0,_.OG)(oe,"ESPromiseScheduler["+we+"] "+Le)}}return U.incomplete=function(){return C},U.waitingToStart=function(){return l},U}();const j=q;var H=function(){function U(O){var oe=this,ve={},we=[],pe=[];O&&pe.push(O);function Pe(Ke,Ze){var yt,ce=ve[Ke];if(ce&&(yt=ce[Ze]),!yt&&yt!==null){if((0,P.Kg)(Ke)&&(0,P.Kg)(Ze))if(pe.length>0){for(var ne=0;ne<pe.length;ne++)if(pe[ne].handleField(Ke,Ze)){yt={canHandle:!0,fieldHandler:pe[ne]};break}}else we.length===0&&(yt={canHandle:!0});if(!yt&&yt!==null){yt=null;for(var ne=0;ne<we.length;ne++)if(we[ne].handleField(Ke,Ze)){yt={canHandle:!0,handler:we[ne],fieldHandler:null};break}}ce||(ce=ve[Ke]={}),ce[Ze]=yt}return yt}oe.addSanitizer=function(Ke){Ke&&(we.push(Ke),ve={})},oe.addFieldSanitizer=function(Ke){Ke&&(pe.push(Ke),ve={})},oe.handleField=function(Ke,Ze){var yt=Pe(Ke,Ze);return yt?yt.canHandle:!1},oe.value=function(Ke,Ze,yt,ce){var ne=Pe(Ke,Ze);if(ne&&ne.canHandle){if(!ne||!ne.canHandle)return null;if(ne.handler)return ne.handler.value(Ke,Ze,yt,ce);if(!(0,P.Kg)(Ze)||(0,P.hX)(yt)||yt===N.m5)return null;var se=null,be=(0,E.cq)(yt);if((be&8192)===8192){var Me=be&-8193;if(se=yt,!(0,E.yD)(se.value)||Me!==1&&Me!==2&&Me!==3&&(Me&4096)!==4096)return null}else be===1||be===2||be===3||(be&4096)===4096?se=He(Ke,Ze,yt):be===4&&(se=He(Ke,Ze,ce?JSON.stringify(yt):yt));if(se)return Le(ne,Ke,Ze,be,se,ce)}return null},oe.property=function(Ke,Ze,yt,ce){var ne=Pe(Ke,Ze);if(!ne||!ne.canHandle||!(0,P.Kg)(Ze)||(0,P.hX)(yt)||!(0,E.yD)(yt.value))return null;var se=(0,E.cq)(yt.value);return se===0?null:Le(ne,Ke,Ze,se,yt,ce)};function Le(Ke,Ze,yt,ce,ne,se){if(Ke.handler)return Ke.handler.property(Ze,yt,ne,se);if(!(0,P.hX)(ne.kind)){if((ce&4096)===4096||!(0,E.m0)(ne.kind))return null;ne.value=ne.value.toString()}return kt(Ke.fieldHandler,Ze,yt,ce,ne)}function He(Ke,Ze,yt){return(0,E.yD)(yt)?{value:yt}:null}function kt(Ke,Ze,yt,ce,ne){if(ne&&Ke){var se=Ke.getSanitizer(Ze,yt,ce,ne.kind,ne.propertyType);if(se)if(ce===4){var be={},Me=ne.value;(0,P.z)(Me,function(Fe,Ye){var Tt=Ze+"."+yt;if((0,E.yD)(Ye)){var et=He(Tt,Fe,Ye);et=kt(Ke,Tt,Fe,(0,E.cq)(Ye),et),et&&(be[Fe]=et.value)}}),ne.value=be}else{var Ve={path:Ze,name:yt,type:ce,prop:ne,sanitizer:oe};ne=se.call(oe,Ve)}}return ne}}return U.getFieldType=E.cq,U}(),Z=100,te=T(54660),B=T(56489),ae=T(8997),xe=T(31590),he=T(32578),Ee=T(18413),Ne=T(57679),X=T(47672),ee=T(91698),de=T(64252),me=T(49388),_e=T(68560)},52976:(s,V,T)=>{"use strict";T.d(V,{S:()=>A,_0:()=>c,hj:()=>d,m5:()=>R});var R="",A="https://browser.events.data.microsoft.com/OneCollector/1.0/",P="pluginVersionString",S=P+"Arr",d="version",c="properties"},59091:(s,V,T)=>{"use strict";T.d(V,{Aq:()=>ae,EO:()=>b,F2:()=>he,Go:()=>J,H$:()=>Ee,Hh:()=>z,P$:()=>F,Ri:()=>$,Rx:()=>u,TC:()=>K,TV:()=>Y,UM:()=>C,WB:()=>D,WD:()=>ie,X$:()=>w,Yj:()=>M,cq:()=>B,g8:()=>x,gj:()=>l,h3:()=>L,jS:()=>xe,m0:()=>q,u9:()=>te,wJ:()=>Z,xE:()=>_,yD:()=>W});var R=T(44180),A=T(12497),P=T(91698),S=T(32578),d=T(47672),c=T(18413),f=T(57679),h=T(75148),k=T(52976),y,u="3.2.9",_="1DS-Web-JS-"+u,m="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",g="withCredentials",p="timeout",N=(y={},y[0]=0,y[2]=6,y[1]=1,y[3]=7,y[4098]=6,y[4097]=1,y[4099]=7,y),E=null,x=!!(0,R.YE)(),F=!!(0,R.zk)();function W(Ne){return!(Ne===k.m5||(0,A.hX)(Ne))}function b(Ne){if(Ne){var X=Ne.indexOf("-");if(X>-1)return Ne.substring(0,X)}return k.m5}function L(){return E===null&&(E=!(0,A.b0)(Uint8Array)&&!H()&&!(0,R.lV)()),E}function z(Ne){return!!(Ne&&(0,A.Et)(Ne)&&Ne>=1&&Ne<=4)}function K(Ne,X,ee){if(!X&&!W(X)||typeof Ne!="string")return null;var de=typeof X;if(de==="string"||de==="number"||de==="boolean"||(0,A.cy)(X))X={value:X};else if(de==="object"&&!d.J$.call(X,"value"))X={value:ee?JSON.stringify(X):X};else if((0,A.hX)(X.value)||X.value===k.m5||!(0,A.Kg)(X.value)&&!(0,A.Et)(X.value)&&!(0,A.Lm)(X.value)&&!(0,A.cy)(X.value))return null;if((0,A.cy)(X.value)&&!Z(X.value))return null;if(!(0,A.hX)(X.kind)){if((0,A.cy)(X.value)||!q(X.kind))return null;X.value=X.value.toString()}return X}function J(Ne,X,ee){var de=-1;if(!(0,A.b0)(Ne))if(X>0&&(X===32?de=8192:X<=13&&(de=X<<5)),j(ee))de===-1&&(de=0),de|=ee;else{var me=N[B(Ne)]||-1;de!==-1&&me!==-1?de|=me:me===6&&(de=me)}return de}function ie(){(0,P.um)(null).setEnabled(!1)}function Y(Ne,X,ee){(0,P.gi)(null)&&(0,P.um)(null).set(Ne,X,ee*86400,null,"/")}function M(Ne){(0,P.gi)(null)&&(0,P.um)(null).del(Ne)}function $(Ne){return(0,P.gi)(null)?C((0,P.um)(null),Ne):k.m5}function C(Ne,X,ee){ee===void 0&&(ee=!0);var de;return Ne&&(de=Ne.get(X),ee&&de&&decodeURIComponent&&(de=decodeURIComponent(de))),de||k.m5}function l(Ne){Ne===void 0&&(Ne="D");var X=(0,S.aq)();return Ne==="B"?X="{"+X+"}":Ne==="P"?X="("+X+")":Ne==="N"&&(X=X.replace(/-/g,k.m5)),X}function w(Ne,X,ee,de,me){var _e={},U=!1,O=0,oe=arguments.length,ve=Object[d.vR],we=arguments;for(ve.toString.call(we[0])==="[object Boolean]"&&(U=we[0],O++);O<oe;O++){var Ne=we[O];(0,A.z)(Ne,function(Pe,Le){U&&Le&&(0,A.Gv)(Le)?(0,A.cy)(Le)?(_e[Pe]=_e[Pe]||[],(0,A.Iu)(Le,function(He,kt){He&&(0,A.Gv)(He)?_e[Pe][kt]=w(!0,_e[Pe][kt],He):_e[Pe][kt]=He})):_e[Pe]=w(!0,_e[Pe],Le):_e[Pe]=Le})}return _e}var D=S.UU;function q(Ne){return Ne===0||Ne>0&&Ne<=13||Ne===32}function j(Ne){return Ne>=0&&Ne<=9}function H(){var Ne=(0,R.w3)();if(!(0,A.b0)(Ne)&&Ne.userAgent){var X=Ne.userAgent.toLowerCase();if((X.indexOf("safari")>=0||X.indexOf("firefox")>=0)&&X.indexOf("chrome")<0)return!0}return!1}function Z(Ne){return Ne.length>0}function te(Ne,X){var ee=Ne;ee.timings=ee.timings||{},ee.timings.processTelemetryStart=ee.timings.processTelemetryStart||{},ee.timings.processTelemetryStart[X]=D()}function B(Ne){var X=0;if(Ne!=null){var ee=typeof Ne;ee==="string"?X=1:ee==="number"?X=2:ee==="boolean"?X=3:ee===d._1&&(X=4,(0,A.cy)(Ne)?(X=4096,Ne.length>0&&(X|=B(Ne[0]))):d.J$.call(Ne,"value")&&(X=8192|B(Ne.value)))}return X}var ae={Version:u,FullVersionString:_,strUndefined:d.bA,strObject:d._1,Undefined:d.bA,arrForEach:A.Iu,arrIndexOf:A.rD,arrMap:A.W$,arrReduce:A.KT,objKeys:A.cG,toISOString:A._u,isReactNative:R.lV,isString:A.Kg,isNumber:A.Et,isBoolean:A.Lm,isFunction:A.Tn,isArray:A.cy,isObject:A.Gv,strTrim:A.EH,isDocumentObjectAvailable:x,isWindowObjectAvailable:F,isValueAssigned:W,getTenantId:b,isBeaconsSupported:R.Uf,isUint8ArrayAvailable:L,isLatency:z,sanitizeProperty:K,getISOString:A._u,useXDomainRequest:R.PV,getCommonSchemaMetaData:J,cookieAvailable:P.gi,disallowsSameSiteNone:P.It,setCookie:Y,deleteCookie:M,getCookie:$,createGuid:l,extend:w,getTime:D,isValueKind:q,isArrayValid:Z,objDefineAccessors:A.r,addPageUnloadEventListener:c.ee,setProcessTelemetryTimings:te,addEventHandler:c.So,getFieldValueType:B,strEndsWith:A.Cv,objForEachKey:A.z},xe={_canUseCookies:void 0,isTypeof:A.Ed,isUndefined:A.b0,isNullOrUndefined:A.hX,hasOwnProperty:A.mQ,isFunction:A.Tn,isObject:A.Gv,isDate:A.$P,isArray:A.cy,isError:A.bJ,isString:A.Kg,isNumber:A.Et,isBoolean:A.Lm,toISOString:A._u,arrForEach:A.Iu,arrIndexOf:A.rD,arrMap:A.W$,arrReduce:A.KT,strTrim:A.EH,objCreate:h.AQ,objKeys:A.cG,objDefineAccessors:A.r,addEventHandler:c.So,dateNow:A.x3,isIE:R.lT,disableCookies:ie,newGuid:S.aq,perfNow:S.UU,newId:f.Si,randomValue:f.Z1,random32:f.VN,mwcRandomSeed:f.yc,mwcRandom32:f.k5,generateW3CId:S.cL};function he(){return!!(0,R.EH)("chrome")}function Ee(Ne,X,ee,de,me,_e){de===void 0&&(de=!1),me===void 0&&(me=!1);function U(oe,ve,we){try{oe[ve]=we}catch{}}var O=new XMLHttpRequest;return de&&U(O,m,de),ee&&U(O,g,ee),O.open(Ne,X,!me),ee&&U(O,g,ee),!me&&_e&&U(O,p,_e),O}},28643:(s,V,T)=>{"use strict";T.r(V),T.d(V,{BE_PROFILE:()=>g,NRT_PROFILE:()=>m,PostChannel:()=>Dt,RT_PROFILE:()=>_});var R=T(8747),A=T(92457),P=T(5204),S=T(18413),d=T(64252),c=T(59091),f=T(12497),h=T(44180),k=T(31590),y=T(99015),u=T(56489),_="REAL_TIME",m="NEAR_REAL_TIME",g="BEST_EFFORT",p="",N="POST",E="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",x="drop",F="send",W="requeue",b="rspFail",L="oth",z="no-cache, no-store",K="application/x-json-stream",J="cache-control",ie="content-type",Y="kill-tokens",M="kill-duration",$="kill-duration-seconds",C="time-delta-millis",l="client-version",w="client-id",D="time-delta-to-apply-millis",q="upload-time",j="apikey",H="AuthMsaDeviceTicket",Z="AuthXToken",te="sdk-version",B="NoResponseBody",ae="msfpc",xe="trace",he="user";function Ee(At){var st=(At.ext||{}).intweb;return st&&(0,c.yD)(st[ae])?st[ae]:null}function Ne(At){for(var st=null,wt=0;st===null&&wt<At.length;wt++)st=Ee(At[wt]);return st}var X=function(){function At(st,wt){var St=wt?[].concat(wt):[],si=this,ei=Ne(St);si.iKey=function(){return st},si.Msfpc=function(){return ei||p},si.count=function(){return St.length},si.events=function(){return St},si.addEvent=function(Ft){return Ft?(St.push(Ft),ei||(ei=Ee(Ft)),!0):!1},si.split=function(Ft,mi){var ii;if(Ft<St.length){var bi=St.length-Ft;(0,f.hX)(mi)||(bi=mi<bi?mi:bi),ii=St.splice(Ft,bi),ei=Ne(St)}return new At(st,ii)}}return At.create=function(st,wt){return new At(st,wt)},At}(),ee=function(){function At(){var st=!0,wt=!0,St=!0,si="use-collector-delta",ei=!1;(0,A.A)(At,this,function(Ft){Ft.allowRequestSending=function(){return st},Ft.firstRequestSent=function(){St&&(St=!1,ei||(st=!1))},Ft.shouldAddClockSkewHeaders=function(){return wt},Ft.getClockSkewHeaderValue=function(){return si},Ft.setClockSkew=function(mi){ei||(mi?(si=mi,wt=!0,ei=!0):wt=!1,st=!0)}})}return At.__ieDyn=1,At}();const de=ee;var me=1e3,_e=function(){function At(){var st={};function wt(St){var si=[];return St&&(0,f.Iu)(St,function(ei){si.push((0,f.EH)(ei))}),si}(0,A.A)(At,this,function(St){St.setKillSwitchTenants=function(si,ei){if(si&&ei)try{var Ft=wt(si.split(","));if(ei==="this-request-only")return Ft;for(var mi=parseInt(ei,10)*me,ii=0;ii<Ft.length;++ii)st[Ft[ii]]=(0,f.x3)()+mi}catch{return[]}return[]},St.isTenantKilled=function(si){var ei=st,Ft=(0,f.EH)(si);return ei[Ft]!==void 0&&ei[Ft]>(0,f.x3)()?!0:(delete ei[Ft],!1)}})}return At.__ieDyn=1,At}();const U=_e;var O=T(47672),oe=.8,ve=1.2,we=3e3,pe=6e5;function Pe(At){return!(At>=300&&At<500&&At!=408&&At!=429||At==501||At==505)}function Le(At){var st=0,wt=we*oe,St=we*ve,si=Math.floor(Math.random()*(St-wt))+wt;return st=Math.pow(2,At)*si,Math.min(st,pe)}var He=20,kt=3984588,Ke=65e3,Ze=2e6,yt=Math.min(Ze,Ke),ce="metadata",ne="f",se=/\./,be=function(){function At(st,wt,St,si){var ei="data",Ft="baseData",mi="ext",ii=!!si,bi=!0,_i=wt,Hi={};(0,A.A)(At,this,function(Ti){Ti.createPayload=function(Ht,ti,Xt,Mi,oi,yi){return{apiKeys:[],payloadBlob:p,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Ht,isTeardown:ti,isSync:Xt,isBeacon:Mi,sendType:yi,sendReason:oi}},Ti.appendPayload=function(Ht,ti,Xt){var Mi=Ht&&ti&&!Ht.overflow;return Mi&&(0,P.r2)(st,function(){return"Serializer:appendPayload"},function(){for(var oi=ti.events(),yi=Ht.payloadBlob,Oi=Ht.numEvents,Yi=!1,Ai=[],rn=[],dn=Ht.isBeacon,ji=dn?Ke:kt,fn=dn?yt:Ze,an=0,tn=0;an<oi.length;){var gi=oi[an];if(gi){if(Oi>=Xt){Ht.overflow=ti.split(an);break}var ci=Ti.getEventBlob(gi);if(ci&&ci.length<=fn){var vn=ci.length,Ar=yi.length;if(Ar+vn>ji){Ht.overflow=ti.split(an);break}yi&&(yi+=`
`),yi+=ci,tn++,tn>He&&(yi.substr(0,1),tn=0),Yi=!0,Oi++}else ci?Ai.push(gi):rn.push(gi),oi.splice(an,1),an--}an++}if(Ai&&Ai.length>0&&Ht.sizeExceed.push(X.create(ti.iKey(),Ai)),rn&&rn.length>0&&Ht.failedEvts.push(X.create(ti.iKey(),rn)),Yi){Ht.batches.push(ti),Ht.payloadBlob=yi,Ht.numEvents=Oi;var gn=ti.iKey();(0,f.rD)(Ht.apiKeys,gn)===-1&&Ht.apiKeys.push(gn)}},function(){return{payload:Ht,theBatch:{iKey:ti.iKey(),evts:ti.events()},max:Xt}}),Mi},Ti.getEventBlob=function(Ht){try{return(0,P.r2)(st,function(){return"Serializer.getEventBlob"},function(){var ti={};ti.name=Ht.name,ti.time=Ht.time,ti.ver=Ht.ver,ti.iKey="o:"+(0,c.EO)(Ht.iKey);var Xt={},Mi=Ht[mi];Mi&&(ti[mi]=Xt,(0,f.z)(Mi,function(Oi,Yi){var Ai=Xt[Oi]={};Pi(Yi,Ai,"ext."+Oi,!0,null,null,!0)}));var oi=ti[ei]={};oi.baseType=Ht.baseType;var yi=oi[Ft]={};return Pi(Ht.baseData,yi,Ft,!1,[Ft],function(Oi,Yi,Ai){Me(Xt,Oi,Yi,Ai)},bi),Pi(Ht.data,oi,ei,!1,[],function(Oi,Yi,Ai){Me(Xt,Oi,Yi,Ai)},bi),JSON.stringify(ti)},function(){return{item:Ht}})}catch{return null}};function Ci(Ht,ti){var Xt=Hi[Ht];return Xt===void 0&&(Ht.length>=7&&(Xt=(0,f.tG)(Ht,"ext.metadata")||(0,f.tG)(Ht,"ext.web")),Hi[Ht]=Xt),Xt}function Pi(Ht,ti,Xt,Mi,oi,yi,Oi){(0,f.z)(Ht,function(Yi,Ai){var rn=null;if(Ai||(0,c.yD)(Ai)){var dn=Xt,ji=Yi,fn=oi,an=ti;if(ii&&!Mi&&se.test(Yi)){var tn=Yi.split("."),gi=tn.length;if(gi>1){fn&&(fn=fn.slice());for(var ci=0;ci<gi-1;ci++){var vn=tn[ci];an=an[vn]=an[vn]||{},dn+="."+vn,fn&&fn.push(vn)}ji=tn[gi-1]}}var Ar=Mi&&Ci(dn,ji);if(!Ar&&_i&&_i.handleField(dn,ji)?rn=_i.value(dn,ji,Ai,St):rn=(0,c.TC)(ji,Ai,St),rn){var gn=rn.value;if(an[ji]=gn,yi&&yi(fn,ji,rn),Oi&&typeof gn=="object"&&!(0,f.cy)(gn)){var dr=fn;dr&&(dr=dr.slice(),dr.push(ji)),Pi(Ai,gn,dn+"."+ji,Mi,dr,yi,Oi)}}}})}})}return At.__ieDyn=1,At}();function Me(At,st,wt,St){if(St&&At){var si=(0,c.Go)(St.value,St.kind,St.propertyType);if(si>-1){var ei=At[ce];ei||(ei=At[ce]={f:{}});var Ft=ei[ne];if(Ft||(Ft=ei[ne]={}),st)for(var mi=0;mi<st.length;mi++){var ii=st[mi];Ft[ii]||(Ft[ii]={f:{}});var bi=Ft[ii][ne];bi||(bi=Ft[ii][ne]={}),Ft=bi}Ft=Ft[wt]={},(0,f.cy)(St.value)?Ft.a={t:si}:Ft.t=si}}}var Ve,Fe="sendAttempt",Ye="&"+B+"=true",Tt=(Ve={},Ve[1]=W,Ve[100]=W,Ve[200]="sent",Ve[8004]=x,Ve[8003]=x,Ve),et={},rt={};function ut(At,st,wt){et[At]=st,wt!==!1&&(rt[st]=At)}ut(H,H,!1),ut(l,l),ut(w,"Client-Id"),ut(j,j),ut(D,D),ut(q,q),ut(Z,Z);function mt(At){try{return At.responseText}catch{}return p}function vt(At,st){var wt=!1;if(At&&st){var St=(0,f.cG)(At);if(St&&St.length>0)for(var si=st.toLowerCase(),ei=0;ei<St.length;ei++){var Ft=St[ei];if(Ft&&(0,f.mQ)(st,Ft)&&Ft.toLowerCase()===si){wt=!0;break}}}return wt}function ai(At,st,wt,St){st&&wt&&wt.length>0&&(St&&et[st]?(At.hdrs[et[st]]=wt,At.useHdrs=!0):At.url+="&"+st+"="+wt)}function ht(At,st){return st&&((0,f.Et)(st)?At=[st].concat(At):(0,f.cy)(st)&&(At=st.concat(At))),At}var Pt=function(){function At(st,wt,St,si,ei){this._responseHandlers=[];var Ft="?cors=true&"+ie.toLowerCase()+"="+K,mi=new U,ii=!1,bi=new de,_i=!1,Hi=0,Ti,Ci,Pi,Ht,ti=!0,Xt=[],Mi={},oi=[],yi=null,Oi=!1,Yi,Ai=!1,rn=!1,dn,ji,fn,an,tn;(0,A.A)(At,this,function(gi){var ci=!0;gi.initialize=function(qe,pt,ft,dt,Mt){var Gt;Mt||(Mt={}),Ft=qe+Ft,rn=(0,f.b0)(Mt.avoidOptions)?!0:!Mt.avoidOptions,Ht=pt,Yi=pt.getCookieMgr(),Oi=!Ht.config.disableEventTimings;var zt=!!Ht.config.enableCompoundKey;Ti=ft,Ci=Ti.diagLog();var Ge=Mt.valueSanitizer,nt=Mt.stringifyObjects;(0,f.b0)(Mt.enableCompoundKey)||(zt=!!Mt.enableCompoundKey),dn=Mt.xhrTimeout,ji=!!Mt.disableXhrSync,fn=!!Mt.disableFetchKeepAlive,tn=Mt.addNoResponse!==!1,_i=!(0,h.lV)(),yi=new be(Ht,Ge,nt,zt),(0,f.hX)(Mt.useSendBeacon)||(_i=!!Mt.useSendBeacon);var Xe=dt,Et=Mt.alwaysUseXhrOverride?dt:null,Bt=Mt.alwaysUseXhrOverride?dt:null,jt=[3,2];if(!dt){ti=!1;var di=(0,h.g$)();di&&di.protocol&&di.protocol.toLowerCase()==="file:"&&(ci=!1);var Ni=[];(0,h.lV)()?(Ni=[2,1],jt=[2,1,3]):Ni=[1,2,3],Ni=ht(Ni,Mt.transports),dt=vn(Ni,!1),dt||(0,y.OG)(Ci,"No available transport to send events"),Xe=vn(Ni,!0)}Et||(jt=ht(jt,Mt.unloadTransports),Et=vn(jt,!0)),an=!ti&&(_i&&(0,h.Uf)()||!fn&&(0,h.R7)(!0)),Pi=(Gt={},Gt[0]=dt,Gt[1]=Xe||vn([1,2,3],!0),Gt[2]=Et||Xe||vn([1],!0),Gt[3]=Bt||vn([2,3],!0)||Xe||vn([1],!0),Gt)};function vn(qe,pt){for(var ft=0,dt=null,Mt=0;dt==null&&Mt<qe.length;)ft=qe[Mt],ft===1?(0,h.PV)()?dt=Ar:(0,h.xk)()&&(dt=dr):ft===2&&(0,h.R7)(pt)&&(!pt||pt&&!fn)?dt=gn:_i&&ft===3&&(0,h.Uf)()&&(dt=Ir),Mt++;return dt?{_transport:ft,_isSync:pt,sendPOST:dt}:null}gi._getDbgPlgTargets=function(){return[Pi[0],mi,yi,Pi]};function Ar(qe,pt,ft){var dt=new XDomainRequest;dt.open(N,qe.urlString),qe.timeout&&(dt.timeout=qe.timeout),dt.onload=function(){var Mt=mt(dt);In(pt,200,{},Mt),Wr(Mt)},dt.onerror=function(){In(pt,400,{})},dt.ontimeout=function(){In(pt,500,{})},dt.onprogress=function(){},ft?dt.send(qe.data):ei.set(function(){dt.send(qe.data)},0)}function gn(qe,pt,ft){var dt,Mt=qe.urlString,Gt=!1,zt=!1,Ge=(dt={body:qe.data,method:N},dt[E]=!0,dt);ft&&(Ge.keepalive=!0,qe._sendReason===2&&(Gt=!0,tn&&(Mt+=Ye))),ci&&(Ge.credentials="include"),qe.headers&&(0,f.cG)(qe.headers).length>0&&(Ge.headers=qe.headers),fetch(Mt,Ge).then(function(nt){var Xe={},Et=p,Bt=nt.headers;Bt&&Bt.forEach(function(jt,di){Xe[di]=jt}),nt.body&&nt.text().then(function(jt){Et=jt}),zt||(zt=!0,In(pt,nt.status,Xe,Et),Wr(Et))}).catch(function(nt){zt||(zt=!0,In(pt,0,{}))}),Gt&&!zt&&(zt=!0,In(pt,200,{})),!zt&&qe.timeout>0&&ei.set(function(){zt||(zt=!0,In(pt,500,{}))},qe.timeout)}function dr(qe,pt,ft){var dt=qe.urlString;function Mt(nt,Xe,Et){if(!nt[Et]&&Xe&&Xe.getResponseHeader){var Bt=Xe.getResponseHeader(Et);Bt&&(nt[Et]=(0,f.EH)(Bt))}return nt}function Gt(nt){var Xe={};return nt.getAllResponseHeaders?Xe=za(nt.getAllResponseHeaders()):(Xe=Mt(Xe,nt,C),Xe=Mt(Xe,nt,M),Xe=Mt(Xe,nt,$)),Xe}function zt(nt,Xe){In(pt,nt.status,Gt(nt),Xe)}ft&&qe.disableXhrSync&&(ft=!1);var Ge=(0,c.H$)(N,dt,ci,!0,ft,qe.timeout);(0,f.z)(qe.headers,function(nt,Xe){Ge.setRequestHeader(nt,Xe)}),Ge.onload=function(){var nt=mt(Ge);zt(Ge,nt),Wr(nt)},Ge.onerror=function(){zt(Ge)},Ge.ontimeout=function(){zt(Ge)},Ge.send(qe.data)}function In(qe,pt,ft,dt){try{qe(pt,ft,dt)}catch(Mt){(0,y.ZP)(Ci,2,518,(0,h.mm)(Mt))}}function Ir(qe,pt,ft){var dt=qe,Mt=200,Gt=dt._thePayload,zt=qe.urlString+(tn?Ye:p);try{var Ge=(0,h.w3)();if(!Ge.sendBeacon(zt,qe.data))if(Gt){var nt=[];(0,f.Iu)(Gt.batches,function(Xe){if(nt&&Xe&&Xe.count()>0){for(var Et=Xe.events(),Bt=0;Bt<Et.length;Bt++)if(!Ge.sendBeacon(zt,yi.getEventBlob(Et[Bt]))){nt.push(Xe.split(Bt));break}}else nt.push(Xe.split(0))}),ln(nt,8003,Gt.sendType,!0)}else Mt=0}catch(Xe){(0,y.OG)(Ci,"Failed to send telemetry using sendBeacon API. Ex:"+(0,h.mm)(Xe)),Mt=0}finally{In(pt,Mt,{},p)}}function fr(qe){return qe===2||qe===3}function sn(qe){return Ai&&fr(qe)&&(qe=2),qe}gi.addQueryStringParameter=function(qe,pt){for(var ft=0;ft<Xt.length;ft++)if(Xt[ft].name===qe){Xt[ft].value=pt;return}Xt.push({name:qe,value:pt})},gi.addHeader=function(qe,pt){Mi[qe]=pt},gi.canSendRequest=function(){return nr()&&bi.allowRequestSending()},gi.sendQueuedRequests=function(qe,pt){(0,f.b0)(qe)&&(qe=0),Ai&&(qe=sn(qe),pt=2),zn(oi,qe,0)&&Dr(rr(),0,!1,qe,pt||0)},gi.isCompletelyIdle=function(){return!ii&&Hi===0&&oi.length===0},gi.setUnloading=function(qe){Ai=qe},gi.addBatch=function(qe){if(qe&&qe.count()>0){if(mi.isTenantKilled(qe.iKey()))return!1;oi.push(qe)}return!0},gi.teardown=function(){oi.length>0&&Dr(rr(),0,!0,2,2)},gi.pause=function(){ii=!0},gi.resume=function(){ii=!1,gi.sendQueuedRequests(0,4)},gi.sendSynchronousBatch=function(qe,pt,ft){qe&&qe.count()>0&&((0,f.hX)(pt)&&(pt=1),Ai&&(pt=sn(pt),ft=2),Dr([qe],0,!1,pt,ft||0))};function nr(){return!ii&&Hi<wt}function rr(){var qe=oi;return oi=[],qe}function zn(qe,pt,ft){var dt=!1;return qe&&qe.length>0&&!ii&&Pi[pt]&&yi&&(dt=pt!==0||nr()&&(ft>0||bi.allowRequestSending())),dt}function Vr(qe){var pt={};return qe&&(0,f.Iu)(qe,function(ft,dt){pt[dt]={iKey:ft.iKey(),evts:ft.events()}}),pt}function Dr(qe,pt,ft,dt,Mt){if(!(!qe||qe.length===0)){if(ii){ln(qe,1,dt);return}dt=sn(dt);try{var Gt=qe,zt=dt!==0;(0,P.r2)(Ht,function(){return"HttpManager:_sendBatches"},function(Ge){Ge&&(qe=qe.slice(0));for(var nt=[],Xe=null,Et=(0,c.WB)(),Bt=Pi[dt]||(zt?Pi[1]:Pi[0]),jt=Bt&&Bt._transport,di=an&&(Ai||fr(dt)||jt===3||Bt._isSync&&jt===2);zn(qe,dt,pt);){var Ni=qe.shift();Ni&&Ni.count()>0&&(mi.isTenantKilled(Ni.iKey())?nt.push(Ni):(Xe=Xe||yi.createPayload(pt,ft,zt,di,Mt,dt),yi.appendPayload(Xe,Ni,st)?Xe.overflow!==null&&(qe=[Xe.overflow].concat(qe),Xe.overflow=null,pa(Xe,Et,(0,c.WB)(),Mt),Et=(0,c.WB)(),Xe=null):(pa(Xe,Et,(0,c.WB)(),Mt),Et=(0,c.WB)(),qe=[Ni].concat(qe),Xe=null)))}Xe&&pa(Xe,Et,(0,c.WB)(),Mt),qe.length>0&&(oi=qe.concat(oi)),ln(nt,8004,dt)},function(){return{batches:Vr(Gt),retryCount:pt,isTeardown:ft,isSynchronous:zt,sendReason:Mt,useSendBeacon:fr(dt),sendType:dt}},!zt)}catch(Ge){(0,y.ZP)(Ci,2,48,"Unexpected Exception sending batch: "+(0,h.mm)(Ge))}}}function jr(qe,pt){var ft={url:Ft,hdrs:{},useHdrs:!1};pt?(ft.hdrs=(0,c.X$)(ft.hdrs,Mi),ft.useHdrs=(0,f.cG)(ft.hdrs).length>0):(0,f.z)(Mi,function(Ge,nt){rt[Ge]?ai(ft,rt[Ge],nt,!1):(ft.hdrs[Ge]=nt,ft.useHdrs=!0)}),ai(ft,w,"NO_AUTH",pt),ai(ft,l,c.xE,pt);var dt=p;(0,f.Iu)(qe.apiKeys,function(Ge){dt.length>0&&(dt+=","),dt+=Ge}),ai(ft,j,dt,pt),ai(ft,q,(0,f.x3)().toString(),pt);var Mt=xr(qe);if((0,c.yD)(Mt)&&(ft.url+="&ext.intweb.msfpc="+Mt),bi.shouldAddClockSkewHeaders()&&ai(ft,D,bi.getClockSkewHeaderValue(),pt),Ht.getWParam){var Gt=Ht.getWParam();Gt>=0&&(ft.url+="&w="+Gt)}for(var zt=0;zt<Xt.length;zt++)ft.url+="&"+Xt[zt].name+"="+Xt[zt].value;return ft}function hr(qe,pt,ft){qe[pt]=qe[pt]||{},qe[pt][Ti.identifier]=ft}function pa(qe,pt,ft,dt){if(qe&&qe.payloadBlob&&qe.payloadBlob.length>0){var Mt=!!gi.sendHook,Gt=Pi[qe.sendType];!fr(qe.sendType)&&qe.isBeacon&&qe.sendReason===2&&(Gt=Pi[2]||Pi[3]||Gt);var zt=rn;(qe.isBeacon||Gt._transport===3)&&(zt=!1);var Ge=jr(qe,zt);zt=zt||Ge.useHdrs;var nt=(0,c.WB)();(0,P.r2)(Ht,function(){return"HttpManager:_doPayloadSend"},function(){for(var Xe=0;Xe<qe.batches.length;Xe++)for(var Et=qe.batches[Xe],Bt=Et.events(),jt=0;jt<Bt.length;jt++){var di=Bt[jt];if(Oi){var Ni=di.timings=di.timings||{};hr(Ni,"sendEventStart",nt),hr(Ni,"serializationStart",pt),hr(Ni,"serializationCompleted",ft)}di[Fe]>0?di[Fe]++:di[Fe]=1}ln(qe.batches,1e3+(dt||0),qe.sendType,!0);var ri={data:qe.payloadBlob,urlString:Ge.url,headers:Ge.hdrs,_thePayload:qe,_sendReason:dt,timeout:dn,disableXhrSync:ji,disableFetchKeepAlive:fn};zt&&(vt(ri.headers,J)||(ri.headers[J]=z),vt(ri.headers,ie)||(ri.headers[ie]=K));var Un=null;Gt&&(Un=function(Sr){bi.firstRequestSent();var wi=function(pr,Ui){ja(pr,Ui,qe,dt)},Dn=qe.isTeardown||qe.isSync;try{Gt.sendPOST(Sr,wi,Dn),gi.sendListener&&gi.sendListener(ri,Sr,Dn,qe.isBeacon)}catch(pr){(0,y.OG)(Ci,"Unexpected exception sending payload. Ex:"+(0,h.mm)(pr)),In(wi,0,{})}}),(0,P.r2)(Ht,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Un)if(qe.sendType===0&&Hi++,Mt&&!qe.isBeacon&&Gt._transport!==3){var Sr={data:ri.data,urlString:ri.urlString,headers:(0,c.X$)({},ri.headers),timeout:ri.timeout,disableXhrSync:ri.disableXhrSync,disableFetchKeepAlive:ri.disableFetchKeepAlive},wi=!1;(0,P.r2)(Ht,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{gi.sendHook(Sr,function(Dn){wi=!0,!ti&&!Dn._thePayload&&(Dn._thePayload=Dn._thePayload||ri._thePayload,Dn._sendReason=Dn._sendReason||ri._sendReason),Un(Dn)},qe.isSync||qe.isTeardown)}catch{wi||Un(ri)}})}else Un(ri)})},function(){return{thePayload:qe,serializationStart:pt,serializationCompleted:ft,sendReason:dt}},qe.isSync)}qe.sizeExceed&&qe.sizeExceed.length>0&&ln(qe.sizeExceed,8003,qe.sendType),qe.failedEvts&&qe.failedEvts.length>0&&ln(qe.failedEvts,8002,qe.sendType)}function ho(qe,pt){Oi&&(0,f.Iu)(qe,function(ft){var dt=ft.timings=ft.timings||{};hr(dt,"sendEventCompleted",pt)})}function ja(qe,pt,ft,dt){var Mt=9e3,Gt=null,zt=!1,Ge=!1;try{var nt=!0;if(typeof qe!==O.bA){if(pt){bi.setClockSkew(pt[C]);var Xe=pt[M]||pt["kill-duration-seconds"];(0,f.Iu)(mi.setKillSwitchTenants(pt[Y],Xe),function(Bt){(0,f.Iu)(ft.batches,function(jt){if(jt.iKey()===Bt){Gt=Gt||[];var di=jt.split(0);ft.numEvents-=di.count(),Gt.push(di)}})})}if(qe==200||qe==204){Mt=200;return}(!Pe(qe)||ft.numEvents<=0)&&(nt=!1),Mt=9e3+qe%1e3}if(nt){Mt=100;var Et=ft.retryCnt;ft.sendType===0&&(Et<St?(zt=!0,va(function(){ft.sendType===0&&Hi--,Dr(ft.batches,Et+1,ft.isTeardown,Ai?2:ft.sendType,5)},Ai,Le(Et))):(Ge=!0,Ai&&(Mt=8001)))}}finally{zt||(bi.setClockSkew(),kr(ft,Mt,dt,Ge)),ln(Gt,8004,ft.sendType)}}function kr(qe,pt,ft,dt){try{dt&&Ti._backOffTransmission(),pt===200&&(!dt&&!qe.isSync&&Ti._clearBackOff(),Wa(qe.batches)),ln(qe.batches,pt,qe.sendType,!0)}finally{qe.sendType===0&&(Hi--,ft!==5&&gi.sendQueuedRequests(qe.sendType,ft))}}function Wa(qe){if(Oi){var pt=(0,c.WB)();(0,f.Iu)(qe,function(ft){ft&&ft.count()>0&&ho(ft.events(),pt)})}}function va(qe,pt,ft){pt?qe():ei.set(qe,ft)}function za(qe){var pt={};if((0,f.Kg)(qe)){var ft=(0,f.EH)(qe).split(/[\r\n]+/);(0,f.Iu)(ft,function(dt){if(dt){var Mt=dt.indexOf(": ");if(Mt!==-1){var Gt=(0,f.EH)(dt.substring(0,Mt)).toLowerCase(),zt=(0,f.EH)(dt.substring(Mt+1));pt[Gt]=zt}else pt[(0,f.EH)(dt)]=1}})}return pt}function xr(qe){for(var pt=0;pt<qe.batches.length;pt++){var ft=qe.batches[pt].Msfpc();if(ft)return encodeURIComponent(ft)}return p}function Wr(qe){var pt=gi._responseHandlers;try{for(var ft=0;ft<pt.length;ft++)try{pt[ft](qe)}catch(Mt){(0,y.ZP)(Ci,1,519,"Response handler failed: "+Mt)}if(qe){var dt=JSON.parse(qe);(0,c.yD)(dt.webResult)&&(0,c.yD)(dt.webResult[ae])&&Yi.set("MSFPC",dt.webResult[ae],365*86400)}}catch{}}function ln(qe,pt,ft,dt){if(qe&&qe.length>0&&si){var Mt=si[mr(pt)];if(Mt){var Gt=ft!==0;(0,P.r2)(Ht,function(){return"HttpManager:_sendBatchesNotification"},function(){va(function(){try{Mt.call(si,qe,pt,Gt,ft)}catch(zt){(0,y.ZP)(Ci,1,74,"send request notification failed: "+zt)}},dt||Gt,0)},function(){return{batches:Vr(qe),reason:pt,isSync:Gt,sendSync:dt,sendType:ft}},!Gt)}}}function mr(qe){var pt=Tt[qe];return(0,c.yD)(pt)||(pt=L,qe>=9e3&&qe<=9999?pt=b:qe>=8e3&&qe<=8999?pt=x:qe>=1e3&&qe<=1999&&(pt=F)),pt}})}return At.__ieDyn=1,At}();function Fi(At,st){for(var wt=[],St=2;St<arguments.length;St++)wt[St-2]=arguments[St];return setTimeout(At,st,wt)}function Rt(At){clearTimeout(At)}function qt(At,st){return{set:At||Fi,clear:st||Rt}}var Ri=.25,lt=500,it=20,_n=6,Vt=2,Yt=4,Ji=2,De=1,$e="eventsDiscarded",gt="overrideInstrumentationKey",at="maxEventRetryAttempts",ct="maxUnloadEventRetryAttempts",Jt="addUnloadCb",Nt=function(At){(0,R.qU)(st,At);function st(){var wt=At.call(this)||this;wt.identifier="PostChannel",wt.priority=1011,wt.version="3.2.9";var St,si=!1,ei=[],Ft=null,mi=!1,ii=0,bi=500,_i=0,Hi=1e4,Ti={},Ci=_,Pi=null,Ht=null,ti=0,Xt=0,Mi,oi,yi={},Oi,Yi,Ai=-1,rn,dn=!0,ji=!1,fn=_n,an=Vt,tn,gi;return(0,A.A)(st,wt,function(ci,vn){nr(),ci._getDbgPlgTargets=function(){return[oi]},ci.initialize=function(Ge,nt,Xe){(0,P.r2)(nt,function(){return"PostChannel:initialize"},function(){var Et=nt;vn.initialize(Ge,nt,Xe);try{var Bt=!!nt[Jt];tn=(0,S.Hm)((0,d.Z)(ci.identifier),nt.evtNamespace&&nt.evtNamespace());var jt=ci._getTelCtx();Ge.extensionConfig[ci.identifier]=Ge.extensionConfig[ci.identifier]||{},St=jt.getExtCfg(ci.identifier),gi=qt(St.setTimeoutOverride,St.clearTimeoutOverride),dn=!St.disableOptimizeObj&&(0,c.F2)(),Ar(Et),St.eventsLimitInMem>0&&(Hi=St.eventsLimitInMem),St.immediateEventLimit>0&&(bi=St.immediateEventLimit),St.autoFlushEventsLimit>0&&(Oi=St.autoFlushEventsLimit),(0,f.Et)(St[at])&&(fn=St[at]),(0,f.Et)(St[ct])&&(an=St[ct]),zt(),St.httpXHROverride&&St.httpXHROverride.sendPOST&&(Mi=St.httpXHROverride),(0,c.yD)(Ge.anonCookieName)&&oi.addQueryStringParameter("anoncknm",Ge.anonCookieName),oi.sendHook=St.payloadPreprocessor,oi.sendListener=St.payloadListener;var di=St.overrideEndpointUrl?St.overrideEndpointUrl:Ge.endpointUrl;ci._notificationManager=nt.getNotifyMgr(),oi.initialize(di,ci.core,ci,Mi,St);var Ni=Ge.disablePageUnloadEvents||[];(0,S.ee)(gn,Ni,tn),(0,S.Fc)(gn,Ni,tn),(0,S.oS)(dr,Ge.disablePageShowEvents,tn)}catch(ri){throw ci.setInitialized(!1),ri}},function(){return{coreConfig:Ge,core:nt,extensions:Xe}})},ci.processTelemetry=function(Ge,nt){(0,c.u9)(Ge,ci.identifier),nt=ci._getTelCtx(nt);var Xe=nt.getExtCfg(ci.identifier),Et=!!St.disableTelemetry;Xe&&(Et=Et||!!Xe.disableTelemetry);var Bt=Ge;!Et&&!si&&(St[gt]&&(Bt.iKey=St[gt]),Xe&&Xe[gt]&&(Bt.iKey=Xe[gt]),In(Bt,!0),ji?Vr(2,2):sn()),ci.processNext(Bt,nt)},ci._doTeardown=function(Ge,nt){Vr(2,2),si=!0,oi.teardown(),(0,S.Ds)(null,tn),(0,S.sq)(null,tn),(0,S.vF)(null,tn),nr()};function Ar(Ge){var nt=Ge.getWParam;Ge.getWParam=function(){var Xe=0;return St.ignoreMc1Ms0CookieProcessing&&(Xe=Xe|2),Xe|nt()}}function gn(Ge){var nt=Ge||(0,h.zk)().event;nt.type!=="beforeunload"&&(ji=!0,oi.setUnloading(ji)),Vr(2,2)}function dr(Ge){ji=!1,oi.setUnloading(ji)}function In(Ge,nt){if(Ge.sendAttempt||(Ge.sendAttempt=0),Ge.latency||(Ge.latency=1),Ge.ext&&Ge.ext[xe]&&delete Ge.ext[xe],Ge.ext&&Ge.ext[he]&&Ge.ext[he].id&&delete Ge.ext[he].id,dn&&(c.u9,Ge.ext=(0,f.hW)(Ge.ext),Ge.baseData&&(Ge.baseData=(0,f.hW)(Ge.baseData)),Ge.data&&(Ge.data=(0,f.hW)(Ge.data))),Ge.sync){if(ti||mi)Ge.latency=3,Ge.sync=!1;else if(oi){dn&&(Ge=(0,f.hW)(Ge)),oi.sendSynchronousBatch(X.create(Ge.iKey,[Ge]),Ge.sync===!0?1:Ge.sync,3);return}}var Xe=Ge.latency,Et=_i,Bt=Hi;Xe===4&&(Et=ii,Bt=bi);var jt=!1;if(Et<Bt)jt=!pa(Ge,nt);else{var di=1,Ni=it;Xe===4&&(di=4,Ni=1),jt=!0,ho(Ge.iKey,Ge.latency,di,Ni)&&(jt=!pa(Ge,nt))}jt&&mr($e,[Ge],k.x.QueueFull)}ci.setEventQueueLimits=function(Ge,nt){Hi=Ge>0?Ge:1e4,Oi=nt>0?nt:0,zt();var Xe=_i>Ge;if(!Xe&&Yi>0)for(var Et=1;!Xe&&Et<=3;Et++){var Bt=yi[Et];Bt&&Bt.batches&&(0,f.Iu)(Bt.batches,function(jt){jt&&jt.count()>=Yi&&(Xe=!0)})}hr(!0,Xe)},ci.pause=function(){zn(),mi=!0,oi.pause()},ci.resume=function(){mi=!1,oi.resume(),sn()},ci.addResponseHandler=function(Ge){oi._responseHandlers.push(Ge)},ci._loadTransmitProfiles=function(Ge){za(),(0,f.z)(Ge,function(nt,Xe){var Et=Xe.length;if(Et>=2){var Bt=Et>2?Xe[2]:0;if(Xe.splice(0,Et-2),Xe[1]<0&&(Xe[0]=-1),Xe[1]>0&&Xe[0]>0){var jt=Xe[0]/Xe[1];Xe[0]=Math.ceil(jt)*Xe[1]}Bt>=0&&Xe[1]>=0&&Bt>Xe[1]&&(Bt=Xe[1]),Xe.push(Bt),Ti[nt]=Xe}})},ci.flush=function(Ge,nt,Xe){if(Ge===void 0&&(Ge=!0),!mi)if(Xe=Xe||1,Ge)Ft==null?(zn(),kr(1,0,Xe),Ft=rr(function(){Ft=null,Wa(nt,Xe)},0)):ei.push(nt);else{var Et=zn();Ir(1,1,Xe),nt!=null&&nt(),Et&&sn()}},ci.setMsaAuthTicket=function(Ge){oi.addHeader(H,Ge)},ci.hasEvents=fr,ci._setTransmitProfile=function(Ge){Ci!==Ge&&Ti[Ge]!==void 0&&(zn(),Ci=Ge,sn())};function Ir(Ge,nt,Xe){var Et=kr(Ge,nt,Xe);return oi.sendQueuedRequests(nt,Xe),Et}function fr(){return _i>0}function sn(){if(Ai>=0&&kr(Ai,0,rn)&&oi.sendQueuedRequests(0,rn),ii>0&&!Ht&&!mi){var Ge=Ti[Ci][2];Ge>=0&&(Ht=rr(function(){Ht=null,Ir(4,0,1),sn()},Ge))}var nt=Ti[Ci][1];!Pi&&!Ft&&nt>=0&&!mi&&(fr()?Pi=rr(function(){Pi=null,Ir(Xt===0?3:1,0,1),Xt++,Xt%=2,sn()},nt):Xt=0)}ci._backOffTransmission=function(){ti<Yt&&(ti++,zn(),sn())},ci._clearBackOff=function(){ti&&(ti=0,zn(),sn())};function nr(){St=null,si=!1,ei=[],Ft=null,mi=!1,ii=0,bi=500,_i=0,Hi=1e4,Ti={},Ci=_,Pi=null,Ht=null,ti=0,Xt=0,Mi=null,yi={},Oi=void 0,Yi=0,Ai=-1,rn=null,dn=!0,ji=!1,fn=_n,an=Vt,tn=null,gi=qt(),oi=new Pt(lt,Ji,De,{requeue:Wr,send:pt,sent:ft,drop:dt,rspFail:Mt,oth:Gt},gi),xr(),Dr(),zt()}function rr(Ge,nt){nt===0&&ti&&(nt=1);var Xe=1e3;return ti&&(Xe=Le(ti-1)),gi.set(Ge,nt*Xe)}function zn(){return Pi!==null?(gi.clear(Pi),Pi=null,Xt=0,!0):!1}function Vr(Ge,nt){zn(),Ft&&(gi.clear(Ft),Ft=null),mi||Ir(1,Ge,nt)}function Dr(){yi[4]={batches:[],iKeyMap:{}},yi[3]={batches:[],iKeyMap:{}},yi[2]={batches:[],iKeyMap:{}},yi[1]={batches:[],iKeyMap:{}}}function jr(Ge,nt,Xe){var Et=yi[nt];Et||(nt=1,Et=yi[nt]);var Bt=Et.iKeyMap[Ge];return!Bt&&Xe&&(Bt=X.create(Ge),Et.batches.push(Bt),Et.iKeyMap[Ge]=Bt),Bt}function hr(Ge,nt){oi.canSendRequest()&&!ti&&(Oi>0&&_i>Oi&&(nt=!0),nt&&Ft==null&&ci.flush(Ge,null,20))}function pa(Ge,nt){dn&&(Ge=(0,f.hW)(Ge));var Xe=Ge.latency,Et=jr(Ge.iKey,Xe,!0);return Et.addEvent(Ge)?(Xe!==4?(_i++,nt&&Ge.sendAttempt===0&&hr(!Ge.sync,Yi>0&&Et.count()>=Yi)):ii++,!0):!1}function ho(Ge,nt,Xe,Et){for(;Xe<=nt;){var Bt=jr(Ge,nt,!0);if(Bt&&Bt.count()>0){var jt=Bt.split(0,Et),di=jt.count();if(di>0)return Xe===4?ii-=di:_i-=di,qe($e,[jt],k.x.QueueFull),!0}Xe++}return ja(),!1}function ja(){for(var Ge=0,nt=0,Xe=function(Bt){var jt=yi[Bt];jt&&jt.batches&&(0,f.Iu)(jt.batches,function(di){Bt===4?Ge+=di.count():nt+=di.count()})},Et=1;Et<=4;Et++)Xe(Et);_i=nt,ii=Ge}function kr(Ge,nt,Xe){var Et=!1,Bt=nt===0;return!Bt||oi.canSendRequest()?(0,P.r2)(ci.core,function(){return"PostChannel._queueBatches"},function(){for(var jt=[],di=4;di>=Ge;){var Ni=yi[di];Ni&&Ni.batches&&Ni.batches.length>0&&((0,f.Iu)(Ni.batches,function(ri){oi.addBatch(ri)?Et=Et||ri&&ri.count()>0:jt=jt.concat(ri.events()),di===4?ii-=ri.count():_i-=ri.count()}),Ni.batches=[],Ni.iKeyMap={}),di--}jt.length>0&&mr($e,jt,k.x.KillSwitch),Et&&Ai>=Ge&&(Ai=-1,rn=0)},function(){return{latency:Ge,sendType:nt,sendReason:Xe}},!Bt):(Ai=Ai>=0?Math.min(Ai,Ge):Ge,rn=Math.max(rn,Xe)),Et}function Wa(Ge,nt){Ir(1,0,nt),ja(),va(function(){Ge&&Ge(),ei.length>0?Ft=rr(function(){Ft=null,Wa(ei.shift(),nt)},0):(Ft=null,sn())})}function va(Ge){oi.isCompletelyIdle()?Ge():Ft=rr(function(){Ft=null,va(Ge)},Ri)}function za(){zn(),xr(),Ci=_,sn()}function xr(){Ti={},Ti[_]=[2,1,0],Ti[m]=[6,3,0],Ti[g]=[18,9,0]}function Wr(Ge,nt){var Xe=[],Et=fn;ji&&(Et=an),(0,f.Iu)(Ge,function(Bt){Bt&&Bt.count()>0&&(0,f.Iu)(Bt.events(),function(jt){jt&&(jt.sync&&(jt.latency=4,jt.sync=!1),jt.sendAttempt<Et?((0,c.u9)(jt,ci.identifier),In(jt,!1)):Xe.push(jt))})}),Xe.length>0&&mr($e,Xe,k.x.NonRetryableStatus),ji&&Vr(2,2)}function ln(Ge,nt){var Xe=ci._notificationManager||{},Et=Xe[Ge];if(Et)try{Et.apply(Xe,nt)}catch(Bt){(0,y.ZP)(ci.diagLog(),1,74,Ge+" notification failed: "+Bt)}}function mr(Ge,nt){for(var Xe=[],Et=2;Et<arguments.length;Et++)Xe[Et-2]=arguments[Et];nt&&nt.length>0&&ln(Ge,[nt].concat(Xe))}function qe(Ge,nt){for(var Xe=[],Et=2;Et<arguments.length;Et++)Xe[Et-2]=arguments[Et];nt&&nt.length>0&&(0,f.Iu)(nt,function(Bt){Bt&&Bt.count()>0&&ln(Ge,[Bt.events()].concat(Xe))})}function pt(Ge,nt,Xe){Ge&&Ge.length>0&&ln("eventsSendRequest",[nt>=1e3&&nt<=1999?nt-1e3:0,Xe!==!0])}function ft(Ge,nt){qe("eventsSent",Ge,nt),sn()}function dt(Ge,nt){qe($e,Ge,nt>=8e3&&nt<=8999?nt-8e3:k.x.Unknown)}function Mt(Ge){qe($e,Ge,k.x.NonRetryableStatus),sn()}function Gt(Ge,nt){qe($e,Ge,k.x.Unknown),sn()}function zt(){!St||!St.disableAutoBatchFlushLimit?Yi=Math.max(lt*(Ji+1),Hi/6):Yi=0}(0,f.r)(ci,"_setTimeoutOverride",function(){return gi.set},function(Ge){gi=qt(Ge,gi.clear)}),(0,f.r)(ci,"_clearTimeoutOverride",function(){return gi.clear},function(Ge){gi=qt(gi.set,Ge)})}),wt}return st.__ieDyn=1,st}(u.s);const Dt=Nt},96434:(s,V,T)=>{"use strict";T.d(V,{Hj:()=>A,oP:()=>S});var R=T(12497);function A(d){var c={};return(0,R.z)(d,function(f,h){c[f]=h,c[h]=f}),(0,R.ol)(c)}function P(d){var c={};return objForEachKey(d,function(f,h){c[f]=f,c[h]=f}),deepFreeze(c)}function S(d){var c={};return(0,R.z)(d,function(f,h){c[f]=h[1],c[h[0]]=h[1]}),(0,R.ol)(c)}},31590:(s,V,T)=>{"use strict";T.d(V,{x:()=>A});var R=T(96434),A=(0,R.Hj)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},83897:(s,V,T)=>{"use strict";T.d(V,{$:()=>F,b:()=>x});var R=T(96434),A,P="Failed",S=P+"MonitorAjax",d="Track",c="Start",f="Stop",h="Event",k="AuthContext",y="Exception",u="Local",_="Session",m="Storage",g="Browser",p="Cannot",N="Buffer",E="InstrumentationKey",x=(0,R.Hj)({CRITICAL:1,WARNING:2}),F=(0,R.Hj)((A={},A[g+"DoesNotSupport"+u+m]=0,A[g+p+"Read"+u+m]=1,A[g+p+"Read"+_+m]=2,A[g+p+"Write"+u+m]=3,A[g+p+"Write"+_+m]=4,A[g+P+"RemovalFrom"+u+m]=5,A[g+P+"RemovalFrom"+_+m]=6,A[p+"SendEmptyTelemetry"]=7,A.ClientPerformanceMathError=8,A["ErrorParsingAI"+_+"Cookie"]=9,A.ErrorPVCalc=10,A[y+"WhileLoggingError"]=11,A[P+"AddingTelemetryTo"+N]=12,A[S+"Abort"]=13,A[S+"Dur"]=14,A[S+"Open"]=15,A[S+"RSC"]=16,A[S+"Send"]=17,A[S+"GetCorrelationHeader"]=18,A[P+"ToAddHandlerForOnBeforeUnload"]=19,A[P+"ToSendQueuedTelemetry"]=20,A[P+"ToReportDataLoss"]=21,A["Flush"+P]=22,A.MessageLimitPerPVExceeded=23,A.MissingRequiredFieldSpecification=24,A.NavigationTimingNotSupported=25,A.OnError=26,A[_+"RenewalDateIsZero"]=27,A.SenderNotInitialized=28,A[c+d+h+P]=29,A[f+d+h+P]=30,A[c+d+P]=31,A[f+d+P]=32,A.TelemetrySampledAndNotSent=33,A[d+h+P]=34,A[d+y+P]=35,A[d+"Metric"+P]=36,A[d+"PV"+P]=37,A[d+"PV"+P+"Calc"]=38,A[d+"Trace"+P]=39,A["Transmission"+P]=40,A[P+"ToSet"+m+N]=41,A[P+"ToRestore"+m+N]=42,A.InvalidBackendResponse=43,A[P+"ToFixDepricatedValues"]=44,A.InvalidDurationValue=45,A.TelemetryEnvelopeInvalid=46,A.CreateEnvelopeError=47,A[p+"SerializeObject"]=48,A[p+"SerializeObjectNonSerializable"]=49,A.CircularReferenceDetected=50,A["Clear"+k+P]=51,A[y+"Truncated"]=52,A.IllegalCharsInName=53,A.ItemNotInArray=54,A.MaxAjaxPerPVExceeded=55,A.MessageTruncated=56,A.NameTooLong=57,A.SampleRateOutOfRange=58,A["Set"+k+P]=59,A["Set"+k+P+"AccountName"]=60,A.StringValueTooLong=61,A.StartCalledMoreThanOnce=62,A.StopCalledWithoutStart=63,A["TelemetryInitializer"+P]=64,A.TrackArgumentsNotSpecified=65,A.UrlTooLong=66,A[_+m+N+"Full"]=67,A[p+"AccessCookie"]=68,A.IdTooLong=69,A.InvalidEvent=70,A[S+"SetRequestHeader"]=71,A["Send"+g+"InfoOnUserInit"]=72,A["Plugin"+y]=73,A["Notification"+y]=74,A.SnippetScriptLoadFailure=99,A["Invalid"+E]=100,A[p+"ParseAiBlobValue"]=101,A.InvalidContentBlob=102,A[d+"PageAction"+h+P]=103,A[P+"AddingCustomDefinedRequestContext"]=104,A["InMemory"+m+N+"Full"]=105,A[E+"Deprecation"]=106,A))},12235:(s,V,T)=>{"use strict";T.d(V,{_:()=>y});var R=T(8747),A=T(92457),P=T(60830),S=T(34082),d=T(99015),c=T(12497),f=T(1972),h=T(54660),k=T(5204),y=function(u){(0,R.qU)(_,u);function _(){var m=u.call(this)||this;return(0,A.A)(_,m,function(g,p){g[P.mE]=function(x,F,W,b){p[P.mE](x,F,W||new d.wq(x),b||new h.h(x))},g.track=function(x){(0,k.r2)(g[f.kI](),function(){return"AppInsightsCore:track"},function(){x===null&&(E(x),(0,c.$8)("Invalid telemetry item")),N(x),p.track(x)},function(){return{item:x}},!x.sync)};function N(x){(0,c.hX)(x[P.RS])&&(E(x),(0,c.$8)("telemetry name required"))}function E(x){var F=g[P.RF]();F&&F[f.Yp]([x],2)}}),m}return _.__ieDyn=1,_}(S.F)},34082:(s,V,T)=>{"use strict";T.d(V,{F:()=>w});var R=T(8747),A=T(92457),P=T(75148),S=T(60830),d=T(12497),c=T(1972),f=T(8997),h=T(33540),k=500,y="Channel has invalid priority - ";function u(D,q,j){q&&(0,d.cy)(q)&&q[S.oI]>0&&(q=q.sort(function(H,Z){return H[c.Vo]-Z[c.Vo]}),(0,d.Iu)(q,function(H){H[c.Vo]<k&&(0,d.$8)(y+H[S.Ju])}),D[S.y5]({queue:(0,d.N6)(q),chain:(0,f.PV)(q,j[S.GA],j)}))}function _(D,q){function j(){return(0,f.i8)(null,q[S.GA],q,null)}function H(he,Ee,Ne,X){var ee=he?he[S.oI]+1:1;function de(){ee--,ee===0&&(X&&X(),X=null)}ee>0&&(0,d.Iu)(he,function(me){if(me&&me.queue[S.oI]>0){var _e=me.chain,U=Ee[S.$o](_e);U[S.by](de),Ne(U)}else ee--}),de()}function Z(he,Ee){var Ne=Ee||{reason:0};return H(D,he,function(X){X[S.$5](Ne)},function(){he[S.$5](Ne)}),!0}function te(he,Ee){var Ne=Ee||{reason:0,isAsync:!1};return H(D,he,function(X){X[S.$5](Ne)},function(){he[S.$5](Ne),ae=!1}),!0}function B(he){var Ee=null;return D&&D[S.oI]>0&&(0,d.Iu)(D,function(Ne){if(Ne&&Ne.queue[S.oI]>0&&((0,d.Iu)(Ne.queue,function(X){if(X[S.Ju]===he)return Ee=X,-1}),Ee))return-1}),Ee}var ae=!1,xe={identifier:"ChannelControllerPlugin",priority:k,initialize:function(he,Ee,Ne,X){ae=!0,(0,d.Iu)(D,function(ee){ee&&ee.queue[S.oI]>0&&(0,h.pI)((0,f.i8)(ee.chain,he,Ee),Ne)})},isInitialized:function(){return ae},processTelemetry:function(he,Ee){H(D,Ee||j(),function(Ne){Ne[S.$5](he)},function(){Ee[S.$5](he)})},update:Z,pause:function(){H(D,j(),function(he){he.iterate(function(Ee){Ee.pause&&Ee.pause()})},null)},resume:function(){H(D,j(),function(he){he.iterate(function(Ee){Ee.resume&&Ee.resume()})},null)},teardown:te,getChannel:B,flush:function(he,Ee,Ne,X){var ee=1,de=!1,me=null;X=X||5e3;function _e(){ee--,de&&ee===0&&(me&&(clearTimeout(me),me=null),Ee&&Ee(de),Ee=null)}return H(D,j(),function(U){U.iterate(function(O){if(O[S.EX]){ee++;var oe=!1;O[S.EX](he,function(){oe=!0,_e()},Ne)||oe||(he&&me==null?me=setTimeout(function(){me=null,_e()},X):_e())}})},function(){de=!0,_e()}),!0},_setQueue:function(he){D=he}};return xe}function m(D,q,j){var H=[];if(D&&(0,d.Iu)(D,function(te){return u(H,te,j)}),q){var Z=[];(0,d.Iu)(q,function(te){te[c.Vo]>k&&Z[S.y5](te)}),u(H,Z,j)}return H}var g=T(91698),p=T(64252),N=T(95331),E=T(99015),x=T(5204),F=T(56489),W=T(44180),b=function(D){(0,R.qU)(q,D);function q(){var j=D.call(this)||this;j.identifier="TelemetryInitializerPlugin",j.priority=199;var H,Z;te(),(0,A.A)(q,j,function(B,ae){B.addTelemetryInitializer=function(xe){var he={id:H++,fn:xe};Z[S.y5](he);var Ee={remove:function(){(0,d.Iu)(Z,function(Ne,X){if(Ne.id===he.id)return Z[S.Ic](X,1),-1})}};return Ee},B[c.qT]=function(xe,he){for(var Ee=!1,Ne=Z[S.oI],X=0;X<Ne;++X){var ee=Z[X];if(ee)try{if(ee.fn[S.y9](null,[xe])===!1){Ee=!0;break}}catch(de){(0,E.ZP)(he[S.e4](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,d.lL)(de),{exception:(0,W.mm)(de)},!0)}}Ee||B[S.$5](xe,he)},B[S.tn]=function(){te()}});function te(){H=0,Z=[]}return j}return q.__ieDyn=1,q}(F.s),L=T(49388),z="Plugins must provide initialize method",K="_notificationManager",J="SDK is still unloading...",ie="SDK is not initialized",Y={loggingLevelConsole:1};function M(D,q){return new x.NS(q)}function $(D,q,j){var H,Z=[],te={};return(0,d.Iu)(j,function(B){((0,d.hX)(B)||(0,d.hX)(B[S.mE]))&&(0,d.$8)(z);var ae=B[c.Vo],xe=B[S.Ju];B&&ae&&((0,d.hX)(te[ae])?te[ae]=xe:(0,E.OG)(D,"Two extensions have same priority #"+ae+" - "+te[ae]+", "+xe)),(!ae||ae<q)&&Z[S.y5](B)}),H={all:j},H[c.eT]=Z,H}function C(D,q){var j=!1;return(0,d.Iu)(q,function(H){if(H===D)return j=!0,-1}),j}function l(){var D;return(0,P.AQ)((D={},D[S.vR]=function(q){},D[S.TP]=function(q){},D[c.fc]=function(q){},D[c.Yp]=function(q,j){},D[c.dI]=function(q,j){},D))}var w=function(){function D(){var q,j,H,Z,te,B,ae,xe,he,Ee,Ne,X,ee,de,me,_e,U,O,oe,ve,we=0;(0,A.A)(D,this,function(pe){Pe(),pe[S.tZ]=function(){return j},pe[S.mE]=function(Fe,Ye,Tt,et){de&&(0,d.$8)(J),pe[S.tZ]()&&(0,d.$8)("Core should not be initialized more than once"),q=Fe||{},pe[S.GA]=q,(0,d.hX)(Fe[S.sl])&&(0,d.$8)("Please provide instrumentation key"),Z=et,pe[K]=et,ne(),se(),be(),Tt&&(pe[S.Uw]=Tt);var rt=(0,d.c2)(q,c.jy,[]);he=[],he[S.y5].apply(he,(0,R.vz)((0,R.vz)([],Ye,!1),rt,!1)),X=(0,d.c2)(q,c.LZ,[]),He(null),(!ee||ee[S.oI]===0)&&(0,d.$8)("No "+c.LZ+" available"),j=!0,pe.releaseQueue()},pe.getTransmissionControls=function(){var Fe=[];return ee&&(0,d.Iu)(ee,function(Ye){Fe[S.y5](Ye.queue)}),(0,d.N6)(Fe)},pe.track=function(Fe){Fe.iKey=Fe.iKey||q[S.sl],Fe[S.fA]=Fe[S.fA]||(0,d._u)(new Date),Fe.ver=Fe.ver||"4.0",!de&&pe[S.tZ]()?Le()[S.$5](Fe):H[S.y5](Fe)},pe[S.ps]=Le,pe[S.RF]=function(){return Z||(Z=l(),pe[K]=Z),Z},pe[S.vR]=function(Fe){Z&&Z[S.vR](Fe)},pe[S.TP]=function(Fe){Z&&Z[S.TP](Fe)},pe.getCookieMgr=function(){return ae||(ae=(0,g.xN)(q,pe[S.Uw])),ae},pe.setCookieMgr=function(Fe){ae=Fe},pe[c.kI]=function(){if(!te&&!B&&(0,d.SA)(q.enablePerfMgr)){var Fe=(0,d.SA)(q[c.Yd]);(0,d.Tn)(Fe)&&(B=Fe(pe,pe[S.RF]()))}return te||B||(0,x.Z4)()},pe.setPerfMgr=function(Fe){te=Fe},pe.eventCnt=function(){return H[S.oI]},pe.releaseQueue=function(){if(j&&H[S.oI]>0){var Fe=H;H=[],(0,d.Iu)(Fe,function(Ye){Le()[S.$5](Ye)})}},pe.pollInternalLogs=function(Fe){_e=Fe||null;var Ye=(0,d.SA)(q.diagnosticLogInterval);return(!Ye||!(Ye>0))&&(Ye=1e4),we&&clearInterval(we),we=setInterval(function(){yt()},Ye),we},pe[S.Di]=function(){we&&(clearInterval(we),we=0,yt())},(0,d.o$)(pe,function(){return me},["addTelemetryInitializer"]),pe.unload=function(Fe,Ye,Tt){var et;Fe===void 0&&(Fe=!0),j||(0,d.$8)(ie),de&&(0,d.$8)(J);var rt=(et={reason:50},et[S.tI]=Fe,et.flushComplete=!1,et),ut=(0,f.tS)(Ke(),pe);ut[S.by](function(){Pe(),Ye&&Ye(rt)},pe);function mt(vt){rt.flushComplete=vt,de=!0,O.run(ut,rt),pe[S.Di](),ut[S.$5](rt)}ce(Fe,mt,6,Tt)||mt(!1)},pe[S.AP]=kt,pe.addPlugin=function(Fe,Ye,Tt,et){if(!Fe){et&&et(!1),Ve(z);return}var rt=kt(Fe[S.Ju]);if(rt&&!Ye){et&&et(!1),Ve("Plugin ["+Fe[S.Ju]+"] is already loaded!");return}var ut={reason:16};function mt(ht){he[S.y5](Fe),ut.added=[Fe],He(ut),et&&et(!0)}if(rt){var vt=[rt.plugin],ai={reason:2,isAsync:!!Tt};Ze(vt,ai,function(ht){ht?(ut.removed=vt,ut.reason|=32,mt(!0)):et&&et(!1)})}else mt(!1)},pe.evtNamespace=function(){return U},pe[S.EX]=ce,pe.getTraceCtx=function(Fe){return ve||(ve=(0,h.u7)()),ve},pe.setTraceCtx=function(Fe){ve=Fe||null},(0,d.RF)(pe,"addUnloadCb",function(){return O},"add");function Pe(){j=!1,q=(0,d.CP)(!0,{},Y),pe[S.GA]=q,pe[S.Uw]=new E.wq(q),pe[S.H7]=[],me=new b,H=[],Z=null,te=null,B=null,ae=null,xe=null,Ee=null,he=[],Ne=null,X=null,ee=null,de=!1,_e=null,U=(0,p.Z)("AIBaseCore",!0),O=(0,L.P)(),ve=null}function Le(){return(0,f.i8)(Ke(),q,pe)}function He(Fe){var Ye=$(pe[S.Uw],k,he);Ee=Ye[c.eT],xe=null;var Tt=Ye.all;if(ee=(0,d.N6)(m(X,Tt,pe)),Ne){var et=(0,d.rD)(Tt,Ne);et!==-1&&Tt[S.Ic](et,1),et=(0,d.rD)(Ee,Ne),et!==-1&&Ee[S.Ic](et,1),Ne._setQueue(ee)}else Ne=_(ee,pe);Tt[S.y5](Ne),Ee[S.y5](Ne),pe[S.H7]=(0,h.Xc)(Tt),Ne[S.mE](q,pe,Tt),(0,h.pI)(Le(),Tt),pe[S.H7]=(0,d.N6)((0,h.Xc)(Ee||[])).slice(),Fe&&Me(Fe)}function kt(Fe){var Ye,Tt=null,et=null;return(0,d.Iu)(pe[S.H7],function(rt){if(rt[S.Ju]===Fe&&rt!==Ne&&rt!==me)return et=rt,-1}),!et&&Ne&&(et=Ne.getChannel(Fe)),et&&(Tt=(Ye={plugin:et},Ye[S.kt]=function(rt){(0,h.Cr)(et)[c.Hr]=!rt},Ye.isEnabled=function(){var rt=(0,h.Cr)(et);return!rt[S.Ik]&&!rt[c.Hr]},Ye.remove=function(rt,ut){var mt;rt===void 0&&(rt=!0);var vt=[et],ai=(mt={reason:1},mt[S.tI]=rt,mt);Ze(vt,ai,function(ht){ht&&He({reason:32,removed:vt}),ut&&ut(ht)})},Ye)),Tt}function Ke(){if(!xe){var Fe=(Ee||[]).slice();(0,d.rD)(Fe,me)===-1&&Fe[S.y5](me),xe=(0,f.PV)((0,h.Xc)(Fe),q,pe)}return xe}function Ze(Fe,Ye,Tt){if(Fe&&Fe[S.oI]>0){var et=(0,f.PV)(Fe,q,pe),rt=(0,f.tS)(et,pe);rt[S.by](function(){var ut=!1,mt=[];(0,d.Iu)(he,function(ai,ht){C(ai,Fe)?ut=!0:mt[S.y5](ai)}),he=mt;var vt=[];X&&((0,d.Iu)(X,function(ai,ht){var Pt=[];(0,d.Iu)(ai,function(Fi){C(Fi,Fe)?ut=!0:Pt[S.y5](Fi)}),vt[S.y5](Pt)}),X=vt),Tt&&Tt(ut)}),rt[S.$5](Ye)}else Tt(!1)}function yt(){var Fe=pe[S.Uw]?pe[S.Uw].queue:[];Fe&&((0,d.Iu)(Fe,function(Ye){var Tt,et=(Tt={},Tt[S.RS]=_e||"InternalMessageId: "+Ye[S.JR],Tt.iKey=(0,d.SA)(q[S.sl]),Tt.time=(0,d._u)(new Date),Tt.baseType=E.WD.dataType,Tt.baseData={message:Ye[S.pM]},Tt);pe.track(et)}),Fe[S.oI]=0)}function ce(Fe,Ye,Tt,et){return Ne?Ne[S.EX](Fe,Ye,Tt||6,et):(Ye&&Ye(!1),!0)}function ne(){var Fe=(0,d.SA)(q.disableDbgExt);Fe===!0&&oe&&(Z[S.TP](oe),oe=null),Z&&!oe&&Fe!==!0&&(oe=(0,N.M)(q),Z[S.vR](oe))}function se(){var Fe=(0,d.SA)(q.enablePerfMgr);!Fe&&B&&(B=null),Fe&&(0,d.c2)(q,c.Yd,M)}function be(){var Fe=(0,d.c2)(q,c.Bw,{});Fe.NotificationManager=Z}function Me(Fe){var Ye=(0,f.nU)(Ke(),pe);(!pe._updateHook||pe._updateHook(Ye,Fe)!==!0)&&Ye[S.$5](Fe)}function Ve(Fe){var Ye=pe[S.Uw];Ye?(0,E.ZP)(Ye,2,73,Fe):(0,d.$8)(Fe)}})}return D.__ieDyn=1,D}()},56489:(s,V,T)=>{"use strict";T.d(V,{s:()=>h});var R=T(92457),A=T(60830),P=T(12497),S=T(1972),d=T(8997),c=T(49388),f="getPlugin",h=function(){function k(){var y=this,u,_,m,g,p;x(),(0,R.A)(k,y,function(F){F[A.mE]=function(W,b,L,z){E(W,b,z),u=!0},F[A.Ik]=function(W,b){var L,z=F[S.eT];if(!z||W&&z!==W[S.eT]())return;var K,J=!1,ie=W||(0,d.tS)(null,z,m&&m[f]?m[f]():m),Y=b||(L={reason:0},L[A.tI]=!1,L);function M(){if(!J){J=!0,g.run(ie,b);var $=p;p=[],(0,P.Iu)($,function(C){C.rm()}),K===!0&&ie[A.$5](Y),x()}}return!F[A.tn]||F[A.tn](ie,Y,M)!==!0?M():K=!0,K},F[A.HC]=function(W,b){var L=F[S.eT];if(!L||W&&L!==W[S.eT]())return;var z,K=!1,J=W||(0,d.nU)(null,L,m&&m[f]?m[f]():m),ie=b||{reason:0};function Y(){K||(K=!0,E(J.getCfg(),J.core(),J[A.uR]()))}return!F._doUpdate||F._doUpdate(J,ie,Y)!==!0?Y():z=!0,z},F._addHook=function(W){W&&((0,P.cy)(W)?p=p.concat(W):p[A.y5](W))},(0,P.RF)(F,"_addUnloadCb",function(){return g},"add")}),y[A.e4]=function(F){return N(F)[A.e4]()},y[A.tZ]=function(){return u},y.setInitialized=function(F){u=F},y[A.YH]=function(F){m=F},y[A.$5]=function(F,W){W?W[A.$5](F):m&&(0,P.Tn)(m[S.qT])&&m[S.qT](F,null)},y._getTelCtx=N;function N(F){F===void 0&&(F=null);var W=F;if(!W){var b=_||(0,d.i8)(null,{},y[S.eT]);m&&m[f]?W=b[A.$o](null,m[f]):W=b[A.$o](null,m)}return W}function E(F,W,b){F&&(0,P.KY)(F,S.Bw,[],null,P.hX),!b&&W&&(b=W[A.ps]()[A.uR]());var L=m;m&&m[f]&&(L=m[f]()),y[S.eT]=W,_=(0,d.i8)(b,F,W,L)}function x(){u=!1,y[S.eT]=null,_=null,m=null,p=[],g=(0,c.P)()}}return k.__ieDyn=1,k}()},91698:(s,V,T)=>{"use strict";T.d(V,{It:()=>D,d5:()=>W,gi:()=>Y,um:()=>J,xN:()=>ie});var R=T(60830),A=T(99015),P=T(44180),S=T(12497),d=T(1972),c="toGMTString",f="toUTCString",h="cookie",k="expires",y="enabled",u="isCookieUseDisabled",_="disableCookiesUsage",m="_ckMgr",g=null,p=null,N=null,E=(0,P.YE)(),x={},F={};function W(q,j){var H=ie[m]||F[m];return H||(H=ie[m]=ie(q,j),F[m]=H),H}function b(q){return q?q.isEnabled():!0}function L(q){var j=q[R.lK]=q[R.lK]||{};if((0,S.KY)(j,"domain",q.cookieDomain,S.Gh,S.hX),(0,S.KY)(j,"path",q.cookiePath||"/",null,S.hX),(0,S.hX)(j[y])){var H=void 0;(0,S.b0)(q[u])||(H=!q[u]),(0,S.b0)(q[_])||(H=!q[_]),j[y]=H}return j}function z(q,j){return j&&q&&(0,S.cy)(q.ignoreCookies)?q.ignoreCookies[R.Sj](j)!==-1:!1}function K(q,j){return j&&q&&(0,S.cy)(q.blockedCookies)&&q.blockedCookies[R.Sj](j)!==-1?!0:z(q,j)}function J(q,j){var H;if(q)H=q.getCookieMgr();else if(j){var Z=j[R.lK];Z[m]?H=Z[m]:H=ie(j)}return H||(H=W(j,(q||{})[R.Uw])),H}function ie(q,j){var H,Z=L(q||F),te=Z.path||"/",B=Z.domain,ae=Z[y]!==!1,xe=(H={isEnabled:function(){var he=ae&&Y(j),Ee=F[m];return he&&Ee&&xe!==Ee&&(he=b(Ee)),he}},H[R.kt]=function(he){ae=he!==!1},H.set=function(he,Ee,Ne,X,ee){var de=!1;if(b(xe)&&!K(Z,he)){var me={},_e=(0,S.EH)(Ee||d.m5),U=_e[R.Sj](";");if(U!==-1&&(_e=(0,S.EH)(Ee[R.Re](0,U)),me=M(Ee[R.Re](U+1))),(0,S.KY)(me,"domain",X||B,S.zz,S.b0),!(0,S.hX)(Ne)){var O=(0,P.lT)();if((0,S.b0)(me[k])){var oe=(0,S.x3)(),ve=oe+Ne*1e3;if(ve>0){var we=new Date;we.setTime(ve),(0,S.KY)(me,k,$(we,O?c:f)||$(we,O?c:f)||d.m5,S.zz)}}O||(0,S.KY)(me,"max-age",d.m5+Ne,null,S.b0)}var pe=(0,P.g$)();pe&&pe.protocol==="https:"&&((0,S.KY)(me,"secure",null,null,S.b0),p===null&&(p=!D(((0,P.w3)()||{})[R.tX])),p&&(0,S.KY)(me,"SameSite","None",null,S.b0)),(0,S.KY)(me,"path",ee||te,null,S.b0);var Pe=Z.setCookie||w;Pe(he,C(_e,me)),de=!0}return de},H.get=function(he){var Ee=d.m5;return b(xe)&&!z(Z,he)&&(Ee=(Z.getCookie||l)(he)),Ee},H.del=function(he,Ee){var Ne=!1;return b(xe)&&(Ne=xe.purge(he,Ee)),Ne},H.purge=function(he,Ee){var Ne,X=!1;if(Y(j)){var ee=(Ne={},Ne.path=Ee||"/",Ne[k]="Thu, 01 Jan 1970 00:00:01 GMT",Ne);(0,P.lT)()||(ee["max-age"]="0");var de=Z.delCookie||w;de(he,C(d.m5,ee)),X=!0}return X},H);return xe[m]=xe,xe}function Y(q){if(g===null){g=!1;try{var j=E||{};g=j[h]!==void 0}catch(H){(0,A.ZP)(q,2,68,"Cannot access document.cookie - "+(0,S.lL)(H),{exception:(0,P.mm)(H)})}}return g}function M(q){var j={};if(q&&q[R.oI]){var H=(0,S.EH)(q)[R.sY](";");(0,S.Iu)(H,function(Z){if(Z=(0,S.EH)(Z||d.m5),Z){var te=Z[R.Sj]("=");te===-1?j[Z]=null:j[(0,S.EH)(Z[R.Re](0,te))]=(0,S.EH)(Z[R.Re](te+1))}})}return j}function $(q,j){return(0,S.Tn)(q[j])?q[j]():null}function C(q,j){var H=q||d.m5;return(0,S.z)(j,function(Z,te){H+="; "+Z+((0,S.hX)(te)?d.m5:"="+te)}),H}function l(q){var j=d.m5;if(E){var H=E[h]||d.m5;N!==H&&(x=M(H),N=H),j=(0,S.EH)(x[q]||d.m5)}return j}function w(q,j){E&&(E[h]=q+"="+j)}function D(q){return(0,S.Kg)(q)?!!((0,S.Ju)(q,"CPU iPhone OS 12")||(0,S.Ju)(q,"iPad; CPU OS 12")||(0,S.Ju)(q,"Macintosh; Intel Mac OS X 10_14")&&(0,S.Ju)(q,"Version/")&&(0,S.Ju)(q,"Safari")||(0,S.Ju)(q,"Macintosh; Intel Mac OS X 10_14")&&(0,S.Cv)(q,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,S.Ju)(q,"Chrome/5")||(0,S.Ju)(q,"Chrome/6")||(0,S.Ju)(q,"UnrealEngine")&&!(0,S.Ju)(q,"Chrome")||(0,S.Ju)(q,"UCBrowser/12")||(0,S.Ju)(q,"UCBrowser/11")):!1}},32578:(s,V,T)=>{"use strict";T.d(V,{Ri:()=>L,TV:()=>z,UU:()=>m,WD:()=>W,Yj:()=>K,aq:()=>_,cL:()=>p,fs:()=>x,ht:()=>b,jS:()=>N});var R=T(75148),A=T(60830),P=T(91698),S=T(44180),d=T(18413),c=T(12497),f=T(1972),h=T(57679),k=null,y,u=null;function _(){var J=p();return J[A.Re](0,8)+"-"+J[A.Re](8,12)+"-"+J[A.Re](12,16)+"-"+J[A.Re](16,20)+"-"+J[A.Re](20)}function m(){var J=(0,S.FJ)();return J&&J.now?J.now():(0,c.x3)()}function g(J,ie){if(J&&ie){var Y=J[_DYN_LENGTH],M=Y-ie[_DYN_LENGTH];return J[_DYN_SUBSTRING](M>=0?M:0,Y)===ie}return!1}function p(){for(var J=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],ie=f.m5,Y,M=0;M<4;M++)Y=(0,h.VN)(),ie+=J[Y&15]+J[Y>>4&15]+J[Y>>8&15]+J[Y>>12&15]+J[Y>>16&15]+J[Y>>20&15]+J[Y>>24&15]+J[Y>>28&15];var $=J[8+((0,h.VN)()&3)|0];return ie[A.$4](0,8)+ie[A.$4](9,4)+"4"+ie[A.$4](13,3)+$+ie[A.$4](16,3)+ie[A.$4](19,12)}var N={_canUseCookies:void 0,isTypeof:c.Ed,isUndefined:c.b0,isNullOrUndefined:c.hX,hasOwnProperty:c.mQ,isFunction:c.Tn,isObject:c.Gv,isDate:c.$P,isArray:c.cy,isError:c.bJ,isString:c.Kg,isNumber:c.Et,isBoolean:c.Lm,toISOString:c._u,arrForEach:c.Iu,arrIndexOf:c.rD,arrMap:c.W$,arrReduce:c.KT,strTrim:c.EH,objCreate:R.AQ,objKeys:c.cG,objDefineAccessors:c.r,addEventHandler:d.So,dateNow:c.x3,isIE:S.lT,disableCookies:W,newGuid:_,perfNow:m,newId:h.Si,randomValue:h.Z1,random32:h.VN,mwcRandomSeed:h.yc,mwcRandom32:h.k5,generateW3CId:p},E=/[xy]/g,x={Attach:d.Q3,AttachEvent:d.Q3,Detach:d.Ym,DetachEvent:d.Ym};function F(J,ie){var Y=(0,P.d5)(J,ie),M=N._canUseCookies;return k===null&&(k=[],y=M,(0,c.r)(N,"_canUseCookies",function(){return y},function($){y=$,(0,c.Iu)(k,function(C){C[A.kt]($)})})),(0,c.rD)(k,Y)===-1&&k[A.y5](Y),(0,c.Lm)(M)&&Y[A.kt](M),(0,c.Lm)(y)&&Y[A.kt](y),Y}function W(){F()[A.kt](!1)}function b(J){return F(null,J).isEnabled()}function L(J,ie){return F(null,J).get(ie)}function z(J,ie,Y,M){F(null,J).set(ie,Y,null,M)}function K(J,ie){return F(null,J).del(ie)}},64252:(s,V,T)=>{"use strict";T.d(V,{T:()=>g,Z:()=>m});var R=T(47672),A=T(60830),P=T(12497),S=T(1972),d=T(57679),c=R.KU,f="2.8.10",h="."+(0,d.Si)(6),k=0;function y(p,N,E){if(c)try{return c(p,N,{value:E,enumerable:!1,configurable:!0}),!0}catch{}return!1}function u(p){return p[A.re]===1||p[A.re]===9||!+p[A.re]}function _(p,N){var E=N[p.id];if(!E){E={};try{u(N)&&(y(N,p.id,E)||(N[p.id]=E))}catch{}}return E}function m(p,N){return N===void 0&&(N=!1),(0,P.cH)(p+k+++(N?"."+f:S.m5)+h)}function g(p){var N={id:m("_aiData-"+(p||S.m5)+"."+f),accept:function(E){return u(E)},get:function(E,x,F,W){var b=E[N.id];return b?b[(0,P.cH)(x)]:(W&&(b=_(N,E),b[(0,P.cH)(x)]=F),F)},kill:function(E,x){if(E&&E[x])try{delete E[x]}catch{}}};return N}},95331:(s,V,T)=>{"use strict";T.d(V,{$:()=>h,M:()=>k});var R=T(60830),A=T(44180),P=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],S=null,d;function c(y,u){return function(){var _=arguments,m=h(u);if(m){var g=m.listener;g&&g[y]&&g[y][R.y9](g,_)}}}function f(){var y=(0,A.EH)("Microsoft");return y&&(S=y.ApplicationInsights),S}function h(y){var u=S;return!u&&y.disableDbgExt!==!0&&(u=S||f()),u?u.ChromeDbgExt:null}function k(y){if(!d){d={};for(var u=0;u<P[R.oI];u++)d[P[u]]=c(P[u],y)}return d}},99015:(s,V,T)=>{"use strict";T.d(V,{OG:()=>E,Oc:()=>x,WD:()=>_,ZP:()=>N,wq:()=>g,y0:()=>m});var R=T(92457),A=T(60830),P=T(95331),S=T(44180),d=T(12497),c=T(1972),f="AI (Internal): ",h="AI: ",k="AITR_";function y(F){return F?'"'+F[A.W7](/\"/g,c.m5)+'"':c.m5}function u(F,W){var b=(0,S.U5)();if(b){var L="log";b[F]&&(L=F),(0,d.Tn)(b[L])&&b[L](W)}}var _=function(){function F(W,b,L,z){L===void 0&&(L=!1);var K=this;K[A.JR]=W,K[A.pM]=(L?h:f)+W;var J=c.m5;(0,S.Z)()&&(J=(0,S.hm)().stringify(z));var ie=(b?" message:"+y(b):c.m5)+(z?" props:"+y(J):c.m5);K[A.pM]+=ie}return F.dataType="MessageData",F}();function m(F,W){return(F||{})[A.Uw]||new g(W)}var g=function(){function F(W){this.identifier="DiagnosticLogger",this.queue=[];var b=0,L={},z,K,J,ie;(0,R.A)(F,this,function(Y){$(W||{}),Y.consoleLoggingLevel=function(){return z},Y.telemetryLoggingLevel=function(){return K},Y.maxInternalMessageLimit=function(){return J},Y[A.a$]=function(){return ie},Y.throwInternal=function(w,D,q,j,H){H===void 0&&(H=!1);var Z=new _(D,q,H,j);if(ie)throw(0,S.mm)(Z);var te=w===1?c.Zi:c.Tj;if((0,d.b0)(Z[A.pM]))l("throw"+(w===1?"Critical":"Warning"),Z);else{if(H){var B=+Z[A.JR];!L[B]&&z>=w&&(Y[te](Z[A.pM]),L[B]=!0)}else z>=w&&Y[te](Z[A.pM]);M(w,Z)}},Y[c.Tj]=function(w){u("warn",w),l("warning",w)},Y[c.Zi]=function(w){u("error",w),l("error",w)},Y.resetInternalMessageCount=function(){b=0,L={}},Y[A.sx]=M;function M(w,D){if(!C()){var q=!0,j=k+D[A.JR];if(L[j]?q=!1:L[j]=!0,q&&(w<=K&&(Y.queue[A.y5](D),b++,l(w===1?"error":"warn",D)),b===J)){var H="Internal events throttle limit per PageView reached for this app.",Z=new _(23,H,!1);Y.queue[A.y5](Z),w===1?Y[c.Zi](H):Y[c.Tj](H)}}}function $(w){z=(0,d.SA)(w.loggingLevelConsole,0),K=(0,d.SA)(w.loggingLevelTelemetry,1),J=(0,d.SA)(w.maxMessageLimit,25),ie=(0,d.SA)(w[A.a$],!1)}function C(){return b>=J}function l(w,D){var q=(0,P.$)(W||{});q&&q[A.e4]&&q[A.e4](w,D)}})}return F.__ieDyn=1,F}();function p(F){return F||new g}function N(F,W,b,L,z,K){K===void 0&&(K=!1),p(F).throwInternal(W,b,L,z,K)}function E(F,W){p(F)[c.Tj](W)}function x(F,W,b){p(F)[A.sx](W,b)}},44180:(s,V,T)=>{"use strict";T.d(V,{$Z:()=>we,EH:()=>M,FJ:()=>B,Iu:()=>pe,JK:()=>H,L0:()=>ee,MY:()=>he,PV:()=>O,R7:()=>U,U5:()=>te,Uf:()=>_e,Vd:()=>$,Wt:()=>l,YE:()=>w,Z:()=>ae,cU:()=>Y,g$:()=>Z,hm:()=>xe,iN:()=>Ee,lT:()=>X,lV:()=>Ne,mm:()=>de,tw:()=>j,w3:()=>q,w9:()=>D,xk:()=>oe,zk:()=>C});var R=T(47672),A=T(75148),P=T(60830),S=T(12497),d=T(1972),c="window",f="document",h="documentMode",k="navigator",y="history",u="location",_="console",m="performance",g="JSON",p="crypto",N="msCrypto",E="ReactNative",x="msie",F="trident/",W="XMLHttpRequest",b=null,L=null,z=!1,K=null,J=null;function ie(Pe,Le){var He=!1;if(Pe){try{if(He=Le in Pe,!He){var kt=Pe[R.vR];kt&&(He=Le in kt)}}catch{}if(!He)try{var Ke=new Pe;He=!(0,S.b0)(Ke[Le])}catch{}}return He}function Y(Pe){z=Pe}function M(Pe){var Le=(0,A.mS)();return Le&&Le[Pe]?Le[Pe]:Pe===c&&$()?window:null}function $(){return!!(typeof window===R._1&&window)}function C(){return $()?window:M(c)}function l(){return!!(typeof document===R._1&&document)}function w(){return l()?document:M(f)}function D(){return!!(typeof navigator===R._1&&navigator)}function q(){return D()?navigator:M(k)}function j(){return!!(typeof history===R._1&&history)}function H(){return j()?history:M(y)}function Z(Pe){if(Pe&&z){var Le=M("__mockLocation");if(Le)return Le}return typeof location===R._1&&location?location:M(u)}function te(){return typeof console!==R.bA?console:M(_)}function B(){return M(m)}function ae(){return!!(typeof JSON===R._1&&JSON||M(g)!==null)}function xe(){return ae()?JSON||M(g):null}function he(){return M(p)}function Ee(){return M(N)}function Ne(){var Pe=q();return Pe&&Pe.product?Pe.product===E:!1}function X(){var Pe=q();if(Pe&&(Pe[P.tX]!==L||b===null)){L=Pe[P.tX];var Le=(L||d.m5)[P.OL]();b=(0,S.Ju)(Le,x)||(0,S.Ju)(Le,F)}return b}function ee(Pe){if(Pe===void 0&&(Pe=null),!Pe){var Le=q()||{};Pe=Le?(Le[P.tX]||d.m5)[P.OL]():d.m5}var He=(Pe||d.m5)[P.OL]();if((0,S.Ju)(He,x)){var kt=w()||{};return Math.max(parseInt(He[P.sY](x)[1]),kt[h]||0)}else if((0,S.Ju)(He,F)){var Ke=parseInt(He[P.sY](F)[1]);if(Ke)return Ke+4}return null}function de(Pe){var Le=Object[R.vR].toString[P.Ek](Pe),He=d.m5;return Le==="[object Error]"?He="{ stack: '"+Pe.stack+"', message: '"+Pe.message+"', name: '"+Pe[P.RS]+"'":ae()&&(He=xe().stringify(Pe)),Le+He}function me(Pe){if(!Pe||!isString(Pe)){var Le=q()||{};Pe=Le?(Le[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var He=(Pe||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return He[_DYN_INDEX_OF]("safari")>=0}function _e(){return J===null&&(J=D()&&!!q().sendBeacon),J}function U(Pe){var Le=!1;try{Le=!!M("fetch");var He=M("Request");Le&&Pe&&He&&(Le=ie(He,"keepalive"))}catch{}return Le}function O(){return K===null&&(K=typeof XDomainRequest!==R.bA,K&&oe()&&(K=K&&!ie(M(W),"withCredentials"))),K}function oe(){var Pe=!1;try{var Le=M(W);Pe=!!Le}catch{}return Pe}function ve(Pe,Le){if(Pe)for(var He=0;He<Pe[P.oI];He++){var kt=Pe[He];if(kt[P.RS]&&kt[P.RS]===Le)return kt}return{}}function we(Pe){var Le=w();return Le&&Pe?ve(Le.querySelectorAll("meta"),Pe).content:null}function pe(Pe){var Le,He=B();if(He){var kt=He.getEntriesByType("navigation")||[];Le=ve((kt[P.oI]>0?kt[0]:{}).serverTiming,Pe).description}return Le}},18413:(s,V,T)=>{"use strict";T.d(V,{Ds:()=>Ee,El:()=>ie,Fc:()=>Ne,Hm:()=>w,ML:()=>q,Q3:()=>j,So:()=>Z,Wg:()=>xe,Ym:()=>H,ee:()=>he,lQ:()=>ae,mB:()=>D,oS:()=>ee,sq:()=>X,vF:()=>de,zh:()=>te});var R=T(60830),A=T(64252),P=T(44180),S=T(12497),d=T(1972),c="on",f="attachEvent",h="addEventListener",k="detachEvent",y="removeEventListener",u="events",_="visibilitychange",m="pagehide",g="pageshow",p="unload",N="beforeunload",E=(0,A.Z)("aiEvtPageHide"),x=(0,A.Z)("aiEvtPageShow"),F=/\.[\.]+/g,W=/[\.]+$/,b=1,L=(0,A.T)("events"),z=/^([^.]*)(?:\.(.+)|)/;function K(me){return me&&me[R.W7]?me[R.W7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,d.m5):me}function J(me,_e){var U;if(_e){var O=d.m5;(0,S.cy)(_e)?(O=d.m5,(0,S.Iu)(_e,function(ve){ve=K(ve),ve&&(ve[0]!=="."&&(ve="."+ve),O+=ve)})):O=K(_e),O&&(O[0]!=="."&&(O="."+O),me=(me||d.m5)+O)}var oe=z.exec(me||d.m5)||[];return U={},U[R.QM]=oe[1],U.ns=(oe[2]||d.m5).replace(F,".").replace(W,d.m5)[R.sY](".").sort().join("."),U}function ie(me,_e,U){var O=[],oe=L.get(me,u,{},!1),ve=J(_e,U);return(0,S.z)(oe,function(we,pe){(0,S.Iu)(pe,function(Pe){var Le;(!ve[R.QM]||ve[R.QM]===Pe.evtName[R.QM])&&(!ve.ns||ve.ns===ve.ns)&&O[R.y5]((Le={},Le[R.RS]=Pe.evtName[R.QM]+(Pe.evtName.ns?"."+Pe.evtName.ns:d.m5),Le.handler=Pe[R.Yo],Le))})}),O}function Y(me,_e,U){U===void 0&&(U=!0);var O=L.get(me,u,{},U),oe=O[_e];return oe||(oe=O[_e]=[]),oe}function M(me,_e,U,O){me&&_e&&_e[R.QM]&&(me[y]?me[y](_e[R.QM],U,O):me[k]&&me[k](c+_e[R.QM],U))}function $(me,_e,U,O){var oe=!1;return me&&_e&&_e[R.QM]&&U&&(me[h]?(me[h](_e[R.QM],U,O),oe=!0):me[f]&&(me[f](c+_e[R.QM],U),oe=!0)),oe}function C(me,_e,U,O){for(var oe=_e[R.oI];oe--;){var ve=_e[oe];ve&&(!U.ns||U.ns===ve.evtName.ns)&&(!O||O(ve))&&(M(me,ve.evtName,ve[R.Yo],ve.capture),_e[R.Ic](oe,1))}}function l(me,_e,U){if(_e[R.QM])C(me,Y(me,_e[R.QM]),_e,U);else{var O=L.get(me,u,{});(0,S.z)(O,function(oe,ve){C(me,ve,_e,U)}),(0,S.cG)(O)[R.oI]===0&&L.kill(me,u)}}function w(me,_e){var U;return _e?((0,S.cy)(_e)?U=[me].concat(_e):U=[me,_e],U=J("xx",U).ns[R.sY](".")):U=me,U}function D(me,_e,U,O,oe){var ve;oe===void 0&&(oe=!1);var we=!1;if(me)try{var pe=J(_e,O);if(we=$(me,pe,U,oe),we&&L.accept(me)){var Pe=(ve={guid:b++,evtName:pe},ve[R.Yo]=U,ve.capture=oe,ve);Y(me,pe.type)[R.y5](Pe)}}catch{}return we}function q(me,_e,U,O,oe){if(oe===void 0&&(oe=!1),me)try{var ve=J(_e,O),we=!1;l(me,ve,function(pe){return ve.ns&&!U||pe[R.Yo]===U?(we=!0,!0):!1}),we||M(me,ve,U,oe)}catch{}}function j(me,_e,U,O){return O===void 0&&(O=!1),D(me,_e,U,null,O)}function H(me,_e,U,O){O===void 0&&(O=!1),q(me,_e,U,null,O)}function Z(me,_e,U){var O=!1,oe=(0,P.zk)();oe&&(O=D(oe,me,_e,U),O=D(oe.body,me,_e,U)||O);var ve=(0,P.YE)();return ve&&(O=D(ve,me,_e,U)||O),O}function te(me,_e,U){var O=(0,P.zk)();O&&(q(O,me,_e,U),q(O.body,me,_e,U));var oe=(0,P.YE)();oe&&q(oe,me,_e,U)}function B(me,_e,U,O){var oe=!1;return _e&&me&&me[R.oI]>0&&(0,S.Iu)(me,function(ve){ve&&(!U||(0,S.rD)(U,ve)===-1)&&(oe=Z(ve,_e,O)||oe)}),oe}function ae(me,_e,U,O){var oe=!1;return _e&&me&&(0,S.cy)(me)&&(oe=B(me,_e,U,O),!oe&&U&&U[R.oI]>0&&(oe=B(me,_e,null,O))),oe}function xe(me,_e,U){me&&(0,S.cy)(me)&&(0,S.Iu)(me,function(O){O&&te(O,_e,U)})}function he(me,_e,U){return ae([N,p,m],me,_e,U)}function Ee(me,_e){xe([N,p,m],me,_e)}function Ne(me,_e,U){function O(we){var pe=(0,P.YE)();me&&pe&&pe.visibilityState==="hidden"&&me(we)}var oe=w(E,U),ve=B([m],me,_e,oe);return(!_e||(0,S.rD)(_e,_)===-1)&&(ve=B([_],O,_e,oe)||ve),!ve&&_e&&(ve=Ne(me,null,U)),ve}function X(me,_e){var U=w(E,_e);xe([m],me,U),xe([_],null,U)}function ee(me,_e,U){function O(we){var pe=(0,P.YE)();me&&pe&&pe.visibilityState==="visible"&&me(we)}var oe=w(x,U),ve=B([g],me,_e,oe);return ve=B([_],O,_e,oe)||ve,!ve&&_e&&(ve=ee(me,null,U)),ve}function de(me,_e){var U=w(x,_e);xe([g],me,U),xe([_],null,U)}},12497:(s,V,T)=>{"use strict";T.d(V,{$8:()=>qt,$P:()=>O,CP:()=>Ji,Cv:()=>ee,EH:()=>be,Ed:()=>j,Et:()=>Pe,Gh:()=>B,Gv:()=>xe,Iu:()=>yt,Ju:()=>U,KT:()=>se,KY:()=>ai,Kg:()=>pe,Lm:()=>Le,N6:()=>rt,RF:()=>it,SA:()=>Pt,SZ:()=>Vt,Tn:()=>he,W$:()=>ne,_u:()=>Ke,b0:()=>H,bJ:()=>we,c2:()=>ht,cG:()=>Fe,cH:()=>Ne,cy:()=>oe,hW:()=>Yt,hX:()=>te,js:()=>ut,lL:()=>vt,mQ:()=>ae,o$:()=>_n,ol:()=>et,qz:()=>lt,r:()=>Ye,rD:()=>ce,tG:()=>me,wo:()=>Fi,x3:()=>mt,z:()=>X,zz:()=>Rt});var R=T(47672),A=T(75148),P=T(60830),S=T(1972),d="toISOString",c="endsWith",f="startsWith",h="indexOf",k="map",y="reduce",u="trim",_="toString",m="__proto__",g="constructor",p=R.KU,N=R.s6.freeze,E=R.s6.seal,x=R.s6.keys,F=String[R.vR],W=F[u],b=F[c],L=F[f],z=Date[R.vR],K=z[d],J=Array.isArray,ie=R.Wy[_],Y=R.J$[_],M=Y[P.Ek](R.s6),$=/-([a-z])/g,C=/([^\w\d_$])/g,l=/^(\d+[\w\d_$])/,w=Object.getPrototypeOf;function D(De){if(De){if(w)return w(De);var $e=De[m]||De[R.vR]||De[g];if($e)return $e}return null}function q(De){return ie[_DYN_CALL](De)}function j(De,$e){return typeof De===$e}function H(De){return De===void 0||typeof De===R.bA}function Z(De){return!H(De)}function te(De){return De===null||H(De)}function B(De){return!te(De)}function ae(De,$e){return!!(De&&R.J$[P.Ek](De,$e))}function xe(De){return!!(De&&typeof De===R._1)}function he(De){return!!(De&&typeof De===R.hW)}function Ee(De){return De&&he(De.then)}function Ne(De){var $e=De;return $e&&pe($e)&&($e=$e[P.W7]($,function(gt,at){return at.toUpperCase()}),$e=$e[P.W7](C,"_"),$e=$e[P.W7](l,function(gt,at){return"_"+at})),$e}function X(De,$e){if(De)for(var gt in De)R.J$[P.Ek](De,gt)&&$e[P.Ek](De,gt,De[gt])}function ee(De,$e){var gt=!1;return De&&$e&&!(gt=De===$e)&&(gt=b?De[c]($e):de(De,$e)),gt}function de(De,$e){var gt=!1,at=$e?$e[P.oI]:0,ct=De?De[P.oI]:0;if(at&&ct&&ct>=at&&!(gt=De===$e)){for(var Jt=ct-1,Nt=at-1;Nt>=0;Nt--){if(De[Jt]!=$e[Nt])return!1;Jt--}gt=!0}return gt}function me(De,$e){var gt=!1;return De&&$e&&!(gt=De===$e)&&(gt=L?De[f]($e):_e(De,$e)),gt}function _e(De,$e){var gt=!1,at=$e?$e[P.oI]:0;if(De&&at&&De[P.oI]>=at&&!(gt=De===$e)){for(var ct=0;ct<at;ct++)if(De[ct]!==$e[ct])return!1;gt=!0}return gt}function U(De,$e){return De&&$e?De[P.Sj]($e)!==-1:!1}function O(De){return!!(De&&ie[P.Ek](De)==="[object Date]")}var oe=J||ve;function ve(De){return!!(De&&ie[P.Ek](De)==="[object Array]")}function we(De){return!!(De&&ie[P.Ek](De)==="[object Error]")}function pe(De){return typeof De=="string"}function Pe(De){return typeof De=="number"}function Le(De){return typeof De=="boolean"}function He(De){return typeof De=="symbol"}function kt(De){var $e=!1;if(De&&typeof De=="object"){var gt=w?w(De):D(De);gt?(gt[g]&&R.J$[P.Ek](gt,g)&&(gt=gt[g]),$e=typeof gt===R.hW&&Y[P.Ek](gt)===M):$e=!0}return $e}function Ke(De){if(De)return K?De[d]():Ze(De)}function Ze(De){if(De&&De.getUTCFullYear){var $e=function(gt){var at=String(gt);return at[P.oI]===1&&(at="0"+at),at};return De.getUTCFullYear()+"-"+$e(De.getUTCMonth()+1)+"-"+$e(De.getUTCDate())+"T"+$e(De.getUTCHours())+":"+$e(De.getUTCMinutes())+":"+$e(De.getUTCSeconds())+"."+String((De.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function yt(De,$e,gt){var at=De[P.oI];try{for(var ct=0;ct<at&&!(ct in De&&$e[P.Ek](gt||De,De[ct],ct,De)===-1);ct++);}catch{}}function ce(De,$e,gt){if(De){if(De[h])return De[h]($e,gt);var at=De[P.oI],ct=gt||0;try{for(var Jt=Math.max(ct>=0?ct:at-Math.abs(ct),0);Jt<at;Jt++)if(Jt in De&&De[Jt]===$e)return Jt}catch{}}return-1}function ne(De,$e,gt){var at;if(De){if(De[k])return De[k]($e,gt);var ct=De[P.oI],Jt=gt||De;at=new Array(ct);try{for(var Nt=0;Nt<ct;Nt++)Nt in De&&(at[Nt]=$e[P.Ek](Jt,De[Nt],De))}catch{}}return at}function se(De,$e,gt){var at;if(De){if(De[y])return De[y]($e,gt);var ct=De[P.oI],Jt=0;if(arguments[P.oI]>=3)at=arguments[2];else{for(;Jt<ct&&!(Jt in De);)Jt++;at=De[Jt++]}for(;Jt<ct;)Jt in De&&(at=$e(at,De[Jt],Jt,De)),Jt++}return at}function be(De){return De&&(De=W&&De[u]?De[u]():De[P.W7]?De[P.W7](/^\s+|(?=\s)\s+$/g,S.m5):De),De}var Me=!{toString:null}.propertyIsEnumerable("toString"),Ve=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Fe(De){var $e=typeof De;if($e!==R.hW&&($e!==R._1||De===null)&&(0,A.zk)("objKeys called on non-object"),!Me&&x)return x(De);var gt=[];for(var at in De)De&&R.J$[P.Ek](De,at)&&gt[P.y5](at);if(Me)for(var ct=Ve[P.oI],Jt=0;Jt<ct;Jt++)De&&R.J$[P.Ek](De,Ve[Jt])&&gt[P.y5](Ve[Jt]);return gt}function Ye(De,$e,gt,at){if(p)try{var ct={enumerable:!0,configurable:!0};return gt&&(ct.get=gt),at&&(ct.set=at),p(De,$e,ct),!0}catch{}return!1}function Tt(De){return De}function et(De){return N&&X(De,function($e,gt){(oe(gt)||xe(gt))&&N(gt)}),rt(De)}var rt=N||Tt,ut=E||Tt;function mt(){var De=Date;return De.now?De.now():new De().getTime()}function vt(De){return we(De)?De[P.RS]:S.m5}function ai(De,$e,gt,at,ct){var Jt=gt;return De&&(Jt=De[$e],Jt!==gt&&(!ct||ct(Jt))&&(!at||at(gt))&&(Jt=gt,De[$e]=Jt)),Jt}function ht(De,$e,gt){var at;return De?(at=De[$e],!at&&te(at)&&(at=H(gt)?{}:gt,De[$e]=at)):at=H(gt)?{}:gt,at}function Pt(De,$e){return te(De)?$e:De}function Fi(De){return!De}function Rt(De){return!!De}function qt(De){throw new Error(De)}function Ri(De,$e){var gt=null,at=null;return he(De)?gt=De:at=De,function(){var ct=arguments;if(gt&&(at=gt()),at)return at[$e][P.y9](at,ct)}}function lt(De,$e,gt){if(De&&$e&&xe(De)&&xe($e)){var at=function(Jt){if(pe(Jt)){var Nt=$e[Jt];he(Nt)?(!gt||gt(Jt,!0,$e,De))&&(De[Jt]=Ri($e,Jt)):(!gt||gt(Jt,!1,$e,De))&&(ae(De,Jt)&&delete De[Jt],Ye(De,Jt,function(){return $e[Jt]},function(Dt){$e[Jt]=Dt})||(De[Jt]=Nt))}};for(var ct in $e)at(ct)}return De}function it(De,$e,gt,at,ct){De&&$e&&gt&&(ct!==!1||H(De[$e]))&&(De[$e]=Ri(gt,at))}function _n(De,$e,gt,at){return De&&$e&&xe(De)&&oe(gt)&&yt(gt,function(ct){pe(ct)&&it(De,ct,$e,ct,at)}),De}function Vt(De){return function(){function $e(){var gt=this;De&&X(De,function(at,ct){gt[at]=ct})}return $e}()}function Yt(De){return De&&R.zi&&(De=(0,R.s6)((0,R.zi)({},De))),De}function Ji(De,$e,gt,at,ct,Jt){var Nt=arguments,Dt=Nt[0]||{},At=Nt[P.oI],st=!1,wt=1;for(At>0&&Le(Dt)&&(st=Dt,Dt=Nt[wt]||{},wt++),xe(Dt)||(Dt={});wt<At;wt++){var St=Nt[wt],si=oe(St),ei=xe(St);for(var Ft in St){var mi=si&&Ft in St||ei&&R.J$[P.Ek](St,Ft);if(mi){var ii=St[Ft],bi=void 0;if(st&&ii&&((bi=oe(ii))||kt(ii))){var _i=Dt[Ft];bi?oe(_i)||(_i=[]):kt(_i)||(_i={}),ii=Ji(st,_i,ii)}ii!==void 0&&(Dt[Ft]=ii)}}}return Dt}},1972:(s,V,T)=>{"use strict";T.d(V,{Bw:()=>c,Hr:()=>d,LZ:()=>A,Tj:()=>p,Vo:()=>k,Yd:()=>S,Yp:()=>u,Zi:()=>g,dI:()=>_,eT:()=>P,fc:()=>y,jy:()=>f,kI:()=>N,l0:()=>m,m5:()=>R,qT:()=>h});var R="",A="channels",P="core",S="createPerfMgr",d="disabled",c="extensionConfig",f="extensions",h="processTelemetry",k="priority",y="eventsSent",u="eventsDiscarded",_="eventsSendRequest",m="perfEvent",g="errorToConsole",p="warnToConsole",N="getPerfMgr"},54660:(s,V,T)=>{"use strict";T.d(V,{h:()=>c});var R=T(92457),A=T(60830),P=T(12497),S=T(1972);function d(f,h,k,y){(0,P.Iu)(f,function(u){if(u&&u[h])if(k)setTimeout(function(){return y(u)},0);else try{y(u)}catch{}})}var c=function(){function f(h){this.listeners=[];var k=!!(h||{}).perfEvtsSendAll;(0,R.A)(f,this,function(y){y[A.vR]=function(u){y.listeners[A.y5](u)},y[A.TP]=function(u){for(var _=(0,P.rD)(y[A.lJ],u);_>-1;)y.listeners[A.Ic](_,1),_=(0,P.rD)(y[A.lJ],u)},y[S.fc]=function(u){d(y[A.lJ],S.fc,!0,function(_){_[S.fc](u)})},y[S.Yp]=function(u,_){d(y[A.lJ],S.Yp,!0,function(m){m[S.Yp](u,_)})},y[S.dI]=function(u,_){d(y[A.lJ],S.dI,_,function(m){m[S.dI](u,_)})},y[S.l0]=function(u){u&&(k||!u[A.Zu]())&&d(y[A.lJ],S.l0,!1,function(_){u[A.tI]?setTimeout(function(){return _[S.l0](u)},0):_[S.l0](u)})}})}return f.__ieDyn=1,f}()},5204:(s,V,T)=>{"use strict";T.d(V,{NS:()=>y,Q6:()=>k,Z4:()=>g,r2:()=>_});var R=T(92457),A=T(60830),P=T(12497),S=T(1972),d="ctx",c="ParentContextKey",f="ChildrenContextKey",h=null,k=function(){function p(N,E,x){var F=this,W=!1;if(F.start=(0,P.x3)(),F[A.RS]=N,F[A.tI]=x,F[A.Zu]=function(){return!1},(0,P.Tn)(E)){var b;W=(0,P.r)(F,"payload",function(){return!b&&(0,P.Tn)(E)&&(b=E(),E=null),b})}F[A.O_]=function(L){return L?L===p[c]||L===p[f]?F[L]:(F[d]||{})[L]:null},F[A.e_]=function(L,z){if(L)if(L===p[c])F[L]||(F[A.Zu]=function(){return!0}),F[L]=z;else if(L===p[f])F[L]=z;else{var K=F[d]=F[d]||{};K[L]=z}},F[A.Ru]=function(){var L=0,z=F[A.O_](p[f]);if((0,P.cy)(z))for(var K=0;K<z[A.oI];K++){var J=z[K];J&&(L+=J[A.fA])}F[A.fA]=(0,P.x3)()-F.start,F.exTime=F[A.fA]-L,F[A.Ru]=function(){},!W&&(0,P.Tn)(E)&&(F.payload=E())}}return p.ParentContextKey="parent",p.ChildrenContextKey="childEvts",p}(),y=function(){function p(N){this.ctx={},(0,R.A)(p,this,function(E){E.create=function(x,F,W){return new k(x,F,W)},E.fire=function(x){x&&(x[A.Ru](),N&&(0,P.Tn)(N[S.l0])&&N[S.l0](x))},E[A.e_]=function(x,F){if(x){var W=E[d]=E[d]||{};W[x]=F}},E[A.O_]=function(x){return(E[d]||{})[x]}})}return p.__ieDyn=1,p}(),u="CoreUtils.doPerf";function _(p,N,E,x,F){if(p){var W=p;if(W[S.kI]&&(W=W[S.kI]()),W){var b=void 0,L=W[A.O_](u);try{if(b=W.create(N(),x,F),b){if(L&&b[A.e_]&&(b[A.e_](k[c],L),L[A.O_]&&L[A.e_])){var z=L[A.O_](k[f]);z||(z=[],L[A.e_](k[f],z)),z[A.y5](b)}return W[A.e_](u,b),E(b)}}catch(K){b&&b[A.e_]&&b[A.e_]("exception",K)}finally{b&&W.fire(b),W[A.e_](u,L)}}}return E()}function m(p){h=p}function g(){return h}},8997:(s,V,T)=>{"use strict";T.d(V,{PV:()=>E,W0:()=>F,i8:()=>g,nU:()=>N,tS:()=>p});var R=T(60830),A=T(99015),P=T(44180),S=T(12497),d=T(1972),c=T(5204),f=T(33540),h="TelemetryPluginChain",k="_hasRun",y="_getTelCtx",u=0;function _(W,b,L){for(;W;){if(W[R.AP]()===L)return W;W=W[R.uR]()}return E([L],b[R.GA]||{},b)}function m(W,b,L,z){var K=null,J=[];z!==null&&(K=z?_(W,L,z):W);var ie={_next:M,ctx:{core:function(){return L},diagLog:function(){return(0,A.y0)(L,b)},getCfg:function(){return b},getExtCfg:$,getConfig:C,hasNext:function(){return!!K},getNext:function(){return K},setNext:function(w){K=w},iterate:l,onComplete:Y}};function Y(w,D){for(var q=[],j=2;j<arguments.length;j++)q[j-2]=arguments[j];w&&J[R.y5]({func:w,self:(0,S.b0)(D)?ie.ctx:D,args:q})}function M(){var w=K;if(K=w?w[R.uR]():null,!w){var D=J;D&&D[R.oI]>0&&((0,S.Iu)(D,function(q){try{q.func[R.Ek](q.self,q.args)}catch(j){(0,A.ZP)(L[R.Uw],2,73,"Unexpected Exception during onComplete - "+(0,P.mm)(j))}}),J=[])}return w}function $(w,D,q){D===void 0&&(D={}),q===void 0&&(q=0);var j;if(b){var H=b[d.Bw];H&&w&&(j=H[w])}if(!j)j=D;else if((0,S.Gv)(D)&&q!==0){var Z=(0,S.CP)(!0,D,j);b&&q===2&&(0,S.z)(D,function(te){if((0,S.hX)(Z[te])){var B=b[te];(0,S.hX)(B)||(Z[te]=B)}}),j=Z}return j}function C(w,D,q){q===void 0&&(q=!1);var j,H=$(w,null);return H&&!(0,S.hX)(H[D])?j=H[D]:b&&!(0,S.hX)(b[D])&&(j=b[D]),(0,S.hX)(j)?q:j}function l(w){for(var D;D=ie._next();){var q=D[R.AP]();q&&w(q)}}return ie}function g(W,b,L,z){var K=m(W,b,L,z),J=K.ctx;function ie(M){var $=K._next();return $&&$[d.qT](M,J),!$}function Y(M,$){return M===void 0&&(M=null),(0,S.cy)(M)&&(M=E(M,b,L,$)),g(M||J[R.uR](),b,L,$)}return J[R.$5]=ie,J[R.$o]=Y,J}function p(W,b,L){var z=b[R.GA]||{},K=m(W,z,b,L),J=K.ctx;function ie(M){var $=K._next();return $&&$.unload(J,M),!$}function Y(M,$){return M===void 0&&(M=null),(0,S.cy)(M)&&(M=E(M,z,b,$)),p(M||J[R.uR](),b,$)}return J[R.$5]=ie,J[R.$o]=Y,J}function N(W,b,L){var z=b[R.GA]||{},K=m(W,z,b,L),J=K.ctx;function ie(M){return J.iterate(function($){(0,S.Tn)($[R.HC])&&$[R.HC](J,M)})}function Y(M,$){return M===void 0&&(M=null),(0,S.cy)(M)&&(M=E(M,z,b,$)),N(M||J[R.uR](),b,$)}return J[R.$5]=ie,J[R.$o]=Y,J}function E(W,b,L,z){var K=null,J=!z;if((0,S.cy)(W)&&W[R.oI]>0){var ie=null;(0,S.Iu)(W,function(Y){if(!J&&z===Y&&(J=!0),J&&Y&&(0,S.Tn)(Y[d.qT])){var M=x(Y,b,L);K||(K=M),ie&&ie._setNext(M),ie=M}})}return z&&!K?E([z],b,L):K}function x(W,b,L){var z=null,K=(0,S.Tn)(W[d.qT]),J=(0,S.Tn)(W[R.YH]),ie;W?ie=W[R.Ju]+"-"+W[d.Vo]+"-"+u++:ie="Unknown-0-"+u++;var Y={getPlugin:function(){return W},getNext:function(){return z},processTelemetry:C,unload:l,update:w,_id:ie,_setNext:function(D){z=D}};function M(){var D;return W&&(0,S.Tn)(W[y])&&(D=W[y]()),D||(D=g(Y,b,L)),D}function $(D,q,j,H,Z){var te=!1,B=W?W[R.Ju]:h,ae=D[k];return ae||(ae=D[k]={}),D.setNext(z),W&&(0,c.r2)(D[d.eT](),function(){return B+":"+j},function(){ae[ie]=!0;try{var xe=z?z._id:d.m5;xe&&(ae[xe]=!1),te=q(D)}catch(Ee){var he=z?ae[z._id]:!0;he&&(te=!0),(!z||!he)&&(0,A.ZP)(D[R.e4](),1,73,"Plugin ["+B+"] failed during "+j+" - "+(0,P.mm)(Ee)+", run flags: "+(0,P.mm)(ae))}},H,Z),te}function C(D,q){q=q||M();function j(H){if(!W||!K)return!1;var Z=(0,f.Cr)(W);return Z[R.Ik]||Z[d.Hr]?!1:(J&&W[R.YH](z),W[d.qT](D,H),!0)}$(q,j,"processTelemetry",function(){return{item:D}},!D.sync)||q[R.$5](D)}function l(D,q){function j(){var H=!1;if(W){var Z=(0,f.Cr)(W),te=W[d.eT]||Z[d.eT];W&&(!te||te===D.core())&&!Z[R.Ik]&&(Z[d.eT]=null,Z[R.Ik]=!0,Z[R.tZ]=!1,W[R.Ik]&&W[R.Ik](D,q)===!0&&(H=!0))}return H}$(D,j,"unload",function(){},q[R.tI])||D[R.$5](q)}function w(D,q){function j(){var H=!1;if(W){var Z=(0,f.Cr)(W),te=W[d.eT]||Z[d.eT];W&&(!te||te===D.core())&&!Z[R.Ik]&&W[R.HC]&&W[R.HC](D,q)===!0&&(H=!0)}return H}$(D,j,"update",function(){},!1)||D[R.$5](q)}return(0,S.N6)(Y)}var F=function(){function W(b,L,z,K){var J=this,ie=g(b,L,z,K);(0,S.o$)(J,ie,(0,S.cG)(ie))}return W}()},57679:(s,V,T)=>{"use strict";T.d(V,{Si:()=>N,VN:()=>m,Z1:()=>_,k5:()=>p,yc:()=>g});var R=T(60830),A=T(44180),P=T(12497),S=T(1972),d=4294967296,c=4294967295,f=!1,h=123456789,k=987654321;function y(E){E<0&&(E>>>=0),h=123456789+E&c,k=987654321-E&c,f=!0}function u(){try{var E=(0,P.x3)()&2147483647;y((Math.random()*d^E)+E)}catch{}}function _(E){return E>0?Math.floor(m()/c*(E+1))>>>0:0}function m(E){var x=0,F=(0,A.MY)()||(0,A.iN)();return F&&F.getRandomValues&&(x=F.getRandomValues(new Uint32Array(1))[0]&c),x===0&&(0,A.lT)()&&(f||u(),x=p()&c),x===0&&(x=Math.floor(d*Math.random()|0)),E||(x>>>=0),x}function g(E){E?y(E):u()}function p(E){k=36969*(k&65535)+(k>>16)&c,h=18e3*(h&65535)+(h>>16)&c;var x=(k<<16)+(h&65535)>>>0&c|0;return E||(x>>>=0),x}function N(E){E===void 0&&(E=22);for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=m()>>>0,W=0,b=S.m5;b[R.oI]<E;)W++,b+=x.charAt(F&63),F>>>=6,W===5&&(F=(m()<<2&4294967295|F&3)>>>0,W=0);return b}},33540:(s,V,T)=>{"use strict";T.d(V,{Cr:()=>f,Xc:()=>k,pI:()=>h,u7:()=>u});var R=T(60830),A=T(64252),P=T(12497),S=T(1972),d=T(68560),c=(0,A.T)("plugin");function f(_){return c.get(_,"state",{},!0)}function h(_,m){for(var g=[],p=null,N=_[R.uR](),E;N;){var x=N[R.AP]();if(x){p&&(0,P.Tn)(p[R.YH])&&(0,P.Tn)(x[S.qT])&&p[R.YH](x);var F=!1;(0,P.Tn)(x[R.tZ])?F=x[R.tZ]():(E=f(x),F=E[R.tZ]),F||g[R.y5](x),p=x,N=N[R.uR]()}}(0,P.Iu)(g,function(W){var b=_[S.eT]();W[R.mE](_.getCfg(),b,m,_[R.uR]()),E=f(W),!W[S.eT]&&!E[S.eT]&&(E[S.eT]=b),E[R.tZ]=!0,delete E[R.Ik]})}function k(_){return _.sort(function(m,g){var p=0;if(g){var N=(0,P.Tn)(g[S.qT]);(0,P.Tn)(m[S.qT])?p=N?m[S.Vo]-g[S.Vo]:1:N&&(p=-1)}else p=m?1:-1;return p})}function y(_,m,g,p){var N=0;function E(){for(;N<_[_DYN_LENGTH];){var x=_[N++];if(x){var F=x._doUnload||x[_DYN__DO_TEARDOWN];if(isFunction(F)&&F[_DYN_CALL](x,m,g,E)===!0)return!0}}}return E()}function u(_){var m={};return{getName:function(){return m[R.RS]},setName:function(g){_&&_.setName(g),m[R.RS]=g},getTraceId:function(){return m[R.P5]},setTraceId:function(g){_&&_.setTraceId(g),(0,d.hX)(g)&&(m[R.P5]=g)},getSpanId:function(){return m[R.wi]},setSpanId:function(g){_&&_.setSpanId(g),(0,d.wN)(g)&&(m[R.wi]=g)},getTraceFlags:function(){return m[R.Rr]},setTraceFlags:function(g){_&&_.setTraceFlags(g),m[R.Rr]=g}}}},49388:(s,V,T)=>{"use strict";T.d(V,{P:()=>d});var R=T(60830),A=T(99015),P=T(44180),S=T(12497);function d(){var c=[];function f(k){k&&c[R.y5](k)}function h(k,y){(0,S.Iu)(c,function(u){try{u(k,y)}catch(_){(0,A.ZP)(k[R.e4](),2,73,"Unexpected error calling unload handler - "+(0,P.mm)(_))}}),c=[]}return{add:f,run:h}}},68560:(s,V,T)=>{"use strict";T.d(V,{L0:()=>W,N7:()=>F,ZI:()=>p,ef:()=>b,hX:()=>N,mJ:()=>x,wN:()=>E,wk:()=>g});var R=T(60830),A=T(32578),P=T(44180),S=T(12497),d=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,c="00",f="ff",h="00000000000000000000000000000000",k="0000000000000000",y=1;function u(L,z,K){return L&&L[R.oI]===z&&L!==K?!!L.match(/^[\da-f]*$/):!1}function _(L,z,K){return u(L,z)?L:K}function m(L){(isNaN(L)||L<0||L>255)&&(L=1);for(var z=L.toString(16);z[R.oI]<2;)z="0"+z;return z}function g(L,z,K,J){var ie;return ie={},ie[R.s]=u(J,2,f)?J:c,ie[R.P5]=N(L)?L:(0,A.cL)(),ie.spanId=E(z)?z:(0,A.cL)()[R.$4](0,16),ie.traceFlags=K>=0&&K<=255?K:1,ie}function p(L){var z;if(!L||((0,S.cy)(L)&&(L=L[0]||""),!L||!(0,S.Kg)(L)||L[R.oI]>8192))return null;var K=d.exec((0,S.EH)(L));return!K||K[1]===f||K[2]===h||K[3]===k?null:(z={},z[R.s]=K[1],z[R.P5]=K[2],z[R.wi]=K[3],z[R.Rr]=parseInt(K[4],16),z)}function N(L){return u(L,32,h)}function E(L){return u(L,16,k)}function x(L){return!(!L||!u(L[R.s],2,f)||!u(L[R.P5],32,h)||!u(L[R.wi],16,k)||!u(m(L[R.Rr]),2))}function F(L){return x(L)?(L[R.Rr]&y)===y:!1}function W(L){if(L){var z=m(L[R.Rr]);u(z,2)||(z="01");var K=L[R.s]||c;return K!=="00"&&K!=="ff"&&(K=c),"".concat(K,"-").concat(_(L.traceId,32,h),"-").concat(_(L.spanId,16,k),"-").concat(z)}return""}function b(){var L="traceparent",z=p((0,P.$Z)(L));return z||(z=p((0,P.Iu)(L))),z}},60830:(s,V,T)=>{"use strict";T.d(V,{$4:()=>te,$5:()=>_,$o:()=>l,AP:()=>x,Di:()=>N,EX:()=>F,Ek:()=>X,GA:()=>f,H7:()=>W,HC:()=>Y,Ic:()=>b,Ik:()=>L,JR:()=>z,Ju:()=>S,OL:()=>Ne,O_:()=>U,P5:()=>ve,QM:()=>ee,RF:()=>P,RS:()=>A,Re:()=>q,Rr:()=>pe,Ru:()=>oe,Sj:()=>D,TP:()=>p,Uw:()=>k,W7:()=>xe,YH:()=>C,Yo:()=>de,Zu:()=>_e,a$:()=>he,by:()=>E,e4:()=>$,e_:()=>O,fA:()=>u,kt:()=>Z,lJ:()=>me,lK:()=>w,mE:()=>R,oI:()=>y,pM:()=>K,ps:()=>m,re:()=>B,s:()=>Pe,sY:()=>H,sl:()=>h,sx:()=>Ee,tI:()=>J,tX:()=>j,tZ:()=>c,tn:()=>ie,uR:()=>M,vR:()=>g,wi:()=>we,y5:()=>d,y9:()=>ae});var R="initialize",A="name",P="getNotifyMgr",S="identifier",d="push",c="isInitialized",f="config",h="instrumentationKey",k="logger",y="length",u="time",_="processNext",m="getProcessTelContext",g="addNotificationListener",p="removeNotificationListener",N="stopPollingInternalLogs",E="onComplete",x="getPlugin",F="flush",W="_extensions",b="splice",L="teardown",z="messageId",K="message",J="isAsync",ie="_doTeardown",Y="update",M="getNext",$="diagLog",C="setNextPlugin",l="createNew",w="cookieCfg",D="indexOf",q="substring",j="userAgent",H="split",Z="setEnabled",te="substr",B="nodeType",ae="apply",xe="replace",he="enableDebugExceptions",Ee="logInternalMessage",Ne="toLowerCase",X="call",ee="type",de="handler",me="listeners",_e="isChildEvt",U="getCtx",O="setCtx",oe="complete",ve="traceId",we="spanId",pe="traceFlags",Pe="version"},47672:(s,V,T)=>{"use strict";T.d(V,{J$:()=>_,KU:()=>u,OR:()=>y,QV:()=>d,Wy:()=>h,_1:()=>A,bA:()=>P,hW:()=>R,s6:()=>f,vR:()=>S,zi:()=>k});var R="function",A="object",P="undefined",S="prototype",d="hasOwnProperty",c="default",f=Object,h=f[S],k=f.assign,y=f.create,u=f.defineProperty,_=h[d]},75148:(s,V,T)=>{"use strict";T.d(V,{AQ:()=>d,mS:()=>P,zk:()=>S});var R=T(47672),A=null;function P(c){c===void 0&&(c=!0);var f=c===!1?null:A;return f||(typeof globalThis!==R.bA&&(f=globalThis),!f&&typeof self!==R.bA&&(f=self),!f&&typeof window!==R.bA&&(f=window),!f&&typeof T.g!==R.bA&&(f=T.g),A=f),f}function S(c){throw new TypeError(c)}function d(c){var f=R.OR;if(f)return f(c);if(c==null)return{};var h=typeof c;h!==R._1&&h!==R.hW&&S("Object prototype may only be an Object:"+c);function k(){}return k[R.vR]=c,new k}},8747:(s,V,T)=>{"use strict";T.d(V,{Im:()=>_,qU:()=>g,vz:()=>K});var R=T(47672),A=T(75148),P=((0,A.mS)()||{}).Symbol,S=((0,A.mS)()||{}).Reflect,d=!!P,c=!!S,f="decorate",h="metadata",k="getOwnPropertySymbols",y="iterator",u=function(M){for(var $,C=1,l=arguments.length;C<l;C++){$=arguments[C];for(var w in $)R.Wy[R.QV].call($,w)&&(M[w]=$[w])}return M},_=R.zi||u,m=function(M,$){return m=R.s6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,l){C.__proto__=l}||function(C,l){for(var w in l)l[R.QV](w)&&(C[w]=l[w])},m(M,$)};function g(M,$){typeof $!==R.hW&&$!==null&&(0,A.zk)("Class extends value "+String($)+" is not a constructor or null"),m(M,$);function C(){this.constructor=M}M[R.vR]=$===null?(0,A.AQ)($):(C[R.vR]=$[R.vR],new C)}function p(M,$){var C={};for(var l in M)ObjHasOwnProperty.call(M,l)&&$.indexOf(l)<0&&(C[l]=M[l]);if(M!=null&&typeof ObjClass[k]===strShimFunction)for(var w=0,D=ObjClass[k](M);w<D.length;w++)$.indexOf(D[w])<0&&ObjProto.propertyIsEnumerable.call(M,D[w])&&(C[D[w]]=M[D[w]]);return C}function N(M,$,C,l){var w=arguments.length,D=w<3?$:l===null?l=ObjClass.getOwnPropertyDescriptor($,C):l,q;if(c&&typeof S[f]===strShimFunction)D=S[f](M,$,C,l);else for(var j=M.length-1;j>=0;j--)(q=M[j])&&(D=(w<3?q(D):w>3?q($,C,D):q($,C))||D);return w>3&&D&&ObjDefineProperty($,C,D),D}function E(M,$){return function(C,l){$(C,l,M)}}function x(M,$){if(c&&S[h]===strShimFunction)return S[h](M,$)}function F(M,$){for(var C in M)C!==strDefault&&!ObjHasOwnProperty.call($,C)&&W($,M,C)}function W(M,$,C,l){l===void 0&&(l=C),ObjCreate?ObjDefineProperty(M,l,{enumerable:!0,get:function(){return $[C]}}):M[l]=$[C]}function b(M){var $=typeof P===strShimFunction&&P[y],C=$&&M[$],l=0;if(C)return C.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&l>=M.length&&(M=void 0),{value:M&&M[l++],done:!M}}};throwTypeError($?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(M,$){var C=typeof P===strShimFunction&&M[P[y]];if(!C)return M;var l=C.call(M),w,D=[],q;try{for(;($===void 0||$-- >0)&&!(w=l.next()).done;)D.push(w.value)}catch(j){q={error:j}}finally{try{w&&!w.done&&(C=l.return)&&C.call(l)}finally{if(q)throw q.error}}return D}function z(){for(var M=arguments,$=0,C=0,l=M.length;C<l;C++)$+=M[C].length;for(var w=Array($),D=0,C=0;C<l;C++)for(var q=M[C],j=0,H=q.length;j<H;j++,D++)w[D]=q[j];return w}function K(M,$){for(var C=0,l=$.length,w=M.length;C<l;C++,w++)M[w]=$[C];return M}function J(M,$){return ObjDefineProperty?ObjDefineProperty(M,"raw",{value:$}):M.raw=$,M}function ie(M){if(M&&M.__esModule)return M;var $={};if(M!=null)for(var C in M)C!==strDefault&&Object.prototype.hasOwnProperty.call(M,C)&&W($,M,C);return ObjCreate?ObjDefineProperty($,strDefault,{enumerable:!0,value:M}):$[strDefault]=M,$}function Y(M){return M&&M.__esModule?M:{strDefault:M}}},94731:(s,V,T)=>{"use strict";T.r(V),T.d(V,{AppInsightsCore:()=>Ro._,ApplicationInsights:()=>kl,CoreUtils:()=>ei.jS,Sender:()=>So,SeverityLevel:()=>_l,_InternalMessageId:()=>Vu.$,arrForEach:()=>we.Iu,isNullOrUndefined:()=>we.hX,proxyFunctions:()=>we.o$,throwError:()=>we.$8});var R=T(92457),A=T(8747),P="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",S="sampleRate",d="ProcessLegacy",c="http.method",f="https://dc.services.visualstudio.com",h="/v2/track",k="not_specified",y="iKey",u="split",_="length",m="toLowerCase",g="ingestionendpoint",p="toString",N="removeItem",E="name",x="message",F="count",W="preTriggerDate",b="disabled",L="interval",z="daysOfMonth",K="date",J="getUTCDate",ie="stringify",Y="pathname",M="correlationHeaderExcludePatterns",$="indexOf",C="extensionConfig",l="exceptions",w="parsedStack",D="properties",q="measurements",j="sizeInBytes",H="typeName",Z="severityLevel",te="problemGroup",B="isManual",ae="CreateFromInterface",xe="hasFullStack",he="level",Ee="method",Ne="assembly",X="fileName",ee="line",de="duration",me="receivedResponse",_e="substring",U="sanitizeKeyAndAddUniqueness",O="sanitizeException",oe="sanitizeProperties",ve="sanitizeMeasurements",we=T(12497),pe=T(99015),Pe=T(44180),Le;function He(ke,fe,Se){var Ce=fe[_],Be=kt(ke,fe);if(Be[_]!==Ce){for(var je=0,Je=Be;Se[Je]!==void 0;)je++,Je=Be[_e](0,147)+Ve(je);Be=Je}return Be}function kt(ke,fe){var Se;return fe&&(fe=(0,we.EH)(fe[p]()),fe[_]>150&&(Se=fe[_e](0,150),(0,pe.ZP)(ke,2,57,"name is too long.  It has been truncated to 150 characters.",{name:fe},!0))),Se||fe}function Ke(ke,fe,Se){Se===void 0&&(Se=1024);var Ce;return fe&&(Se=Se||1024,fe=(0,we.EH)(fe),fe.toString()[_]>Se&&(Ce=fe[p]()[_e](0,Se),(0,pe.ZP)(ke,2,61,"string value is too long. It has been truncated to "+Se+" characters.",{value:fe},!0))),Ce||fe}function Ze(ke,fe){return Me(ke,fe,2048,66)}function yt(ke,fe){var Se;return fe&&fe[_]>32768&&(Se=fe[_e](0,32768),(0,pe.ZP)(ke,2,56,"message is too long, it has been truncated to 32768 characters.",{message:fe},!0)),Se||fe}function ce(ke,fe){var Se;if(fe){var Ce=""+fe;Ce[_]>32768&&(Se=Ce[_e](0,32768),(0,pe.ZP)(ke,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:fe},!0))}return Se||fe}function ne(ke,fe){if(fe){var Se={};(0,we.z)(fe,function(Ce,Be){if((0,we.Gv)(Be)&&(0,Pe.Z)())try{Be=(0,Pe.hm)()[ie](Be)}catch(je){(0,pe.ZP)(ke,2,49,"custom property is not valid",{exception:je},!0)}Be=Ke(ke,Be,8192),Ce=He(ke,Ce,Se),Se[Ce]=Be}),fe=Se}return fe}function se(ke,fe){if(fe){var Se={};(0,we.z)(fe,function(Ce,Be){Ce=He(ke,Ce,Se),Se[Ce]=Be}),fe=Se}return fe}function be(ke,fe){return fe&&Me(ke,fe,128,69)[p]()}function Me(ke,fe,Se,Ce){var Be;return fe&&(fe=(0,we.EH)(fe),fe[_]>Se&&(Be=fe[_e](0,Se),(0,pe.ZP)(ke,2,Ce,"input is too long, it has been truncated to "+Se+" characters.",{data:fe},!0))),Be||fe}function Ve(ke){var fe="00"+ke;return fe.substr(fe[_]-3)}var Fe=(Le={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},Le[U]=He,Le.sanitizeKey=kt,Le.sanitizeString=Ke,Le.sanitizeUrl=Ze,Le.sanitizeMessage=yt,Le[O]=ce,Le[oe]=ne,Le[ve]=se,Le.sanitizeId=be,Le.sanitizeInput=Me,Le.padNumber=Ve,Le.trim=we.EH,Le),Ye=function(){function ke(fe,Se,Ce,Be){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var je=this;je.ver=2,je[E]=Ke(fe,Se)||k,je[D]=ne(fe,Ce),je[q]=se(fe,Be)}return ke.envelopeType="Microsoft.ApplicationInsights.{0}.Event",ke.dataType="EventData",ke}(),Tt=function(){function ke(fe,Se,Ce,Be,je){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Je=this;Je.ver=2,Se=Se||k,Je[x]=yt(fe,Se),Je[D]=ne(fe,Be),Je[q]=se(fe,je),Ce&&(Je[Z]=Ce)}return ke.envelopeType="Microsoft.ApplicationInsights.{0}.Message",ke.dataType="MessageData",ke}(),et="";function rt(ke,fe){return fe===void 0&&(fe=!1),ke==null?fe:ke.toString()[m]()==="true"}function ut(ke){(isNaN(ke)||ke<0)&&(ke=0),ke=Math.round(ke);var fe=et+ke%1e3,Se=et+Math.floor(ke/1e3)%60,Ce=et+Math.floor(ke/(1e3*60))%60,Be=et+Math.floor(ke/(1e3*60*60))%24,je=Math.floor(ke/(1e3*60*60*24));return fe=fe[_]===1?"00"+fe:fe[_]===2?"0"+fe:fe,Se=Se[_]<2?"0"+Se:Se,Ce=Ce[_]<2?"0"+Ce:Ce,Be=Be[_]<2?"0"+Be:Be,(je>0?je+".":et)+Be+":"+Ce+":"+Se+"."+fe}function mt(ke,fe){var Se=null;return(0,we.Iu)(ke,function(Ce){if(Ce.identifier===fe)return Se=Ce,-1}),Se}function vt(ke,fe,Se,Ce,Be){return!Be&&(0,we.Kg)(ke)&&(ke==="Script error."||ke==="Script error")}var ai=function(){function ke(fe,Se,Ce,Be,je,Je,ot){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Lt=this;Lt.ver=2,Lt.id=be(fe,ot),Lt.url=Ze(fe,Ce),Lt[E]=Ke(fe,Se)||k,isNaN(Be)||(Lt[de]=ut(Be)),Lt[D]=ne(fe,je),Lt[q]=se(fe,Je)}return ke.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",ke.dataType="PageviewData",ke}(),ht=function(){function ke(fe,Se,Ce,Be,je,Je,ot){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Lt=this;Lt.ver=2,Lt.url=Ze(fe,Ce),Lt[E]=Ke(fe,Se)||k,Lt[D]=ne(fe,je),Lt[q]=se(fe,Je),ot&&(Lt.domProcessing=ot.domProcessing,Lt[de]=ot[de],Lt.networkConnect=ot.networkConnect,Lt.perfTotal=ot.perfTotal,Lt[me]=ot[me],Lt.sentRequest=ot.sentRequest)}return ke.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",ke.dataType="PageviewPerformanceData",ke}(),Pt="<no_method>",Fi="error",Rt="stack",qt="stackDetails",Ri="errorSrc",lt="message",it="description";function _n(ke,fe){var Se=ke;return Se&&!(0,we.Kg)(Se)&&(JSON&&JSON[ie]?(Se=JSON[ie](ke),fe&&(!Se||Se==="{}")&&((0,we.Tn)(ke[p])?Se=ke[p]():Se=""+ke)):Se=""+ke+" - (Missing JSON.stringify)"),Se||""}function Vt(ke,fe){var Se=ke;return ke&&(Se&&!(0,we.Kg)(Se)&&(Se=ke[lt]||ke[it]||Se),Se&&!(0,we.Kg)(Se)&&(Se=_n(Se,!0)),ke.filename&&(Se=Se+" @"+(ke.filename||"")+":"+(ke.lineno||"?")+":"+(ke.colno||"?"))),fe&&fe!=="String"&&fe!=="Object"&&fe!=="Error"&&(Se||"")[$](fe)===-1&&(Se=fe+": "+Se),Se||""}function Yt(ke){try{if((0,we.Gv)(ke))return"hasFullStack"in ke&&"typeName"in ke}catch{}return!1}function Ji(ke){try{if((0,we.Gv)(ke))return"ver"in ke&&"exceptions"in ke&&"properties"in ke}catch{}return!1}function De(ke){return ke&&ke.src&&(0,we.Kg)(ke.src)&&ke.obj&&(0,we.cy)(ke.obj)}function $e(ke){var fe=ke||"";(0,we.Kg)(fe)||((0,we.Kg)(fe[Rt])?fe=fe[Rt]:fe=""+fe);var Se=fe[u](`
`);return{src:fe,obj:Se}}function gt(ke){for(var fe=[],Se=ke[u](`
`),Ce=0;Ce<Se[_];Ce++){var Be=Se[Ce];Se[Ce+1]&&(Be+="@"+Se[Ce+1],Ce++),fe.push(Be)}return{src:ke,obj:fe}}function at(ke){var fe=null;if(ke)try{if(ke[Rt])fe=$e(ke[Rt]);else if(ke[Fi]&&ke[Fi][Rt])fe=$e(ke[Fi][Rt]);else if(ke.exception&&ke.exception[Rt])fe=$e(ke.exception[Rt]);else if(De(ke))fe=ke;else if(De(ke[qt]))fe=ke[qt];else if(window&&window.opera&&ke[lt])fe=gt(ke[x]);else if(ke.reason&&ke.reason[Rt])fe=$e(ke.reason[Rt]);else if((0,we.Kg)(ke))fe=$e(ke);else{var Se=ke[lt]||ke[it]||"";(0,we.Kg)(ke[Ri])&&(Se&&(Se+=`
`),Se+=" from "+ke[Ri]),Se&&(fe=$e(Se))}}catch(Ce){fe=$e(Ce)}return fe||{src:"",obj:null}}function ct(ke){var fe="";return ke&&(ke.obj?(0,we.Iu)(ke.obj,function(Se){fe+=Se+`
`}):fe=ke.src||""),fe}function Jt(ke){var fe,Se=ke.obj;if(Se&&Se[_]>0){fe=[];var Ce=0,Be=0;(0,we.Iu)(Se,function(Ii){var Di=Ii[p]();if(wt.regex.test(Di)){var tt=new wt(Di,Ce++);Be+=tt[j],fe.push(tt)}});var je=32*1024;if(Be>je)for(var Je=0,ot=fe[_]-1,Lt=0,Ut=Je,Qt=ot;Je<ot;){var hi=fe[Je][j],ki=fe[ot][j];if(Lt+=hi+ki,Lt>je){var pi=Qt-Ut+1;fe.splice(Ut,pi);break}Ut=Je,Qt=ot,Je++,ot--}}return fe}function Nt(ke){var fe="";if(ke&&(fe=ke.typeName||ke[E]||"",!fe))try{var Se=/function (.{1,200})\(/,Ce=Se.exec(ke.constructor[p]());fe=Ce&&Ce[_]>1?Ce[1]:""}catch{}return fe}function Dt(ke){if(ke)try{if(!(0,we.Kg)(ke)){var fe=Nt(ke),Se=_n(ke,!1);return(!Se||Se==="{}")&&(ke[Fi]&&(ke=ke[Fi],fe=Nt(ke)),Se=_n(ke,!0)),Se[$](fe)!==0&&fe!=="String"?fe+":"+Se:Se}}catch{}return""+(ke||"")}var At=function(){function ke(fe,Se,Ce,Be,je,Je){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var ot=this;ot.ver=2,Ji(Se)?(ot[l]=Se[l]||[],ot[D]=Se[D],ot[q]=Se[q],Se[Z]&&(ot[Z]=Se[Z]),Se.id&&(ot.id=Se.id),Se[te]&&(ot[te]=Se[te]),(0,we.hX)(Se[B])||(ot[B]=Se[B])):(Ce||(Ce={}),ot[l]=[new st(fe,Se,Ce)],ot[D]=ne(fe,Ce),ot[q]=se(fe,Be),je&&(ot[Z]=je),Je&&(ot.id=Je))}return ke.CreateAutoException=function(fe,Se,Ce,Be,je,Je,ot,Lt){var Ut,Qt=Nt(je||Je||fe);return Ut={},Ut[x]=Vt(fe,Qt),Ut.url=Se,Ut.lineNumber=Ce,Ut.columnNumber=Be,Ut.error=Dt(je||Je||fe),Ut.evt=Dt(Je||fe),Ut[H]=Qt,Ut.stackDetails=at(ot||je||Je),Ut.errorSrc=Lt,Ut},ke.CreateFromInterface=function(fe,Se,Ce,Be){var je=Se[l]&&(0,we.W$)(Se[l],function(ot){return st[ae](fe,ot)}),Je=new ke(fe,(0,A.Im)((0,A.Im)({},Se),{exceptions:je}),Ce,Be);return Je},ke.prototype.toInterface=function(){var fe,Se=this,Ce=Se.exceptions,Be=Se.properties,je=Se.measurements,Je=Se.severityLevel,ot=Se.problemGroup,Lt=Se.id,Ut=Se.isManual,Qt=Ce instanceof Array&&(0,we.W$)(Ce,function(hi){return hi.toInterface()})||void 0;return fe={ver:"4.0"},fe[l]=Qt,fe.severityLevel=Je,fe.properties=Be,fe.measurements=je,fe.problemGroup=ot,fe.id=Lt,fe.isManual=Ut,fe},ke.CreateSimpleException=function(fe,Se,Ce,Be,je,Je){var ot;return{exceptions:[(ot={},ot[xe]=!0,ot.message=fe,ot.stack=je,ot.typeName=Se,ot)]}},ke.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",ke.dataType="ExceptionData",ke.formatError=Dt,ke}(),st=function(){function ke(fe,Se,Ce){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var Be=this;if(Yt(Se))Be[H]=Se[H],Be[x]=Se[x],Be[Rt]=Se[Rt],Be[w]=Se[w]||[],Be[xe]=Se[xe];else{var je=Se,Je=je&&je.evt;(0,we.bJ)(je)||(je=je[Fi]||Je||je),Be[H]=Ke(fe,Nt(je))||k,Be[x]=yt(fe,Vt(Se||je,Be[H]))||k;var ot=Se[qt]||at(Se);Be[w]=Jt(ot),Be[Rt]=ce(fe,ct(ot)),Be.hasFullStack=(0,we.cy)(Be.parsedStack)&&Be.parsedStack[_]>0,Ce&&(Ce[H]=Ce[H]||Be[H])}}return ke.prototype.toInterface=function(){var fe,Se=this,Ce=Se[w]instanceof Array&&(0,we.W$)(Se[w],function(je){return je.toInterface()}),Be=(fe={id:Se.id,outerId:Se.outerId,typeName:Se[H],message:Se[x],hasFullStack:Se[xe],stack:Se[Rt]},fe[w]=Ce||void 0,fe);return Be},ke.CreateFromInterface=function(fe,Se){var Ce=Se[w]instanceof Array&&(0,we.W$)(Se[w],function(je){return wt[ae](je)})||Se[w],Be=new ke(fe,(0,A.Im)((0,A.Im)({},Se),{parsedStack:Ce}));return Be},ke}(),wt=function(){function ke(fe,Se){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var Ce=this;if(Ce[j]=0,typeof fe=="string"){var Be=fe;Ce[he]=Se,Ce[Ee]=Pt,Ce[Ne]=(0,we.EH)(Be),Ce[X]="",Ce[ee]=0;var je=Be.match(ke.regex);je&&je[_]>=5&&(Ce[Ee]=(0,we.EH)(je[2])||Ce[Ee],Ce[X]=(0,we.EH)(je[4]),Ce[ee]=parseInt(je[5])||0)}else Ce[he]=fe[he],Ce[Ee]=fe[Ee],Ce[Ne]=fe[Ne],Ce[X]=fe[X],Ce[ee]=fe[ee],Ce[j]=0;Ce.sizeInBytes+=Ce.method[_],Ce.sizeInBytes+=Ce.fileName[_],Ce.sizeInBytes+=Ce.assembly[_],Ce[j]+=ke.baseSize,Ce.sizeInBytes+=Ce.level.toString()[_],Ce.sizeInBytes+=Ce.line.toString()[_]}return ke.CreateFromInterface=function(fe){return new ke(fe,null)},ke.prototype.toInterface=function(){var fe=this;return{level:fe[he],method:fe[Ee],assembly:fe[Ne],fileName:fe[X],line:fe[ee]}},ke.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,ke.baseSize=58,ke}(),St=function(){function ke(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return ke}(),si=function(){function ke(fe,Se,Ce,Be,je,Je,ot,Lt,Ut){this.aiDataContract={ver:1,metrics:1,properties:0};var Qt=this;Qt.ver=2;var hi=new St;hi[F]=Be>0?Be:void 0,hi.max=isNaN(Je)||Je===null?void 0:Je,hi.min=isNaN(je)||je===null?void 0:je,hi[E]=Ke(fe,Se)||k,hi.value=Ce,hi.stdDev=isNaN(ot)||ot===null?void 0:ot,Qt.metrics=[hi],Qt[D]=ne(fe,Lt),Qt[q]=se(fe,Ut)}return ke.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",ke.dataType="MetricData",ke}(),ei=T(32578),Ft=T(91698),mi=T(57679),ii=T(18413);function bi(ke){var fe=null;if((0,we.Tn)(Event))fe=new Event(ke);else{var Se=(0,Pe.YE)();Se&&Se.createEvent&&(fe=Se.createEvent("Event"),fe.initEvent(ke,!0,!0))}return fe}var _i=T(96434),Hi=(0,_i.oP)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Ti=T(75148),Ci=(0,_i.Hj)({LocalStorage:0,SessionStorage:1}),Pi=(0,_i.Hj)({AI:0,AI_AND_W3C:1,W3C:2}),Ht=void 0,ti=void 0;function Xt(){return Yi()?Mi(Ci.LocalStorage):null}function Mi(ke){try{if((0,we.hX)((0,Ti.mS)()))return null;var fe=new Date()[p](),Se=(0,Pe.EH)(ke===Ci.LocalStorage?"localStorage":"sessionStorage");Se.setItem(fe,fe);var Ce=Se.getItem(fe)!==fe;if(Se[N](fe),!Ce)return Se}catch{}return null}function oi(){return ji()?Mi(Ci.SessionStorage):null}function yi(){Ht=!1,ti=!1}function Oi(){Ht=Yi(!0),ti=ji(!0)}function Yi(ke){return(ke||Ht===void 0)&&(Ht=!!Mi(Ci.LocalStorage)),Ht}function Ai(ke,fe){var Se=Xt();if(Se!==null)try{return Se.getItem(fe)}catch(Ce){Ht=!1,(0,pe.ZP)(ke,2,1,"Browser failed read of local storage. "+(0,we.lL)(Ce),{exception:(0,Pe.mm)(Ce)})}return null}function rn(ke,fe,Se){var Ce=Xt();if(Ce!==null)try{return Ce.setItem(fe,Se),!0}catch(Be){Ht=!1,(0,pe.ZP)(ke,2,3,"Browser failed write to local storage. "+(0,we.lL)(Be),{exception:(0,Pe.mm)(Be)})}return!1}function dn(ke,fe){var Se=Xt();if(Se!==null)try{return Se[N](fe),!0}catch(Ce){Ht=!1,(0,pe.ZP)(ke,2,5,"Browser failed removal of local storage item. "+(0,we.lL)(Ce),{exception:(0,Pe.mm)(Ce)})}return!1}function ji(ke){return(ke||ti===void 0)&&(ti=!!Mi(Ci.SessionStorage)),ti}function fn(){var ke=[];return ji()&&(0,we.z)((0,Pe.EH)("sessionStorage"),function(fe){ke.push(fe)}),ke}function an(ke,fe){var Se=oi();if(Se!==null)try{return Se.getItem(fe)}catch(Ce){ti=!1,(0,pe.ZP)(ke,2,2,"Browser failed read of session storage. "+(0,we.lL)(Ce),{exception:(0,Pe.mm)(Ce)})}return null}function tn(ke,fe,Se){var Ce=oi();if(Ce!==null)try{return Ce.setItem(fe,Se),!0}catch(Be){ti=!1,(0,pe.ZP)(ke,2,4,"Browser failed write to session storage. "+(0,we.lL)(Be),{exception:(0,Pe.mm)(Be)})}return!1}function gi(ke,fe){var Se=oi();if(Se!==null)try{return Se[N](fe),!0}catch(Ce){ti=!1,(0,pe.ZP)(ke,2,6,"Browser failed removal of session storage item. "+(0,we.lL)(Ce),{exception:(0,Pe.mm)(Ce)})}return!1}var ci=(0,Pe.YE)()||{},vn=0,Ar=[null,null,null,null,null];function gn(ke){var fe=vn,Se=Ar,Ce=Se[fe];return ci.createElement?Se[fe]||(Ce=Se[fe]=ci.createElement("a")):Ce={host:fr(ke,!0)},Ce.href=ke,fe++,fe>=Se[_]&&(fe=0),vn=fe,Ce}function dr(ke){var fe,Se=gn(ke);return Se&&(fe=Se.href),fe}function In(ke){var fe,Se=gn(ke);return Se&&(fe=Se[Y]),fe}function Ir(ke,fe){return ke?ke.toUpperCase()+" "+fe:fe}function fr(ke,fe){var Se=sn(ke,fe)||"";if(Se){var Ce=Se.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Ce!=null&&Ce[_]>3&&(0,we.Kg)(Ce[2])&&Ce[2][_]>0)return Ce[2]+(Ce[3]||"")}return Se}function sn(ke,fe){var Se=null;if(ke){var Ce=ke.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Ce!=null&&Ce[_]>2&&(0,we.Kg)(Ce[2])&&Ce[2][_]>0&&(Se=Ce[2]||"",fe&&Ce[_]>2)){var Be=(Ce[1]||"")[m](),je=Ce[3]||"";(Be==="http"&&je===":80"||Be==="https"&&je===":443")&&(je=""),Se+=je}}return Se}var nr=[f+h,"https://breeze.aimon.applicationinsights.io"+h,"https://dc-int.services.visualstudio.com"+h];function rr(ke){return(0,we.rD)(nr,ke[m]())!==-1}var zn={NotSpecified:k,createDomEvent:bi,disableStorage:yi,isInternalApplicationInsightsEndpoint:rr,canUseLocalStorage:Yi,getStorage:Ai,setStorage:rn,removeStorage:dn,canUseSessionStorage:ji,getSessionStorageKeys:fn,getSessionStorage:an,setSessionStorage:tn,removeSessionStorage:gi,disableCookies:ei.WD,canUseCookies:ei.ht,disallowsSameSiteNone:Ft.It,setCookie:ei.TV,stringToBoolOrDefault:rt,getCookie:ei.Ri,deleteCookie:ei.Yj,trim:we.EH,newId:mi.Si,random32:function(){return(0,mi.VN)(!0)},generateW3CId:ei.cL,isArray:we.cy,isError:we.bJ,isDate:we.$P,toISOStringForIE8:we._u,getIEVersion:Pe.L0,msToTimeSpan:ut,isCrossOriginError:vt,dump:Pe.mm,getExceptionName:we.lL,addEventHandler:ii.Q3,IsBeaconApiSupported:Pe.Uf,getExtension:mt},Vr={parseUrl:gn,getAbsoluteUrl:dr,getPathName:In,getCompleteUrl:Ir,parseHost:fr,parseFullHost:sn},Dr={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(ke,fe,Se){if(!fe||ke&&ke.disableCorrelationHeaders)return!1;if(ke&&ke[M]){for(var Ce=0;Ce<ke.correlationHeaderExcludePatterns[_];Ce++)if(ke[M][Ce].test(fe))return!1}var Be=gn(fe).host[m]();if(Be&&(Be[$](":443")!==-1||Be[$](":80")!==-1)&&(Be=(sn(fe,!0)||"")[m]()),(!ke||!ke.enableCorsCorrelation)&&Be&&Be!==Se)return!1;var je=ke&&ke.correlationHeaderDomains;if(je){var Je;if((0,we.Iu)(je,function(Ut){var Qt=new RegExp(Ut.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Je=Je||Qt.test(Be)}),!Je)return!1}var ot=ke&&ke.correlationHeaderExcludedDomains;if(!ot||ot[_]===0)return!0;for(var Ce=0;Ce<ot[_];Ce++){var Lt=new RegExp(ot[Ce].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Lt.test(Be))return!1}return Be&&Be[_]>0},getCorrelationContext:function(ke){if(ke){var fe=Dr.getCorrelationContextValue(ke,Hi[1]);if(fe&&fe!==Dr.correlationIdPrefix)return fe}},getCorrelationContextValue:function(ke,fe){if(ke)for(var Se=ke[u](","),Ce=0;Ce<Se[_];++Ce){var Be=Se[Ce][u]("=");if(Be[_]===2&&Be[0]===fe)return Be[1]}}};function jr(ke,fe,Se,Ce){var Be,je=Ce,Je=Ce;if(fe&&fe[_]>0){var ot=gn(fe);if(Be=ot.host,!je)if(ot[Y]!=null){var Lt=ot.pathname[_]===0?"/":ot[Y];Lt.charAt(0)!=="/"&&(Lt="/"+Lt),Je=ot[Y],je=Ke(ke,Se?Se+" "+Lt:Lt)}else je=Ke(ke,fe)}else Be=Ce,je=Ce;return{target:Be,name:je,data:Je}}function hr(){var ke=(0,Pe.FJ)();if(ke&&ke.now&&ke.timing){var fe=ke.now()+ke.timing.navigationStart;if(fe>0)return fe}return(0,we.x3)()}function pa(ke,fe){var Se=null;return ke!==0&&fe!==0&&!(0,we.hX)(ke)&&!(0,we.hX)(fe)&&(Se=fe-ke),Se}var ho={Now:hr,GetDuration:pa};function ja(ke,fe){var Se=ke||{};return{getName:function(){return Se[_DYN_NAME]},setName:function(Ce){fe&&fe.setName(Ce),Se[_DYN_NAME]=Ce},getTraceId:function(){return Se.traceID},setTraceId:function(Ce){fe&&fe.setTraceId(Ce),isValidTraceId(Ce)&&(Se.traceID=Ce)},getSpanId:function(){return Se.parentID},setSpanId:function(Ce){fe&&fe.setSpanId(Ce),isValidSpanId(Ce)&&(Se.parentID=Ce)},getTraceFlags:function(){return Se.traceFlags},setTraceFlags:function(Ce){fe&&fe.setTraceFlags(Ce),Se.traceFlags=Ce}}}var kr=function(){function ke(fe,Se,Ce,Be,je,Je,ot,Lt,Ut,Qt,hi,ki){Ut===void 0&&(Ut="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var pi=this;pi.ver=2,pi.id=Se,pi[de]=ut(je),pi.success=Je,pi.resultCode=ot+"",pi.type=Ke(fe,Ut);var Ii=jr(fe,Ce,Lt,Be);pi.data=Ze(fe,Be)||Ii.data,pi.target=Ke(fe,Ii.target),Qt&&(pi.target="".concat(pi.target," | ").concat(Qt)),pi[E]=Ke(fe,Ii[E]),pi[D]=ne(fe,hi),pi[q]=se(fe,ki)}return ke.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",ke.dataType="RemoteDependencyData",ke}(),Wa="AppInsightsPropertiesPlugin",va="AppInsightsChannelPlugin",za="ApplicationInsightsAnalytics",xr=T(64252),Wr=T(56489);function ln(ke){var fe="ai."+ke+".";return function(Se){return fe+Se}}var mr=ln("application"),qe=ln("device"),pt=ln("location"),ft=ln("operation"),dt=ln("session"),Mt=ln("user"),Gt=ln("cloud"),zt=ln("internal"),Ge=function(ke){(0,A.qU)(fe,ke);function fe(){return ke.call(this)||this}return fe}((0,we.SZ)({applicationVersion:mr("ver"),applicationBuild:mr("build"),applicationTypeId:mr("typeId"),applicationId:mr("applicationId"),applicationLayer:mr("layer"),deviceId:qe("id"),deviceIp:qe("ip"),deviceLanguage:qe("language"),deviceLocale:qe("locale"),deviceModel:qe("model"),deviceFriendlyName:qe("friendlyName"),deviceNetwork:qe("network"),deviceNetworkName:qe("networkName"),deviceOEMName:qe("oemName"),deviceOS:qe("os"),deviceOSVersion:qe("osVersion"),deviceRoleInstance:qe("roleInstance"),deviceRoleName:qe("roleName"),deviceScreenResolution:qe("screenResolution"),deviceType:qe("type"),deviceMachineName:qe("machineName"),deviceVMName:qe("vmName"),deviceBrowser:qe("browser"),deviceBrowserVersion:qe("browserVersion"),locationIp:pt("ip"),locationCountry:pt("country"),locationProvince:pt("province"),locationCity:pt("city"),operationId:ft("id"),operationName:ft("name"),operationParentId:ft("parentId"),operationRootId:ft("rootId"),operationSyntheticSource:ft("syntheticSource"),operationCorrelationVector:ft("correlationVector"),sessionId:dt("id"),sessionIsFirst:dt("isFirst"),sessionIsNew:dt("isNew"),userAccountAcquisitionDate:Mt("accountAcquisitionDate"),userAccountId:Mt("accountId"),userAgent:Mt("userAgent"),userId:Mt("id"),userStoreRegion:Mt("storeRegion"),userAuthUserId:Mt("authUserId"),userAnonymousUserAcquisitionDate:Mt("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Mt("authUserAcquisitionDate"),cloudName:Gt("name"),cloudRole:Gt("role"),cloudRoleVer:Gt("roleVer"),cloudRoleInstance:Gt("roleInstance"),cloudEnvironment:Gt("environment"),cloudLocation:Gt("location"),cloudDeploymentUnit:Gt("deploymentUnit"),internalNodeName:zt("nodeName"),internalSdkVersion:zt("sdkVersion"),internalAgentVersion:zt("agentVersion"),internalSnippet:zt("snippet"),internalSdkSrc:zt("sdkSrc")})),nt={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Xe=new Ge,Et=function(){function ke(fe,Se,Ce){var Be=this,je=this;je.ver=1,je.sampleRate=100,je.tags={},je[E]=Ke(fe,Ce)||k,je.data=Se,je.time=(0,we._u)(new Date),je.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return Be.sampleRate===100?4:1},tags:1,data:1}}return ke}(),Bt=function(){function ke(fe,Se){this.aiDataContract={baseType:1,baseData:1},this.baseType=fe,this.baseData=Se}return ke}(),jt="duration",di="tags",Ni="deviceType",ri="data",Un="name",Sr="traceID",wi="length",Dn="stringify",pr="measurements",Ui="dataType",kn="envelopeType",xn="toString",ws="onLine",Tn="enqueue",Ot="count",lr="push",zr="emitLineDelimitedJson",Ta="clear",Ka="batchPayloads",Na="markAsSent",Xi="clearSent",Ca="BUFFER_KEY",ga="SENT_BUFFER_KEY",Qa="MAX_BUFFER_SIZE",Kr="namePrefix",mo="maxBatchSizeInBytes",Pa="triggerSend",bn="diagLog",_s="onunloadDisableBeacon",po="isBeaconApiDisabled",Ma="_sender",zi="_senderConfig",Aa="_buffer",cl="enableSessionStorageBuffer",dl="samplingPercentage",ks="instrumentationKey",Qr="endpointUrl",fl="customHeaders",Ya="disableXhr",hl="onunloadDisableFetch",vo="disableTelemetry",Ss="baseType",Rs="sampleRate",ml="convertUndefined",Es="_xhrReadyStateChange",vr="_onError",go="_onPartialSuccess",Ts="_onSuccess",Fr="itemsAccepted",pl="itemsReceived",Ia="isRetryDisabled",Kn="setRequestHeader",vl="maxBatchInterval",Zi="eventsSendRequest",li="disableInstrumentationKeyValidation",Xa="getSamplingScore",bo="getHashCodeScore",yo="baseType",nn="baseData",Sn="properties",wo="true";function Ki(ke,fe,Se){return(0,we.KY)(ke,fe,Se,we.zz)}function Bi(ke,fe,Se){var Ce=Se[di]=Se[di]||{},Be=fe.ext=fe.ext||{},je=fe[di]=fe[di]||[],Je=Be.user;Je&&(Ki(Ce,Xe.userAuthUserId,Je.authId),Ki(Ce,Xe.userId,Je.id||Je.localId));var ot=Be.app;ot&&Ki(Ce,Xe.sessionId,ot.sesId);var Lt=Be.device;Lt&&(Ki(Ce,Xe.deviceId,Lt.id||Lt.localId),Ki(Ce,Xe[Ni],Lt.deviceClass),Ki(Ce,Xe.deviceIp,Lt.ip),Ki(Ce,Xe.deviceModel,Lt.model),Ki(Ce,Xe[Ni],Lt[Ni]));var Ut=fe.ext.web;if(Ut){Ki(Ce,Xe.deviceLanguage,Ut.browserLang),Ki(Ce,Xe.deviceBrowserVersion,Ut.browserVer),Ki(Ce,Xe.deviceBrowser,Ut.browser);var Qt=Se[ri]=Se[ri]||{},hi=Qt[nn]=Qt[nn]||{},ki=hi[Sn]=hi[Sn]||{};Ki(ki,"domain",Ut.domain),Ki(ki,"isManual",Ut.isManual?wo:null),Ki(ki,"screenRes",Ut.screenRes),Ki(ki,"userConsent",Ut.userConsent?wo:null)}var pi=Be.os;pi&&Ki(Ce,Xe.deviceOS,pi[Un]);var Ii=Be.trace;Ii&&(Ki(Ce,Xe.operationParentId,Ii.parentID),Ki(Ce,Xe.operationName,Ke(ke,Ii[Un])),Ki(Ce,Xe.operationId,Ii[Sr]));for(var Di={},tt=je[wi]-1;tt>=0;tt--){var on=je[tt];(0,we.z)(on,function(Da,xa){Di[Da]=xa}),je.splice(tt,1)}(0,we.z)(je,function(Da,xa){Di[Da]=xa});var Fn=(0,A.Im)((0,A.Im)({},Ce),Di);Fn[Xe.internalSdkVersion]||(Fn[Xe.internalSdkVersion]="javascript:".concat(Bd.Version)),Se[di]=(0,we.hW)(Fn)}function Rr(ke,fe,Se){(0,we.hX)(ke)||(0,we.z)(ke,function(Ce,Be){(0,we.Et)(Be)?Se[Ce]=Be:(0,we.Kg)(Be)?fe[Ce]=Be:(0,Pe.Z)()&&(fe[Ce]=(0,Pe.hm)()[Dn](Be))})}function Bn(ke,fe){(0,we.hX)(ke)||(0,we.z)(ke,function(Se,Ce){ke[Se]=Ce||fe})}function _t(ke,fe,Se,Ce){var Be=new Et(ke,Ce,fe);Ki(Be,"sampleRate",Se[S]),(Se[nn]||{}).startTime&&(Be.time=(0,we._u)(Se[nn].startTime)),Be.iKey=Se.iKey;var je=Se.iKey.replace(/-/g,"");return Be[Un]=Be[Un].replace("{0}",je),Bi(ke,Se,Be),Se[di]=Se[di]||[],(0,we.hW)(Be)}function Yr(ke,fe){(0,we.hX)(fe[nn])&&(0,pe.ZP)(ke,1,46,"telemetryItem.baseData cannot be null.")}var Bd={Version:"2.8.10"};function qd(ke,fe,Se){Yr(ke,fe);var Ce=fe[nn][pr]||{},Be=fe[nn][Sn]||{};Rr(fe[ri],Be,Ce),(0,we.hX)(Se)||Bn(Be,Se);var je=fe[nn];if((0,we.hX)(je))return(0,pe.OG)(ke,"Invalid input for dependency data"),null;var Je=je[Sn]&&je[Sn][c]?je[Sn][c]:"GET",ot=new kr(ke,je.id,je.target,je[Un],je[jt],je.success,je.responseCode,Je,je.type,je.correlationContext,Be,Ce),Lt=new Bt(kr[Ui],ot);return _t(ke,kr[kn],fe,Lt)}function Hu(ke,fe,Se){Yr(ke,fe);var Ce={},Be={};fe[yo]!==Ye[Ui]&&(Ce.baseTypeSource=fe[yo]),fe[yo]===Ye[Ui]?(Ce=fe[nn][Sn]||{},Be=fe[nn][pr]||{}):fe[nn]&&Rr(fe[nn],Ce,Be),Rr(fe[ri],Ce,Be),(0,we.hX)(Se)||Bn(Ce,Se);var je=fe[nn][Un],Je=new Ye(ke,je,Ce,Be),ot=new Bt(Ye[Ui],Je);return _t(ke,Ye[kn],fe,ot)}function Xr(ke,fe,Se){Yr(ke,fe);var Ce=fe[nn][pr]||{},Be=fe[nn][Sn]||{};Rr(fe[ri],Be,Ce),(0,we.hX)(Se)||Bn(Be,Se);var je=fe[nn],Je=At.CreateFromInterface(ke,je,Be,Ce),ot=new Bt(At[Ui],Je);return _t(ke,At[kn],fe,ot)}function Jr(ke,fe,Se){Yr(ke,fe);var Ce=fe[nn],Be=Ce[Sn]||{},je=Ce[pr]||{};Rr(fe[ri],Be,je),(0,we.hX)(Se)||Bn(Be,Se);var Je=new si(ke,Ce[Un],Ce.average,Ce.sampleCount,Ce.min,Ce.max,Ce.stdDev,Be,je),ot=new Bt(si[Ui],Je);return _t(ke,si[kn],fe,ot)}function Hd(ke,fe,Se){Yr(ke,fe);var Ce,Be=fe[nn];!(0,we.hX)(Be)&&!(0,we.hX)(Be[Sn])&&!(0,we.hX)(Be[Sn][jt])?(Ce=Be[Sn][jt],delete Be[Sn][jt]):!(0,we.hX)(fe[ri])&&!(0,we.hX)(fe[ri][jt])&&(Ce=fe[ri][jt],delete fe[ri][jt]);var je=fe[nn],Je;((fe.ext||{}).trace||{})[Sr]&&(Je=fe.ext.trace[Sr]);var ot=je.id||Je,Lt=je[Un],Ut=je.uri,Qt=je[Sn]||{},hi=je[pr]||{};if((0,we.hX)(je.refUri)||(Qt.refUri=je.refUri),(0,we.hX)(je.pageType)||(Qt.pageType=je.pageType),(0,we.hX)(je.isLoggedIn)||(Qt.isLoggedIn=je.isLoggedIn[xn]()),!(0,we.hX)(je[Sn])){var ki=je[Sn];(0,we.z)(ki,function(Di,tt){Qt[Di]=tt})}Rr(fe[ri],Qt,hi),(0,we.hX)(Se)||Bn(Qt,Se);var pi=new ai(ke,Lt,Ut,Ce,Qt,hi,ot),Ii=new Bt(ai[Ui],pi);return _t(ke,ai[kn],fe,Ii)}function Gd(ke,fe,Se){Yr(ke,fe);var Ce=fe[nn],Be=Ce[Un],je=Ce.uri||Ce.url,Je=Ce[Sn]||{},ot=Ce[pr]||{};Rr(fe[ri],Je,ot),(0,we.hX)(Se)||Bn(Je,Se);var Lt=new ht(ke,Be,je,void 0,Je,ot,Ce),Ut=new Bt(ht[Ui],Lt);return _t(ke,ht[kn],fe,Ut)}function gl(ke,fe,Se){Yr(ke,fe);var Ce=fe[nn].message,Be=fe[nn].severityLevel,je=fe[nn][Sn]||{},Je=fe[nn][pr]||{};Rr(fe[ri],je,Je),(0,we.hX)(Se)||Bn(je,Se);var ot=new Tt(ke,Ce,Be,je,Je),Lt=new Bt(Tt[Ui],ot);return _t(ke,Tt[kn],fe,Lt)}function bl(ke,fe){(0,ii.ML)(ke,null,null,fe)}function $d(ke){var fe=(0,Pe.YE)(),Se=(0,Pe.w3)(),Ce=!1,Be=!0,je=(0,ii.Hm)((0,xr.Z)("OfflineListener"),ke);try{if(ot((0,Pe.zk)())&&(Ce=!0),fe){var Je=fe.body||fe;Je.ononline&&ot(Je)&&(Ce=!0)}Ce&&Se&&!(0,we.hX)(Se[ws])&&(Be=Se[ws])}catch{Ce=!1}function ot(ki){var pi=!1;return ki&&(pi=(0,ii.mB)(ki,"online",Lt,je),pi&&(0,ii.mB)(ki,"offline",Ut,je)),pi}function Lt(){Be=!0}function Ut(){Be=!1}function Qt(){var ki=!0;return Ce?ki=Be:Se&&!(0,we.hX)(Se[ws])&&(ki=Se[ws]),ki}function hi(){var ki=(0,Pe.zk)();if(ki&&Ce){if(bl(ki,je),fe){var pi=fe.body||fe;(0,we.b0)(pi.ononline)||bl(pi,je)}Ce=!1}}return{isOnline:Qt,isListening:function(){return Ce},unload:hi}}var Ns=function(){function ke(fe,Se){var Ce=[],Be=!1;this._get=function(){return Ce},this._set=function(je){return Ce=je,Ce},(0,R.A)(ke,this,function(je){je[Tn]=function(Je){if(je[Ot]()>=Se.eventsLimitInMem()){Be||((0,pe.ZP)(fe,2,105,"Maximum in-memory buffer size reached: "+je[Ot](),!0),Be=!0);return}Ce[lr](Je)},je[Ot]=function(){return Ce[wi]},je.size=function(){for(var Je=Ce[wi],ot=0;ot<Ce[wi];ot++)Je+=Ce[ot][wi];return Se[zr]()||(Je+=2),Je},je[Ta]=function(){Ce=[],Be=!1},je.getItems=function(){return Ce.slice(0)},je[Ka]=function(Je){if(Je&&Je[wi]>0){var ot=Se[zr]()?Je.join(`
`):"["+Je.join(",")+"]";return ot}return null}})}return ke.__ieDyn=1,ke}(),Cs=function(ke){(0,A.qU)(fe,ke);function fe(Se,Ce){var Be=ke.call(this,Se,Ce)||this;return(0,R.A)(fe,Be,function(je,Je){je[Na]=function(ot){Je[Ta]()},je[Xi]=function(ot){}}),Be}return fe.__ieDyn=1,fe}(Ns),Vd=function(ke){(0,A.qU)(fe,ke);function fe(Se,Ce){var Be=ke.call(this,Se,Ce)||this,je=!1;return(0,R.A)(fe,Be,function(Je,ot){var Lt=ki(fe[Ca]),Ut=ki(fe[ga]),Qt=Je._set(Lt.concat(Ut));Qt[wi]>fe[Qa]&&(Qt[wi]=fe[Qa]),pi(fe[ga],[]),pi(fe[Ca],Qt),Je[Tn]=function(Ii){if(Je[Ot]()>=fe[Qa]){je||((0,pe.ZP)(Se,2,67,"Maximum buffer size reached: "+Je[Ot](),!0),je=!0);return}ot[Tn](Ii),pi(fe[Ca],Je._get())},Je[Ta]=function(){ot[Ta](),pi(fe[Ca],Je._get()),pi(fe[ga],[]),je=!1},Je[Na]=function(Ii){pi(fe[Ca],Je._set(hi(Ii,Je._get())));var Di=ki(fe[ga]);Di instanceof Array&&Ii instanceof Array&&(Di=Di.concat(Ii),Di[wi]>fe[Qa]&&((0,pe.ZP)(Se,1,67,"Sent buffer reached its maximum size: "+Di[wi],!0),Di[wi]=fe[Qa]),pi(fe[ga],Di))},Je[Xi]=function(Ii){var Di=ki(fe[ga]);Di=hi(Ii,Di),pi(fe[ga],Di)};function hi(Ii,Di){var tt=[];return(0,we.Iu)(Di,function(on){!(0,we.Tn)(on)&&(0,we.rD)(Ii,on)===-1&&tt[lr](on)}),tt}function ki(Ii){var Di=Ii;try{Di=Ce[Kr]&&Ce[Kr]()?Ce[Kr]()+"_"+Di:Di;var tt=an(Se,Di);if(tt){var on=(0,Pe.hm)().parse(tt);if((0,we.Kg)(on)&&(on=(0,Pe.hm)().parse(on)),on&&(0,we.cy)(on))return on}}catch(Fn){(0,pe.ZP)(Se,1,42," storage key: "+Di+", "+(0,we.lL)(Fn),{exception:(0,Pe.mm)(Fn)})}return[]}function pi(Ii,Di){var tt=Ii;try{tt=Ce[Kr]&&Ce[Kr]()?Ce[Kr]()+"_"+tt:tt;var on=JSON[Dn](Di);tn(Se,tt,on)}catch(Fn){tn(Se,tt,JSON[Dn]([])),(0,pe.ZP)(Se,2,41," storage key: "+tt+", "+(0,we.lL)(Fn)+". Buffer cleared",{exception:(0,Pe.mm)(Fn)})}}}),Be}return fe.BUFFER_KEY="AI_buffer",fe.SENT_BUFFER_KEY="AI_sentBuffer",fe.MAX_BUFFER_SIZE=2e3,fe}(Ns),jd=function(){function ke(fe){(0,R.A)(ke,this,function(Se){Se.serialize=function(Je){var ot=Ce(Je,"root");try{return(0,Pe.hm)()[Dn](ot)}catch(Lt){(0,pe.ZP)(fe,1,48,Lt&&(0,we.Tn)(Lt[xn])?Lt[xn]():"Error serializing object",null,!0)}};function Ce(Je,ot){var Lt="__aiCircularRefCheck",Ut={};if(!Je)return(0,pe.ZP)(fe,1,48,"cannot serialize object because it is null or undefined",{name:ot},!0),Ut;if(Je[Lt])return(0,pe.ZP)(fe,2,50,"Circular reference detected while serializing object",{name:ot},!0),Ut;if(!Je.aiDataContract){if(ot==="measurements")Ut=je(Je,"number",ot);else if(ot==="properties")Ut=je(Je,"string",ot);else if(ot==="tags")Ut=je(Je,"string",ot);else if((0,we.cy)(Je))Ut=Be(Je,ot);else{(0,pe.ZP)(fe,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:ot},!0);try{(0,Pe.hm)()[Dn](Je),Ut=Je}catch(Qt){(0,pe.ZP)(fe,1,48,Qt&&(0,we.Tn)(Qt[xn])?Qt[xn]():"Error serializing object",null,!0)}}return Ut}return Je[Lt]=!0,(0,we.z)(Je.aiDataContract,function(Qt,hi){var ki=(0,we.Tn)(hi)?hi()&1:hi&1,pi=(0,we.Tn)(hi)?hi()&4:hi&4,Ii=hi&2,Di=Je[Qt]!==void 0,tt=(0,we.Gv)(Je[Qt])&&Je[Qt]!==null;if(ki&&!Di&&!Ii)(0,pe.ZP)(fe,1,24,"Missing required field specification. The field is required but not present on source",{field:Qt,name:ot});else if(!pi){var on=void 0;tt?Ii?on=Be(Je[Qt],Qt):on=Ce(Je[Qt],Qt):on=Je[Qt],on!==void 0&&(Ut[Qt]=on)}}),delete Je[Lt],Ut}function Be(Je,ot){var Lt;if(Je)if(!(0,we.cy)(Je))(0,pe.ZP)(fe,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:ot},!0);else{Lt=[];for(var Ut=0;Ut<Je[wi];Ut++){var Qt=Je[Ut],hi=Ce(Qt,ot+"["+Ut+"]");Lt[lr](hi)}}return Lt}function je(Je,ot,Lt){var Ut;return Je&&(Ut={},(0,we.z)(Je,function(Qt,hi){if(ot==="string")hi===void 0?Ut[Qt]="undefined":hi===null?Ut[Qt]="null":hi[xn]?Ut[Qt]=hi[xn]():Ut[Qt]="invalid field: toString() is not defined.";else if(ot==="number")if(hi===void 0)Ut[Qt]="undefined";else if(hi===null)Ut[Qt]="null";else{var ki=parseFloat(hi);isNaN(ki)?Ut[Qt]="NaN":Ut[Qt]=ki}else Ut[Qt]="invalid field: "+Lt+" is of unknown type.",(0,pe.ZP)(fe,1,Ut[Qt],null,!0)})),Ut}})}return ke.__ieDyn=1,ke}(),Wd=8,zd=function(){function ke(){}return ke.prototype.getHashCodeScore=function(fe){var Se=this.getHashCode(fe)/ke.INT_MAX_VALUE;return Se*100},ke.prototype.getHashCode=function(fe){if(fe==="")return 0;for(;fe[wi]<Wd;)fe=fe.concat(fe);for(var Se=5381,Ce=0;Ce<fe[wi];++Ce)Se=(Se<<5)+Se+fe.charCodeAt(Ce),Se=Se&Se;return Math.abs(Se)},ke.INT_MAX_VALUE=2147483647,ke}(),Kd=function(){function ke(){var fe=this,Se=new zd,Ce=new Ge;fe[Xa]=function(Be){var je=0;return Be[di]&&Be[di][Ce.userId]?je=Se.getHashCodeScore(Be[di][Ce.userId]):Be.ext&&Be.ext.user&&Be.ext.user.id?je=Se[bo](Be.ext.user.id):Be[di]&&Be[di][Ce.operationId]?je=Se.getHashCodeScore(Be[di][Ce.operationId]):Be.ext&&Be.ext.telemetryTrace&&Be.ext.telemetryTrace[Sr]?je=Se.getHashCodeScore(Be.ext.telemetryTrace[Sr]):je=Math.random()*100,je}}return ke}(),Qd=function(){function ke(fe,Se){this.INT_MAX_VALUE=2147483647;var Ce=Se||(0,pe.y0)(null);(fe>100||fe<0)&&(Ce.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:fe},!0),fe=100),this[Rs]=fe,this.samplingScoreGenerator=new Kd}return ke.prototype.isSampledIn=function(fe){var Se=this[Rs],Ce=!1;return Se==null||Se>=100||fe.baseType===si[Ui]?!0:(Ce=this.samplingScoreGenerator[Xa](fe)<Se,Ce)},ke}(),Zr,Yd=65e3;function ur(ke){try{return ke.responseText}catch{}return null}function _o(){var ke,fe,Se;return ke={endpointUrl:function(){return f+h}},ke[zr]=function(){return!1},ke[vl]=function(){return 15e3},ke[mo]=function(){return 102400},ke[vo]=function(){return!1},ke[cl]=function(){return!0},ke[Ia]=function(){return!1},ke[po]=function(){return!0},ke[Ya]=function(){return!1},ke[hl]=function(){return!1},ke[_s]=function(){return!1},ke[ks]=function(){return fe},ke[Kr]=function(){return fe},ke[dl]=function(){return 100},ke[fl]=function(){return Se},ke[ml]=function(){return fe},ke.eventsLimitInMem=function(){return 1e4},ke}var ko=(Zr={},Zr[Ye.dataType]=Hu,Zr[Tt.dataType]=gl,Zr[ai.dataType]=Hd,Zr[ht.dataType]=Gd,Zr[At.dataType]=Xr,Zr[si.dataType]=Jr,Zr[kr.dataType]=qd,Zr),So=function(ke){(0,A.qU)(fe,ke);function fe(){var Se=ke.call(this)||this;Se.priority=1001,Se.identifier=va,Se._senderConfig=_o();var Ce,Be,je,Je,ot,Lt,Ut,Qt,hi=0,ki,pi,Ii,Di;return(0,R.A)(fe,Se,function(tt,on){Wu(),tt.pause=function(){Za(),Je=!0},tt.resume=function(){Je&&(Je=!1,Be=null,tt._buffer.size()>tt._senderConfig[mo]()&&tt[Pa](!0,null,10),No())},tt.flush=function(Qe,Ct,Wt){if(Qe===void 0&&(Qe=!0),!Je){Za();try{tt[Pa](Qe,null,Wt||1)}catch(ni){(0,pe.ZP)(tt[bn](),1,22,"flush failed, telemetry will not be collected: "+(0,we.lL)(ni),{exception:(0,Pe.mm)(ni)})}}},tt.onunloadFlush=function(){if(!Je)if((tt._senderConfig[_s]()===!1||tt[zi][po]()===!1)&&(0,Pe.Uf)())try{tt[Pa](!0,Sl,2)}catch(Qe){(0,pe.ZP)(tt[bn](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,we.lL)(Qe),{exception:(0,Pe.mm)(Qe)})}else tt.flush()},tt.addHeader=function(Qe,Ct){Qt[Qe]=Ct},tt.initialize=function(Qe,Ct,Wt,ni){tt.isInitialized()&&(0,pe.ZP)(tt[bn](),1,28,"Sender is already initialized"),on.initialize(Qe,Ct,Wt,ni);var Ei=tt._getTelCtx(),Gi=tt.identifier;Lt=new jd(Ct.logger),Ce=0,Be=null,je=0,tt[Ma]=null,Ut=0;var $i=tt[bn]();Di=(0,ii.Hm)((0,xr.Z)("Sender"),Ct.evtNamespace&&Ct.evtNamespace()),Ii=$d(Di);var yn=_o();(0,we.z)(yn,function(Qn,Or){tt[zi][Qn]=function(){var Rn=Ei.getConfig(Gi,Qn,Or());return!Rn&&Qn==="endpointUrl"&&(Rn=Or()),Rn}}),tt._buffer=tt[zi][cl]()&&ji()?new Vd($i,tt[zi]):new Cs($i,tt[zi]),tt._sample=new Qd(tt[zi][dl](),$i),Co(Qe)||(0,pe.ZP)($i,1,100,"Invalid Instrumentation key "+Qe[ks]),!rr(tt._senderConfig.endpointUrl())&&tt._senderConfig.customHeaders()&&tt._senderConfig.customHeaders()[wi]>0&&(0,we.Iu)(tt[zi][fl](),function(Qn){Se.addHeader(Qn.header,Qn.value)});var hn=tt[zi],wn=null;!hn[Ya]()&&(0,Pe.PV)()?wn=Tl:!hn[Ya]()&&(0,Pe.xk)()&&(wn=gr),!wn&&(0,Pe.R7)()&&(wn=Is),ki=wn||gr,!hn[po]()&&(0,Pe.Uf)()&&(wn=ea),tt[Ma]=wn||gr,!hn[hl]()&&(0,Pe.R7)(!0)?pi=As:(0,Pe.Uf)()?pi=ea:!hn[Ya]()&&(0,Pe.PV)()?pi=Tl:!hn[Ya]()&&(0,Pe.xk)()?pi=gr:pi=ki},tt.processTelemetry=function(Qe,Ct){Ct=tt._getTelCtx(Ct);var Wt=Ct[bn]();try{if(tt[zi][vo]())return;if(!Qe){(0,pe.ZP)(Wt,1,7,"Cannot send empty telemetry");return}if(Qe.baseData&&!Qe[Ss]){(0,pe.ZP)(Wt,1,70,"Cannot send telemetry without baseData and baseType");return}if(Qe[Ss]||(Qe[Ss]="EventData"),!tt[Ma]){(0,pe.ZP)(Wt,1,28,"Sender was not initialized");return}if(Fn(Qe))Qe[S]=tt._sample[Rs];else{(0,pe.ZP)(Wt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:tt._sample[Rs]});return}var ni=tt[zi][ml]()||void 0,Ei=Qe.iKey||tt[zi][ks](),Gi=fe.constructEnvelope(Qe,Ei,Wt,ni);if(!Gi){(0,pe.ZP)(Wt,1,47,"Unable to create an AppInsights envelope");return}var $i=!1;if(Qe[di]&&Qe[di][d]&&((0,we.Iu)(Qe[di][d],function(Qn){try{Qn&&Qn(Gi)===!1&&($i=!0,(0,pe.OG)(Wt,"Telemetry processor check returns false"))}catch(Or){(0,pe.ZP)(Wt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,we.lL)(Or),{exception:(0,Pe.mm)(Or)},!0)}}),delete Qe[di][d]),$i)return;var yn=Lt.serialize(Gi),hn=tt[Aa],wn=hn.size();wn+yn[wi]>tt[zi][mo]()&&tt[Pa](!0,null,10),hn[Tn](yn),No()}catch(Qn){(0,pe.ZP)(Wt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,we.lL)(Qn),{exception:(0,Pe.mm)(Qn)})}tt.processNext(Qe,Ct)},tt[Es]=function(Qe,Ct,Wt){Qe.readyState===4&&Da(Qe.status,Ct,Qe.responseURL,Wt,Fa(Qe),ur(Qe)||Qe.response)},tt[Pa]=function(Qe,Ct,Wt){if(Qe===void 0&&(Qe=!0),!Je)try{var ni=tt[Aa];if(tt[zi][vo]())ni[Ta]();else{if(ni[Ot]()>0){var Ei=ni.getItems();Cl(Wt||0,Qe),Ct?Ct.call(Se,Ei,Qe):tt[Ma](Ei,Qe)}je=+new Date}Za()}catch($i){var Gi=(0,Pe.L0)();(!Gi||Gi>9)&&(0,pe.ZP)(tt[bn](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,we.lL)($i),{exception:(0,Pe.mm)($i)})}},tt._doTeardown=function(Qe,Ct){tt.onunloadFlush(),Ii.unload(),Wu()},tt[vr]=function(Qe,Ct,Wt){(0,pe.ZP)(tt[bn](),2,26,"Failed to send telemetry.",{message:Ct}),tt._buffer[Xi](Qe)},tt[go]=function(Qe,Ct){for(var Wt=[],ni=[],Ei=Ct.errors.reverse(),Gi=0,$i=Ei;Gi<$i.length;Gi++){var yn=$i[Gi],hn=Qe.splice(yn.index,1)[0];El(yn.statusCode)?ni[lr](hn):Wt[lr](hn)}Qe[wi]>0&&tt[Ts](Qe,Ct[Fr]),Wt[wi]>0&&tt[vr](Wt,Fa(null,["partial success",Ct[Fr],"of",Ct.itemsReceived].join(" "))),ni[wi]>0&&(To(ni),(0,pe.ZP)(tt[bn](),2,40,"Partial success. Delivered: "+Qe[wi]+", Failed: "+Wt[wi]+". Will retry to send "+ni[wi]+" our of "+Ct[pl]+" items"))},tt[Ts]=function(Qe,Ct){tt._buffer[Xi](Qe)},tt._xdrOnLoad=function(Qe,Ct){var Wt=ur(Qe);if(Qe&&(Wt+""=="200"||Wt===""))Ce=0,tt[Ts](Ct,0);else{var ni=Eo(Wt);ni&&ni.itemsReceived&&ni.itemsReceived>ni[Fr]&&!tt[zi][Ia]()?tt[go](Ct,ni):tt[vr](Ct,Nl(Qe))}};function Fn(Qe){return tt._sample.isSampledIn(Qe)}function Da(Qe,Ct,Wt,ni,Ei,Gi){var $i=null;if(tt._appId||($i=Eo(Gi),$i&&$i.appId&&(tt._appId=$i.appId)),(Qe<200||Qe>=300)&&Qe!==0){if((Qe===301||Qe===307||Qe===308)&&!xa(Wt)){tt[vr](Ct,Ei);return}!tt[zi][Ia]()&&El(Qe)?(To(Ct),(0,pe.ZP)(tt[bn](),2,40,". Response code "+Qe+". Will retry to send "+Ct[wi]+" items.")):tt[vr](Ct,Ei)}else if(Ii&&!Ii.isOnline()){if(!tt[zi][Ia]()){var yn=10;To(Ct,yn),(0,pe.ZP)(tt[bn](),2,40,". Offline - Response Code: ".concat(Qe,". Offline status: ").concat(!Ii.isOnline(),". Will retry to send ").concat(Ct.length," items."))}}else xa(Wt),Qe===206?($i||($i=Eo(Gi)),$i&&!tt[zi][Ia]()?tt[go](Ct,$i):tt[vr](Ct,Ei)):(Ce=0,tt[Ts](Ct,ni))}function xa(Qe){return Ut>=10?!1:!(0,we.hX)(Qe)&&Qe!==""&&Qe!==tt[zi][Qr]()?(tt[zi][Qr]=function(){return Qe},++Ut,!0):!1}function Sl(Qe,Ct){pi?pi(Qe,!1):ea(Qe,Ct)}function Ms(Qe){var Ct=(0,Pe.w3)(),Wt=tt[Aa],ni=tt[zi][Qr](),Ei=tt._buffer[Ka](Qe),Gi=new Blob([Ei],{type:"text/plain;charset=UTF-8"}),$i=Ct.sendBeacon(ni,Gi);return $i&&(Wt[Na](Qe),tt._onSuccess(Qe,Qe[wi])),$i}function ea(Qe,Ct){if((0,we.cy)(Qe)&&Qe[wi]>0&&!Ms(Qe)){for(var Wt=[],ni=0;ni<Qe[wi];ni++){var Ei=Qe[ni];Ms([Ei])||Wt[lr](Ei)}Wt[wi]>0&&(ki&&ki(Wt,!0),(0,pe.ZP)(tt[bn](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function gr(Qe,Ct){var Wt=new XMLHttpRequest,ni=tt[zi][Qr]();try{Wt[P]=!0}catch{}Wt.open("POST",ni,Ct),Wt[Kn]("Content-type","application/json"),rr(ni)&&Wt[Kn](Hi[6],Hi[7]),(0,we.Iu)((0,we.cG)(Qt),function(Gi){Wt[Kn](Gi,Qt[Gi])}),Wt.onreadystatechange=function(){return tt._xhrReadyStateChange(Wt,Qe,Qe[wi])},Wt.onerror=function(Gi){return tt[vr](Qe,Fa(Wt),Gi)};var Ei=tt._buffer[Ka](Qe);Wt.send(Ei),tt._buffer[Na](Qe)}function As(Qe,Ct){if((0,we.cy)(Qe)){for(var Wt=Qe[wi],ni=0;ni<Qe[wi];ni++)Wt+=Qe[ni][wi];hi+Wt<=Yd?Ja(Qe,!1):(0,Pe.Uf)()?ea(Qe,Ct):(ki&&ki(Qe,!0),(0,pe.ZP)(tt[bn](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function Is(Qe,Ct){Ja(Qe,!0)}function Ja(Qe,Ct){var Wt,ni=tt[zi][Qr](),Ei=tt._buffer[Ka](Qe),Gi=new Blob([Ei],{type:"application/json"}),$i=new Headers,yn=Ei[wi],hn=!1,wn=!1;rr(ni)&&$i.append(Hi[6],Hi[7]),(0,we.Iu)((0,we.cG)(Qt),function(Rn){$i.append(Rn,Qt[Rn])});var Qn=(Wt={method:"POST",headers:$i,body:Gi},Wt[P]=!0,Wt);Ct||(Qn.keepalive=!0,hn=!0,hi+=yn);var Or=new Request(ni,Qn);try{Or[P]=!0}catch{}tt._buffer[Na](Qe);try{fetch(Or).then(function(Rn){Ct||(hi-=yn,yn=0),wn||(wn=!0,Rn.ok?Rn.text().then(function(Pl){Da(Rn.status,Qe,Rn.url,Qe[wi],Rn.statusText,Pl)}):tt[vr](Qe,Rn.statusText))}).catch(function(Rn){Ct||(hi-=yn,yn=0),wn||(wn=!0,tt[vr](Qe,Rn.message))})}catch(Rn){wn||tt[vr](Qe,(0,Pe.mm)(Rn))}hn&&!wn&&(wn=!0,tt._onSuccess(Qe,Qe[wi]))}function Eo(Qe){try{if(Qe&&Qe!==""){var Ct=(0,Pe.hm)().parse(Qe);if(Ct&&Ct.itemsReceived&&Ct.itemsReceived>=Ct[Fr]&&Ct.itemsReceived-Ct.itemsAccepted===Ct.errors[wi])return Ct}}catch(Wt){(0,pe.ZP)(tt[bn](),1,43,"Cannot parse the response. "+(0,we.lL)(Wt),{response:Qe})}return null}function To(Qe,Ct){if(Ct===void 0&&(Ct=1),!(!Qe||Qe[wi]===0)){var Wt=tt[Aa];Wt[Xi](Qe),Ce++;for(var ni=0,Ei=Qe;ni<Ei.length;ni++){var Gi=Ei[ni];Wt[Tn](Gi)}Rl(Ct),No()}}function Rl(Qe){var Ct=10,Wt;if(Ce<=1)Wt=Ct;else{var ni=(Math.pow(2,Ce)-1)/2,Ei=Math.floor(Math.random()*ni*Ct)+1;Ei=Qe*Ei,Wt=Math.max(Math.min(Ei,3600),Ct)}var Gi=(0,we.x3)()+Wt*1e3;Be=Gi}function No(){if(!ot&&!Je){var Qe=Be?Math.max(0,Be-(0,we.x3)()):0,Ct=Math.max(tt[zi][vl](),Qe);ot=setTimeout(function(){ot=null,tt[Pa](!0,null,1)},Ct)}}function Za(){clearTimeout(ot),ot=null,Be=null}function El(Qe){return Qe===401||Qe===403||Qe===408||Qe===429||Qe===500||Qe===502||Qe===503||Qe===504}function Fa(Qe,Ct){return Qe?"XMLHttpRequest,Status:"+Qe.status+",Response:"+ur(Qe)||0||0:Ct}function Tl(Qe,Ct){var Wt=tt[Aa],ni=(0,Pe.zk)(),Ei=new XDomainRequest;Ei.onload=function(){return tt._xdrOnLoad(Ei,Qe)},Ei.onerror=function(hn){return tt[vr](Qe,Nl(Ei),hn)};var Gi=ni&&ni.location&&ni.location.protocol||"";if(tt[zi][Qr]().lastIndexOf(Gi,0)!==0){(0,pe.ZP)(tt[bn](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),Wt[Ta]();return}var $i=tt[zi][Qr]().replace(/^(https?:)/,"");Ei.open("POST",$i);var yn=Wt[Ka](Qe);Ei.send(yn),Wt[Na](Qe)}function Nl(Qe,Ct){return Qe?"XDomainRequest,Response:"+ur(Qe)||0:Ct}function ju(){var Qe="getNotifyMgr";return tt.core[Qe]?tt.core[Qe]():tt.core._notificationManager}function Cl(Qe,Ct){var Wt=ju();if(Wt&&Wt[Zi])try{Wt[Zi](Qe,Ct)}catch(ni){(0,pe.ZP)(tt[bn](),1,74,"send request notification failed: "+(0,we.lL)(ni),{exception:(0,Pe.mm)(ni)})}}function Co(Qe){var Ct=(0,we.hX)(Qe[li])?!1:Qe[li];if(Ct)return!0;var Wt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",ni=new RegExp(Wt);return ni.test(Qe[ks])}function Wu(){tt[Ma]=null,tt[Aa]=null,tt._appId=null,tt._sample=null,Qt={},Ii=null,Ce=0,Be=null,je=null,Je=!1,ot=null,Lt=null,Ut=0,hi=0,ki=null,pi=null,Di=null}}),Se}return fe.constructEnvelope=function(Se,Ce,Be,je){var Je;Ce!==Se.iKey&&!(0,we.hX)(Ce)?Je=(0,A.Im)((0,A.Im)({},Se),{iKey:Ce}):Je=Se;var ot=ko[Je.baseType]||Hu;return ot(Be,Je,je)},fe}(Wr.s),Gu=";",Nn="=";function xi(ke){if(!ke)return{};var fe=ke[u](Gu),Se=(0,we.KT)(fe,function(Be,je){var Je=je[u](Nn);if(Je[_]===2){var ot=Je[0][m](),Lt=Je[1];Be[ot]=Lt}return Be},{});if((0,we.cG)(Se)[_]>0){if(Se.endpointsuffix){var Ce=Se.location?Se.location+".":"";Se[g]=Se[g]||"https://"+Ce+"dc."+Se.endpointsuffix}Se[g]=Se[g]||f}return Se}var $u={parse:xi},Ro=T(12235),yl="instrumentationKey",wl="connectionString",Ps="diagnosticLogInterval",Vu=T(83897),_l=(0,_i.Hj)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),kl=function(){function ke(fe){var Se=new Ro._;((0,we.hX)(fe)||(0,we.hX)(fe[yl])&&(0,we.hX)(fe[wl]))&&(0,we.$8)("Invalid input configuration"),(0,R.A)(ke,this,function(Ce){if(fe[wl]){var Be=xi(fe[wl]),je=Be.ingestionendpoint;fe.endpointUrl=je?je+h:fe.endpointUrl,fe[yl]=Be.instrumentationkey||fe[yl]}Ce.config=fe,Je(),Ce.initialize=Je,Ce.getSKUDefaults=function(){Ce.config[Ps]=Ce.config[Ps]&&Ce.config[Ps]>0?Ce.config[Ps]:1e4},Ce.getSKUDefaults(),(0,we.o$)(Ce,Se,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function Je(){Se.initialize(Ce.config,[new So]),Se.pollInternalLogs()}})}return ke.__ieDyn=1,ke}()},92457:(s,V,T)=>{"use strict";T.d(V,{A:()=>xe});/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var R,A="undefined",P="constructor",S="prototype",d="function",c="_dynInstFuncs",f="_isDynProxy",h="_dynClass",k="_dynCls$",y="_dynInstChk",u=y,_="_dfOpts",m="_unknown_",g="__proto__",p="_dyn"+g,N="__dynProto$Gbl",E="_dynInstProto",x="useBaseInst",F="setInstFuncs",W=Object,b=W.getPrototypeOf,L=W.getOwnPropertyNames;function z(){var he;return typeof globalThis!==A&&(he=globalThis),!he&&typeof self!==A&&(he=self),!he&&typeof window!==A&&(he=window),!he&&typeof T.g!==A&&(he=T.g),he||{}}var K=z(),J=K[N]||(K[N]={o:(R={},R[F]=!0,R[x]=!0,R),n:1e3});function ie(he,Ee){return he&&W[S].hasOwnProperty.call(he,Ee)}function Y(he){return he&&(he===W[S]||he===Array[S])}function M(he){return Y(he)||he===Function[S]}function $(he){var Ee;if(he){if(b)return b(he);var Ne=he[g]||he[S]||(he[P]?he[P][S]:null);Ee=he[p]||Ne,ie(he,p)||(delete he[E],Ee=he[p]=he[E]||he[p],he[E]=Ne)}return Ee}function C(he,Ee){var Ne=[];if(L)Ne=L(he);else for(var X in he)typeof X=="string"&&ie(he,X)&&Ne.push(X);if(Ne&&Ne.length>0)for(var ee=0;ee<Ne.length;ee++)Ee(Ne[ee])}function l(he,Ee,Ne){return Ee!==P&&typeof he[Ee]===d&&(Ne||ie(he,Ee))}function w(he){throw new TypeError("DynamicProto: "+he)}function D(he){var Ee={};return C(he,function(Ne){!Ee[Ne]&&l(he,Ne,!1)&&(Ee[Ne]=he[Ne])}),Ee}function q(he,Ee){for(var Ne=he.length-1;Ne>=0;Ne--)if(he[Ne]===Ee)return!0;return!1}function j(he,Ee,Ne,X){function ee(U,O,oe){var ve=O[oe];if(ve[f]&&X){var we=U[c]||{};we[u]!==!1&&(ve=(we[O[h]]||{})[oe]||ve)}return function(){return ve.apply(U,arguments)}}var de={};C(Ne,function(U){de[U]=ee(Ee,Ne,U)});for(var me=$(he),_e=[];me&&!M(me)&&!q(_e,me);)C(me,function(U){!de[U]&&l(me,U,!b)&&(de[U]=ee(Ee,me,U))}),_e.push(me),me=$(me);return de}function H(he,Ee,Ne,X){var ee=null;if(he&&ie(Ne,h)){var de=he[c]||{};if(ee=(de[Ne[h]]||{})[Ee],ee||w("Missing ["+Ee+"] "+d),!ee[y]&&de[u]!==!1){for(var me=!ie(he,Ee),_e=$(he),U=[];me&&_e&&!M(_e)&&!q(U,_e);){var O=_e[Ee];if(O){me=O===X;break}U.push(_e),_e=$(_e)}try{me&&(he[Ee]=ee),ee[y]=1}catch{de[u]=!1}}}return ee}function Z(he,Ee,Ne){var X=Ee[he];return X===Ne&&(X=$(Ee)[he]),typeof X!==d&&w("["+he+"] is not a "+d),X}function te(he,Ee,Ne,X,ee){function de(U,O){var oe=function(){var ve=H(this,O,U,oe)||Z(O,U,oe);return ve.apply(this,arguments)};return oe[f]=1,oe}if(!Y(he)){var me=Ne[c]=Ne[c]||{},_e=me[Ee]=me[Ee]||{};me[u]!==!1&&(me[u]=!!ee),C(Ne,function(U){l(Ne,U,!1)&&Ne[U]!==X[U]&&(_e[U]=Ne[U],delete Ne[U],(!ie(he,U)||he[U]&&!he[U][f])&&(he[U]=de(he,U)))})}}function B(he,Ee){if(b){for(var Ne=[],X=$(Ee);X&&!M(X)&&!q(Ne,X);){if(X===he)return!0;Ne.push(X),X=$(X)}return!1}return!0}function ae(he,Ee){return ie(he,S)?he.name||Ee||m:((he||{})[P]||{}).name||Ee||m}function xe(he,Ee,Ne,X){ie(he,S)||w("theClass is an invalid class definition.");var ee=he[S];B(ee,Ee)||w("["+ae(he)+"] not in hierarchy of ["+ae(Ee)+"]");var de=null;ie(ee,h)?de=ee[h]:(de=k+ae(he,"_")+"$"+J.n,J.n++,ee[h]=de);var me=xe[_],_e=!!me[x];_e&&X&&X[x]!==void 0&&(_e=!!X[x]);var U=D(Ee),O=j(ee,Ee,U,_e);Ne(Ee,O);var oe=!!b&&!!me[F];oe&&X&&(oe=!!X[F]),te(ee,de,Ee,U,oe!==!1)}xe[_]=J.o},46925:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.HTMLTracer=void 0;const R=T(12111),A=T(49138);class P{constructor(){xt(this,"traceData");xt(this,"epochs",[])}addRenderEpoch(_){this.epochs.push(_)}includeInEpoch(_){this.epochs[this.epochs.length-1].elements.push(_)}didMaterializeTree(_){this.traceData=_}async serveHTML(){return d.create({epochs:this.epochs,traceData:y(this.traceData)})}serveRouter(_){return new S({baseAddress:_,epochs:this.epochs,traceData:y(this.traceData)})}}V.HTMLTracer=P;class S{constructor(_){xt(this,"opts");xt(this,"serverToken",crypto.randomUUID());this.opts=_}route(_,m){const g=_,p=m,N=new URL(g.url||"/","http://localhost"),E=`/${this.serverToken}`;switch(N.pathname){case E:case`${E}/`:this.onRoot(N,g,p);break;case`${E}/regen`:this.onRegen(N,g,p);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){const{traceData:_,epochs:m}=this.opts;return`<body>
			<style>${R.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(_.budget)};
				const EPOCHS = ${JSON.stringify(m)};
				const DEFAULT_MODEL = ${JSON.stringify(await c(_.tokenizer,_.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${R.tracerSrc}
			<\/script>
		</body>`}async onRegen(_,m,g){const{traceData:p}=this.opts,N=Number(_.searchParams.get("n")||p.budget),E=await p.renderTree(N),x=await c(p.tokenizer,E),F=JSON.stringify(x);g.setHeader("Content-Type","application/json"),g.setHeader("Content-Length",Buffer.byteLength(F)),g.end(F)}onRoot(_,m,g){this.getHTML().then(p=>{g.setHeader("Content-Type","text/html"),g.setHeader("Content-Length",Buffer.byteLength(p)),g.end(p)})}}class d extends S{constructor(m,g){super(m);xt(this,"server");this.server=g}static async create(m){const{createServer:g}=await Promise.resolve().then(()=>T(11568)),p=g((x,F)=>{try{E.route(x,F)||(F.statusCode=404,F.end("Not Found"))}catch(W){F.statusCode=500,F.end(String(W))}}),N=await new Promise((x,F)=>{p.listen(0,"127.0.0.1",()=>x(p.address().port)).on("error",F)}),E=new d({...m,baseAddress:`http://127.0.0.1:${N}`},p);return E}dispose(){this.server.closeAllConnections(),this.server.close()}}async function c(u,_){return{container:await f(u,_.container,!1),removed:_.removed,budget:_.budget}}async function f(u,_,m){const g={metadata:_.metadata.map(k),priority:_.priority};if(_ instanceof A.MaterializedChatMessageTextChunk)return{...g,type:2,value:_.text,tokens:await _.upperBoundTokenCount(u)};{const p={...g,id:_.id,name:_.name,children:await Promise.all(_.children.map(N=>f(u,N,m||_ instanceof A.MaterializedChatMessage))),tokens:m?await _.upperBoundTokenCount(u):await _.tokenCount(u)};if(_ instanceof A.MaterializedContainer)return{...p,type:0};if(_ instanceof A.MaterializedChatMessage)return{...p,type:1,role:_.role,text:_.text}}h(_)}function h(u){throw new Error("unreachable")}function k(u){return{name:u.constructor.name,value:JSON.stringify(u)}}const y=u=>{if(u===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return u}},12111:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.tracerCss=V.tracerSrc=void 0,V.tracerSrc='"use strict";(()=>{var $,m,se,ze,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function I(t){return t.children}function B(t,e){this.props=t,this.context=e}function N(t,e){if(e==null)return t.__?N(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?N(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??N(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,C,x=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,x),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:x[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),C==null&&b!=null&&(C=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=C}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(I,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=N(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=N(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,C,x,h,v,H,M,P,F,oe,U,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?x=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(z){z&&(z.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,C)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),U=0;U<i._sb.length;U++)i.__h.push(i._sb[U]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(C=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===I&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),x&&(i.__E=i.__=null)}catch(z){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(z,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,C,x=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)x===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),x=n.props||D,!a&&_!=null)for(x={},s=0;s<t.attributes.length;s++)x[(d=t.attributes[s]).name]=d.value;for(s in x)if(d=x[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?C=d:a&&typeof d!="function"||x[s]===d||A(t,s,d,x[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&N(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==x[s])&&A(t,s,b,x[s],r),s="checked",C!==void 0&&C!==t[s]&&A(t,s,C,x[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(I,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,ze=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=I,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,xe=y.diffed,Ce=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ie,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ie(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ne(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ne(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){xe&&xe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),Ce&&Ce(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ne(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ie(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(I,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var Ue=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(Ue,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(Ue,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n',V.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`},60937:function(s,V,T){"use strict";var R=this&&this.__createBinding||(Object.create?function(m,g,p,N){N===void 0&&(N=p);var E=Object.getOwnPropertyDescriptor(g,p);(!E||("get"in E?!g.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return g[p]}}),Object.defineProperty(m,N,E)}:function(m,g,p,N){N===void 0&&(N=p),m[N]=g[p]}),A=this&&this.__exportStar||function(m,g){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(g,p)&&R(g,m,p)};Object.defineProperty(V,"__esModule",{value:!0}),V.contentType=V.PromptRenderer=V.MetadataMap=V.PromptElement=V.ToolResult=V.UserMessage=V.ToolMessage=V.TextChunk=V.SystemMessage=V.PrioritizedList=V.LegacyPrioritization=V.FunctionMessage=V.Chunk=V.AssistantMessage=V.ChatRole=V.JSONTree=void 0,V.renderPrompt=y,V.renderElementJSON=u,V.toVsCodeChatMessages=_;const P=T(96423),S=T(79420),d=T(82990);A(T(46925),V),V.JSONTree=T(8150);var c=T(96423);Object.defineProperty(V,"ChatRole",{enumerable:!0,get:function(){return c.ChatRole}}),A(T(52727),V),A(T(3804),V),A(T(63479),V),A(T(68504),V);var f=T(75234);Object.defineProperty(V,"AssistantMessage",{enumerable:!0,get:function(){return f.AssistantMessage}}),Object.defineProperty(V,"Chunk",{enumerable:!0,get:function(){return f.Chunk}}),Object.defineProperty(V,"FunctionMessage",{enumerable:!0,get:function(){return f.FunctionMessage}}),Object.defineProperty(V,"LegacyPrioritization",{enumerable:!0,get:function(){return f.LegacyPrioritization}}),Object.defineProperty(V,"PrioritizedList",{enumerable:!0,get:function(){return f.PrioritizedList}}),Object.defineProperty(V,"SystemMessage",{enumerable:!0,get:function(){return f.SystemMessage}}),Object.defineProperty(V,"TextChunk",{enumerable:!0,get:function(){return f.TextChunk}}),Object.defineProperty(V,"ToolMessage",{enumerable:!0,get:function(){return f.ToolMessage}}),Object.defineProperty(V,"UserMessage",{enumerable:!0,get:function(){return f.UserMessage}}),Object.defineProperty(V,"ToolResult",{enumerable:!0,get:function(){return f.ToolResult}});var h=T(3575);Object.defineProperty(V,"PromptElement",{enumerable:!0,get:function(){return h.PromptElement}});var k=T(79420);Object.defineProperty(V,"MetadataMap",{enumerable:!0,get:function(){return k.MetadataMap}}),Object.defineProperty(V,"PromptRenderer",{enumerable:!0,get:function(){return k.PromptRenderer}});async function y(m,g,p,N,E,x,F="vscode"){let W="countTokens"in N?new d.AnyTokenizer((Y,M)=>N.countTokens(Y,M)):N;const b=new S.PromptRenderer(p,m,g,W);let{messages:L,tokenCount:z,references:K,metadata:J}=await b.render(E,x);const ie=b.getUsedContext();return F==="vscode"&&(L=_(L)),{messages:L,tokenCount:z,metadatas:J,usedContext:ie,references:K}}V.contentType="application/vnd.codechat.prompt+json.1";function u(m,g,p,N){var x;return new S.PromptRenderer({modelMaxPromptTokens:(x=p==null?void 0:p.tokenBudget)!=null?x:Number.MAX_SAFE_INTEGER},m,g,{countMessageTokens(F){throw new Error("Tools may only return text, not messages.")},tokenLength(F,W){var b;return Promise.resolve((b=p==null?void 0:p.countTokens(F,W))!=null?b:Promise.resolve(1))}}).renderElementJSON(N)}function _(m){const g=T(91398);return m.map(p=>{switch(p.role){case P.ChatRole.Assistant:const N=g.LanguageModelChatMessage.Assistant(p.content,p.name);return p.tool_calls&&(N.content=[new g.LanguageModelTextPart(p.content),...p.tool_calls.map(E=>new g.LanguageModelToolCallPart(E.id,E.function.name,E.function.arguments))]),N;case P.ChatRole.User:return g.LanguageModelChatMessage.User(p.content,p.name);case P.ChatRole.Function:{const E=g.LanguageModelChatMessage.User("");return E.content=[new g.LanguageModelToolResultPart(p.name,[new g.LanguageModelTextPart(p.content)])],E}case P.ChatRole.Tool:{const E=g.LanguageModelChatMessage.User("");return E.content=[new g.LanguageModelToolResultPart(p.tool_call_id,[new g.LanguageModelTextPart(p.content)])],E}default:throw new Error(`Converting chat message with role ${p.role} to VS Code chat message is not supported.`)}})}},8150:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.forEachNode=T;function T(R,A){if(A(R),R.type===1)for(const P of R.children)T(P,A)}},49138:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.MaterializedChatMessage=V.MaterializedChatMessageTextChunk=V.MaterializedContainer=void 0;const R=T(54548),A=T(96423);class P{constructor(p,N,E,x,F,W){xt(this,"id");xt(this,"name");xt(this,"priority");xt(this,"children");xt(this,"metadata");xt(this,"flags");this.id=p,this.name=N,this.priority=E,this.children=x,this.metadata=F,this.flags=W}has(p){return!!(this.flags&p)}async tokenCount(p){let N=0;return await Promise.all(this.children.map(async E=>{f(E);const x=await E.tokenCount(p);N+=x})),N}async upperBoundTokenCount(p){let N=0;return await Promise.all(this.children.map(async E=>{const x=await E.upperBoundTokenCount(p);N+=x})),N}replaceNode(p,N){return m(p,this.children,N)}allMetadata(){return _(this)}*toChatMessages(){for(const p of this.children)f(p),p instanceof P?yield*p.toChatMessages():p.isEmpty||(yield p.toChatMessage())}removeLowestPriorityChild(){this.has(1)?k(this):y(this)}}V.MaterializedContainer=P;class S{constructor(p,N,E=[],x){xt(this,"text");xt(this,"priority");xt(this,"metadata");xt(this,"lineBreakBefore");xt(this,"_upperBound",(0,R.once)(async p=>await p.tokenLength(this.text)+(this.lineBreakBefore!==0?1:0)));this.text=p,this.priority=N,this.metadata=E,this.lineBreakBefore=x}upperBoundTokenCount(p){return this._upperBound(p)}}V.MaterializedChatMessageTextChunk=S;class d{constructor(p,N,E,x,F,W,b,L){xt(this,"id");xt(this,"role");xt(this,"name");xt(this,"toolCalls");xt(this,"toolCallId");xt(this,"priority");xt(this,"metadata");xt(this,"children");xt(this,"_tokenCount",(0,R.once)(async p=>p.countMessageTokens(this.toChatMessage())));xt(this,"_upperBound",(0,R.once)(async p=>{let N=await this._baseMessageTokenCount(p);return await Promise.all(this.children.map(async E=>{const x=await E.upperBoundTokenCount(p);N+=x})),N}));xt(this,"_baseMessageTokenCount",(0,R.once)(p=>p.countMessageTokens({...this.toChatMessage(),content:""})));xt(this,"_text",(0,R.once)(()=>{let p="";for(const{text:N,isTextSibling:E}of h(this))(N.lineBreakBefore===1||N.lineBreakBefore===2&&!E)&&p.length&&!p.endsWith(`
`)&&(p+=`
`),p+=N.text;return p.trim()}));this.id=p,this.role=N,this.name=E,this.toolCalls=x,this.toolCallId=F,this.priority=W,this.metadata=b,this.children=L}async tokenCount(p){return this._tokenCount(p)}async upperBoundTokenCount(p){return this._upperBound(p)}get text(){return this._text()}get isEmpty(){var p;return!/\S/.test(this.text)&&!((p=this.toolCalls)!=null&&p.length)&&!this.toolCallId}replaceNode(p,N){const E=m(p,this.children,N);return E&&this.onChunksChange(),E}removeLowestPriorityChild(){y(this)}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear()}toChatMessage(){return this.role===A.ChatRole.System?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===A.ChatRole.Assistant?{role:this.role,content:this.text,...this.toolCalls?{tool_calls:this.toolCalls}:{},...this.name?{name:this.name}:{}}:this.role===A.ChatRole.User?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===A.ChatRole.Tool?{role:this.role,content:this.text,tool_call_id:this.toolCallId}:{role:this.role,content:this.text,name:this.name}}}V.MaterializedChatMessage=d;function c(g){return!(g instanceof S)}function f(g){if(!(g instanceof P)&&!(g instanceof d))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${g.text}"`)}function*h(g,p=!1){for(const N of g.children)N instanceof S?(yield{text:N,isTextSibling:p},p=!0):(yield*h(N,p),p=!1)}function k(g){let p;function N(F,W){if(F instanceof S)(!p||F.priority<p.node.priority)&&(p={chain:W.slice(),node:F});else{W.push(F);for(const b of F.children)N(b,W);W.pop()}}if(N(g,[]),!p)throw new Error("No lowest priority node found");let E=p.node,x=p.chain.length-1;for(;x>=0;x--){const F=p.chain[x];if(F.children.splice(F.children.indexOf(E),1),F instanceof d&&F.onChunksChange(),F.children.length>0)break;E=F}for(;x>=0;x--){const F=p.chain[x];F instanceof d&&F.onChunksChange()}}function y(g){var x;let p;const N=g.children.map((F,W)=>({chain:[g],index:W}));for(let F=0;F<N.length;F++){const{chain:W,index:b}=N[F],L=W[W.length-1].children[b];if(L instanceof P&&L.has(4)){const z=[...W,L];N.splice(F+1,0,...L.children.map((K,J)=>({chain:z,index:J})))}else if(!p||L.priority<p.value.priority)p={chain:W,index:b,value:L};else if(L.priority===p.value.priority){(x=p.lowestNested)!=null||(p.lowestNested=u(p.value));const z=u(L);z<p.lowestNested&&(p={chain:W,index:b,value:L,lowestNested:z})}}if(!p)throw new Error("No lowest priority node found");const E=p.chain[p.chain.length-1].children;p.value instanceof S||p.value instanceof P&&p.value.has(2)||c(p.value)&&!p.value.children.length?E.splice(p.index,1):(p.value.removeLowestPriorityChild(),p.value.children.length===0&&E.splice(p.index,1));for(const F of p.chain)F instanceof d&&F.onChunksChange()}function u(g){if(!c(g))return-1;let p=Number.MAX_SAFE_INTEGER;for(const N of g.children)p=Math.min(p,N.priority);return p}function*_(g){yield*g.metadata;for(const p of g.children)c(p)?yield*_(p):yield*p.metadata}function m(g,p,N){for(let E=0;E<p.length;E++){const x=p[E];if(c(x)){if(x.id===g){const W=p[E];return p[E]=N,W}const F=x.replaceNode(g,N);if(F)return F}}}},54548:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.once=T;function T(R){let A,P=!1;const S=(...d)=>(P||(A=R(...d),P=!0),A);return S.clear=()=>{P=!1},S}},96423:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.BaseTokensPerName=V.BaseTokensPerMessage=V.BaseTokensPerCompletion=V.ChatRole=void 0;var T;(function(R){R.System="system",R.User="user",R.Assistant="assistant",R.Function="function",R.Tool="tool"})(T||(V.ChatRole=T={})),V.BaseTokensPerCompletion=3,V.BaseTokensPerMessage=3,V.BaseTokensPerName=1},3575:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.PromptElement=void 0,T(10818);class R{constructor(P){xt(this,"props");this.props=P}get priority(){var P;return(P=this.props.priority)!=null?P:Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}}V.PromptElement=R},75234:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.Expandable=V.Chunk=V.LegacyPrioritization=V.ToolResult=V.PrioritizedList=V.TextChunk=V.ToolMessage=V.FunctionMessage=V.AssistantMessage=V.UserMessage=V.SystemMessage=V.BaseChatMessage=void 0,V.isChatMessagePromptElement=P;const R=T(96423),A=T(3575);function P(x){return x instanceof d||x instanceof c||x instanceof f}class S extends A.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}V.BaseChatMessage=S;class d extends S{constructor(F){F.role=R.ChatRole.System,super(F)}}V.SystemMessage=d;class c extends S{constructor(F){F.role=R.ChatRole.User,super(F)}}V.UserMessage=c;class f extends S{constructor(F){F.role=R.ChatRole.Assistant,super(F)}}V.AssistantMessage=f;const h=/\s+/g;class k extends S{constructor(F){F.role=R.ChatRole.Function,super(F)}}V.FunctionMessage=k;class y extends S{constructor(F){F.role=R.ChatRole.Tool,super(F)}}V.ToolMessage=y;class u extends A.PromptElement{async prepare(F,W,b){const L=this.props.breakOnWhitespace?h:this.props.breakOn;if(!L)return vscpp(vscppf,null,this.props.children);let z="";const K=[];for(const ie of this.props.children||[])if(ie&&typeof ie=="object"){if(typeof ie.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");ie.ctor==="br"?z+=`
`:K.push(ie)}else ie!=null&&(z+=ie);const J=await _(F,L,z,b);return vscpp(vscppf,null,K,J)}render(F){return F}}V.TextChunk=u;async function _(x,F,W,b){var K,J;if(F instanceof RegExp){if(!F.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${F})`);F.lastIndex=0}let L="",z=-1;for(;z<W.length;){let ie;typeof F=="string"?ie=W.indexOf(F,z===-1?0:z+F.length):ie=(J=(K=F.exec(W))==null?void 0:K.index)!=null?J:-1,ie===-1&&(ie=W.length);const Y=L+W.slice(Math.max(0,z),ie);if(await x.countTokens(Y,b)>x.tokenBudget)return L;L=Y,z=ie}return L}class m extends A.PromptElement{render(){const F=this.props.children;if(F)return vscpp(vscppf,null,F.map((W,b)=>{var z;if(!W)return;const L=this.props.descending?this.props.priority-b:this.props.priority-F.length+b;return typeof W!="object"?vscpp(u,{priority:L},W):((z=W.props)!=null||(W.props={}),W.props.priority=L,W)}))}}V.PrioritizedList=m;class g extends A.PromptElement{render(){const F=T(91398);return vscpp(vscppf,null,this.props.data.content.map(W=>{if(W instanceof F.LanguageModelTextPart)return W.value;if(W instanceof F.LanguageModelPromptTsxPart)return vscpp("elementJSON",{data:W.value})}))}}V.ToolResult=g;class p extends A.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}V.LegacyPrioritization=p;class N extends A.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}V.Chunk=N;class E extends A.PromptElement{async render(F,W){return vscpp(vscppf,null,await this.props.value(W))}}V.Expandable=E},79420:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.PromptRenderer=V.MetadataMap=void 0;const R=T(49138),A=T(75234),P=T(52727);var S;(function(b){b.empty={get:()=>{},getAll:()=>[]}})(S||(V.MetadataMap=S={}));class d{constructor(L,z,K,J){xt(this,"_endpoint");xt(this,"_ctor");xt(this,"_props");xt(this,"_tokenizer");xt(this,"_usedContext",[]);xt(this,"_ignoredFiles",[]);xt(this,"_growables",[]);xt(this,"_root",new m(null,0));xt(this,"tracer");this._endpoint=L,this._ctor=z,this._props=K,this._tokenizer=J}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(L){return new L.ctor(L.props)}async _processPromptPieces(L,z,K,J){var $,C,l,w,D,q,j;const ie=new Map;for(const[H,Z]of z.entries()){if(Array.isArray(Z.children)&&(Z.props=($=Z.props)!=null?$:{},Z.props.children=Z.children),!Z.ctor)throw new Error("Invalid ChatMessage child! Child must be a TSX component that extends PromptElement.");const te=this.createElement(Z);Z.node.setObj(te);const B=(C=Z.props.flexGrow)!=null?C:1/0;let ae=ie.get(B);ae||(ae=[],ie.set(B,ae)),ae.push({element:Z,promptElementInstance:te})}if(ie.size===0)return;const Y=[...ie.entries()].sort(([H],[Z])=>Z-H).map(([H,Z])=>Z),M=H=>{let Z=0;for(let te=H+1;te<Y.length;te++)for(const{element:B}of Y[te]){if(!B.props.flexReserve)continue;const ae=typeof B.props.flexReserve=="string"?Math.floor(L.remainingTokenBudget/Number(B.props.flexReserve.slice(1))):B.props.flexReserve;Z+=ae}return L.consume(Z),Z};for(const[H,Z]of Y.entries()){const te=M(H);let B=0;for(const{element:he}of Z)B+=(l=he.props.flex||he.props.flexBasis)!=null?l:1;const ae=Z.map(he=>{var Ne;const Ee=((Ne=he.element.props.flexBasis)!=null?Ne:1)/B;return{tokenBudget:Math.floor(L.remainingTokenBudget*Ee),endpoint:L.endpoint,countTokens:(X,ee)=>this._tokenizer.tokenLength(X,ee)}});L.consume(-te),(j=(w=this.tracer)==null?void 0:w.addRenderEpoch)==null||j.call(w,{inNode:(D=Z[0].element.node.parent)==null?void 0:D.id,flexValue:(q=Z[0].element.props.flexGrow)!=null?q:0,tokenBudget:L.remainingTokenBudget,reservedTokens:te,elements:Z.map((he,Ee)=>({id:he.element.node.id,tokenBudget:ae[Ee].tokenBudget}))}),await Promise.all(Z.map(async({element:he,promptElementInstance:Ee},Ne)=>{var ee;const X=await((ee=Ee.prepare)==null?void 0:ee.call(Ee,ae[Ne],K,J));he.node.setState(X)}));const xe=await Promise.all(Z.map(async({element:he,promptElementInstance:Ee},Ne)=>{const X=ae[Ne];return await Ee.render(he.node.getState(),X,K,J)}));for(const[he,{element:Ee,promptElementInstance:Ne}]of Z.entries()){const X=ae[he],ee=xe[he];if(!ee)continue;const de=await this._processPromptRenderPiece(new _(X.tokenBudget,this._endpoint),Ee,Ne,ee,K,J);Ne instanceof A.Expandable&&this._growables.push({initialConsume:de,elem:Ee.node}),L.consume(de)}}}async _processPromptRenderPiece(L,z,K,J,ie,Y){const M=f(J),$=new _(L.tokenBudget,this._endpoint),{tokensConsumed:C}=await c(this._tokenizer,z,K,M);return $.consume(C),await this._handlePromptChildren(z,M,$,ie,Y),$.consumed}async renderElementJSON(L){return await this._processPromptPieces(new _(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],void 0,L),{node:this._root.toJSON()}}async render(L,z){var D,q;await this._processPromptPieces(new _(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],L,z);const{container:K,allMetadata:J,removed:ie}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,z);(q=(D=this.tracer)==null?void 0:D.didMaterializeTree)==null||q.call(D,{budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:K,removed:ie,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:j=>this._getFinalElementTree(j,void 0).then(H=>({...H,budget:j}))});const Y=[...K.toChatMessages()],M=await K.tokenCount(this._tokenizer),$=[...K.allMetadata()],C=new Set,l=$.map(j=>{if(!(j instanceof F))return;const H=j.reference,Z="variableName"in H.anchor;if(Z&&!C.has(H.anchor.variableName))return C.add(H.anchor.variableName),H;if(!Z)return H}).filter(E),w=J.map(j=>{if(!(j instanceof F)||$.includes(j))return;const H=j.reference,Z="variableName"in H.anchor;if(Z&&!C.has(H.anchor.variableName))return C.add(H.anchor.variableName),H;if(!Z)return H}).filter(E);return{metadata:{get:j=>$.find(H=>H instanceof j),getAll:j=>$.filter(H=>H instanceof j)},messages:Y,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:M,references:l,omittedReferences:w}}async _getFinalElementTree(L,z){const K=this._root.materialize(),J=await K.tokenCount(this._tokenizer);if(J<L&&!await this._grow(K,J,L,z))return{container:K,allMetadata:[...K.allMetadata()],removed:0};const ie=[...K.allMetadata()];let Y=0;for(;await K.upperBoundTokenCount(this._tokenizer)>L&&await K.tokenCount(this._tokenizer)>L;)K.removeLowestPriorityChild(),Y++;return{container:K,allMetadata:ie,removed:Y}}async _grow(L,z,K,J){if(!this._growables.length)return!1;for(const ie of this._growables){const Y=ie.elem.getObj();if(!(Y instanceof A.Expandable))throw new Error("unreachable: expected growable");const M=new m(null,0,ie.elem.id),$=new _(K-z+ie.initialConsume,this._endpoint),C=await this._processPromptRenderPiece($,{node:M,ctor:this._ctor,props:{},children:[]},Y,await Y.render(void 0,{tokenBudget:$.tokenBudget,endpoint:this._endpoint,countTokens:(D,q)=>this._tokenizer.tokenLength(D,q)}),void 0,J),l=M.materialize();if(!L.replaceNode(ie.elem.id,l))throw new Error("unreachable: could not find old element to replace");if(z-=ie.initialConsume,z+=C,z>=K)break}return!0}_handlePromptChildren(L,z,K,J,ie){var M,$;if(L.ctor===A.TextChunk){this._handleExtrinsicTextChunkChildren(L.node,L.node,L.props,z);return}let Y=[];for(const C of z){if(C.kind==="literal"){L.node.appendStringChild(C.value,(M=L.props.priority)!=null?M:Number.MAX_SAFE_INTEGER);continue}if(C.kind==="intrinsic"){this._handleIntrinsic(L.node,C.name,{priority:($=L.props.priority)!=null?$:Number.MAX_SAFE_INTEGER,...C.props},h(C.children));continue}const l=L.node.createChild();Y.push({node:l,ctor:C.ctor,props:{priority:L.props.priority,...C.props},children:C.children})}return this._processPromptPieces(K,Y,J,ie)}_handleIntrinsic(L,z,K,J,ie){switch(z){case"meta":return this._handleIntrinsicMeta(L,K,J);case"br":return this._handleIntrinsicLineBreak(L,K,J,K.priority,ie);case"usedContext":return this._handleIntrinsicUsedContext(L,K,J);case"references":return this._handleIntrinsicReferences(L,K,J);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(L,K,J);case"elementJSON":return this._handleIntrinsicElementJSON(L,K.data)}throw new Error(`Unknown intrinsic element ${z}!`)}_handleIntrinsicMeta(L,z,K){if(K.length>0)throw new Error("<meta /> must not have children!");z.local?L.addMetadata(z.value):this._root.addMetadata(z.value)}_handleIntrinsicLineBreak(L,z,K,J,ie){if(K.length>0)throw new Error("<br /> must not have children!");L.appendLineBreak(J!=null?J:Number.MAX_SAFE_INTEGER,ie)}_handleIntrinsicElementJSON(L,z){var J;const K=L.appendPieceJSON(z.node);if((J=this.tracer)!=null&&J.includeInEpoch)for(const ie of K.elements())this.tracer.includeInEpoch({id:ie.id,tokenBudget:0})}_handleIntrinsicUsedContext(L,z,K){if(K.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...z.value)}_handleIntrinsicReferences(L,z,K){if(K.length>0)throw new Error("<reference /> must not have children!");for(const J of z.value)L.addMetadata(new F(J))}_handleIntrinsicIgnoredFiles(L,z,K){if(K.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...z.value)}_handleExtrinsicTextChunkChildren(L,z,K,J){var M;const ie=[],Y=[];for(const $ of J){if($.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if($.kind==="literal"&&ie.push($.value),$.kind==="intrinsic")if($.name==="br")ie.push(`
`);else if($.name==="references")for(const C of $.props.value)Y.push(new F(C));else this._handleIntrinsic(L,$.name,$.props,h($.children),z.childIndex)}L.appendStringChild(ie.join(""),(M=K==null?void 0:K.priority)!=null?M:Number.MAX_SAFE_INTEGER,Y,z.childIndex,!0)}}V.PromptRenderer=d;async function c(b,L,z,K){let J=0;(0,A.isChatMessagePromptElement)(z)&&(J+=await b.countMessageTokens({role:L.props.role,content:"",...L.props.name?{name:L.props.name}:void 0}));for(const ie of K)ie.kind==="literal"&&(J+=await b.tokenLength(ie.value));return{tokensConsumed:J}}function f(b){return typeof b=="undefined"||typeof b=="boolean"?[]:typeof b=="string"||typeof b=="number"?[new u(String(b))]:p(b)?[...h(b.children)]:typeof b.ctor=="string"?[new k(b.ctor,b.props,b.children)]:[new y(b.ctor,b.props,b.children)]}function h(b){return(b!=null?b:[]).reduce((L,z)=>(L.push(...f(z)),L),[])}class k{constructor(L,z,K){xt(this,"name");xt(this,"props");xt(this,"children");xt(this,"kind","intrinsic");this.name=L,this.props=z,this.children=K}}class y{constructor(L,z,K){xt(this,"ctor");xt(this,"props");xt(this,"children");xt(this,"kind","extrinsic");this.ctor=L,this.props=z,this.children=K}}class u{constructor(L,z){xt(this,"value");xt(this,"priority");xt(this,"kind","literal");this.value=L,this.priority=z}}class _{constructor(L,z){xt(this,"tokenBudget");xt(this,"endpoint");xt(this,"_consumed",0);this.tokenBudget=L,this.endpoint=z}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(L){this._consumed+=L}}const W=class W{constructor(L=null,z,K=W._nextId++){xt(this,"parent");xt(this,"childIndex");xt(this,"id");xt(this,"kind",1);xt(this,"_obj",null);xt(this,"_state");xt(this,"_children",[]);xt(this,"_metadata",[]);this.parent=L,this.childIndex=z,this.id=K}static fromJSON(L,z){var J,ie;const K=new W(null,L);switch(K._metadata=(ie=(J=z.references)==null?void 0:J.map(Y=>new F(P.PromptReference.fromJSON(Y))))!=null?ie:[],K._children=z.children.map((Y,M)=>{switch(Y.type){case 1:return W.fromJSON(M,Y);case 2:return g.fromJSON(K,M,Y);default:}}).filter(E),z.ctor){case 1:K._obj=new A.BaseChatMessage(z.props);break;case 2:break;default:z.ctor}return K}setObj(L){this._obj=L}getObj(){return this._obj}setState(L){this._state=L}getState(){return this._state}createChild(){const L=new W(this,this._children.length);return this._children.push(L),L}appendPieceJSON(L){const z=W.fromJSON(this._children.length,L);return this._children.push(z),z}appendStringChild(L,z,K,J=this._children.length,ie=!1){this._children.push(new g(this,J,L,z,K,ie))}appendLineBreak(L,z=this._children.length){this._children.push(new g(this,z,`
`,L))}toJSON(){var z;const L={type:1,ctor:2,children:this._children.slice().sort((K,J)=>K.childIndex-J.childIndex).map(K=>K.toJSON()),priority:(z=this._obj)==null?void 0:z.props.priority,references:this._metadata.filter(K=>K instanceof F).map(K=>K.reference.toJSON())};return this._obj instanceof A.BaseChatMessage&&(L.ctor=1,L.props={role:this._obj.props.role,name:this._obj.props.name,priority:this._obj.props.priority,toolCalls:this._obj.props.toolCalls,toolCallId:this._obj.props.toolCallId}),L}materialize(){var L,z,K,J,ie,Y;if(this._children.sort((M,$)=>M.childIndex-$.childIndex),this._obj instanceof A.BaseChatMessage){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");return new R.MaterializedChatMessage(this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof A.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof A.ToolMessage?this._obj.props.toolCallId:void 0,(L=this._obj.props.priority)!=null?L:Number.MAX_SAFE_INTEGER,this._metadata,this._children.map($=>$.materialize()))}else{let M=0;return this._obj instanceof A.LegacyPrioritization&&(M|=1),this._obj instanceof A.Chunk&&(M|=2),(z=this._obj)!=null&&z.props.passPriority&&(M|=4),new R.MaterializedContainer(this.id,(K=this._obj)==null?void 0:K.constructor.name,(Y=(J=this._obj)==null?void 0:J.props.priority)!=null?Y:(ie=this._obj)!=null&&ie.props.passPriority?0:Number.MAX_SAFE_INTEGER,this._children.map($=>$.materialize()),this._metadata,M)}}addMetadata(L){this._metadata.push(L)}*elements(){yield this;for(const L of this._children)L instanceof W&&(yield*L.elements())}};xt(W,"_nextId",0);let m=W;class g{constructor(L,z,K,J,ie,Y=!1){xt(this,"parent");xt(this,"childIndex");xt(this,"text");xt(this,"priority");xt(this,"metadata");xt(this,"lineBreakBefore");xt(this,"kind",2);this.parent=L,this.childIndex=z,this.text=K,this.priority=J,this.metadata=ie,this.lineBreakBefore=Y}static fromJSON(L,z,K){var J;return new g(L,z,K.text,K.priority,(J=K.references)==null?void 0:J.map(ie=>new F(P.PromptReference.fromJSON(ie))),K.lineBreakBefore)}collectLeafs(L){L.push(this)}materialize(){var z;const L=this.lineBreakBefore?1:this.childIndex===0?2:0;return new R.MaterializedChatMessageTextChunk(this.text,(z=this.priority)!=null?z:Number.MAX_SAFE_INTEGER,this.metadata||[],L)}toJSON(){var L;return{type:2,priority:this.priority,text:this.text,references:(L=this.metadata)==null?void 0:L.filter(z=>z instanceof F).map(z=>z.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}}function p(b){var L;return(L=typeof b.ctor=="function"&&b.ctor.isFragment)!=null?L:!1}function N(b){}function E(b){return b!==void 0}class x extends P.PromptMetadata{}class F extends x{constructor(z){super();xt(this,"reference");this.reference=z}}},52727:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.PromptReference=V.ChatResponseReferencePartStatusKind=V.PromptMetadata=void 0;const R=T(84326);class A{constructor(){xt(this,"_marker")}toString(){return Object.getPrototypeOf(this).constructor.name}}V.PromptMetadata=A;var P;(function(d){d[d.Complete=1]="Complete",d[d.Partial=2]="Partial",d[d.Omitted=3]="Omitted"})(P||(V.ChatResponseReferencePartStatusKind=P={}));class S{constructor(c,f,h){xt(this,"anchor");xt(this,"iconPath");xt(this,"options");this.anchor=c,this.iconPath=f,this.options=h}static fromJSON(c){const f=h=>"scheme"in h?R.URI.from(h):{uri:R.URI.from(h.uri),range:h.range};return new S("variableName"in c.anchor?{variableName:c.anchor.variableName,value:c.anchor.value&&f(c.anchor.value)}:f(c.anchor),c.iconPath&&("scheme"in c.iconPath?R.URI.from(c.iconPath):"light"in c.iconPath?{light:R.URI.from(c.iconPath.light),dark:R.URI.from(c.iconPath.dark)}:c.iconPath),c.options)}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}}V.PromptReference=S},82990:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.AnyTokenizer=void 0;const R=T(96423);class A{constructor(S){xt(this,"countTokens");this.countTokens=S}async tokenLength(S,d){return this.countTokens(S,d)}async countMessageTokens(S){const d=await Promise.resolve().then(()=>T(91398));return this.countTokens({role:this.toChatRole(S.role),content:[new d.LanguageModelTextPart(S.content)],name:"name"in S?S.name:void 0})}toChatRole(S){switch(S){case R.ChatRole.User:return 1;case R.ChatRole.Assistant:return 2;case R.ChatRole.System:return 1;case R.ChatRole.Function:return 1;case R.ChatRole.Tool:return 1}}}V.AnyTokenizer=A},3804:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0})},63479:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0})},10818:()=>{"use strict";function s(T,R,...A){return{ctor:T,props:R,children:A.flat()}}function V(){throw new Error("This should not be invoked!")}V.isFragment=!0,globalThis.vscpp=s,globalThis.vscppf=V},68504:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0})},22177:(s,V,T)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(V,"__esModule",{value:!0}),V.delimiter=V.sep=V.toNamespacedPath=V.parse=V.format=V.extname=V.basename=V.dirname=V.relative=V.resolve=V.join=V.isAbsolute=V.normalize=V.posix=V.win32=void 0;const R=T(13),A=65,P=97,S=90,d=122,c=46,f=47,h=92,k=58,y=63;class u extends Error{constructor(z,K,J){let ie;typeof K=="string"&&K.indexOf("not ")===0?(ie="must not be",K=K.replace(/^not /,"")):ie="must be";const Y=z.indexOf(".")!==-1?"property":"argument";let M=`The "${z}" ${Y} ${ie} of type ${K}`;M+=`. Received type ${typeof J}`;super(M);xt(this,"code");this.code="ERR_INVALID_ARG_TYPE"}}function _(b,L){if(b===null||typeof b!="object")throw new u(L,"Object",b)}function m(b,L){if(typeof b!="string")throw new u(L,"string",b)}const g=R.platform==="win32";function p(b){return b===f||b===h}function N(b){return b===f}function E(b){return b>=A&&b<=S||b>=P&&b<=d}function x(b,L,z,K){let J="",ie=0,Y=-1,M=0,$=0;for(let C=0;C<=b.length;++C){if(C<b.length)$=b.charCodeAt(C);else{if(K($))break;$=f}if(K($)){if(!(Y===C-1||M===1))if(M===2){if(J.length<2||ie!==2||J.charCodeAt(J.length-1)!==c||J.charCodeAt(J.length-2)!==c){if(J.length>2){const l=J.lastIndexOf(z);l===-1?(J="",ie=0):(J=J.slice(0,l),ie=J.length-1-J.lastIndexOf(z)),Y=C,M=0;continue}else if(J.length!==0){J="",ie=0,Y=C,M=0;continue}}L&&(J+=J.length>0?`${z}..`:"..",ie=2)}else J.length>0?J+=`${z}${b.slice(Y+1,C)}`:J=b.slice(Y+1,C),ie=C-Y-1;Y=C,M=0}else $===c&&M!==-1?++M:M=-1}return J}function F(b,L){_(L,"pathObject");const z=L.dir||L.root,K=L.base||`${L.name||""}${L.ext||""}`;return z?z===L.root?`${z}${K}`:`${z}${b}${K}`:K}V.win32={resolve(...b){let L="",z="",K=!1;for(let J=b.length-1;J>=-1;J--){let ie;if(J>=0){if(ie=b[J],m(ie,"path"),ie.length===0)continue}else L.length===0?ie=R.cwd():(ie=R.env[`=${L}`]||R.cwd(),(ie===void 0||ie.slice(0,2).toLowerCase()!==L.toLowerCase()&&ie.charCodeAt(2)===h)&&(ie=`${L}\\`));const Y=ie.length;let M=0,$="",C=!1;const l=ie.charCodeAt(0);if(Y===1)p(l)&&(M=1,C=!0);else if(p(l))if(C=!0,p(ie.charCodeAt(1))){let w=2,D=w;for(;w<Y&&!p(ie.charCodeAt(w));)w++;if(w<Y&&w!==D){const q=ie.slice(D,w);for(D=w;w<Y&&p(ie.charCodeAt(w));)w++;if(w<Y&&w!==D){for(D=w;w<Y&&!p(ie.charCodeAt(w));)w++;(w===Y||w!==D)&&($=`\\\\${q}\\${ie.slice(D,w)}`,M=w)}}}else M=1;else E(l)&&ie.charCodeAt(1)===k&&($=ie.slice(0,2),M=2,Y>2&&p(ie.charCodeAt(2))&&(C=!0,M=3));if($.length>0)if(L.length>0){if($.toLowerCase()!==L.toLowerCase())continue}else L=$;if(K){if(L.length>0)break}else if(z=`${ie.slice(M)}\\${z}`,K=C,C&&L.length>0)break}return z=x(z,!K,"\\",p),K?`${L}\\${z}`:`${L}${z}`||"."},normalize(b){m(b,"path");const L=b.length;if(L===0)return".";let z=0,K,J=!1;const ie=b.charCodeAt(0);if(L===1)return N(ie)?"\\":b;if(p(ie))if(J=!0,p(b.charCodeAt(1))){let M=2,$=M;for(;M<L&&!p(b.charCodeAt(M));)M++;if(M<L&&M!==$){const C=b.slice($,M);for($=M;M<L&&p(b.charCodeAt(M));)M++;if(M<L&&M!==$){for($=M;M<L&&!p(b.charCodeAt(M));)M++;if(M===L)return`\\\\${C}\\${b.slice($)}\\`;M!==$&&(K=`\\\\${C}\\${b.slice($,M)}`,z=M)}}}else z=1;else E(ie)&&b.charCodeAt(1)===k&&(K=b.slice(0,2),z=2,L>2&&p(b.charCodeAt(2))&&(J=!0,z=3));let Y=z<L?x(b.slice(z),!J,"\\",p):"";return Y.length===0&&!J&&(Y="."),Y.length>0&&p(b.charCodeAt(L-1))&&(Y+="\\"),K===void 0?J?`\\${Y}`:Y:J?`${K}\\${Y}`:`${K}${Y}`},isAbsolute(b){m(b,"path");const L=b.length;if(L===0)return!1;const z=b.charCodeAt(0);return p(z)||L>2&&E(z)&&b.charCodeAt(1)===k&&p(b.charCodeAt(2))},join(...b){if(b.length===0)return".";let L,z;for(let ie=0;ie<b.length;++ie){const Y=b[ie];m(Y,"path"),Y.length>0&&(L===void 0?L=z=Y:L+=`\\${Y}`)}if(L===void 0)return".";let K=!0,J=0;if(typeof z=="string"&&p(z.charCodeAt(0))){++J;const ie=z.length;ie>1&&p(z.charCodeAt(1))&&(++J,ie>2&&(p(z.charCodeAt(2))?++J:K=!1))}if(K){for(;J<L.length&&p(L.charCodeAt(J));)J++;J>=2&&(L=`\\${L.slice(J)}`)}return V.win32.normalize(L)},relative(b,L){if(m(b,"from"),m(L,"to"),b===L)return"";const z=V.win32.resolve(b),K=V.win32.resolve(L);if(z===K||(b=z.toLowerCase(),L=K.toLowerCase(),b===L))return"";let J=0;for(;J<b.length&&b.charCodeAt(J)===h;)J++;let ie=b.length;for(;ie-1>J&&b.charCodeAt(ie-1)===h;)ie--;const Y=ie-J;let M=0;for(;M<L.length&&L.charCodeAt(M)===h;)M++;let $=L.length;for(;$-1>M&&L.charCodeAt($-1)===h;)$--;const C=$-M,l=Y<C?Y:C;let w=-1,D=0;for(;D<l;D++){const j=b.charCodeAt(J+D);if(j!==L.charCodeAt(M+D))break;j===h&&(w=D)}if(D!==l){if(w===-1)return K}else{if(C>l){if(L.charCodeAt(M+D)===h)return K.slice(M+D+1);if(D===2)return K.slice(M+D)}Y>l&&(b.charCodeAt(J+D)===h?w=D:D===2&&(w=3)),w===-1&&(w=0)}let q="";for(D=J+w+1;D<=ie;++D)(D===ie||b.charCodeAt(D)===h)&&(q+=q.length===0?"..":"\\..");return M+=w,q.length>0?`${q}${K.slice(M,$)}`:(K.charCodeAt(M)===h&&++M,K.slice(M,$))},toNamespacedPath(b){if(typeof b!="string"||b.length===0)return b;const L=V.win32.resolve(b);if(L.length<=2)return b;if(L.charCodeAt(0)===h){if(L.charCodeAt(1)===h){const z=L.charCodeAt(2);if(z!==y&&z!==c)return`\\\\?\\UNC\\${L.slice(2)}`}}else if(E(L.charCodeAt(0))&&L.charCodeAt(1)===k&&L.charCodeAt(2)===h)return`\\\\?\\${L}`;return b},dirname(b){m(b,"path");const L=b.length;if(L===0)return".";let z=-1,K=0;const J=b.charCodeAt(0);if(L===1)return p(J)?b:".";if(p(J)){if(z=K=1,p(b.charCodeAt(1))){let M=2,$=M;for(;M<L&&!p(b.charCodeAt(M));)M++;if(M<L&&M!==$){for($=M;M<L&&p(b.charCodeAt(M));)M++;if(M<L&&M!==$){for($=M;M<L&&!p(b.charCodeAt(M));)M++;if(M===L)return b;M!==$&&(z=K=M+1)}}}}else E(J)&&b.charCodeAt(1)===k&&(z=L>2&&p(b.charCodeAt(2))?3:2,K=z);let ie=-1,Y=!0;for(let M=L-1;M>=K;--M)if(p(b.charCodeAt(M))){if(!Y){ie=M;break}}else Y=!1;if(ie===-1){if(z===-1)return".";ie=z}return b.slice(0,ie)},basename(b,L){L!==void 0&&m(L,"ext"),m(b,"path");let z=0,K=-1,J=!0,ie;if(b.length>=2&&E(b.charCodeAt(0))&&b.charCodeAt(1)===k&&(z=2),L!==void 0&&L.length>0&&L.length<=b.length){if(L===b)return"";let Y=L.length-1,M=-1;for(ie=b.length-1;ie>=z;--ie){const $=b.charCodeAt(ie);if(p($)){if(!J){z=ie+1;break}}else M===-1&&(J=!1,M=ie+1),Y>=0&&($===L.charCodeAt(Y)?--Y===-1&&(K=ie):(Y=-1,K=M))}return z===K?K=M:K===-1&&(K=b.length),b.slice(z,K)}for(ie=b.length-1;ie>=z;--ie)if(p(b.charCodeAt(ie))){if(!J){z=ie+1;break}}else K===-1&&(J=!1,K=ie+1);return K===-1?"":b.slice(z,K)},extname(b){m(b,"path");let L=0,z=-1,K=0,J=-1,ie=!0,Y=0;b.length>=2&&b.charCodeAt(1)===k&&E(b.charCodeAt(0))&&(L=K=2);for(let M=b.length-1;M>=L;--M){const $=b.charCodeAt(M);if(p($)){if(!ie){K=M+1;break}continue}J===-1&&(ie=!1,J=M+1),$===c?z===-1?z=M:Y!==1&&(Y=1):z!==-1&&(Y=-1)}return z===-1||J===-1||Y===0||Y===1&&z===J-1&&z===K+1?"":b.slice(z,J)},format:F.bind(null,"\\"),parse(b){m(b,"path");const L={root:"",dir:"",base:"",ext:"",name:""};if(b.length===0)return L;const z=b.length;let K=0,J=b.charCodeAt(0);if(z===1)return p(J)?(L.root=L.dir=b,L):(L.base=L.name=b,L);if(p(J)){if(K=1,p(b.charCodeAt(1))){let w=2,D=w;for(;w<z&&!p(b.charCodeAt(w));)w++;if(w<z&&w!==D){for(D=w;w<z&&p(b.charCodeAt(w));)w++;if(w<z&&w!==D){for(D=w;w<z&&!p(b.charCodeAt(w));)w++;w===z?K=w:w!==D&&(K=w+1)}}}}else if(E(J)&&b.charCodeAt(1)===k){if(z<=2)return L.root=L.dir=b,L;if(K=2,p(b.charCodeAt(2))){if(z===3)return L.root=L.dir=b,L;K=3}}K>0&&(L.root=b.slice(0,K));let ie=-1,Y=K,M=-1,$=!0,C=b.length-1,l=0;for(;C>=K;--C){if(J=b.charCodeAt(C),p(J)){if(!$){Y=C+1;break}continue}M===-1&&($=!1,M=C+1),J===c?ie===-1?ie=C:l!==1&&(l=1):ie!==-1&&(l=-1)}return M!==-1&&(ie===-1||l===0||l===1&&ie===M-1&&ie===Y+1?L.base=L.name=b.slice(Y,M):(L.name=b.slice(Y,ie),L.base=b.slice(Y,M),L.ext=b.slice(ie,M))),Y>0&&Y!==K?L.dir=b.slice(0,Y-1):L.dir=L.root,L},sep:"\\",delimiter:";",win32:null,posix:null};const W=(()=>{if(g){const b=/\\/g;return()=>{const L=R.cwd().replace(b,"/");return L.slice(L.indexOf("/"))}}return()=>R.cwd()})();V.posix={resolve(...b){let L="",z=!1;for(let K=b.length-1;K>=-1&&!z;K--){const J=K>=0?b[K]:W();m(J,"path"),J.length!==0&&(L=`${J}/${L}`,z=J.charCodeAt(0)===f)}return L=x(L,!z,"/",N),z?`/${L}`:L.length>0?L:"."},normalize(b){if(m(b,"path"),b.length===0)return".";const L=b.charCodeAt(0)===f,z=b.charCodeAt(b.length-1)===f;return b=x(b,!L,"/",N),b.length===0?L?"/":z?"./":".":(z&&(b+="/"),L?`/${b}`:b)},isAbsolute(b){return m(b,"path"),b.length>0&&b.charCodeAt(0)===f},join(...b){if(b.length===0)return".";let L;for(let z=0;z<b.length;++z){const K=b[z];m(K,"path"),K.length>0&&(L===void 0?L=K:L+=`/${K}`)}return L===void 0?".":V.posix.normalize(L)},relative(b,L){if(m(b,"from"),m(L,"to"),b===L||(b=V.posix.resolve(b),L=V.posix.resolve(L),b===L))return"";const z=1,K=b.length,J=K-z,ie=1,Y=L.length-ie,M=J<Y?J:Y;let $=-1,C=0;for(;C<M;C++){const w=b.charCodeAt(z+C);if(w!==L.charCodeAt(ie+C))break;w===f&&($=C)}if(C===M)if(Y>M){if(L.charCodeAt(ie+C)===f)return L.slice(ie+C+1);if(C===0)return L.slice(ie+C)}else J>M&&(b.charCodeAt(z+C)===f?$=C:C===0&&($=0));let l="";for(C=z+$+1;C<=K;++C)(C===K||b.charCodeAt(C)===f)&&(l+=l.length===0?"..":"/..");return`${l}${L.slice(ie+$)}`},toNamespacedPath(b){return b},dirname(b){if(m(b,"path"),b.length===0)return".";const L=b.charCodeAt(0)===f;let z=-1,K=!0;for(let J=b.length-1;J>=1;--J)if(b.charCodeAt(J)===f){if(!K){z=J;break}}else K=!1;return z===-1?L?"/":".":L&&z===1?"//":b.slice(0,z)},basename(b,L){L!==void 0&&m(L,"ext"),m(b,"path");let z=0,K=-1,J=!0,ie;if(L!==void 0&&L.length>0&&L.length<=b.length){if(L===b)return"";let Y=L.length-1,M=-1;for(ie=b.length-1;ie>=0;--ie){const $=b.charCodeAt(ie);if($===f){if(!J){z=ie+1;break}}else M===-1&&(J=!1,M=ie+1),Y>=0&&($===L.charCodeAt(Y)?--Y===-1&&(K=ie):(Y=-1,K=M))}return z===K?K=M:K===-1&&(K=b.length),b.slice(z,K)}for(ie=b.length-1;ie>=0;--ie)if(b.charCodeAt(ie)===f){if(!J){z=ie+1;break}}else K===-1&&(J=!1,K=ie+1);return K===-1?"":b.slice(z,K)},extname(b){m(b,"path");let L=-1,z=0,K=-1,J=!0,ie=0;for(let Y=b.length-1;Y>=0;--Y){const M=b.charCodeAt(Y);if(M===f){if(!J){z=Y+1;break}continue}K===-1&&(J=!1,K=Y+1),M===c?L===-1?L=Y:ie!==1&&(ie=1):L!==-1&&(ie=-1)}return L===-1||K===-1||ie===0||ie===1&&L===K-1&&L===z+1?"":b.slice(L,K)},format:F.bind(null,"/"),parse(b){m(b,"path");const L={root:"",dir:"",base:"",ext:"",name:""};if(b.length===0)return L;const z=b.charCodeAt(0)===f;let K;z?(L.root="/",K=1):K=0;let J=-1,ie=0,Y=-1,M=!0,$=b.length-1,C=0;for(;$>=K;--$){const l=b.charCodeAt($);if(l===f){if(!M){ie=$+1;break}continue}Y===-1&&(M=!1,Y=$+1),l===c?J===-1?J=$:C!==1&&(C=1):J!==-1&&(C=-1)}if(Y!==-1){const l=ie===0&&z?1:ie;J===-1||C===0||C===1&&J===Y-1&&J===ie+1?L.base=L.name=b.slice(l,Y):(L.name=b.slice(l,J),L.base=b.slice(l,Y),L.ext=b.slice(J,Y))}return ie>0?L.dir=b.slice(0,ie-1):z&&(L.dir="/"),L},sep:"/",delimiter:":",win32:null,posix:null},V.posix.win32=V.win32.win32=V.win32,V.posix.posix=V.win32.posix=V.posix,V.normalize=g?V.win32.normalize:V.posix.normalize,V.isAbsolute=g?V.win32.isAbsolute:V.posix.isAbsolute,V.join=g?V.win32.join:V.posix.join,V.resolve=g?V.win32.resolve:V.posix.resolve,V.relative=g?V.win32.relative:V.posix.relative,V.dirname=g?V.win32.dirname:V.posix.dirname,V.basename=g?V.win32.basename:V.posix.basename,V.extname=g?V.win32.extname:V.posix.extname,V.format=g?V.win32.format:V.posix.format,V.parse=g?V.win32.parse:V.posix.parse,V.toNamespacedPath=g?V.win32.toNamespacedPath:V.posix.toNamespacedPath,V.sep=g?V.win32.sep:V.posix.sep,V.delimiter=g?V.win32.delimiter:V.posix.delimiter},821:(s,V,T)=>{"use strict";var $;var R=T(65606);//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(V,"__esModule",{value:!0}),V.isAndroid=V.isEdge=V.isSafari=V.isFirefox=V.isChrome=V.OS=V.setTimeout0=V.setTimeout0IsFaster=V.translationsConfigFile=V.platformLocale=V.locale=V.Language=V.language=V.userAgent=V.platform=V.isCI=V.isMobile=V.isIOS=V.webWorkerOrigin=V.isWebWorker=V.isWeb=V.isElectron=V.isNative=V.isLinuxSnap=V.isLinux=V.isMacintosh=V.isWindows=V.LANGUAGE_DEFAULT=void 0,V.PlatformToString=L,V.isLittleEndian=Y,V.isBigSurOrNewer=M;const A=T(69175);V.LANGUAGE_DEFAULT="en";let P=!1,S=!1,d=!1,c=!1,f=!1,h=!1,k=!1,y=!1,u=!1,_=!1,m,g=V.LANGUAGE_DEFAULT,p=V.LANGUAGE_DEFAULT,N,E;const x=globalThis;let F;typeof x.vscode!="undefined"&&typeof x.vscode.process!="undefined"?F=x.vscode.process:typeof R!="undefined"&&(F=R);const W=typeof(($=F==null?void 0:F.versions)==null?void 0:$.electron)=="string",b=W&&(F==null?void 0:F.type)==="renderer";if(typeof F=="object"){P=F.platform==="win32",S=F.platform==="darwin",d=F.platform==="linux",c=d&&!!F.env.SNAP&&!!F.env.SNAP_REVISION,k=W,u=!!F.env.CI||!!F.env.BUILD_ARTIFACTSTAGINGDIRECTORY,m=V.LANGUAGE_DEFAULT,g=V.LANGUAGE_DEFAULT;const C=F.env.VSCODE_NLS_CONFIG;if(C)try{const l=JSON.parse(C),w=l.availableLanguages["*"];m=l.locale,p=l.osLocale,g=w||V.LANGUAGE_DEFAULT,N=l._translationsConfigFile}catch{}f=!0}else typeof navigator=="object"&&!b?(E=navigator.userAgent,P=E.indexOf("Windows")>=0,S=E.indexOf("Macintosh")>=0,y=(E.indexOf("Macintosh")>=0||E.indexOf("iPad")>=0||E.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,d=E.indexOf("Linux")>=0,_=(E==null?void 0:E.indexOf("Mobi"))>=0,h=!0,m=A.getConfiguredDefaultLocale(A.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||V.LANGUAGE_DEFAULT,g=m,p=navigator.language):console.error("Unable to resolve platform.");function L(C){switch(C){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}let z=0;S?z=1:P?z=3:d&&(z=2),V.isWindows=P,V.isMacintosh=S,V.isLinux=d,V.isLinuxSnap=c,V.isNative=f,V.isElectron=k,V.isWeb=h,V.isWebWorker=h&&typeof x.importScripts=="function",V.webWorkerOrigin=V.isWebWorker?x.origin:void 0,V.isIOS=y,V.isMobile=_,V.isCI=u,V.platform=z,V.userAgent=E,V.language=g;var K;(function(C){function l(){return V.language}C.value=l;function w(){return V.language.length===2?V.language==="en":V.language.length>=3?V.language[0]==="e"&&V.language[1]==="n"&&V.language[2]==="-":!1}C.isDefaultVariant=w;function D(){return V.language==="en"}C.isDefault=D})(K||(V.Language=K={})),V.locale=m,V.platformLocale=p,V.translationsConfigFile=N,V.setTimeout0IsFaster=typeof x.postMessage=="function"&&!x.importScripts,V.setTimeout0=(()=>{if(V.setTimeout0IsFaster){const C=[];x.addEventListener("message",w=>{if(w.data&&w.data.vscodeScheduleAsyncWork)for(let D=0,q=C.length;D<q;D++){const j=C[D];if(j.id===w.data.vscodeScheduleAsyncWork){C.splice(D,1),j.callback();return}}});let l=0;return w=>{const D=++l;C.push({id:D,callback:w}),x.postMessage({vscodeScheduleAsyncWork:D},"*")}}return C=>setTimeout(C)})(),V.OS=S||y?2:P?1:3;let J=!0,ie=!1;function Y(){if(!ie){ie=!0;const C=new Uint8Array(2);C[0]=1,C[1]=2,J=new Uint16Array(C.buffer)[0]===513}return J}V.isChrome=!!(V.userAgent&&V.userAgent.indexOf("Chrome")>=0),V.isFirefox=!!(V.userAgent&&V.userAgent.indexOf("Firefox")>=0),V.isSafari=!!(!V.isChrome&&V.userAgent&&V.userAgent.indexOf("Safari")>=0),V.isEdge=!!(V.userAgent&&V.userAgent.indexOf("Edg/")>=0),V.isAndroid=!!(V.userAgent&&V.userAgent.indexOf("Android")>=0);function M(C){return parseFloat(C)>=20}},13:(s,V,T)=>{"use strict";var R=T(65606);//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(V,"__esModule",{value:!0}),V.arch=V.platform=V.env=V.cwd=void 0;const A=T(821);let P;const S=globalThis.vscode;if(typeof S!="undefined"&&typeof S.process!="undefined"){const d=S.process;P={get platform(){return d.platform},get arch(){return d.arch},get env(){return d.env},cwd(){return d.cwd()}}}else typeof R!="undefined"?P={get platform(){return R.platform},get arch(){return R.arch},get env(){return R.env},cwd(){return R.env.VSCODE_CWD||R.cwd()}}:P={get platform(){return A.isWindows?"win32":A.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};V.cwd=P.cwd,V.env=P.env,V.platform=P.platform,V.arch=P.arch},84326:(s,V,T)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(V,"__esModule",{value:!0}),V.URI=void 0,V.isUriComponents=m,V.uriToFsPath=F;const R=T(22177),A=T(821),P=/^\w[\w\d+.-]*$/,S=/^\//,d=/^\/\//;function c(K,J){if(!K.scheme&&J)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${K.authority}", path: "${K.path}", query: "${K.query}", fragment: "${K.fragment}"}`);if(K.scheme&&!P.test(K.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(K.path){if(K.authority){if(!S.test(K.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(d.test(K.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function f(K,J){return!K&&!J?"file":K}function h(K,J){switch(K){case"https":case"http":case"file":J?J[0]!==y&&(J=y+J):J=y;break}return J}const k="",y="/",u=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class _{constructor(J,ie,Y,M,$,C=!1){xt(this,"scheme");xt(this,"authority");xt(this,"path");xt(this,"query");xt(this,"fragment");typeof J=="object"?(this.scheme=J.scheme||k,this.authority=J.authority||k,this.path=J.path||k,this.query=J.query||k,this.fragment=J.fragment||k):(this.scheme=f(J,C),this.authority=ie||k,this.path=h(this.scheme,Y||k),this.query=M||k,this.fragment=$||k,c(this,C))}static isUri(J){return J instanceof _?!0:J?typeof J.authority=="string"&&typeof J.fragment=="string"&&typeof J.path=="string"&&typeof J.query=="string"&&typeof J.scheme=="string"&&typeof J.fsPath=="string"&&typeof J.with=="function"&&typeof J.toString=="function":!1}get fsPath(){return F(this,!1)}with(J){if(!J)return this;let{scheme:ie,authority:Y,path:M,query:$,fragment:C}=J;return ie===void 0?ie=this.scheme:ie===null&&(ie=k),Y===void 0?Y=this.authority:Y===null&&(Y=k),M===void 0?M=this.path:M===null&&(M=k),$===void 0?$=this.query:$===null&&($=k),C===void 0?C=this.fragment:C===null&&(C=k),ie===this.scheme&&Y===this.authority&&M===this.path&&$===this.query&&C===this.fragment?this:new p(ie,Y,M,$,C)}static parse(J,ie=!1){const Y=u.exec(J);return Y?new p(Y[2]||k,z(Y[4]||k),z(Y[5]||k),z(Y[7]||k),z(Y[9]||k),ie):new p(k,k,k,k,k)}static file(J){let ie=k;if(A.isWindows&&(J=J.replace(/\\/g,y)),J[0]===y&&J[1]===y){const Y=J.indexOf(y,2);Y===-1?(ie=J.substring(2),J=y):(ie=J.substring(2,Y),J=J.substring(Y)||y)}return new p("file",ie,J,k,k)}static from(J,ie){return new p(J.scheme,J.authority,J.path,J.query,J.fragment,ie)}static joinPath(J,...ie){if(!J.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let Y;return A.isWindows&&J.scheme==="file"?Y=_.file(R.win32.join(F(J,!0),...ie)).path:Y=R.posix.join(J.path,...ie),J.with({path:Y})}toString(J=!1){return W(this,J)}toJSON(){return this}static revive(J){var ie,Y;if(J){if(J instanceof _)return J;{const M=new p(J);return M._formatted=(ie=J.external)!=null?ie:null,M._fsPath=J._sep===g&&(Y=J.fsPath)!=null?Y:null,M}}else return J}}V.URI=_;function m(K){return!K||typeof K!="object"?!1:typeof K.scheme=="string"&&(typeof K.authority=="string"||typeof K.authority=="undefined")&&(typeof K.path=="string"||typeof K.path=="undefined")&&(typeof K.query=="string"||typeof K.query=="undefined")&&(typeof K.fragment=="string"||typeof K.fragment=="undefined")}const g=A.isWindows?1:void 0;class p extends _{constructor(){super(...arguments);xt(this,"_formatted",null);xt(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=F(this,!1)),this._fsPath}toString(ie=!1){return ie?W(this,!0):(this._formatted||(this._formatted=W(this,!1)),this._formatted)}toJSON(){const ie={$mid:1};return this._fsPath&&(ie.fsPath=this._fsPath,ie._sep=g),this._formatted&&(ie.external=this._formatted),this.path&&(ie.path=this.path),this.scheme&&(ie.scheme=this.scheme),this.authority&&(ie.authority=this.authority),this.query&&(ie.query=this.query),this.fragment&&(ie.fragment=this.fragment),ie}}const N={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function E(K,J,ie){let Y,M=-1;for(let $=0;$<K.length;$++){const C=K.charCodeAt($);if(C>=97&&C<=122||C>=65&&C<=90||C>=48&&C<=57||C===45||C===46||C===95||C===126||J&&C===47||ie&&C===91||ie&&C===93||ie&&C===58)M!==-1&&(Y+=encodeURIComponent(K.substring(M,$)),M=-1),Y!==void 0&&(Y+=K.charAt($));else{Y===void 0&&(Y=K.substr(0,$));const l=N[C];l!==void 0?(M!==-1&&(Y+=encodeURIComponent(K.substring(M,$)),M=-1),Y+=l):M===-1&&(M=$)}}return M!==-1&&(Y+=encodeURIComponent(K.substring(M))),Y!==void 0?Y:K}function x(K){let J;for(let ie=0;ie<K.length;ie++){const Y=K.charCodeAt(ie);Y===35||Y===63?(J===void 0&&(J=K.substr(0,ie)),J+=N[Y]):J!==void 0&&(J+=K[ie])}return J!==void 0?J:K}function F(K,J){let ie;return K.authority&&K.path.length>1&&K.scheme==="file"?ie=`//${K.authority}${K.path}`:K.path.charCodeAt(0)===47&&(K.path.charCodeAt(1)>=65&&K.path.charCodeAt(1)<=90||K.path.charCodeAt(1)>=97&&K.path.charCodeAt(1)<=122)&&K.path.charCodeAt(2)===58?J?ie=K.path.substr(1):ie=K.path[1].toLowerCase()+K.path.substr(2):ie=K.path,A.isWindows&&(ie=ie.replace(/\//g,"\\")),ie}function W(K,J){const ie=J?x:E;let Y="",{scheme:M,authority:$,path:C,query:l,fragment:w}=K;if(M&&(Y+=M,Y+=":"),($||M==="file")&&(Y+=y,Y+=y),$){let D=$.indexOf("@");if(D!==-1){const q=$.substr(0,D);$=$.substr(D+1),D=q.lastIndexOf(":"),D===-1?Y+=ie(q,!1,!1):(Y+=ie(q.substr(0,D),!1,!1),Y+=":",Y+=ie(q.substr(D+1),!1,!0)),Y+="@"}$=$.toLowerCase(),D=$.lastIndexOf(":"),D===-1?Y+=ie($,!1,!0):(Y+=ie($.substr(0,D),!1,!0),Y+=$.substr(D))}if(C){if(C.length>=3&&C.charCodeAt(0)===47&&C.charCodeAt(2)===58){const D=C.charCodeAt(1);D>=65&&D<=90&&(C=`/${String.fromCharCode(D+32)}:${C.substr(3)}`)}else if(C.length>=2&&C.charCodeAt(1)===58){const D=C.charCodeAt(0);D>=65&&D<=90&&(C=`${String.fromCharCode(D+32)}:${C.substr(2)}`)}Y+=ie(C,!0,!1)}return l&&(Y+="?",Y+=ie(l,!1,!1)),w&&(Y+="#",Y+=J?w:E(w,!1,!1)),Y}function b(K){try{return decodeURIComponent(K)}catch{return K.length>3?K.substr(0,3)+b(K.substr(3)):K}}const L=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function z(K){return K.match(L)?K.replace(L,J=>b(J)):K}},69175:(s,V)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(V,"__esModule",{value:!0}),V.localize=R,V.localize2=A,V.getConfiguredDefaultLocale=P;function T(S,d){let c;return d.length===0?c=S:c=S.replace(/\{(\d+)\}/g,function(f,h){const k=h[0];return typeof d[k]!="undefined"?d[k]:f}),c}function R(S,d,...c){return T(d,c)}function A(S,d,...c){const f=T(d,c);return{original:f,value:f}}function P(S){}},87568:(s,V,T)=>{"use strict";const R=V;R.bignum=T(39404),R.define=T(47363).define,R.base=T(9673),R.constants=T(22153),R.decoders=T(22853),R.encoders=T(24669)},47363:(s,V,T)=>{"use strict";const R=T(24669),A=T(22853),P=T(56698),S=V;S.define=function(f,h){return new d(f,h)};function d(c,f){this.name=c,this.body=f,this.decoders={},this.encoders={}}d.prototype._createNamed=function(f){const h=this.name;function k(y){this._initNamed(y,h)}return P(k,f),k.prototype._initNamed=function(u,_){f.call(this,u,_)},new k(this)},d.prototype._getDecoder=function(f){return f=f||"der",this.decoders.hasOwnProperty(f)||(this.decoders[f]=this._createNamed(A[f])),this.decoders[f]},d.prototype.decode=function(f,h,k){return this._getDecoder(h).decode(f,k)},d.prototype._getEncoder=function(f){return f=f||"der",this.encoders.hasOwnProperty(f)||(this.encoders[f]=this._createNamed(R[f])),this.encoders[f]},d.prototype.encode=function(f,h,k){return this._getEncoder(h).encode(f,k)}},47227:(s,V,T)=>{"use strict";const R=T(56698),A=T(89220).a,P=T(54774).Buffer;function S(c,f){if(A.call(this,f),!P.isBuffer(c)){this.error("Input not Buffer");return}this.base=c,this.offset=0,this.length=c.length}R(S,A),V.t=S,S.isDecoderBuffer=function(f){return f instanceof S?!0:typeof f=="object"&&P.isBuffer(f.base)&&f.constructor.name==="DecoderBuffer"&&typeof f.offset=="number"&&typeof f.length=="number"&&typeof f.save=="function"&&typeof f.restore=="function"&&typeof f.isEmpty=="function"&&typeof f.readUInt8=="function"&&typeof f.skip=="function"&&typeof f.raw=="function"},S.prototype.save=function(){return{offset:this.offset,reporter:A.prototype.save.call(this)}},S.prototype.restore=function(f){const h=new S(this.base);return h.offset=f.offset,h.length=this.offset,this.offset=f.offset,A.prototype.restore.call(this,f.reporter),h},S.prototype.isEmpty=function(){return this.offset===this.length},S.prototype.readUInt8=function(f){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(f||"DecoderBuffer overrun")},S.prototype.skip=function(f,h){if(!(this.offset+f<=this.length))return this.error(h||"DecoderBuffer overrun");const k=new S(this.base);return k._reporterState=this._reporterState,k.offset=this.offset,k.length=this.offset+f,this.offset+=f,k},S.prototype.raw=function(f){return this.base.slice(f?f.offset:this.offset,this.length)};function d(c,f){if(Array.isArray(c))this.length=0,this.value=c.map(function(h){return d.isEncoderBuffer(h)||(h=new d(h,f)),this.length+=h.length,h},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return f.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=P.byteLength(c);else if(P.isBuffer(c))this.value=c,this.length=c.length;else return f.error("Unsupported type: "+typeof c)}V.d=d,d.isEncoderBuffer=function(f){return f instanceof d?!0:typeof f=="object"&&f.constructor.name==="EncoderBuffer"&&typeof f.length=="number"&&typeof f.join=="function"},d.prototype.join=function(f,h){return f||(f=P.alloc(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(k){k.join(f,h),h+=k.length}):(typeof this.value=="number"?f[h]=this.value:typeof this.value=="string"?f.write(this.value,h):P.isBuffer(this.value)&&this.value.copy(f,h),h+=this.length)),f}},9673:(s,V,T)=>{"use strict";const R=V;R.Reporter=T(89220).a,R.DecoderBuffer=T(47227).t,R.EncoderBuffer=T(47227).d,R.Node=T(90993)},90993:(s,V,T)=>{"use strict";const R=T(89220).a,A=T(47227).d,P=T(47227).t,S=T(43349),d=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(d),f=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function h(y,u,_){const m={};this._baseState=m,m.name=_,m.enc=y,m.parent=u||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}s.exports=h;const k=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const u=this._baseState,_={};k.forEach(function(g){_[g]=u[g]});const m=new this.constructor(_.parent);return m._baseState=_,m},h.prototype._wrap=function(){const u=this._baseState;c.forEach(function(_){this[_]=function(){const g=new this.constructor(this);return u.children.push(g),g[_].apply(g,arguments)}},this)},h.prototype._init=function(u){const _=this._baseState;S(_.parent===null),u.call(this),_.children=_.children.filter(function(m){return m._baseState.parent===this},this),S.equal(_.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(u){const _=this._baseState,m=u.filter(function(g){return g instanceof this.constructor},this);u=u.filter(function(g){return!(g instanceof this.constructor)},this),m.length!==0&&(S(_.children===null),_.children=m,m.forEach(function(g){g._baseState.parent=this},this)),u.length!==0&&(S(_.args===null),_.args=u,_.reverseArgs=u.map(function(g){if(typeof g!="object"||g.constructor!==Object)return g;const p={};return Object.keys(g).forEach(function(N){N==(N|0)&&(N|=0);const E=g[N];p[E]=N}),p}))},f.forEach(function(y){h.prototype[y]=function(){const _=this._baseState;throw new Error(y+" not implemented for encoding: "+_.enc)}}),d.forEach(function(y){h.prototype[y]=function(){const _=this._baseState,m=Array.prototype.slice.call(arguments);return S(_.tag===null),_.tag=y,this._useArgs(m),this}}),h.prototype.use=function(u){S(u);const _=this._baseState;return S(_.use===null),_.use=u,this},h.prototype.optional=function(){const u=this._baseState;return u.optional=!0,this},h.prototype.def=function(u){const _=this._baseState;return S(_.default===null),_.default=u,_.optional=!0,this},h.prototype.explicit=function(u){const _=this._baseState;return S(_.explicit===null&&_.implicit===null),_.explicit=u,this},h.prototype.implicit=function(u){const _=this._baseState;return S(_.explicit===null&&_.implicit===null),_.implicit=u,this},h.prototype.obj=function(){const u=this._baseState,_=Array.prototype.slice.call(arguments);return u.obj=!0,_.length!==0&&this._useArgs(_),this},h.prototype.key=function(u){const _=this._baseState;return S(_.key===null),_.key=u,this},h.prototype.any=function(){const u=this._baseState;return u.any=!0,this},h.prototype.choice=function(u){const _=this._baseState;return S(_.choice===null),_.choice=u,this._useArgs(Object.keys(u).map(function(m){return u[m]})),this},h.prototype.contains=function(u){const _=this._baseState;return S(_.use===null),_.contains=u,this},h.prototype._decode=function(u,_){const m=this._baseState;if(m.parent===null)return u.wrapResult(m.children[0]._decode(u,_));let g=m.default,p=!0,N=null;if(m.key!==null&&(N=u.enterKey(m.key)),m.optional){let x=null;if(m.explicit!==null?x=m.explicit:m.implicit!==null?x=m.implicit:m.tag!==null&&(x=m.tag),x===null&&!m.any){const F=u.save();try{m.choice===null?this._decodeGeneric(m.tag,u,_):this._decodeChoice(u,_),p=!0}catch{p=!1}u.restore(F)}else if(p=this._peekTag(u,x,m.any),u.isError(p))return p}let E;if(m.obj&&p&&(E=u.enterObject()),p){if(m.explicit!==null){const F=this._decodeTag(u,m.explicit);if(u.isError(F))return F;u=F}const x=u.offset;if(m.use===null&&m.choice===null){let F;m.any&&(F=u.save());const W=this._decodeTag(u,m.implicit!==null?m.implicit:m.tag,m.any);if(u.isError(W))return W;m.any?g=u.raw(F):u=W}if(_&&_.track&&m.tag!==null&&_.track(u.path(),x,u.length,"tagged"),_&&_.track&&m.tag!==null&&_.track(u.path(),u.offset,u.length,"content"),m.any||(m.choice===null?g=this._decodeGeneric(m.tag,u,_):g=this._decodeChoice(u,_)),u.isError(g))return g;if(!m.any&&m.choice===null&&m.children!==null&&m.children.forEach(function(W){W._decode(u,_)}),m.contains&&(m.tag==="octstr"||m.tag==="bitstr")){const F=new P(g);g=this._getUse(m.contains,u._reporterState.obj)._decode(F,_)}}return m.obj&&p&&(g=u.leaveObject(E)),m.key!==null&&(g!==null||p===!0)?u.leaveKey(N,m.key,g):N!==null&&u.exitKey(N),g},h.prototype._decodeGeneric=function(u,_,m){const g=this._baseState;return u==="seq"||u==="set"?null:u==="seqof"||u==="setof"?this._decodeList(_,u,g.args[0],m):/str$/.test(u)?this._decodeStr(_,u,m):u==="objid"&&g.args?this._decodeObjid(_,g.args[0],g.args[1],m):u==="objid"?this._decodeObjid(_,null,null,m):u==="gentime"||u==="utctime"?this._decodeTime(_,u,m):u==="null_"?this._decodeNull(_,m):u==="bool"?this._decodeBool(_,m):u==="objDesc"?this._decodeStr(_,u,m):u==="int"||u==="enum"?this._decodeInt(_,g.args&&g.args[0],m):g.use!==null?this._getUse(g.use,_._reporterState.obj)._decode(_,m):_.error("unknown tag: "+u)},h.prototype._getUse=function(u,_){const m=this._baseState;return m.useDecoder=this._use(u,_),S(m.useDecoder._baseState.parent===null),m.useDecoder=m.useDecoder._baseState.children[0],m.implicit!==m.useDecoder._baseState.implicit&&(m.useDecoder=m.useDecoder.clone(),m.useDecoder._baseState.implicit=m.implicit),m.useDecoder},h.prototype._decodeChoice=function(u,_){const m=this._baseState;let g=null,p=!1;return Object.keys(m.choice).some(function(N){const E=u.save(),x=m.choice[N];try{const F=x._decode(u,_);if(u.isError(F))return!1;g={type:N,value:F},p=!0}catch{return u.restore(E),!1}return!0},this),p?g:u.error("Choice not matched")},h.prototype._createEncoderBuffer=function(u){return new A(u,this.reporter)},h.prototype._encode=function(u,_,m){const g=this._baseState;if(g.default!==null&&g.default===u)return;const p=this._encodeValue(u,_,m);if(p!==void 0&&!this._skipDefault(p,_,m))return p},h.prototype._encodeValue=function(u,_,m){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(u,_||new R);let p=null;if(this.reporter=_,g.optional&&u===void 0)if(g.default!==null)u=g.default;else return;let N=null,E=!1;if(g.any)p=this._createEncoderBuffer(u);else if(g.choice)p=this._encodeChoice(u,_);else if(g.contains)N=this._getUse(g.contains,m)._encode(u,_),E=!0;else if(g.children)N=g.children.map(function(x){if(x._baseState.tag==="null_")return x._encode(null,_,u);if(x._baseState.key===null)return _.error("Child should have a key");const F=_.enterKey(x._baseState.key);if(typeof u!="object")return _.error("Child expected, but input is not object");const W=x._encode(u[x._baseState.key],_,u);return _.leaveKey(F),W},this).filter(function(x){return x}),N=this._createEncoderBuffer(N);else if(g.tag==="seqof"||g.tag==="setof"){if(!(g.args&&g.args.length===1))return _.error("Too many args for : "+g.tag);if(!Array.isArray(u))return _.error("seqof/setof, but data is not Array");const x=this.clone();x._baseState.implicit=null,N=this._createEncoderBuffer(u.map(function(F){const W=this._baseState;return this._getUse(W.args[0],u)._encode(F,_)},x))}else g.use!==null?p=this._getUse(g.use,m)._encode(u,_):(N=this._encodePrimitive(g.tag,u),E=!0);if(!g.any&&g.choice===null){const x=g.implicit!==null?g.implicit:g.tag,F=g.implicit===null?"universal":"context";x===null?g.use===null&&_.error("Tag could be omitted only for .use()"):g.use===null&&(p=this._encodeComposite(x,E,F,N))}return g.explicit!==null&&(p=this._encodeComposite(g.explicit,!1,"context",p)),p},h.prototype._encodeChoice=function(u,_){const m=this._baseState,g=m.choice[u.type];return g||S(!1,u.type+" not found in "+JSON.stringify(Object.keys(m.choice))),g._encode(u.value,_)},h.prototype._encodePrimitive=function(u,_){const m=this._baseState;if(/str$/.test(u))return this._encodeStr(_,u);if(u==="objid"&&m.args)return this._encodeObjid(_,m.reverseArgs[0],m.args[1]);if(u==="objid")return this._encodeObjid(_,null,null);if(u==="gentime"||u==="utctime")return this._encodeTime(_,u);if(u==="null_")return this._encodeNull();if(u==="int"||u==="enum")return this._encodeInt(_,m.args&&m.reverseArgs[0]);if(u==="bool")return this._encodeBool(_);if(u==="objDesc")return this._encodeStr(_,u);throw new Error("Unsupported tag: "+u)},h.prototype._isNumstr=function(u){return/^[0-9 ]*$/.test(u)},h.prototype._isPrintstr=function(u){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(u)}},89220:(s,V,T)=>{"use strict";const R=T(56698);function A(S){this._reporterState={obj:null,path:[],options:S||{},errors:[]}}V.a=A,A.prototype.isError=function(d){return d instanceof P},A.prototype.save=function(){const d=this._reporterState;return{obj:d.obj,pathLen:d.path.length}},A.prototype.restore=function(d){const c=this._reporterState;c.obj=d.obj,c.path=c.path.slice(0,d.pathLen)},A.prototype.enterKey=function(d){return this._reporterState.path.push(d)},A.prototype.exitKey=function(d){const c=this._reporterState;c.path=c.path.slice(0,d-1)},A.prototype.leaveKey=function(d,c,f){const h=this._reporterState;this.exitKey(d),h.obj!==null&&(h.obj[c]=f)},A.prototype.path=function(){return this._reporterState.path.join("/")},A.prototype.enterObject=function(){const d=this._reporterState,c=d.obj;return d.obj={},c},A.prototype.leaveObject=function(d){const c=this._reporterState,f=c.obj;return c.obj=d,f},A.prototype.error=function(d){let c;const f=this._reporterState,h=d instanceof P;if(h?c=d:c=new P(f.path.map(function(k){return"["+JSON.stringify(k)+"]"}).join(""),d.message||d,d.stack),!f.options.partial)throw c;return h||f.errors.push(c),c},A.prototype.wrapResult=function(d){const c=this._reporterState;return c.options.partial?{result:this.isError(d)?null:d,errors:c.errors}:d};function P(S,d){this.path=S,this.rethrow(d)}R(P,Error),P.prototype.rethrow=function(d){if(this.message=d+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,P),!this.stack)try{throw new Error(this.message)}catch(c){this.stack=c.stack}return this}},74598:(s,V)=>{"use strict";function T(R){const A={};return Object.keys(R).forEach(function(P){(P|0)==P&&(P=P|0);const S=R[P];A[S]=P}),A}V.tagClass={0:"universal",1:"application",2:"context",3:"private"},V.tagClassByName=T(V.tagClass),V.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},V.tagByName=T(V.tag)},22153:(s,V,T)=>{"use strict";const R=V;R._reverse=function(P){const S={};return Object.keys(P).forEach(function(d){(d|0)==d&&(d=d|0);const c=P[d];S[c]=d}),S},R.der=T(74598)},62010:(s,V,T)=>{"use strict";const R=T(56698),A=T(39404),P=T(47227).t,S=T(90993),d=T(74598);function c(y){this.enc="der",this.name=y.name,this.entity=y,this.tree=new f,this.tree._init(y.body)}s.exports=c,c.prototype.decode=function(u,_){return P.isDecoderBuffer(u)||(u=new P(u,_)),this.tree._decode(u,_)};function f(y){S.call(this,"der",y)}R(f,S),f.prototype._peekTag=function(u,_,m){if(u.isEmpty())return!1;const g=u.save(),p=h(u,'Failed to peek tag: "'+_+'"');return u.isError(p)?p:(u.restore(g),p.tag===_||p.tagStr===_||p.tagStr+"of"===_||m)},f.prototype._decodeTag=function(u,_,m){const g=h(u,'Failed to decode tag of "'+_+'"');if(u.isError(g))return g;let p=k(u,g.primitive,'Failed to get length of "'+_+'"');if(u.isError(p))return p;if(!m&&g.tag!==_&&g.tagStr!==_&&g.tagStr+"of"!==_)return u.error('Failed to match tag: "'+_+'"');if(g.primitive||p!==null)return u.skip(p,'Failed to match body of: "'+_+'"');const N=u.save(),E=this._skipUntilEnd(u,'Failed to skip indefinite length body: "'+this.tag+'"');return u.isError(E)?E:(p=u.offset-N.offset,u.restore(N),u.skip(p,'Failed to match body of: "'+_+'"'))},f.prototype._skipUntilEnd=function(u,_){for(;;){const m=h(u,_);if(u.isError(m))return m;const g=k(u,m.primitive,_);if(u.isError(g))return g;let p;if(m.primitive||g!==null?p=u.skip(g):p=this._skipUntilEnd(u,_),u.isError(p))return p;if(m.tagStr==="end")break}},f.prototype._decodeList=function(u,_,m,g){const p=[];for(;!u.isEmpty();){const N=this._peekTag(u,"end");if(u.isError(N))return N;const E=m.decode(u,"der",g);if(u.isError(E)&&N)break;p.push(E)}return p},f.prototype._decodeStr=function(u,_){if(_==="bitstr"){const m=u.readUInt8();return u.isError(m)?m:{unused:m,data:u.raw()}}else if(_==="bmpstr"){const m=u.raw();if(m.length%2===1)return u.error("Decoding of string type: bmpstr length mismatch");let g="";for(let p=0;p<m.length/2;p++)g+=String.fromCharCode(m.readUInt16BE(p*2));return g}else if(_==="numstr"){const m=u.raw().toString("ascii");return this._isNumstr(m)?m:u.error("Decoding of string type: numstr unsupported characters")}else{if(_==="octstr")return u.raw();if(_==="objDesc")return u.raw();if(_==="printstr"){const m=u.raw().toString("ascii");return this._isPrintstr(m)?m:u.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(_)?u.raw().toString():u.error("Decoding of string type: "+_+" unsupported")}},f.prototype._decodeObjid=function(u,_,m){let g;const p=[];let N=0,E=0;for(;!u.isEmpty();)E=u.readUInt8(),N<<=7,N|=E&127,E&128||(p.push(N),N=0);E&128&&p.push(N);const x=p[0]/40|0,F=p[0]%40;if(m?g=p:g=[x,F].concat(p.slice(1)),_){let W=_[g.join(" ")];W===void 0&&(W=_[g.join(".")]),W!==void 0&&(g=W)}return g},f.prototype._decodeTime=function(u,_){const m=u.raw().toString();let g,p,N,E,x,F;if(_==="gentime")g=m.slice(0,4)|0,p=m.slice(4,6)|0,N=m.slice(6,8)|0,E=m.slice(8,10)|0,x=m.slice(10,12)|0,F=m.slice(12,14)|0;else if(_==="utctime")g=m.slice(0,2)|0,p=m.slice(2,4)|0,N=m.slice(4,6)|0,E=m.slice(6,8)|0,x=m.slice(8,10)|0,F=m.slice(10,12)|0,g<70?g=2e3+g:g=1900+g;else return u.error("Decoding "+_+" time is not supported yet");return Date.UTC(g,p-1,N,E,x,F,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(u){const _=u.readUInt8();return u.isError(_)?_:_!==0},f.prototype._decodeInt=function(u,_){const m=u.raw();let g=new A(m);return _&&(g=_[g.toString(10)]||g),g},f.prototype._use=function(u,_){return typeof u=="function"&&(u=u(_)),u._getDecoder("der").tree};function h(y,u){let _=y.readUInt8(u);if(y.isError(_))return _;const m=d.tagClass[_>>6],g=(_&32)===0;if((_&31)===31){let N=_;for(_=0;(N&128)===128;){if(N=y.readUInt8(u),y.isError(N))return N;_<<=7,_|=N&127}}else _&=31;const p=d.tag[_];return{cls:m,primitive:g,tag:_,tagStr:p}}function k(y,u,_){let m=y.readUInt8(_);if(y.isError(m))return m;if(!u&&m===128)return null;if(!(m&128))return m;const g=m&127;if(g>4)return y.error("length octect is too long");m=0;for(let p=0;p<g;p++){m<<=8;const N=y.readUInt8(_);if(y.isError(N))return N;m|=N}return m}},22853:(s,V,T)=>{"use strict";const R=V;R.der=T(62010),R.pem=T(58903)},58903:(s,V,T)=>{"use strict";const R=T(56698),A=T(54774).Buffer,P=T(62010);function S(d){P.call(this,d),this.enc="pem"}R(S,P),s.exports=S,S.prototype.decode=function(c,f){const h=c.toString().split(/[\r\n]+/g),k=f.label.toUpperCase(),y=/^-----(BEGIN|END) ([^-]+)-----$/;let u=-1,_=-1;for(let p=0;p<h.length;p++){const N=h[p].match(y);if(N!==null&&N[2]===k)if(u===-1){if(N[1]!=="BEGIN")break;u=p}else{if(N[1]!=="END")break;_=p;break}}if(u===-1||_===-1)throw new Error("PEM section not found for: "+k);const m=h.slice(u+1,_).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const g=A.from(m,"base64");return P.prototype.decode.call(this,g,f)}},70082:(s,V,T)=>{"use strict";const R=T(56698),A=T(54774).Buffer,P=T(90993),S=T(74598);function d(k){this.enc="der",this.name=k.name,this.entity=k,this.tree=new c,this.tree._init(k.body)}s.exports=d,d.prototype.encode=function(y,u){return this.tree._encode(y,u).join()};function c(k){P.call(this,"der",k)}R(c,P),c.prototype._encodeComposite=function(y,u,_,m){const g=h(y,u,_,this.reporter);if(m.length<128){const E=A.alloc(2);return E[0]=g,E[1]=m.length,this._createEncoderBuffer([E,m])}let p=1;for(let E=m.length;E>=256;E>>=8)p++;const N=A.alloc(2+p);N[0]=g,N[1]=128|p;for(let E=1+p,x=m.length;x>0;E--,x>>=8)N[E]=x&255;return this._createEncoderBuffer([N,m])},c.prototype._encodeStr=function(y,u){if(u==="bitstr")return this._createEncoderBuffer([y.unused|0,y.data]);if(u==="bmpstr"){const _=A.alloc(y.length*2);for(let m=0;m<y.length;m++)_.writeUInt16BE(y.charCodeAt(m),m*2);return this._createEncoderBuffer(_)}else return u==="numstr"?this._isNumstr(y)?this._createEncoderBuffer(y):this.reporter.error("Encoding of string type: numstr supports only digits and space"):u==="printstr"?this._isPrintstr(y)?this._createEncoderBuffer(y):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(u)?this._createEncoderBuffer(y):u==="objDesc"?this._createEncoderBuffer(y):this.reporter.error("Encoding of string type: "+u+" unsupported")},c.prototype._encodeObjid=function(y,u,_){if(typeof y=="string"){if(!u)return this.reporter.error("string objid given, but no values map found");if(!u.hasOwnProperty(y))return this.reporter.error("objid not found in values map");y=u[y].split(/[\s.]+/g);for(let N=0;N<y.length;N++)y[N]|=0}else if(Array.isArray(y)){y=y.slice();for(let N=0;N<y.length;N++)y[N]|=0}if(!Array.isArray(y))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(y));if(!_){if(y[1]>=40)return this.reporter.error("Second objid identifier OOB");y.splice(0,2,y[0]*40+y[1])}let m=0;for(let N=0;N<y.length;N++){let E=y[N];for(m++;E>=128;E>>=7)m++}const g=A.alloc(m);let p=g.length-1;for(let N=y.length-1;N>=0;N--){let E=y[N];for(g[p--]=E&127;(E>>=7)>0;)g[p--]=128|E&127}return this._createEncoderBuffer(g)};function f(k){return k<10?"0"+k:k}c.prototype._encodeTime=function(y,u){let _;const m=new Date(y);return u==="gentime"?_=[f(m.getUTCFullYear()),f(m.getUTCMonth()+1),f(m.getUTCDate()),f(m.getUTCHours()),f(m.getUTCMinutes()),f(m.getUTCSeconds()),"Z"].join(""):u==="utctime"?_=[f(m.getUTCFullYear()%100),f(m.getUTCMonth()+1),f(m.getUTCDate()),f(m.getUTCHours()),f(m.getUTCMinutes()),f(m.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+u+" time is not supported yet"),this._encodeStr(_,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(y,u){if(typeof y=="string"){if(!u)return this.reporter.error("String int or enum given, but no values map");if(!u.hasOwnProperty(y))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(y));y=u[y]}if(typeof y!="number"&&!A.isBuffer(y)){const g=y.toArray();!y.sign&&g[0]&128&&g.unshift(0),y=A.from(g)}if(A.isBuffer(y)){let g=y.length;y.length===0&&g++;const p=A.alloc(g);return y.copy(p),y.length===0&&(p[0]=0),this._createEncoderBuffer(p)}if(y<128)return this._createEncoderBuffer(y);if(y<256)return this._createEncoderBuffer([0,y]);let _=1;for(let g=y;g>=256;g>>=8)_++;const m=new Array(_);for(let g=m.length-1;g>=0;g--)m[g]=y&255,y>>=8;return m[0]&128&&m.unshift(0),this._createEncoderBuffer(A.from(m))},c.prototype._encodeBool=function(y){return this._createEncoderBuffer(y?255:0)},c.prototype._use=function(y,u){return typeof y=="function"&&(y=y(u)),y._getEncoder("der").tree},c.prototype._skipDefault=function(y,u,_){const m=this._baseState;let g;if(m.default===null)return!1;const p=y.join();if(m.defaultBuffer===void 0&&(m.defaultBuffer=this._encodeValue(m.default,u,_).join()),p.length!==m.defaultBuffer.length)return!1;for(g=0;g<p.length;g++)if(p[g]!==m.defaultBuffer[g])return!1;return!0};function h(k,y,u,_){let m;if(k==="seqof"?k="seq":k==="setof"&&(k="set"),S.tagByName.hasOwnProperty(k))m=S.tagByName[k];else if(typeof k=="number"&&(k|0)===k)m=k;else return _.error("Unknown tag: "+k);return m>=31?_.error("Multi-octet tag encoding unsupported"):(y||(m|=32),m|=S.tagClassByName[u||"universal"]<<6,m)}},24669:(s,V,T)=>{"use strict";const R=V;R.der=T(70082),R.pem=T(90735)},90735:(s,V,T)=>{"use strict";const R=T(56698),A=T(70082);function P(S){A.call(this,S),this.enc="pem"}R(P,A),s.exports=P,P.prototype.encode=function(d,c){const h=A.prototype.encode.call(this,d).toString("base64"),k=["-----BEGIN "+c.label+"-----"];for(let y=0;y<h.length;y+=64)k.push(h.slice(y,y+64));return k.push("-----END "+c.label+"-----"),k.join(`
`)}},67526:(s,V)=>{"use strict";V.byteLength=f,V.toByteArray=k,V.fromByteArray=_;for(var T=[],R=[],A=typeof Uint8Array!="undefined"?Uint8Array:Array,P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,d=P.length;S<d;++S)T[S]=P[S],R[P.charCodeAt(S)]=S;R[45]=62,R[95]=63;function c(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=m.indexOf("=");p===-1&&(p=g);var N=p===g?0:4-p%4;return[p,N]}function f(m){var g=c(m),p=g[0],N=g[1];return(p+N)*3/4-N}function h(m,g,p){return(g+p)*3/4-p}function k(m){var g,p=c(m),N=p[0],E=p[1],x=new A(h(m,N,E)),F=0,W=E>0?N-4:N,b;for(b=0;b<W;b+=4)g=R[m.charCodeAt(b)]<<18|R[m.charCodeAt(b+1)]<<12|R[m.charCodeAt(b+2)]<<6|R[m.charCodeAt(b+3)],x[F++]=g>>16&255,x[F++]=g>>8&255,x[F++]=g&255;return E===2&&(g=R[m.charCodeAt(b)]<<2|R[m.charCodeAt(b+1)]>>4,x[F++]=g&255),E===1&&(g=R[m.charCodeAt(b)]<<10|R[m.charCodeAt(b+1)]<<4|R[m.charCodeAt(b+2)]>>2,x[F++]=g>>8&255,x[F++]=g&255),x}function y(m){return T[m>>18&63]+T[m>>12&63]+T[m>>6&63]+T[m&63]}function u(m,g,p){for(var N,E=[],x=g;x<p;x+=3)N=(m[x]<<16&16711680)+(m[x+1]<<8&65280)+(m[x+2]&255),E.push(y(N));return E.join("")}function _(m){for(var g,p=m.length,N=p%3,E=[],x=16383,F=0,W=p-N;F<W;F+=x)E.push(u(m,F,F+x>W?W:F+x));return N===1?(g=m[p-1],E.push(T[g>>2]+T[g<<4&63]+"==")):N===2&&(g=(m[p-2]<<8)+m[p-1],E.push(T[g>>10]+T[g>>4&63]+T[g<<2&63]+"=")),E.join("")}},80811:(s,V,T)=>{var R=T(84346),A=T(21640),P=T(25447),S=Function.bind,d=S.bind(S);function c(u,_,m){var g=d(P,null).apply(null,m?[_,m]:[_]);u.api={remove:g},u.remove=g,["before","error","after","wrap"].forEach(function(p){var N=m?[_,p,m]:[_,p];u[p]=u.api[p]=d(A,null).apply(null,N)})}function f(){var u="h",_={registry:{}},m=R.bind(null,_,u);return c(m,_,u),m}function h(){var u={registry:{}},_=R.bind(null,u);return c(_,u),_}var k=!1;function y(){return k||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),k=!0),h()}y.Singular=f.bind(),y.Collection=h.bind(),s.exports=y,s.exports.Hook=y,s.exports.Singular=y.Singular,s.exports.Collection=y.Collection},21640:s=>{s.exports=V;function V(T,R,A,P){var S=P;T.registry[A]||(T.registry[A]=[]),R==="before"&&(P=function(d,c){return Promise.resolve().then(S.bind(null,c)).then(d.bind(null,c))}),R==="after"&&(P=function(d,c){var f;return Promise.resolve().then(d.bind(null,c)).then(function(h){return f=h,S(f,c)}).then(function(){return f})}),R==="error"&&(P=function(d,c){return Promise.resolve().then(d.bind(null,c)).catch(function(f){return S(f,c)})}),T.registry[A].push({hook:P,orig:S})}},84346:s=>{s.exports=V;function V(T,R,A,P){if(typeof A!="function")throw new Error("method for before hook must be a function");return P||(P={}),Array.isArray(R)?R.reverse().reduce(function(S,d){return V.bind(null,T,d,S,P)},A)():Promise.resolve().then(function(){return T.registry[R]?T.registry[R].reduce(function(S,d){return d.hook.bind(null,S,P)},A)():A(P)})}},25447:s=>{s.exports=V;function V(T,R,A){if(T.registry[R]){var P=T.registry[R].map(function(S){return S.orig}).indexOf(A);P!==-1&&T.registry[R].splice(P,1)}}},39404:function(s,V,T){s=T.nmd(s),function(R,A){"use strict";function P(Y,M){if(!Y)throw new Error(M||"Assertion failed")}function S(Y,M){Y.super_=M;var $=function(){};$.prototype=M.prototype,Y.prototype=new $,Y.prototype.constructor=Y}function d(Y,M,$){if(d.isBN(Y))return Y;this.negative=0,this.words=null,this.length=0,this.red=null,Y!==null&&((M==="le"||M==="be")&&($=M,M=10),this._init(Y||0,M||10,$||"be"))}typeof R=="object"?R.exports=d:A.BN=d,d.BN=d,d.wordSize=26;var c;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?c=window.Buffer:c=T(47790).Buffer}catch{}d.isBN=function(M){return M instanceof d?!0:M!==null&&typeof M=="object"&&M.constructor.wordSize===d.wordSize&&Array.isArray(M.words)},d.max=function(M,$){return M.cmp($)>0?M:$},d.min=function(M,$){return M.cmp($)<0?M:$},d.prototype._init=function(M,$,C){if(typeof M=="number")return this._initNumber(M,$,C);if(typeof M=="object")return this._initArray(M,$,C);$==="hex"&&($=16),P($===($|0)&&$>=2&&$<=36),M=M.toString().replace(/\s+/g,"");var l=0;M[0]==="-"&&(l++,this.negative=1),l<M.length&&($===16?this._parseHex(M,l,C):(this._parseBase(M,$,l),C==="le"&&this._initArray(this.toArray(),$,C)))},d.prototype._initNumber=function(M,$,C){M<0&&(this.negative=1,M=-M),M<67108864?(this.words=[M&67108863],this.length=1):M<4503599627370496?(this.words=[M&67108863,M/67108864&67108863],this.length=2):(P(M<9007199254740992),this.words=[M&67108863,M/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),$,C)},d.prototype._initArray=function(M,$,C){if(P(typeof M.length=="number"),M.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(M.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var w,D,q=0;if(C==="be")for(l=M.length-1,w=0;l>=0;l-=3)D=M[l]|M[l-1]<<8|M[l-2]<<16,this.words[w]|=D<<q&67108863,this.words[w+1]=D>>>26-q&67108863,q+=24,q>=26&&(q-=26,w++);else if(C==="le")for(l=0,w=0;l<M.length;l+=3)D=M[l]|M[l+1]<<8|M[l+2]<<16,this.words[w]|=D<<q&67108863,this.words[w+1]=D>>>26-q&67108863,q+=24,q>=26&&(q-=26,w++);return this.strip()};function f(Y,M){var $=Y.charCodeAt(M);return $>=65&&$<=70?$-55:$>=97&&$<=102?$-87:$-48&15}function h(Y,M,$){var C=f(Y,$);return $-1>=M&&(C|=f(Y,$-1)<<4),C}d.prototype._parseHex=function(M,$,C){this.length=Math.ceil((M.length-$)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var w=0,D=0,q;if(C==="be")for(l=M.length-1;l>=$;l-=2)q=h(M,$,l)<<w,this.words[D]|=q&67108863,w>=18?(w-=18,D+=1,this.words[D]|=q>>>26):w+=8;else{var j=M.length-$;for(l=j%2===0?$+1:$;l<M.length;l+=2)q=h(M,$,l)<<w,this.words[D]|=q&67108863,w>=18?(w-=18,D+=1,this.words[D]|=q>>>26):w+=8}this.strip()};function k(Y,M,$,C){for(var l=0,w=Math.min(Y.length,$),D=M;D<w;D++){var q=Y.charCodeAt(D)-48;l*=C,q>=49?l+=q-49+10:q>=17?l+=q-17+10:l+=q}return l}d.prototype._parseBase=function(M,$,C){this.words=[0],this.length=1;for(var l=0,w=1;w<=67108863;w*=$)l++;l--,w=w/$|0;for(var D=M.length-C,q=D%l,j=Math.min(D,D-q)+C,H=0,Z=C;Z<j;Z+=l)H=k(M,Z,Z+l,$),this.imuln(w),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H);if(q!==0){var te=1;for(H=k(M,Z,M.length,$),Z=0;Z<q;Z++)te*=$;this.imuln(te),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H)}this.strip()},d.prototype.copy=function(M){M.words=new Array(this.length);for(var $=0;$<this.length;$++)M.words[$]=this.words[$];M.length=this.length,M.negative=this.negative,M.red=this.red},d.prototype.clone=function(){var M=new d(null);return this.copy(M),M},d.prototype._expand=function(M){for(;this.length<M;)this.words[this.length++]=0;return this},d.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},d.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(M,$){M=M||10,$=$|0||1;var C;if(M===16||M==="hex"){C="";for(var l=0,w=0,D=0;D<this.length;D++){var q=this.words[D],j=((q<<l|w)&16777215).toString(16);w=q>>>24-l&16777215,w!==0||D!==this.length-1?C=y[6-j.length]+j+C:C=j+C,l+=2,l>=26&&(l-=26,D--)}for(w!==0&&(C=w.toString(16)+C);C.length%$!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(M===(M|0)&&M>=2&&M<=36){var H=u[M],Z=_[M];C="";var te=this.clone();for(te.negative=0;!te.isZero();){var B=te.modn(Z).toString(M);te=te.idivn(Z),te.isZero()?C=B+C:C=y[H-B.length]+B+C}for(this.isZero()&&(C="0"+C);C.length%$!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}P(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var M=this.words[0];return this.length===2?M+=this.words[1]*67108864:this.length===3&&this.words[2]===1?M+=4503599627370496+this.words[1]*67108864:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-M:M},d.prototype.toJSON=function(){return this.toString(16)},d.prototype.toBuffer=function(M,$){return P(typeof c!="undefined"),this.toArrayLike(c,M,$)},d.prototype.toArray=function(M,$){return this.toArrayLike(Array,M,$)},d.prototype.toArrayLike=function(M,$,C){var l=this.byteLength(),w=C||Math.max(1,l);P(l<=w,"byte array longer than desired length"),P(w>0,"Requested array length <= 0"),this.strip();var D=$==="le",q=new M(w),j,H,Z=this.clone();if(D){for(H=0;!Z.isZero();H++)j=Z.andln(255),Z.iushrn(8),q[H]=j;for(;H<w;H++)q[H]=0}else{for(H=0;H<w-l;H++)q[H]=0;for(H=0;!Z.isZero();H++)j=Z.andln(255),Z.iushrn(8),q[w-H-1]=j}return q},Math.clz32?d.prototype._countBits=function(M){return 32-Math.clz32(M)}:d.prototype._countBits=function(M){var $=M,C=0;return $>=4096&&(C+=13,$>>>=13),$>=64&&(C+=7,$>>>=7),$>=8&&(C+=4,$>>>=4),$>=2&&(C+=2,$>>>=2),C+$},d.prototype._zeroBits=function(M){if(M===0)return 26;var $=M,C=0;return $&8191||(C+=13,$>>>=13),$&127||(C+=7,$>>>=7),$&15||(C+=4,$>>>=4),$&3||(C+=2,$>>>=2),$&1||C++,C},d.prototype.bitLength=function(){var M=this.words[this.length-1],$=this._countBits(M);return(this.length-1)*26+$};function m(Y){for(var M=new Array(Y.bitLength()),$=0;$<M.length;$++){var C=$/26|0,l=$%26;M[$]=(Y.words[C]&1<<l)>>>l}return M}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var M=0,$=0;$<this.length;$++){var C=this._zeroBits(this.words[$]);if(M+=C,C!==26)break}return M},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(M){return this.negative!==0?this.abs().inotn(M).iaddn(1):this.clone()},d.prototype.fromTwos=function(M){return this.testn(M-1)?this.notn(M).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(M){for(;this.length<M.length;)this.words[this.length++]=0;for(var $=0;$<M.length;$++)this.words[$]=this.words[$]|M.words[$];return this.strip()},d.prototype.ior=function(M){return P((this.negative|M.negative)===0),this.iuor(M)},d.prototype.or=function(M){return this.length>M.length?this.clone().ior(M):M.clone().ior(this)},d.prototype.uor=function(M){return this.length>M.length?this.clone().iuor(M):M.clone().iuor(this)},d.prototype.iuand=function(M){var $;this.length>M.length?$=M:$=this;for(var C=0;C<$.length;C++)this.words[C]=this.words[C]&M.words[C];return this.length=$.length,this.strip()},d.prototype.iand=function(M){return P((this.negative|M.negative)===0),this.iuand(M)},d.prototype.and=function(M){return this.length>M.length?this.clone().iand(M):M.clone().iand(this)},d.prototype.uand=function(M){return this.length>M.length?this.clone().iuand(M):M.clone().iuand(this)},d.prototype.iuxor=function(M){var $,C;this.length>M.length?($=this,C=M):($=M,C=this);for(var l=0;l<C.length;l++)this.words[l]=$.words[l]^C.words[l];if(this!==$)for(;l<$.length;l++)this.words[l]=$.words[l];return this.length=$.length,this.strip()},d.prototype.ixor=function(M){return P((this.negative|M.negative)===0),this.iuxor(M)},d.prototype.xor=function(M){return this.length>M.length?this.clone().ixor(M):M.clone().ixor(this)},d.prototype.uxor=function(M){return this.length>M.length?this.clone().iuxor(M):M.clone().iuxor(this)},d.prototype.inotn=function(M){P(typeof M=="number"&&M>=0);var $=Math.ceil(M/26)|0,C=M%26;this._expand($),C>0&&$--;for(var l=0;l<$;l++)this.words[l]=~this.words[l]&67108863;return C>0&&(this.words[l]=~this.words[l]&67108863>>26-C),this.strip()},d.prototype.notn=function(M){return this.clone().inotn(M)},d.prototype.setn=function(M,$){P(typeof M=="number"&&M>=0);var C=M/26|0,l=M%26;return this._expand(C+1),$?this.words[C]=this.words[C]|1<<l:this.words[C]=this.words[C]&~(1<<l),this.strip()},d.prototype.iadd=function(M){var $;if(this.negative!==0&&M.negative===0)return this.negative=0,$=this.isub(M),this.negative^=1,this._normSign();if(this.negative===0&&M.negative!==0)return M.negative=0,$=this.isub(M),M.negative=1,$._normSign();var C,l;this.length>M.length?(C=this,l=M):(C=M,l=this);for(var w=0,D=0;D<l.length;D++)$=(C.words[D]|0)+(l.words[D]|0)+w,this.words[D]=$&67108863,w=$>>>26;for(;w!==0&&D<C.length;D++)$=(C.words[D]|0)+w,this.words[D]=$&67108863,w=$>>>26;if(this.length=C.length,w!==0)this.words[this.length]=w,this.length++;else if(C!==this)for(;D<C.length;D++)this.words[D]=C.words[D];return this},d.prototype.add=function(M){var $;return M.negative!==0&&this.negative===0?(M.negative=0,$=this.sub(M),M.negative^=1,$):M.negative===0&&this.negative!==0?(this.negative=0,$=M.sub(this),this.negative=1,$):this.length>M.length?this.clone().iadd(M):M.clone().iadd(this)},d.prototype.isub=function(M){if(M.negative!==0){M.negative=0;var $=this.iadd(M);return M.negative=1,$._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(M),this.negative=1,this._normSign();var C=this.cmp(M);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,w;C>0?(l=this,w=M):(l=M,w=this);for(var D=0,q=0;q<w.length;q++)$=(l.words[q]|0)-(w.words[q]|0)+D,D=$>>26,this.words[q]=$&67108863;for(;D!==0&&q<l.length;q++)$=(l.words[q]|0)+D,D=$>>26,this.words[q]=$&67108863;if(D===0&&q<l.length&&l!==this)for(;q<l.length;q++)this.words[q]=l.words[q];return this.length=Math.max(this.length,q),l!==this&&(this.negative=1),this.strip()},d.prototype.sub=function(M){return this.clone().isub(M)};function g(Y,M,$){$.negative=M.negative^Y.negative;var C=Y.length+M.length|0;$.length=C,C=C-1|0;var l=Y.words[0]|0,w=M.words[0]|0,D=l*w,q=D&67108863,j=D/67108864|0;$.words[0]=q;for(var H=1;H<C;H++){for(var Z=j>>>26,te=j&67108863,B=Math.min(H,M.length-1),ae=Math.max(0,H-Y.length+1);ae<=B;ae++){var xe=H-ae|0;l=Y.words[xe]|0,w=M.words[ae]|0,D=l*w+te,Z+=D/67108864|0,te=D&67108863}$.words[H]=te|0,j=Z|0}return j!==0?$.words[H]=j|0:$.length--,$.strip()}var p=function(M,$,C){var l=M.words,w=$.words,D=C.words,q=0,j,H,Z,te=l[0]|0,B=te&8191,ae=te>>>13,xe=l[1]|0,he=xe&8191,Ee=xe>>>13,Ne=l[2]|0,X=Ne&8191,ee=Ne>>>13,de=l[3]|0,me=de&8191,_e=de>>>13,U=l[4]|0,O=U&8191,oe=U>>>13,ve=l[5]|0,we=ve&8191,pe=ve>>>13,Pe=l[6]|0,Le=Pe&8191,He=Pe>>>13,kt=l[7]|0,Ke=kt&8191,Ze=kt>>>13,yt=l[8]|0,ce=yt&8191,ne=yt>>>13,se=l[9]|0,be=se&8191,Me=se>>>13,Ve=w[0]|0,Fe=Ve&8191,Ye=Ve>>>13,Tt=w[1]|0,et=Tt&8191,rt=Tt>>>13,ut=w[2]|0,mt=ut&8191,vt=ut>>>13,ai=w[3]|0,ht=ai&8191,Pt=ai>>>13,Fi=w[4]|0,Rt=Fi&8191,qt=Fi>>>13,Ri=w[5]|0,lt=Ri&8191,it=Ri>>>13,_n=w[6]|0,Vt=_n&8191,Yt=_n>>>13,Ji=w[7]|0,De=Ji&8191,$e=Ji>>>13,gt=w[8]|0,at=gt&8191,ct=gt>>>13,Jt=w[9]|0,Nt=Jt&8191,Dt=Jt>>>13;C.negative=M.negative^$.negative,C.length=19,j=Math.imul(B,Fe),H=Math.imul(B,Ye),H=H+Math.imul(ae,Fe)|0,Z=Math.imul(ae,Ye);var At=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(At>>>26)|0,At&=67108863,j=Math.imul(he,Fe),H=Math.imul(he,Ye),H=H+Math.imul(Ee,Fe)|0,Z=Math.imul(Ee,Ye),j=j+Math.imul(B,et)|0,H=H+Math.imul(B,rt)|0,H=H+Math.imul(ae,et)|0,Z=Z+Math.imul(ae,rt)|0;var st=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(st>>>26)|0,st&=67108863,j=Math.imul(X,Fe),H=Math.imul(X,Ye),H=H+Math.imul(ee,Fe)|0,Z=Math.imul(ee,Ye),j=j+Math.imul(he,et)|0,H=H+Math.imul(he,rt)|0,H=H+Math.imul(Ee,et)|0,Z=Z+Math.imul(Ee,rt)|0,j=j+Math.imul(B,mt)|0,H=H+Math.imul(B,vt)|0,H=H+Math.imul(ae,mt)|0,Z=Z+Math.imul(ae,vt)|0;var wt=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(wt>>>26)|0,wt&=67108863,j=Math.imul(me,Fe),H=Math.imul(me,Ye),H=H+Math.imul(_e,Fe)|0,Z=Math.imul(_e,Ye),j=j+Math.imul(X,et)|0,H=H+Math.imul(X,rt)|0,H=H+Math.imul(ee,et)|0,Z=Z+Math.imul(ee,rt)|0,j=j+Math.imul(he,mt)|0,H=H+Math.imul(he,vt)|0,H=H+Math.imul(Ee,mt)|0,Z=Z+Math.imul(Ee,vt)|0,j=j+Math.imul(B,ht)|0,H=H+Math.imul(B,Pt)|0,H=H+Math.imul(ae,ht)|0,Z=Z+Math.imul(ae,Pt)|0;var St=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(St>>>26)|0,St&=67108863,j=Math.imul(O,Fe),H=Math.imul(O,Ye),H=H+Math.imul(oe,Fe)|0,Z=Math.imul(oe,Ye),j=j+Math.imul(me,et)|0,H=H+Math.imul(me,rt)|0,H=H+Math.imul(_e,et)|0,Z=Z+Math.imul(_e,rt)|0,j=j+Math.imul(X,mt)|0,H=H+Math.imul(X,vt)|0,H=H+Math.imul(ee,mt)|0,Z=Z+Math.imul(ee,vt)|0,j=j+Math.imul(he,ht)|0,H=H+Math.imul(he,Pt)|0,H=H+Math.imul(Ee,ht)|0,Z=Z+Math.imul(Ee,Pt)|0,j=j+Math.imul(B,Rt)|0,H=H+Math.imul(B,qt)|0,H=H+Math.imul(ae,Rt)|0,Z=Z+Math.imul(ae,qt)|0;var si=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(si>>>26)|0,si&=67108863,j=Math.imul(we,Fe),H=Math.imul(we,Ye),H=H+Math.imul(pe,Fe)|0,Z=Math.imul(pe,Ye),j=j+Math.imul(O,et)|0,H=H+Math.imul(O,rt)|0,H=H+Math.imul(oe,et)|0,Z=Z+Math.imul(oe,rt)|0,j=j+Math.imul(me,mt)|0,H=H+Math.imul(me,vt)|0,H=H+Math.imul(_e,mt)|0,Z=Z+Math.imul(_e,vt)|0,j=j+Math.imul(X,ht)|0,H=H+Math.imul(X,Pt)|0,H=H+Math.imul(ee,ht)|0,Z=Z+Math.imul(ee,Pt)|0,j=j+Math.imul(he,Rt)|0,H=H+Math.imul(he,qt)|0,H=H+Math.imul(Ee,Rt)|0,Z=Z+Math.imul(Ee,qt)|0,j=j+Math.imul(B,lt)|0,H=H+Math.imul(B,it)|0,H=H+Math.imul(ae,lt)|0,Z=Z+Math.imul(ae,it)|0;var ei=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(ei>>>26)|0,ei&=67108863,j=Math.imul(Le,Fe),H=Math.imul(Le,Ye),H=H+Math.imul(He,Fe)|0,Z=Math.imul(He,Ye),j=j+Math.imul(we,et)|0,H=H+Math.imul(we,rt)|0,H=H+Math.imul(pe,et)|0,Z=Z+Math.imul(pe,rt)|0,j=j+Math.imul(O,mt)|0,H=H+Math.imul(O,vt)|0,H=H+Math.imul(oe,mt)|0,Z=Z+Math.imul(oe,vt)|0,j=j+Math.imul(me,ht)|0,H=H+Math.imul(me,Pt)|0,H=H+Math.imul(_e,ht)|0,Z=Z+Math.imul(_e,Pt)|0,j=j+Math.imul(X,Rt)|0,H=H+Math.imul(X,qt)|0,H=H+Math.imul(ee,Rt)|0,Z=Z+Math.imul(ee,qt)|0,j=j+Math.imul(he,lt)|0,H=H+Math.imul(he,it)|0,H=H+Math.imul(Ee,lt)|0,Z=Z+Math.imul(Ee,it)|0,j=j+Math.imul(B,Vt)|0,H=H+Math.imul(B,Yt)|0,H=H+Math.imul(ae,Vt)|0,Z=Z+Math.imul(ae,Yt)|0;var Ft=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,j=Math.imul(Ke,Fe),H=Math.imul(Ke,Ye),H=H+Math.imul(Ze,Fe)|0,Z=Math.imul(Ze,Ye),j=j+Math.imul(Le,et)|0,H=H+Math.imul(Le,rt)|0,H=H+Math.imul(He,et)|0,Z=Z+Math.imul(He,rt)|0,j=j+Math.imul(we,mt)|0,H=H+Math.imul(we,vt)|0,H=H+Math.imul(pe,mt)|0,Z=Z+Math.imul(pe,vt)|0,j=j+Math.imul(O,ht)|0,H=H+Math.imul(O,Pt)|0,H=H+Math.imul(oe,ht)|0,Z=Z+Math.imul(oe,Pt)|0,j=j+Math.imul(me,Rt)|0,H=H+Math.imul(me,qt)|0,H=H+Math.imul(_e,Rt)|0,Z=Z+Math.imul(_e,qt)|0,j=j+Math.imul(X,lt)|0,H=H+Math.imul(X,it)|0,H=H+Math.imul(ee,lt)|0,Z=Z+Math.imul(ee,it)|0,j=j+Math.imul(he,Vt)|0,H=H+Math.imul(he,Yt)|0,H=H+Math.imul(Ee,Vt)|0,Z=Z+Math.imul(Ee,Yt)|0,j=j+Math.imul(B,De)|0,H=H+Math.imul(B,$e)|0,H=H+Math.imul(ae,De)|0,Z=Z+Math.imul(ae,$e)|0;var mi=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(mi>>>26)|0,mi&=67108863,j=Math.imul(ce,Fe),H=Math.imul(ce,Ye),H=H+Math.imul(ne,Fe)|0,Z=Math.imul(ne,Ye),j=j+Math.imul(Ke,et)|0,H=H+Math.imul(Ke,rt)|0,H=H+Math.imul(Ze,et)|0,Z=Z+Math.imul(Ze,rt)|0,j=j+Math.imul(Le,mt)|0,H=H+Math.imul(Le,vt)|0,H=H+Math.imul(He,mt)|0,Z=Z+Math.imul(He,vt)|0,j=j+Math.imul(we,ht)|0,H=H+Math.imul(we,Pt)|0,H=H+Math.imul(pe,ht)|0,Z=Z+Math.imul(pe,Pt)|0,j=j+Math.imul(O,Rt)|0,H=H+Math.imul(O,qt)|0,H=H+Math.imul(oe,Rt)|0,Z=Z+Math.imul(oe,qt)|0,j=j+Math.imul(me,lt)|0,H=H+Math.imul(me,it)|0,H=H+Math.imul(_e,lt)|0,Z=Z+Math.imul(_e,it)|0,j=j+Math.imul(X,Vt)|0,H=H+Math.imul(X,Yt)|0,H=H+Math.imul(ee,Vt)|0,Z=Z+Math.imul(ee,Yt)|0,j=j+Math.imul(he,De)|0,H=H+Math.imul(he,$e)|0,H=H+Math.imul(Ee,De)|0,Z=Z+Math.imul(Ee,$e)|0,j=j+Math.imul(B,at)|0,H=H+Math.imul(B,ct)|0,H=H+Math.imul(ae,at)|0,Z=Z+Math.imul(ae,ct)|0;var ii=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(ii>>>26)|0,ii&=67108863,j=Math.imul(be,Fe),H=Math.imul(be,Ye),H=H+Math.imul(Me,Fe)|0,Z=Math.imul(Me,Ye),j=j+Math.imul(ce,et)|0,H=H+Math.imul(ce,rt)|0,H=H+Math.imul(ne,et)|0,Z=Z+Math.imul(ne,rt)|0,j=j+Math.imul(Ke,mt)|0,H=H+Math.imul(Ke,vt)|0,H=H+Math.imul(Ze,mt)|0,Z=Z+Math.imul(Ze,vt)|0,j=j+Math.imul(Le,ht)|0,H=H+Math.imul(Le,Pt)|0,H=H+Math.imul(He,ht)|0,Z=Z+Math.imul(He,Pt)|0,j=j+Math.imul(we,Rt)|0,H=H+Math.imul(we,qt)|0,H=H+Math.imul(pe,Rt)|0,Z=Z+Math.imul(pe,qt)|0,j=j+Math.imul(O,lt)|0,H=H+Math.imul(O,it)|0,H=H+Math.imul(oe,lt)|0,Z=Z+Math.imul(oe,it)|0,j=j+Math.imul(me,Vt)|0,H=H+Math.imul(me,Yt)|0,H=H+Math.imul(_e,Vt)|0,Z=Z+Math.imul(_e,Yt)|0,j=j+Math.imul(X,De)|0,H=H+Math.imul(X,$e)|0,H=H+Math.imul(ee,De)|0,Z=Z+Math.imul(ee,$e)|0,j=j+Math.imul(he,at)|0,H=H+Math.imul(he,ct)|0,H=H+Math.imul(Ee,at)|0,Z=Z+Math.imul(Ee,ct)|0,j=j+Math.imul(B,Nt)|0,H=H+Math.imul(B,Dt)|0,H=H+Math.imul(ae,Nt)|0,Z=Z+Math.imul(ae,Dt)|0;var bi=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(bi>>>26)|0,bi&=67108863,j=Math.imul(be,et),H=Math.imul(be,rt),H=H+Math.imul(Me,et)|0,Z=Math.imul(Me,rt),j=j+Math.imul(ce,mt)|0,H=H+Math.imul(ce,vt)|0,H=H+Math.imul(ne,mt)|0,Z=Z+Math.imul(ne,vt)|0,j=j+Math.imul(Ke,ht)|0,H=H+Math.imul(Ke,Pt)|0,H=H+Math.imul(Ze,ht)|0,Z=Z+Math.imul(Ze,Pt)|0,j=j+Math.imul(Le,Rt)|0,H=H+Math.imul(Le,qt)|0,H=H+Math.imul(He,Rt)|0,Z=Z+Math.imul(He,qt)|0,j=j+Math.imul(we,lt)|0,H=H+Math.imul(we,it)|0,H=H+Math.imul(pe,lt)|0,Z=Z+Math.imul(pe,it)|0,j=j+Math.imul(O,Vt)|0,H=H+Math.imul(O,Yt)|0,H=H+Math.imul(oe,Vt)|0,Z=Z+Math.imul(oe,Yt)|0,j=j+Math.imul(me,De)|0,H=H+Math.imul(me,$e)|0,H=H+Math.imul(_e,De)|0,Z=Z+Math.imul(_e,$e)|0,j=j+Math.imul(X,at)|0,H=H+Math.imul(X,ct)|0,H=H+Math.imul(ee,at)|0,Z=Z+Math.imul(ee,ct)|0,j=j+Math.imul(he,Nt)|0,H=H+Math.imul(he,Dt)|0,H=H+Math.imul(Ee,Nt)|0,Z=Z+Math.imul(Ee,Dt)|0;var _i=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(_i>>>26)|0,_i&=67108863,j=Math.imul(be,mt),H=Math.imul(be,vt),H=H+Math.imul(Me,mt)|0,Z=Math.imul(Me,vt),j=j+Math.imul(ce,ht)|0,H=H+Math.imul(ce,Pt)|0,H=H+Math.imul(ne,ht)|0,Z=Z+Math.imul(ne,Pt)|0,j=j+Math.imul(Ke,Rt)|0,H=H+Math.imul(Ke,qt)|0,H=H+Math.imul(Ze,Rt)|0,Z=Z+Math.imul(Ze,qt)|0,j=j+Math.imul(Le,lt)|0,H=H+Math.imul(Le,it)|0,H=H+Math.imul(He,lt)|0,Z=Z+Math.imul(He,it)|0,j=j+Math.imul(we,Vt)|0,H=H+Math.imul(we,Yt)|0,H=H+Math.imul(pe,Vt)|0,Z=Z+Math.imul(pe,Yt)|0,j=j+Math.imul(O,De)|0,H=H+Math.imul(O,$e)|0,H=H+Math.imul(oe,De)|0,Z=Z+Math.imul(oe,$e)|0,j=j+Math.imul(me,at)|0,H=H+Math.imul(me,ct)|0,H=H+Math.imul(_e,at)|0,Z=Z+Math.imul(_e,ct)|0,j=j+Math.imul(X,Nt)|0,H=H+Math.imul(X,Dt)|0,H=H+Math.imul(ee,Nt)|0,Z=Z+Math.imul(ee,Dt)|0;var Hi=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,j=Math.imul(be,ht),H=Math.imul(be,Pt),H=H+Math.imul(Me,ht)|0,Z=Math.imul(Me,Pt),j=j+Math.imul(ce,Rt)|0,H=H+Math.imul(ce,qt)|0,H=H+Math.imul(ne,Rt)|0,Z=Z+Math.imul(ne,qt)|0,j=j+Math.imul(Ke,lt)|0,H=H+Math.imul(Ke,it)|0,H=H+Math.imul(Ze,lt)|0,Z=Z+Math.imul(Ze,it)|0,j=j+Math.imul(Le,Vt)|0,H=H+Math.imul(Le,Yt)|0,H=H+Math.imul(He,Vt)|0,Z=Z+Math.imul(He,Yt)|0,j=j+Math.imul(we,De)|0,H=H+Math.imul(we,$e)|0,H=H+Math.imul(pe,De)|0,Z=Z+Math.imul(pe,$e)|0,j=j+Math.imul(O,at)|0,H=H+Math.imul(O,ct)|0,H=H+Math.imul(oe,at)|0,Z=Z+Math.imul(oe,ct)|0,j=j+Math.imul(me,Nt)|0,H=H+Math.imul(me,Dt)|0,H=H+Math.imul(_e,Nt)|0,Z=Z+Math.imul(_e,Dt)|0;var Ti=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,j=Math.imul(be,Rt),H=Math.imul(be,qt),H=H+Math.imul(Me,Rt)|0,Z=Math.imul(Me,qt),j=j+Math.imul(ce,lt)|0,H=H+Math.imul(ce,it)|0,H=H+Math.imul(ne,lt)|0,Z=Z+Math.imul(ne,it)|0,j=j+Math.imul(Ke,Vt)|0,H=H+Math.imul(Ke,Yt)|0,H=H+Math.imul(Ze,Vt)|0,Z=Z+Math.imul(Ze,Yt)|0,j=j+Math.imul(Le,De)|0,H=H+Math.imul(Le,$e)|0,H=H+Math.imul(He,De)|0,Z=Z+Math.imul(He,$e)|0,j=j+Math.imul(we,at)|0,H=H+Math.imul(we,ct)|0,H=H+Math.imul(pe,at)|0,Z=Z+Math.imul(pe,ct)|0,j=j+Math.imul(O,Nt)|0,H=H+Math.imul(O,Dt)|0,H=H+Math.imul(oe,Nt)|0,Z=Z+Math.imul(oe,Dt)|0;var Ci=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,j=Math.imul(be,lt),H=Math.imul(be,it),H=H+Math.imul(Me,lt)|0,Z=Math.imul(Me,it),j=j+Math.imul(ce,Vt)|0,H=H+Math.imul(ce,Yt)|0,H=H+Math.imul(ne,Vt)|0,Z=Z+Math.imul(ne,Yt)|0,j=j+Math.imul(Ke,De)|0,H=H+Math.imul(Ke,$e)|0,H=H+Math.imul(Ze,De)|0,Z=Z+Math.imul(Ze,$e)|0,j=j+Math.imul(Le,at)|0,H=H+Math.imul(Le,ct)|0,H=H+Math.imul(He,at)|0,Z=Z+Math.imul(He,ct)|0,j=j+Math.imul(we,Nt)|0,H=H+Math.imul(we,Dt)|0,H=H+Math.imul(pe,Nt)|0,Z=Z+Math.imul(pe,Dt)|0;var Pi=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,j=Math.imul(be,Vt),H=Math.imul(be,Yt),H=H+Math.imul(Me,Vt)|0,Z=Math.imul(Me,Yt),j=j+Math.imul(ce,De)|0,H=H+Math.imul(ce,$e)|0,H=H+Math.imul(ne,De)|0,Z=Z+Math.imul(ne,$e)|0,j=j+Math.imul(Ke,at)|0,H=H+Math.imul(Ke,ct)|0,H=H+Math.imul(Ze,at)|0,Z=Z+Math.imul(Ze,ct)|0,j=j+Math.imul(Le,Nt)|0,H=H+Math.imul(Le,Dt)|0,H=H+Math.imul(He,Nt)|0,Z=Z+Math.imul(He,Dt)|0;var Ht=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,j=Math.imul(be,De),H=Math.imul(be,$e),H=H+Math.imul(Me,De)|0,Z=Math.imul(Me,$e),j=j+Math.imul(ce,at)|0,H=H+Math.imul(ce,ct)|0,H=H+Math.imul(ne,at)|0,Z=Z+Math.imul(ne,ct)|0,j=j+Math.imul(Ke,Nt)|0,H=H+Math.imul(Ke,Dt)|0,H=H+Math.imul(Ze,Nt)|0,Z=Z+Math.imul(Ze,Dt)|0;var ti=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(ti>>>26)|0,ti&=67108863,j=Math.imul(be,at),H=Math.imul(be,ct),H=H+Math.imul(Me,at)|0,Z=Math.imul(Me,ct),j=j+Math.imul(ce,Nt)|0,H=H+Math.imul(ce,Dt)|0,H=H+Math.imul(ne,Nt)|0,Z=Z+Math.imul(ne,Dt)|0;var Xt=(q+j|0)+((H&8191)<<13)|0;q=(Z+(H>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,j=Math.imul(be,Nt),H=Math.imul(be,Dt),H=H+Math.imul(Me,Nt)|0,Z=Math.imul(Me,Dt);var Mi=(q+j|0)+((H&8191)<<13)|0;return q=(Z+(H>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,D[0]=At,D[1]=st,D[2]=wt,D[3]=St,D[4]=si,D[5]=ei,D[6]=Ft,D[7]=mi,D[8]=ii,D[9]=bi,D[10]=_i,D[11]=Hi,D[12]=Ti,D[13]=Ci,D[14]=Pi,D[15]=Ht,D[16]=ti,D[17]=Xt,D[18]=Mi,q!==0&&(D[19]=q,C.length++),C};Math.imul||(p=g);function N(Y,M,$){$.negative=M.negative^Y.negative,$.length=Y.length+M.length;for(var C=0,l=0,w=0;w<$.length-1;w++){var D=l;l=0;for(var q=C&67108863,j=Math.min(w,M.length-1),H=Math.max(0,w-Y.length+1);H<=j;H++){var Z=w-H,te=Y.words[Z]|0,B=M.words[H]|0,ae=te*B,xe=ae&67108863;D=D+(ae/67108864|0)|0,xe=xe+q|0,q=xe&67108863,D=D+(xe>>>26)|0,l+=D>>>26,D&=67108863}$.words[w]=q,C=D,D=l}return C!==0?$.words[w]=C:$.length--,$.strip()}function E(Y,M,$){var C=new x;return C.mulp(Y,M,$)}d.prototype.mulTo=function(M,$){var C,l=this.length+M.length;return this.length===10&&M.length===10?C=p(this,M,$):l<63?C=g(this,M,$):l<1024?C=N(this,M,$):C=E(this,M,$),C};function x(Y,M){this.x=Y,this.y=M}x.prototype.makeRBT=function(M){for(var $=new Array(M),C=d.prototype._countBits(M)-1,l=0;l<M;l++)$[l]=this.revBin(l,C,M);return $},x.prototype.revBin=function(M,$,C){if(M===0||M===C-1)return M;for(var l=0,w=0;w<$;w++)l|=(M&1)<<$-w-1,M>>=1;return l},x.prototype.permute=function(M,$,C,l,w,D){for(var q=0;q<D;q++)l[q]=$[M[q]],w[q]=C[M[q]]},x.prototype.transform=function(M,$,C,l,w,D){this.permute(D,M,$,C,l,w);for(var q=1;q<w;q<<=1)for(var j=q<<1,H=Math.cos(2*Math.PI/j),Z=Math.sin(2*Math.PI/j),te=0;te<w;te+=j)for(var B=H,ae=Z,xe=0;xe<q;xe++){var he=C[te+xe],Ee=l[te+xe],Ne=C[te+xe+q],X=l[te+xe+q],ee=B*Ne-ae*X;X=B*X+ae*Ne,Ne=ee,C[te+xe]=he+Ne,l[te+xe]=Ee+X,C[te+xe+q]=he-Ne,l[te+xe+q]=Ee-X,xe!==j&&(ee=H*B-Z*ae,ae=H*ae+Z*B,B=ee)}},x.prototype.guessLen13b=function(M,$){var C=Math.max($,M)|1,l=C&1,w=0;for(C=C/2|0;C;C=C>>>1)w++;return 1<<w+1+l},x.prototype.conjugate=function(M,$,C){if(!(C<=1))for(var l=0;l<C/2;l++){var w=M[l];M[l]=M[C-l-1],M[C-l-1]=w,w=$[l],$[l]=-$[C-l-1],$[C-l-1]=-w}},x.prototype.normalize13b=function(M,$){for(var C=0,l=0;l<$/2;l++){var w=Math.round(M[2*l+1]/$)*8192+Math.round(M[2*l]/$)+C;M[l]=w&67108863,w<67108864?C=0:C=w/67108864|0}return M},x.prototype.convert13b=function(M,$,C,l){for(var w=0,D=0;D<$;D++)w=w+(M[D]|0),C[2*D]=w&8191,w=w>>>13,C[2*D+1]=w&8191,w=w>>>13;for(D=2*$;D<l;++D)C[D]=0;P(w===0),P((w&-8192)===0)},x.prototype.stub=function(M){for(var $=new Array(M),C=0;C<M;C++)$[C]=0;return $},x.prototype.mulp=function(M,$,C){var l=2*this.guessLen13b(M.length,$.length),w=this.makeRBT(l),D=this.stub(l),q=new Array(l),j=new Array(l),H=new Array(l),Z=new Array(l),te=new Array(l),B=new Array(l),ae=C.words;ae.length=l,this.convert13b(M.words,M.length,q,l),this.convert13b($.words,$.length,Z,l),this.transform(q,D,j,H,l,w),this.transform(Z,D,te,B,l,w);for(var xe=0;xe<l;xe++){var he=j[xe]*te[xe]-H[xe]*B[xe];H[xe]=j[xe]*B[xe]+H[xe]*te[xe],j[xe]=he}return this.conjugate(j,H,l),this.transform(j,H,ae,D,l,w),this.conjugate(ae,D,l),this.normalize13b(ae,l),C.negative=M.negative^$.negative,C.length=M.length+$.length,C.strip()},d.prototype.mul=function(M){var $=new d(null);return $.words=new Array(this.length+M.length),this.mulTo(M,$)},d.prototype.mulf=function(M){var $=new d(null);return $.words=new Array(this.length+M.length),E(this,M,$)},d.prototype.imul=function(M){return this.clone().mulTo(M,this)},d.prototype.imuln=function(M){P(typeof M=="number"),P(M<67108864);for(var $=0,C=0;C<this.length;C++){var l=(this.words[C]|0)*M,w=(l&67108863)+($&67108863);$>>=26,$+=l/67108864|0,$+=w>>>26,this.words[C]=w&67108863}return $!==0&&(this.words[C]=$,this.length++),this},d.prototype.muln=function(M){return this.clone().imuln(M)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(M){var $=m(M);if($.length===0)return new d(1);for(var C=this,l=0;l<$.length&&$[l]===0;l++,C=C.sqr());if(++l<$.length)for(var w=C.sqr();l<$.length;l++,w=w.sqr())$[l]!==0&&(C=C.mul(w));return C},d.prototype.iushln=function(M){P(typeof M=="number"&&M>=0);var $=M%26,C=(M-$)/26,l=67108863>>>26-$<<26-$,w;if($!==0){var D=0;for(w=0;w<this.length;w++){var q=this.words[w]&l,j=(this.words[w]|0)-q<<$;this.words[w]=j|D,D=q>>>26-$}D&&(this.words[w]=D,this.length++)}if(C!==0){for(w=this.length-1;w>=0;w--)this.words[w+C]=this.words[w];for(w=0;w<C;w++)this.words[w]=0;this.length+=C}return this.strip()},d.prototype.ishln=function(M){return P(this.negative===0),this.iushln(M)},d.prototype.iushrn=function(M,$,C){P(typeof M=="number"&&M>=0);var l;$?l=($-$%26)/26:l=0;var w=M%26,D=Math.min((M-w)/26,this.length),q=67108863^67108863>>>w<<w,j=C;if(l-=D,l=Math.max(0,l),j){for(var H=0;H<D;H++)j.words[H]=this.words[H];j.length=D}if(D!==0)if(this.length>D)for(this.length-=D,H=0;H<this.length;H++)this.words[H]=this.words[H+D];else this.words[0]=0,this.length=1;var Z=0;for(H=this.length-1;H>=0&&(Z!==0||H>=l);H--){var te=this.words[H]|0;this.words[H]=Z<<26-w|te>>>w,Z=te&q}return j&&Z!==0&&(j.words[j.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function(M,$,C){return P(this.negative===0),this.iushrn(M,$,C)},d.prototype.shln=function(M){return this.clone().ishln(M)},d.prototype.ushln=function(M){return this.clone().iushln(M)},d.prototype.shrn=function(M){return this.clone().ishrn(M)},d.prototype.ushrn=function(M){return this.clone().iushrn(M)},d.prototype.testn=function(M){P(typeof M=="number"&&M>=0);var $=M%26,C=(M-$)/26,l=1<<$;if(this.length<=C)return!1;var w=this.words[C];return!!(w&l)},d.prototype.imaskn=function(M){P(typeof M=="number"&&M>=0);var $=M%26,C=(M-$)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if($!==0&&C++,this.length=Math.min(C,this.length),$!==0){var l=67108863^67108863>>>$<<$;this.words[this.length-1]&=l}return this.strip()},d.prototype.maskn=function(M){return this.clone().imaskn(M)},d.prototype.iaddn=function(M){return P(typeof M=="number"),P(M<67108864),M<0?this.isubn(-M):this.negative!==0?this.length===1&&(this.words[0]|0)<M?(this.words[0]=M-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(M),this.negative=1,this):this._iaddn(M)},d.prototype._iaddn=function(M){this.words[0]+=M;for(var $=0;$<this.length&&this.words[$]>=67108864;$++)this.words[$]-=67108864,$===this.length-1?this.words[$+1]=1:this.words[$+1]++;return this.length=Math.max(this.length,$+1),this},d.prototype.isubn=function(M){if(P(typeof M=="number"),P(M<67108864),M<0)return this.iaddn(-M);if(this.negative!==0)return this.negative=0,this.iaddn(M),this.negative=1,this;if(this.words[0]-=M,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var $=0;$<this.length&&this.words[$]<0;$++)this.words[$]+=67108864,this.words[$+1]-=1;return this.strip()},d.prototype.addn=function(M){return this.clone().iaddn(M)},d.prototype.subn=function(M){return this.clone().isubn(M)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(M,$,C){var l=M.length+C,w;this._expand(l);var D,q=0;for(w=0;w<M.length;w++){D=(this.words[w+C]|0)+q;var j=(M.words[w]|0)*$;D-=j&67108863,q=(D>>26)-(j/67108864|0),this.words[w+C]=D&67108863}for(;w<this.length-C;w++)D=(this.words[w+C]|0)+q,q=D>>26,this.words[w+C]=D&67108863;if(q===0)return this.strip();for(P(q===-1),q=0,w=0;w<this.length;w++)D=-(this.words[w]|0)+q,q=D>>26,this.words[w]=D&67108863;return this.negative=1,this.strip()},d.prototype._wordDiv=function(M,$){var C=this.length-M.length,l=this.clone(),w=M,D=w.words[w.length-1]|0,q=this._countBits(D);C=26-q,C!==0&&(w=w.ushln(C),l.iushln(C),D=w.words[w.length-1]|0);var j=l.length-w.length,H;if($!=="mod"){H=new d(null),H.length=j+1,H.words=new Array(H.length);for(var Z=0;Z<H.length;Z++)H.words[Z]=0}var te=l.clone()._ishlnsubmul(w,1,j);te.negative===0&&(l=te,H&&(H.words[j]=1));for(var B=j-1;B>=0;B--){var ae=(l.words[w.length+B]|0)*67108864+(l.words[w.length+B-1]|0);for(ae=Math.min(ae/D|0,67108863),l._ishlnsubmul(w,ae,B);l.negative!==0;)ae--,l.negative=0,l._ishlnsubmul(w,1,B),l.isZero()||(l.negative^=1);H&&(H.words[B]=ae)}return H&&H.strip(),l.strip(),$!=="div"&&C!==0&&l.iushrn(C),{div:H||null,mod:l}},d.prototype.divmod=function(M,$,C){if(P(!M.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var l,w,D;return this.negative!==0&&M.negative===0?(D=this.neg().divmod(M,$),$!=="mod"&&(l=D.div.neg()),$!=="div"&&(w=D.mod.neg(),C&&w.negative!==0&&w.iadd(M)),{div:l,mod:w}):this.negative===0&&M.negative!==0?(D=this.divmod(M.neg(),$),$!=="mod"&&(l=D.div.neg()),{div:l,mod:D.mod}):this.negative&M.negative?(D=this.neg().divmod(M.neg(),$),$!=="div"&&(w=D.mod.neg(),C&&w.negative!==0&&w.isub(M)),{div:D.div,mod:w}):M.length>this.length||this.cmp(M)<0?{div:new d(0),mod:this}:M.length===1?$==="div"?{div:this.divn(M.words[0]),mod:null}:$==="mod"?{div:null,mod:new d(this.modn(M.words[0]))}:{div:this.divn(M.words[0]),mod:new d(this.modn(M.words[0]))}:this._wordDiv(M,$)},d.prototype.div=function(M){return this.divmod(M,"div",!1).div},d.prototype.mod=function(M){return this.divmod(M,"mod",!1).mod},d.prototype.umod=function(M){return this.divmod(M,"mod",!0).mod},d.prototype.divRound=function(M){var $=this.divmod(M);if($.mod.isZero())return $.div;var C=$.div.negative!==0?$.mod.isub(M):$.mod,l=M.ushrn(1),w=M.andln(1),D=C.cmp(l);return D<0||w===1&&D===0?$.div:$.div.negative!==0?$.div.isubn(1):$.div.iaddn(1)},d.prototype.modn=function(M){P(M<=67108863);for(var $=(1<<26)%M,C=0,l=this.length-1;l>=0;l--)C=($*C+(this.words[l]|0))%M;return C},d.prototype.idivn=function(M){P(M<=67108863);for(var $=0,C=this.length-1;C>=0;C--){var l=(this.words[C]|0)+$*67108864;this.words[C]=l/M|0,$=l%M}return this.strip()},d.prototype.divn=function(M){return this.clone().idivn(M)},d.prototype.egcd=function(M){P(M.negative===0),P(!M.isZero());var $=this,C=M.clone();$.negative!==0?$=$.umod(M):$=$.clone();for(var l=new d(1),w=new d(0),D=new d(0),q=new d(1),j=0;$.isEven()&&C.isEven();)$.iushrn(1),C.iushrn(1),++j;for(var H=C.clone(),Z=$.clone();!$.isZero();){for(var te=0,B=1;!($.words[0]&B)&&te<26;++te,B<<=1);if(te>0)for($.iushrn(te);te-- >0;)(l.isOdd()||w.isOdd())&&(l.iadd(H),w.isub(Z)),l.iushrn(1),w.iushrn(1);for(var ae=0,xe=1;!(C.words[0]&xe)&&ae<26;++ae,xe<<=1);if(ae>0)for(C.iushrn(ae);ae-- >0;)(D.isOdd()||q.isOdd())&&(D.iadd(H),q.isub(Z)),D.iushrn(1),q.iushrn(1);$.cmp(C)>=0?($.isub(C),l.isub(D),w.isub(q)):(C.isub($),D.isub(l),q.isub(w))}return{a:D,b:q,gcd:C.iushln(j)}},d.prototype._invmp=function(M){P(M.negative===0),P(!M.isZero());var $=this,C=M.clone();$.negative!==0?$=$.umod(M):$=$.clone();for(var l=new d(1),w=new d(0),D=C.clone();$.cmpn(1)>0&&C.cmpn(1)>0;){for(var q=0,j=1;!($.words[0]&j)&&q<26;++q,j<<=1);if(q>0)for($.iushrn(q);q-- >0;)l.isOdd()&&l.iadd(D),l.iushrn(1);for(var H=0,Z=1;!(C.words[0]&Z)&&H<26;++H,Z<<=1);if(H>0)for(C.iushrn(H);H-- >0;)w.isOdd()&&w.iadd(D),w.iushrn(1);$.cmp(C)>=0?($.isub(C),l.isub(w)):(C.isub($),w.isub(l))}var te;return $.cmpn(1)===0?te=l:te=w,te.cmpn(0)<0&&te.iadd(M),te},d.prototype.gcd=function(M){if(this.isZero())return M.abs();if(M.isZero())return this.abs();var $=this.clone(),C=M.clone();$.negative=0,C.negative=0;for(var l=0;$.isEven()&&C.isEven();l++)$.iushrn(1),C.iushrn(1);do{for(;$.isEven();)$.iushrn(1);for(;C.isEven();)C.iushrn(1);var w=$.cmp(C);if(w<0){var D=$;$=C,C=D}else if(w===0||C.cmpn(1)===0)break;$.isub(C)}while(!0);return C.iushln(l)},d.prototype.invm=function(M){return this.egcd(M).a.umod(M)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(M){return this.words[0]&M},d.prototype.bincn=function(M){P(typeof M=="number");var $=M%26,C=(M-$)/26,l=1<<$;if(this.length<=C)return this._expand(C+1),this.words[C]|=l,this;for(var w=l,D=C;w!==0&&D<this.length;D++){var q=this.words[D]|0;q+=w,w=q>>>26,q&=67108863,this.words[D]=q}return w!==0&&(this.words[D]=w,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(M){var $=M<0;if(this.negative!==0&&!$)return-1;if(this.negative===0&&$)return 1;this.strip();var C;if(this.length>1)C=1;else{$&&(M=-M),P(M<=67108863,"Number is too big");var l=this.words[0]|0;C=l===M?0:l<M?-1:1}return this.negative!==0?-C|0:C},d.prototype.cmp=function(M){if(this.negative!==0&&M.negative===0)return-1;if(this.negative===0&&M.negative!==0)return 1;var $=this.ucmp(M);return this.negative!==0?-$|0:$},d.prototype.ucmp=function(M){if(this.length>M.length)return 1;if(this.length<M.length)return-1;for(var $=0,C=this.length-1;C>=0;C--){var l=this.words[C]|0,w=M.words[C]|0;if(l!==w){l<w?$=-1:l>w&&($=1);break}}return $},d.prototype.gtn=function(M){return this.cmpn(M)===1},d.prototype.gt=function(M){return this.cmp(M)===1},d.prototype.gten=function(M){return this.cmpn(M)>=0},d.prototype.gte=function(M){return this.cmp(M)>=0},d.prototype.ltn=function(M){return this.cmpn(M)===-1},d.prototype.lt=function(M){return this.cmp(M)===-1},d.prototype.lten=function(M){return this.cmpn(M)<=0},d.prototype.lte=function(M){return this.cmp(M)<=0},d.prototype.eqn=function(M){return this.cmpn(M)===0},d.prototype.eq=function(M){return this.cmp(M)===0},d.red=function(M){return new J(M)},d.prototype.toRed=function(M){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),M.convertTo(this)._forceRed(M)},d.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(M){return this.red=M,this},d.prototype.forceRed=function(M){return P(!this.red,"Already a number in reduction context"),this._forceRed(M)},d.prototype.redAdd=function(M){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,M)},d.prototype.redIAdd=function(M){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,M)},d.prototype.redSub=function(M){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,M)},d.prototype.redISub=function(M){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,M)},d.prototype.redShl=function(M){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,M)},d.prototype.redMul=function(M){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.mul(this,M)},d.prototype.redIMul=function(M){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.imul(this,M)},d.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(M){return P(this.red&&!M.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,M)};var F={k256:null,p224:null,p192:null,p25519:null};function W(Y,M){this.name=Y,this.p=new d(M,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var M=new d(null);return M.words=new Array(Math.ceil(this.n/13)),M},W.prototype.ireduce=function(M){var $=M,C;do this.split($,this.tmp),$=this.imulK($),$=$.iadd(this.tmp),C=$.bitLength();while(C>this.n);var l=C<this.n?-1:$.ucmp(this.p);return l===0?($.words[0]=0,$.length=1):l>0?$.isub(this.p):$.strip!==void 0?$.strip():$._strip(),$},W.prototype.split=function(M,$){M.iushrn(this.n,0,$)},W.prototype.imulK=function(M){return M.imul(this.k)};function b(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}S(b,W),b.prototype.split=function(M,$){for(var C=4194303,l=Math.min(M.length,9),w=0;w<l;w++)$.words[w]=M.words[w];if($.length=l,M.length<=9){M.words[0]=0,M.length=1;return}var D=M.words[9];for($.words[$.length++]=D&C,w=10;w<M.length;w++){var q=M.words[w]|0;M.words[w-10]=(q&C)<<4|D>>>22,D=q}D>>>=22,M.words[w-10]=D,D===0&&M.length>10?M.length-=10:M.length-=9},b.prototype.imulK=function(M){M.words[M.length]=0,M.words[M.length+1]=0,M.length+=2;for(var $=0,C=0;C<M.length;C++){var l=M.words[C]|0;$+=l*977,M.words[C]=$&67108863,$=l*64+($/67108864|0)}return M.words[M.length-1]===0&&(M.length--,M.words[M.length-1]===0&&M.length--),M};function L(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}S(L,W);function z(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}S(z,W);function K(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}S(K,W),K.prototype.imulK=function(M){for(var $=0,C=0;C<M.length;C++){var l=(M.words[C]|0)*19+$,w=l&67108863;l>>>=26,M.words[C]=w,$=l}return $!==0&&(M.words[M.length++]=$),M},d._prime=function(M){if(F[M])return F[M];var $;if(M==="k256")$=new b;else if(M==="p224")$=new L;else if(M==="p192")$=new z;else if(M==="p25519")$=new K;else throw new Error("Unknown prime "+M);return F[M]=$,$};function J(Y){if(typeof Y=="string"){var M=d._prime(Y);this.m=M.p,this.prime=M}else P(Y.gtn(1),"modulus must be greater than 1"),this.m=Y,this.prime=null}J.prototype._verify1=function(M){P(M.negative===0,"red works only with positives"),P(M.red,"red works only with red numbers")},J.prototype._verify2=function(M,$){P((M.negative|$.negative)===0,"red works only with positives"),P(M.red&&M.red===$.red,"red works only with red numbers")},J.prototype.imod=function(M){return this.prime?this.prime.ireduce(M)._forceRed(this):M.umod(this.m)._forceRed(this)},J.prototype.neg=function(M){return M.isZero()?M.clone():this.m.sub(M)._forceRed(this)},J.prototype.add=function(M,$){this._verify2(M,$);var C=M.add($);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},J.prototype.iadd=function(M,$){this._verify2(M,$);var C=M.iadd($);return C.cmp(this.m)>=0&&C.isub(this.m),C},J.prototype.sub=function(M,$){this._verify2(M,$);var C=M.sub($);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},J.prototype.isub=function(M,$){this._verify2(M,$);var C=M.isub($);return C.cmpn(0)<0&&C.iadd(this.m),C},J.prototype.shl=function(M,$){return this._verify1(M),this.imod(M.ushln($))},J.prototype.imul=function(M,$){return this._verify2(M,$),this.imod(M.imul($))},J.prototype.mul=function(M,$){return this._verify2(M,$),this.imod(M.mul($))},J.prototype.isqr=function(M){return this.imul(M,M.clone())},J.prototype.sqr=function(M){return this.mul(M,M)},J.prototype.sqrt=function(M){if(M.isZero())return M.clone();var $=this.m.andln(3);if(P($%2===1),$===3){var C=this.m.add(new d(1)).iushrn(2);return this.pow(M,C)}for(var l=this.m.subn(1),w=0;!l.isZero()&&l.andln(1)===0;)w++,l.iushrn(1);P(!l.isZero());var D=new d(1).toRed(this),q=D.redNeg(),j=this.m.subn(1).iushrn(1),H=this.m.bitLength();for(H=new d(2*H*H).toRed(this);this.pow(H,j).cmp(q)!==0;)H.redIAdd(q);for(var Z=this.pow(H,l),te=this.pow(M,l.addn(1).iushrn(1)),B=this.pow(M,l),ae=w;B.cmp(D)!==0;){for(var xe=B,he=0;xe.cmp(D)!==0;he++)xe=xe.redSqr();P(he<ae);var Ee=this.pow(Z,new d(1).iushln(ae-he-1));te=te.redMul(Ee),Z=Ee.redSqr(),B=B.redMul(Z),ae=he}return te},J.prototype.invm=function(M){var $=M._invmp(this.m);return $.negative!==0?($.negative=0,this.imod($).redNeg()):this.imod($)},J.prototype.pow=function(M,$){if($.isZero())return new d(1).toRed(this);if($.cmpn(1)===0)return M.clone();var C=4,l=new Array(1<<C);l[0]=new d(1).toRed(this),l[1]=M;for(var w=2;w<l.length;w++)l[w]=this.mul(l[w-1],M);var D=l[0],q=0,j=0,H=$.bitLength()%26;for(H===0&&(H=26),w=$.length-1;w>=0;w--){for(var Z=$.words[w],te=H-1;te>=0;te--){var B=Z>>te&1;if(D!==l[0]&&(D=this.sqr(D)),B===0&&q===0){j=0;continue}q<<=1,q|=B,j++,!(j!==C&&(w!==0||te!==0))&&(D=this.mul(D,l[q]),j=0,q=0)}H=26}return D},J.prototype.convertTo=function(M){var $=M.umod(this.m);return $===M?$.clone():$},J.prototype.convertFrom=function(M){var $=M.clone();return $.red=null,$},d.mont=function(M){return new ie(M)};function ie(Y){J.call(this,Y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S(ie,J),ie.prototype.convertTo=function(M){return this.imod(M.ushln(this.shift))},ie.prototype.convertFrom=function(M){var $=this.imod(M.mul(this.rinv));return $.red=null,$},ie.prototype.imul=function(M,$){if(M.isZero()||$.isZero())return M.words[0]=0,M.length=1,M;var C=M.imul($),l=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=C.isub(l).iushrn(this.shift),D=w;return w.cmp(this.m)>=0?D=w.isub(this.m):w.cmpn(0)<0&&(D=w.iadd(this.m)),D._forceRed(this)},ie.prototype.mul=function(M,$){if(M.isZero()||$.isZero())return new d(0)._forceRed(this);var C=M.mul($),l=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=C.isub(l).iushrn(this.shift),D=w;return w.cmp(this.m)>=0?D=w.isub(this.m):w.cmpn(0)<0&&(D=w.iadd(this.m)),D._forceRed(this)},ie.prototype.invm=function(M){var $=this.imod(M._invmp(this.m).mul(this.r2));return $._forceRed(this)}}(s,this)},15037:(s,V,T)=>{var R;s.exports=function(d){return R||(R=new A(null)),R.generate(d)};function A(S){this.rand=S}if(s.exports.Rand=A,A.prototype.generate=function(d){return this._rand(d)},A.prototype._rand=function(d){if(this.rand.getBytes)return this.rand.getBytes(d);for(var c=new Uint8Array(d),f=0;f<c.length;f++)c[f]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?A.prototype._rand=function(d){var c=new Uint8Array(d);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?A.prototype._rand=function(d){var c=new Uint8Array(d);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(A.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var P=T(73776);if(typeof P.randomBytes!="function")throw new Error("Not supported");A.prototype._rand=function(d){return P.randomBytes(d)}}catch{}},50462:(s,V,T)=>{var R=T(92861).Buffer;function A(h){R.isBuffer(h)||(h=R.from(h));for(var k=h.length/4|0,y=new Array(k),u=0;u<k;u++)y[u]=h.readUInt32BE(u*4);return y}function P(h){for(var k=0;k<h.length;h++)h[k]=0}function S(h,k,y,u,_){for(var m=y[0],g=y[1],p=y[2],N=y[3],E=h[0]^k[0],x=h[1]^k[1],F=h[2]^k[2],W=h[3]^k[3],b,L,z,K,J=4,ie=1;ie<_;ie++)b=m[E>>>24]^g[x>>>16&255]^p[F>>>8&255]^N[W&255]^k[J++],L=m[x>>>24]^g[F>>>16&255]^p[W>>>8&255]^N[E&255]^k[J++],z=m[F>>>24]^g[W>>>16&255]^p[E>>>8&255]^N[x&255]^k[J++],K=m[W>>>24]^g[E>>>16&255]^p[x>>>8&255]^N[F&255]^k[J++],E=b,x=L,F=z,W=K;return b=(u[E>>>24]<<24|u[x>>>16&255]<<16|u[F>>>8&255]<<8|u[W&255])^k[J++],L=(u[x>>>24]<<24|u[F>>>16&255]<<16|u[W>>>8&255]<<8|u[E&255])^k[J++],z=(u[F>>>24]<<24|u[W>>>16&255]<<16|u[E>>>8&255]<<8|u[x&255])^k[J++],K=(u[W>>>24]<<24|u[E>>>16&255]<<16|u[x>>>8&255]<<8|u[F&255])^k[J++],b=b>>>0,L=L>>>0,z=z>>>0,K=K>>>0,[b,L,z,K]}var d=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var h=new Array(256),k=0;k<256;k++)k<128?h[k]=k<<1:h[k]=k<<1^283;for(var y=[],u=[],_=[[],[],[],[]],m=[[],[],[],[]],g=0,p=0,N=0;N<256;++N){var E=p^p<<1^p<<2^p<<3^p<<4;E=E>>>8^E&255^99,y[g]=E,u[E]=g;var x=h[g],F=h[x],W=h[F],b=h[E]*257^E*16843008;_[0][g]=b<<24|b>>>8,_[1][g]=b<<16|b>>>16,_[2][g]=b<<8|b>>>24,_[3][g]=b,b=W*16843009^F*65537^x*257^g*16843008,m[0][E]=b<<24|b>>>8,m[1][E]=b<<16|b>>>16,m[2][E]=b<<8|b>>>24,m[3][E]=b,g===0?g=p=1:(g=x^h[h[h[W^x]]],p^=h[h[p]])}return{SBOX:y,INV_SBOX:u,SUB_MIX:_,INV_SUB_MIX:m}}();function f(h){this._key=A(h),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var h=this._key,k=h.length,y=k+6,u=(y+1)*4,_=[],m=0;m<k;m++)_[m]=h[m];for(m=k;m<u;m++){var g=_[m-1];m%k===0?(g=g<<8|g>>>24,g=c.SBOX[g>>>24]<<24|c.SBOX[g>>>16&255]<<16|c.SBOX[g>>>8&255]<<8|c.SBOX[g&255],g^=d[m/k|0]<<24):k>6&&m%k===4&&(g=c.SBOX[g>>>24]<<24|c.SBOX[g>>>16&255]<<16|c.SBOX[g>>>8&255]<<8|c.SBOX[g&255]),_[m]=_[m-k]^g}for(var p=[],N=0;N<u;N++){var E=u-N,x=_[E-(N%4?0:4)];N<4||E<=4?p[N]=x:p[N]=c.INV_SUB_MIX[0][c.SBOX[x>>>24]]^c.INV_SUB_MIX[1][c.SBOX[x>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[x>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[x&255]]}this._nRounds=y,this._keySchedule=_,this._invKeySchedule=p},f.prototype.encryptBlockRaw=function(h){return h=A(h),S(h,this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},f.prototype.encryptBlock=function(h){var k=this.encryptBlockRaw(h),y=R.allocUnsafe(16);return y.writeUInt32BE(k[0],0),y.writeUInt32BE(k[1],4),y.writeUInt32BE(k[2],8),y.writeUInt32BE(k[3],12),y},f.prototype.decryptBlock=function(h){h=A(h);var k=h[1];h[1]=h[3],h[3]=k;var y=S(h,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),u=R.allocUnsafe(16);return u.writeUInt32BE(y[0],0),u.writeUInt32BE(y[3],4),u.writeUInt32BE(y[2],8),u.writeUInt32BE(y[1],12),u},f.prototype.scrub=function(){P(this._keySchedule),P(this._invKeySchedule),P(this._key)},s.exports.AES=f},92356:(s,V,T)=>{var R=T(50462),A=T(92861).Buffer,P=T(56168),S=T(56698),d=T(25892),c=T(30295),f=T(45122);function h(u,_){var m=0;u.length!==_.length&&m++;for(var g=Math.min(u.length,_.length),p=0;p<g;++p)m+=u[p]^_[p];return m}function k(u,_,m){if(_.length===12)return u._finID=A.concat([_,A.from([0,0,0,1])]),A.concat([_,A.from([0,0,0,2])]);var g=new d(m),p=_.length,N=p%16;g.update(_),N&&(N=16-N,g.update(A.alloc(N,0))),g.update(A.alloc(8,0));var E=p*8,x=A.alloc(8);x.writeUIntBE(E,0,8),g.update(x),u._finID=g.state;var F=A.from(u._finID);return f(F),F}function y(u,_,m,g){P.call(this);var p=A.alloc(4,0);this._cipher=new R.AES(_);var N=this._cipher.encryptBlock(p);this._ghash=new d(N),m=k(this,m,N),this._prev=A.from(m),this._cache=A.allocUnsafe(0),this._secCache=A.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=u,this._authTag=null,this._called=!1}S(y,P),y.prototype._update=function(u){if(!this._called&&this._alen){var _=16-this._alen%16;_<16&&(_=A.alloc(_,0),this._ghash.update(_))}this._called=!0;var m=this._mode.encrypt(this,u);return this._decrypt?this._ghash.update(u):this._ghash.update(m),this._len+=u.length,m},y.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var u=c(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&h(u,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=u,this._cipher.scrub()},y.prototype.getAuthTag=function(){if(this._decrypt||!A.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},y.prototype.setAuthTag=function(_){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=_},y.prototype.setAAD=function(_){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(_),this._alen+=_.length},s.exports=y},1241:(s,V,T)=>{var R=T(25799),A=T(36171),P=T(3219);function S(){return Object.keys(P)}V.createCipher=V.Cipher=R.createCipher,V.createCipheriv=V.Cipheriv=R.createCipheriv,V.createDecipher=V.Decipher=A.createDecipher,V.createDecipheriv=V.Decipheriv=A.createDecipheriv,V.listCiphers=V.getCiphers=S},36171:(s,V,T)=>{var R=T(92356),A=T(92861).Buffer,P=T(530),S=T(50650),d=T(56168),c=T(50462),f=T(68078),h=T(56698);function k(g,p,N){d.call(this),this._cache=new y,this._last=void 0,this._cipher=new c.AES(p),this._prev=A.from(N),this._mode=g,this._autopadding=!0}h(k,d),k.prototype._update=function(g){this._cache.add(g);for(var p,N,E=[];p=this._cache.get(this._autopadding);)N=this._mode.decrypt(this,p),E.push(N);return A.concat(E)},k.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return u(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},k.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this};function y(){this.cache=A.allocUnsafe(0)}y.prototype.add=function(g){this.cache=A.concat([this.cache,g])},y.prototype.get=function(g){var p;if(g){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},y.prototype.flush=function(){if(this.cache.length)return this.cache};function u(g){var p=g[15];if(p<1||p>16)throw new Error("unable to decrypt data");for(var N=-1;++N<p;)if(g[N+(16-p)]!==p)throw new Error("unable to decrypt data");if(p!==16)return g.slice(0,16-p)}function _(g,p,N){var E=P[g.toLowerCase()];if(!E)throw new TypeError("invalid suite type");if(typeof N=="string"&&(N=A.from(N)),E.mode!=="GCM"&&N.length!==E.iv)throw new TypeError("invalid iv length "+N.length);if(typeof p=="string"&&(p=A.from(p)),p.length!==E.key/8)throw new TypeError("invalid key length "+p.length);return E.type==="stream"?new S(E.module,p,N,!0):E.type==="auth"?new R(E.module,p,N,!0):new k(E.module,p,N)}function m(g,p){var N=P[g.toLowerCase()];if(!N)throw new TypeError("invalid suite type");var E=f(p,!1,N.key,N.iv);return _(g,E.key,E.iv)}V.createDecipher=m,V.createDecipheriv=_},25799:(s,V,T)=>{var R=T(530),A=T(92356),P=T(92861).Buffer,S=T(50650),d=T(56168),c=T(50462),f=T(68078),h=T(56698);function k(g,p,N){d.call(this),this._cache=new u,this._cipher=new c.AES(p),this._prev=P.from(N),this._mode=g,this._autopadding=!0}h(k,d),k.prototype._update=function(g){this._cache.add(g);for(var p,N,E=[];p=this._cache.get();)N=this._mode.encrypt(this,p),E.push(N);return P.concat(E)};var y=P.alloc(16,16);k.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(y))throw this._cipher.scrub(),new Error("data not multiple of block length")},k.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this};function u(){this.cache=P.allocUnsafe(0)}u.prototype.add=function(g){this.cache=P.concat([this.cache,g])},u.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},u.prototype.flush=function(){for(var g=16-this.cache.length,p=P.allocUnsafe(g),N=-1;++N<g;)p.writeUInt8(g,N);return P.concat([this.cache,p])};function _(g,p,N){var E=R[g.toLowerCase()];if(!E)throw new TypeError("invalid suite type");if(typeof p=="string"&&(p=P.from(p)),p.length!==E.key/8)throw new TypeError("invalid key length "+p.length);if(typeof N=="string"&&(N=P.from(N)),E.mode!=="GCM"&&N.length!==E.iv)throw new TypeError("invalid iv length "+N.length);return E.type==="stream"?new S(E.module,p,N):E.type==="auth"?new A(E.module,p,N):new k(E.module,p,N)}function m(g,p){var N=R[g.toLowerCase()];if(!N)throw new TypeError("invalid suite type");var E=f(p,!1,N.key,N.iv);return _(g,E.key,E.iv)}V.createCipheriv=_,V.createCipher=m},25892:(s,V,T)=>{var R=T(92861).Buffer,A=R.alloc(16,0);function P(c){return[c.readUInt32BE(0),c.readUInt32BE(4),c.readUInt32BE(8),c.readUInt32BE(12)]}function S(c){var f=R.allocUnsafe(16);return f.writeUInt32BE(c[0]>>>0,0),f.writeUInt32BE(c[1]>>>0,4),f.writeUInt32BE(c[2]>>>0,8),f.writeUInt32BE(c[3]>>>0,12),f}function d(c){this.h=c,this.state=R.alloc(16,0),this.cache=R.allocUnsafe(0)}d.prototype.ghash=function(c){for(var f=-1;++f<c.length;)this.state[f]^=c[f];this._multiply()},d.prototype._multiply=function(){for(var c=P(this.h),f=[0,0,0,0],h,k,y,u=-1;++u<128;){for(k=(this.state[~~(u/8)]&1<<7-u%8)!==0,k&&(f[0]^=c[0],f[1]^=c[1],f[2]^=c[2],f[3]^=c[3]),y=(c[3]&1)!==0,h=3;h>0;h--)c[h]=c[h]>>>1|(c[h-1]&1)<<31;c[0]=c[0]>>>1,y&&(c[0]=c[0]^-520093696)}this.state=S(f)},d.prototype.update=function(c){this.cache=R.concat([this.cache,c]);for(var f;this.cache.length>=16;)f=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(f)},d.prototype.final=function(c,f){return this.cache.length&&this.ghash(R.concat([this.cache,A],16)),this.ghash(S([0,c,0,f])),this.state},s.exports=d},45122:s=>{function V(T){for(var R=T.length,A;R--;)if(A=T.readUInt8(R),A===255)T.writeUInt8(0,R);else{A++,T.writeUInt8(A,R);break}}s.exports=V},92884:(s,V,T)=>{var R=T(30295);V.encrypt=function(A,P){var S=R(P,A._prev);return A._prev=A._cipher.encryptBlock(S),A._prev},V.decrypt=function(A,P){var S=A._prev;A._prev=P;var d=A._cipher.decryptBlock(P);return R(d,S)}},46383:(s,V,T)=>{var R=T(92861).Buffer,A=T(30295);function P(S,d,c){var f=d.length,h=A(d,S._cache);return S._cache=S._cache.slice(f),S._prev=R.concat([S._prev,c?d:h]),h}V.encrypt=function(S,d,c){for(var f=R.allocUnsafe(0),h;d.length;)if(S._cache.length===0&&(S._cache=S._cipher.encryptBlock(S._prev),S._prev=R.allocUnsafe(0)),S._cache.length<=d.length)h=S._cache.length,f=R.concat([f,P(S,d.slice(0,h),c)]),d=d.slice(h);else{f=R.concat([f,P(S,d,c)]);break}return f}},55264:(s,V,T)=>{var R=T(92861).Buffer;function A(S,d,c){for(var f,h=-1,k=8,y=0,u,_;++h<k;)f=S._cipher.encryptBlock(S._prev),u=d&1<<7-h?128:0,_=f[0]^u,y+=(_&128)>>h%8,S._prev=P(S._prev,c?u:_);return y}function P(S,d){var c=S.length,f=-1,h=R.allocUnsafe(S.length);for(S=R.concat([S,R.from([d])]);++f<c;)h[f]=S[f]<<1|S[f+1]>>7;return h}V.encrypt=function(S,d,c){for(var f=d.length,h=R.allocUnsafe(f),k=-1;++k<f;)h[k]=A(S,d[k],c);return h}},86975:(s,V,T)=>{var R=T(92861).Buffer;function A(P,S,d){var c=P._cipher.encryptBlock(P._prev),f=c[0]^S;return P._prev=R.concat([P._prev.slice(1),R.from([d?S:f])]),f}V.encrypt=function(P,S,d){for(var c=S.length,f=R.allocUnsafe(c),h=-1;++h<c;)f[h]=A(P,S[h],d);return f}},63053:(s,V,T)=>{var R=T(30295),A=T(92861).Buffer,P=T(45122);function S(c){var f=c._cipher.encryptBlockRaw(c._prev);return P(c._prev),f}var d=16;V.encrypt=function(c,f){var h=Math.ceil(f.length/d),k=c._cache.length;c._cache=A.concat([c._cache,A.allocUnsafe(h*d)]);for(var y=0;y<h;y++){var u=S(c),_=k+y*d;c._cache.writeUInt32BE(u[0],_+0),c._cache.writeUInt32BE(u[1],_+4),c._cache.writeUInt32BE(u[2],_+8),c._cache.writeUInt32BE(u[3],_+12)}var m=c._cache.slice(0,f.length);return c._cache=c._cache.slice(f.length),R(f,m)}},52632:(s,V)=>{V.encrypt=function(T,R){return T._cipher.encryptBlock(R)},V.decrypt=function(T,R){return T._cipher.decryptBlock(R)}},530:(s,V,T)=>{var R={ECB:T(52632),CBC:T(92884),CFB:T(46383),CFB8:T(86975),CFB1:T(55264),OFB:T(46843),CTR:T(63053),GCM:T(63053)},A=T(3219);for(var P in A)A[P].module=R[A[P].mode];s.exports=A},46843:(s,V,T)=>{var R=T(30295);function A(P){return P._prev=P._cipher.encryptBlock(P._prev),P._prev}V.encrypt=function(P,S){for(;P._cache.length<S.length;)P._cache=Buffer.concat([P._cache,A(P)]);var d=P._cache.slice(0,S.length);return P._cache=P._cache.slice(S.length),R(S,d)}},50650:(s,V,T)=>{var R=T(50462),A=T(92861).Buffer,P=T(56168),S=T(56698);function d(c,f,h,k){P.call(this),this._cipher=new R.AES(f),this._prev=A.from(h),this._cache=A.allocUnsafe(0),this._secCache=A.allocUnsafe(0),this._decrypt=k,this._mode=c}S(d,P),d.prototype._update=function(c){return this._mode.encrypt(this,c,this._decrypt)},d.prototype._final=function(){this._cipher.scrub()},s.exports=d},30125:(s,V,T)=>{var R=T(84050),A=T(1241),P=T(530),S=T(32438),d=T(68078);function c(u,_){u=u.toLowerCase();var m,g;if(P[u])m=P[u].key,g=P[u].iv;else if(S[u])m=S[u].key*8,g=S[u].iv;else throw new TypeError("invalid suite type");var p=d(_,!1,m,g);return h(u,p.key,p.iv)}function f(u,_){u=u.toLowerCase();var m,g;if(P[u])m=P[u].key,g=P[u].iv;else if(S[u])m=S[u].key*8,g=S[u].iv;else throw new TypeError("invalid suite type");var p=d(_,!1,m,g);return k(u,p.key,p.iv)}function h(u,_,m){if(u=u.toLowerCase(),P[u])return A.createCipheriv(u,_,m);if(S[u])return new R({key:_,iv:m,mode:u});throw new TypeError("invalid suite type")}function k(u,_,m){if(u=u.toLowerCase(),P[u])return A.createDecipheriv(u,_,m);if(S[u])return new R({key:_,iv:m,mode:u,decrypt:!0});throw new TypeError("invalid suite type")}function y(){return Object.keys(S).concat(A.getCiphers())}V.createCipher=V.Cipher=c,V.createCipheriv=V.Cipheriv=h,V.createDecipher=V.Decipher=f,V.createDecipheriv=V.Decipheriv=k,V.listCiphers=V.getCiphers=y},84050:(s,V,T)=>{var R=T(56168),A=T(29560),P=T(56698),S=T(92861).Buffer,d={"des-ede3-cbc":A.CBC.instantiate(A.EDE),"des-ede3":A.EDE,"des-ede-cbc":A.CBC.instantiate(A.EDE),"des-ede":A.EDE,"des-cbc":A.CBC.instantiate(A.DES),"des-ecb":A.DES};d.des=d["des-cbc"],d.des3=d["des-ede3-cbc"],s.exports=c,P(c,R);function c(f){R.call(this);var h=f.mode.toLowerCase(),k=d[h],y;f.decrypt?y="decrypt":y="encrypt";var u=f.key;S.isBuffer(u)||(u=S.from(u)),(h==="des-ede"||h==="des-ede-cbc")&&(u=S.concat([u,u.slice(0,8)]));var _=f.iv;S.isBuffer(_)||(_=S.from(_)),this._des=k.create({key:u,iv:_,type:y})}c.prototype._update=function(f){return S.from(this._des.update(f))},c.prototype._final=function(){return S.from(this._des.final())}},32438:(s,V)=>{V["des-ecb"]={key:8,iv:0},V["des-cbc"]=V.des={key:8,iv:8},V["des-ede3-cbc"]=V.des3={key:24,iv:8},V["des-ede3"]={key:24,iv:0},V["des-ede-cbc"]={key:16,iv:8},V["des-ede"]={key:16,iv:0}},67332:(s,V,T)=>{var R=T(78893),A=T(53209);function P(c){var f=S(c),h=f.toRed(R.mont(c.modulus)).redPow(new R(c.publicExponent)).fromRed();return{blinder:h,unblinder:f.invm(c.modulus)}}function S(c){var f=c.modulus.byteLength(),h;do h=new R(A(f));while(h.cmp(c.modulus)>=0||!h.umod(c.prime1)||!h.umod(c.prime2));return h}function d(c,f){var h=P(f),k=f.modulus.byteLength(),y=new R(c).mul(h.blinder).umod(f.modulus),u=y.toRed(R.mont(f.prime1)),_=y.toRed(R.mont(f.prime2)),m=f.coefficient,g=f.prime1,p=f.prime2,N=u.redPow(f.exponent1).fromRed(),E=_.redPow(f.exponent2).fromRed(),x=N.isub(E).imul(m).umod(g).imul(p);return E.iadd(x).imul(h.unblinder).umod(f.modulus).toArrayLike(Buffer,"be",k)}d.getr=S,s.exports=d},78893:function(s,V,T){s=T.nmd(s),function(R,A){"use strict";function P(C,l){if(!C)throw new Error(l||"Assertion failed")}function S(C,l){C.super_=l;var w=function(){};w.prototype=l.prototype,C.prototype=new w,C.prototype.constructor=C}function d(C,l,w){if(d.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((l==="le"||l==="be")&&(w=l,l=10),this._init(C||0,l||10,w||"be"))}typeof R=="object"?R.exports=d:A.BN=d,d.BN=d,d.wordSize=26;var c;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?c=window.Buffer:c=T(98285).Buffer}catch{}d.isBN=function(l){return l instanceof d?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===d.wordSize&&Array.isArray(l.words)},d.max=function(l,w){return l.cmp(w)>0?l:w},d.min=function(l,w){return l.cmp(w)<0?l:w},d.prototype._init=function(l,w,D){if(typeof l=="number")return this._initNumber(l,w,D);if(typeof l=="object")return this._initArray(l,w,D);w==="hex"&&(w=16),P(w===(w|0)&&w>=2&&w<=36),l=l.toString().replace(/\s+/g,"");var q=0;l[0]==="-"&&(q++,this.negative=1),q<l.length&&(w===16?this._parseHex(l,q,D):(this._parseBase(l,w,q),D==="le"&&this._initArray(this.toArray(),w,D)))},d.prototype._initNumber=function(l,w,D){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(P(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),D==="le"&&this._initArray(this.toArray(),w,D)},d.prototype._initArray=function(l,w,D){if(P(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j,H,Z=0;if(D==="be")for(q=l.length-1,j=0;q>=0;q-=3)H=l[q]|l[q-1]<<8|l[q-2]<<16,this.words[j]|=H<<Z&67108863,this.words[j+1]=H>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,j++);else if(D==="le")for(q=0,j=0;q<l.length;q+=3)H=l[q]|l[q+1]<<8|l[q+2]<<16,this.words[j]|=H<<Z&67108863,this.words[j+1]=H>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,j++);return this._strip()};function f(C,l){var w=C.charCodeAt(l);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;P(!1,"Invalid character in "+C)}function h(C,l,w){var D=f(C,w);return w-1>=l&&(D|=f(C,w-1)<<4),D}d.prototype._parseHex=function(l,w,D){this.length=Math.ceil((l.length-w)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j=0,H=0,Z;if(D==="be")for(q=l.length-1;q>=w;q-=2)Z=h(l,w,q)<<j,this.words[H]|=Z&67108863,j>=18?(j-=18,H+=1,this.words[H]|=Z>>>26):j+=8;else{var te=l.length-w;for(q=te%2===0?w+1:w;q<l.length;q+=2)Z=h(l,w,q)<<j,this.words[H]|=Z&67108863,j>=18?(j-=18,H+=1,this.words[H]|=Z>>>26):j+=8}this._strip()};function k(C,l,w,D){for(var q=0,j=0,H=Math.min(C.length,w),Z=l;Z<H;Z++){var te=C.charCodeAt(Z)-48;q*=D,te>=49?j=te-49+10:te>=17?j=te-17+10:j=te,P(te>=0&&j<D,"Invalid character"),q+=j}return q}d.prototype._parseBase=function(l,w,D){this.words=[0],this.length=1;for(var q=0,j=1;j<=67108863;j*=w)q++;q--,j=j/w|0;for(var H=l.length-D,Z=H%q,te=Math.min(H,H-Z)+D,B=0,ae=D;ae<te;ae+=q)B=k(l,ae,ae+q,w),this.imuln(j),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(Z!==0){var xe=1;for(B=k(l,ae,l.length,w),ae=0;ae<Z;ae++)xe*=w;this.imuln(xe),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this._strip()},d.prototype.copy=function(l){l.words=new Array(this.length);for(var w=0;w<this.length;w++)l.words[w]=this.words[w];l.length=this.length,l.negative=this.negative,l.red=this.red};function y(C,l){C.words=l.words,C.length=l.length,C.negative=l.negative,C.red=l.red}if(d.prototype._move=function(l){y(l,this)},d.prototype.clone=function(){var l=new d(null);return this.copy(l),l},d.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},d.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{d.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{d.prototype.inspect=u}else d.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(l,w){l=l||10,w=w|0||1;var D;if(l===16||l==="hex"){D="";for(var q=0,j=0,H=0;H<this.length;H++){var Z=this.words[H],te=((Z<<q|j)&16777215).toString(16);j=Z>>>24-q&16777215,j!==0||H!==this.length-1?D=_[6-te.length]+te+D:D=te+D,q+=2,q>=26&&(q-=26,H--)}for(j!==0&&(D=j.toString(16)+D);D.length%w!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}if(l===(l|0)&&l>=2&&l<=36){var B=m[l],ae=g[l];D="";var xe=this.clone();for(xe.negative=0;!xe.isZero();){var he=xe.modrn(ae).toString(l);xe=xe.idivn(ae),xe.isZero()?D=he+D:D=_[B-he.length]+he+D}for(this.isZero()&&(D="0"+D);D.length%w!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}P(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},d.prototype.toJSON=function(){return this.toString(16,2)},c&&(d.prototype.toBuffer=function(l,w){return this.toArrayLike(c,l,w)}),d.prototype.toArray=function(l,w){return this.toArrayLike(Array,l,w)};var p=function(l,w){return l.allocUnsafe?l.allocUnsafe(w):new l(w)};d.prototype.toArrayLike=function(l,w,D){this._strip();var q=this.byteLength(),j=D||Math.max(1,q);P(q<=j,"byte array longer than desired length"),P(j>0,"Requested array length <= 0");var H=p(l,j),Z=w==="le"?"LE":"BE";return this["_toArrayLike"+Z](H,q),H},d.prototype._toArrayLikeLE=function(l,w){for(var D=0,q=0,j=0,H=0;j<this.length;j++){var Z=this.words[j]<<H|q;l[D++]=Z&255,D<l.length&&(l[D++]=Z>>8&255),D<l.length&&(l[D++]=Z>>16&255),H===6?(D<l.length&&(l[D++]=Z>>24&255),q=0,H=0):(q=Z>>>24,H+=2)}if(D<l.length)for(l[D++]=q;D<l.length;)l[D++]=0},d.prototype._toArrayLikeBE=function(l,w){for(var D=l.length-1,q=0,j=0,H=0;j<this.length;j++){var Z=this.words[j]<<H|q;l[D--]=Z&255,D>=0&&(l[D--]=Z>>8&255),D>=0&&(l[D--]=Z>>16&255),H===6?(D>=0&&(l[D--]=Z>>24&255),q=0,H=0):(q=Z>>>24,H+=2)}if(D>=0)for(l[D--]=q;D>=0;)l[D--]=0},Math.clz32?d.prototype._countBits=function(l){return 32-Math.clz32(l)}:d.prototype._countBits=function(l){var w=l,D=0;return w>=4096&&(D+=13,w>>>=13),w>=64&&(D+=7,w>>>=7),w>=8&&(D+=4,w>>>=4),w>=2&&(D+=2,w>>>=2),D+w},d.prototype._zeroBits=function(l){if(l===0)return 26;var w=l,D=0;return w&8191||(D+=13,w>>>=13),w&127||(D+=7,w>>>=7),w&15||(D+=4,w>>>=4),w&3||(D+=2,w>>>=2),w&1||D++,D},d.prototype.bitLength=function(){var l=this.words[this.length-1],w=this._countBits(l);return(this.length-1)*26+w};function N(C){for(var l=new Array(C.bitLength()),w=0;w<l.length;w++){var D=w/26|0,q=w%26;l[w]=C.words[D]>>>q&1}return l}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,w=0;w<this.length;w++){var D=this._zeroBits(this.words[w]);if(l+=D,D!==26)break}return l},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},d.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var w=0;w<l.length;w++)this.words[w]=this.words[w]|l.words[w];return this._strip()},d.prototype.ior=function(l){return P((this.negative|l.negative)===0),this.iuor(l)},d.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},d.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},d.prototype.iuand=function(l){var w;this.length>l.length?w=l:w=this;for(var D=0;D<w.length;D++)this.words[D]=this.words[D]&l.words[D];return this.length=w.length,this._strip()},d.prototype.iand=function(l){return P((this.negative|l.negative)===0),this.iuand(l)},d.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},d.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},d.prototype.iuxor=function(l){var w,D;this.length>l.length?(w=this,D=l):(w=l,D=this);for(var q=0;q<D.length;q++)this.words[q]=w.words[q]^D.words[q];if(this!==w)for(;q<w.length;q++)this.words[q]=w.words[q];return this.length=w.length,this._strip()},d.prototype.ixor=function(l){return P((this.negative|l.negative)===0),this.iuxor(l)},d.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},d.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},d.prototype.inotn=function(l){P(typeof l=="number"&&l>=0);var w=Math.ceil(l/26)|0,D=l%26;this._expand(w),D>0&&w--;for(var q=0;q<w;q++)this.words[q]=~this.words[q]&67108863;return D>0&&(this.words[q]=~this.words[q]&67108863>>26-D),this._strip()},d.prototype.notn=function(l){return this.clone().inotn(l)},d.prototype.setn=function(l,w){P(typeof l=="number"&&l>=0);var D=l/26|0,q=l%26;return this._expand(D+1),w?this.words[D]=this.words[D]|1<<q:this.words[D]=this.words[D]&~(1<<q),this._strip()},d.prototype.iadd=function(l){var w;if(this.negative!==0&&l.negative===0)return this.negative=0,w=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,w=this.isub(l),l.negative=1,w._normSign();var D,q;this.length>l.length?(D=this,q=l):(D=l,q=this);for(var j=0,H=0;H<q.length;H++)w=(D.words[H]|0)+(q.words[H]|0)+j,this.words[H]=w&67108863,j=w>>>26;for(;j!==0&&H<D.length;H++)w=(D.words[H]|0)+j,this.words[H]=w&67108863,j=w>>>26;if(this.length=D.length,j!==0)this.words[this.length]=j,this.length++;else if(D!==this)for(;H<D.length;H++)this.words[H]=D.words[H];return this},d.prototype.add=function(l){var w;return l.negative!==0&&this.negative===0?(l.negative=0,w=this.sub(l),l.negative^=1,w):l.negative===0&&this.negative!==0?(this.negative=0,w=l.sub(this),this.negative=1,w):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},d.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var w=this.iadd(l);return l.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var D=this.cmp(l);if(D===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,j;D>0?(q=this,j=l):(q=l,j=this);for(var H=0,Z=0;Z<j.length;Z++)w=(q.words[Z]|0)-(j.words[Z]|0)+H,H=w>>26,this.words[Z]=w&67108863;for(;H!==0&&Z<q.length;Z++)w=(q.words[Z]|0)+H,H=w>>26,this.words[Z]=w&67108863;if(H===0&&Z<q.length&&q!==this)for(;Z<q.length;Z++)this.words[Z]=q.words[Z];return this.length=Math.max(this.length,Z),q!==this&&(this.negative=1),this._strip()},d.prototype.sub=function(l){return this.clone().isub(l)};function E(C,l,w){w.negative=l.negative^C.negative;var D=C.length+l.length|0;w.length=D,D=D-1|0;var q=C.words[0]|0,j=l.words[0]|0,H=q*j,Z=H&67108863,te=H/67108864|0;w.words[0]=Z;for(var B=1;B<D;B++){for(var ae=te>>>26,xe=te&67108863,he=Math.min(B,l.length-1),Ee=Math.max(0,B-C.length+1);Ee<=he;Ee++){var Ne=B-Ee|0;q=C.words[Ne]|0,j=l.words[Ee]|0,H=q*j+xe,ae+=H/67108864|0,xe=H&67108863}w.words[B]=xe|0,te=ae|0}return te!==0?w.words[B]=te|0:w.length--,w._strip()}var x=function(l,w,D){var q=l.words,j=w.words,H=D.words,Z=0,te,B,ae,xe=q[0]|0,he=xe&8191,Ee=xe>>>13,Ne=q[1]|0,X=Ne&8191,ee=Ne>>>13,de=q[2]|0,me=de&8191,_e=de>>>13,U=q[3]|0,O=U&8191,oe=U>>>13,ve=q[4]|0,we=ve&8191,pe=ve>>>13,Pe=q[5]|0,Le=Pe&8191,He=Pe>>>13,kt=q[6]|0,Ke=kt&8191,Ze=kt>>>13,yt=q[7]|0,ce=yt&8191,ne=yt>>>13,se=q[8]|0,be=se&8191,Me=se>>>13,Ve=q[9]|0,Fe=Ve&8191,Ye=Ve>>>13,Tt=j[0]|0,et=Tt&8191,rt=Tt>>>13,ut=j[1]|0,mt=ut&8191,vt=ut>>>13,ai=j[2]|0,ht=ai&8191,Pt=ai>>>13,Fi=j[3]|0,Rt=Fi&8191,qt=Fi>>>13,Ri=j[4]|0,lt=Ri&8191,it=Ri>>>13,_n=j[5]|0,Vt=_n&8191,Yt=_n>>>13,Ji=j[6]|0,De=Ji&8191,$e=Ji>>>13,gt=j[7]|0,at=gt&8191,ct=gt>>>13,Jt=j[8]|0,Nt=Jt&8191,Dt=Jt>>>13,At=j[9]|0,st=At&8191,wt=At>>>13;D.negative=l.negative^w.negative,D.length=19,te=Math.imul(he,et),B=Math.imul(he,rt),B=B+Math.imul(Ee,et)|0,ae=Math.imul(Ee,rt);var St=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(St>>>26)|0,St&=67108863,te=Math.imul(X,et),B=Math.imul(X,rt),B=B+Math.imul(ee,et)|0,ae=Math.imul(ee,rt),te=te+Math.imul(he,mt)|0,B=B+Math.imul(he,vt)|0,B=B+Math.imul(Ee,mt)|0,ae=ae+Math.imul(Ee,vt)|0;var si=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(si>>>26)|0,si&=67108863,te=Math.imul(me,et),B=Math.imul(me,rt),B=B+Math.imul(_e,et)|0,ae=Math.imul(_e,rt),te=te+Math.imul(X,mt)|0,B=B+Math.imul(X,vt)|0,B=B+Math.imul(ee,mt)|0,ae=ae+Math.imul(ee,vt)|0,te=te+Math.imul(he,ht)|0,B=B+Math.imul(he,Pt)|0,B=B+Math.imul(Ee,ht)|0,ae=ae+Math.imul(Ee,Pt)|0;var ei=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(ei>>>26)|0,ei&=67108863,te=Math.imul(O,et),B=Math.imul(O,rt),B=B+Math.imul(oe,et)|0,ae=Math.imul(oe,rt),te=te+Math.imul(me,mt)|0,B=B+Math.imul(me,vt)|0,B=B+Math.imul(_e,mt)|0,ae=ae+Math.imul(_e,vt)|0,te=te+Math.imul(X,ht)|0,B=B+Math.imul(X,Pt)|0,B=B+Math.imul(ee,ht)|0,ae=ae+Math.imul(ee,Pt)|0,te=te+Math.imul(he,Rt)|0,B=B+Math.imul(he,qt)|0,B=B+Math.imul(Ee,Rt)|0,ae=ae+Math.imul(Ee,qt)|0;var Ft=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,te=Math.imul(we,et),B=Math.imul(we,rt),B=B+Math.imul(pe,et)|0,ae=Math.imul(pe,rt),te=te+Math.imul(O,mt)|0,B=B+Math.imul(O,vt)|0,B=B+Math.imul(oe,mt)|0,ae=ae+Math.imul(oe,vt)|0,te=te+Math.imul(me,ht)|0,B=B+Math.imul(me,Pt)|0,B=B+Math.imul(_e,ht)|0,ae=ae+Math.imul(_e,Pt)|0,te=te+Math.imul(X,Rt)|0,B=B+Math.imul(X,qt)|0,B=B+Math.imul(ee,Rt)|0,ae=ae+Math.imul(ee,qt)|0,te=te+Math.imul(he,lt)|0,B=B+Math.imul(he,it)|0,B=B+Math.imul(Ee,lt)|0,ae=ae+Math.imul(Ee,it)|0;var mi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(mi>>>26)|0,mi&=67108863,te=Math.imul(Le,et),B=Math.imul(Le,rt),B=B+Math.imul(He,et)|0,ae=Math.imul(He,rt),te=te+Math.imul(we,mt)|0,B=B+Math.imul(we,vt)|0,B=B+Math.imul(pe,mt)|0,ae=ae+Math.imul(pe,vt)|0,te=te+Math.imul(O,ht)|0,B=B+Math.imul(O,Pt)|0,B=B+Math.imul(oe,ht)|0,ae=ae+Math.imul(oe,Pt)|0,te=te+Math.imul(me,Rt)|0,B=B+Math.imul(me,qt)|0,B=B+Math.imul(_e,Rt)|0,ae=ae+Math.imul(_e,qt)|0,te=te+Math.imul(X,lt)|0,B=B+Math.imul(X,it)|0,B=B+Math.imul(ee,lt)|0,ae=ae+Math.imul(ee,it)|0,te=te+Math.imul(he,Vt)|0,B=B+Math.imul(he,Yt)|0,B=B+Math.imul(Ee,Vt)|0,ae=ae+Math.imul(Ee,Yt)|0;var ii=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(ii>>>26)|0,ii&=67108863,te=Math.imul(Ke,et),B=Math.imul(Ke,rt),B=B+Math.imul(Ze,et)|0,ae=Math.imul(Ze,rt),te=te+Math.imul(Le,mt)|0,B=B+Math.imul(Le,vt)|0,B=B+Math.imul(He,mt)|0,ae=ae+Math.imul(He,vt)|0,te=te+Math.imul(we,ht)|0,B=B+Math.imul(we,Pt)|0,B=B+Math.imul(pe,ht)|0,ae=ae+Math.imul(pe,Pt)|0,te=te+Math.imul(O,Rt)|0,B=B+Math.imul(O,qt)|0,B=B+Math.imul(oe,Rt)|0,ae=ae+Math.imul(oe,qt)|0,te=te+Math.imul(me,lt)|0,B=B+Math.imul(me,it)|0,B=B+Math.imul(_e,lt)|0,ae=ae+Math.imul(_e,it)|0,te=te+Math.imul(X,Vt)|0,B=B+Math.imul(X,Yt)|0,B=B+Math.imul(ee,Vt)|0,ae=ae+Math.imul(ee,Yt)|0,te=te+Math.imul(he,De)|0,B=B+Math.imul(he,$e)|0,B=B+Math.imul(Ee,De)|0,ae=ae+Math.imul(Ee,$e)|0;var bi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(bi>>>26)|0,bi&=67108863,te=Math.imul(ce,et),B=Math.imul(ce,rt),B=B+Math.imul(ne,et)|0,ae=Math.imul(ne,rt),te=te+Math.imul(Ke,mt)|0,B=B+Math.imul(Ke,vt)|0,B=B+Math.imul(Ze,mt)|0,ae=ae+Math.imul(Ze,vt)|0,te=te+Math.imul(Le,ht)|0,B=B+Math.imul(Le,Pt)|0,B=B+Math.imul(He,ht)|0,ae=ae+Math.imul(He,Pt)|0,te=te+Math.imul(we,Rt)|0,B=B+Math.imul(we,qt)|0,B=B+Math.imul(pe,Rt)|0,ae=ae+Math.imul(pe,qt)|0,te=te+Math.imul(O,lt)|0,B=B+Math.imul(O,it)|0,B=B+Math.imul(oe,lt)|0,ae=ae+Math.imul(oe,it)|0,te=te+Math.imul(me,Vt)|0,B=B+Math.imul(me,Yt)|0,B=B+Math.imul(_e,Vt)|0,ae=ae+Math.imul(_e,Yt)|0,te=te+Math.imul(X,De)|0,B=B+Math.imul(X,$e)|0,B=B+Math.imul(ee,De)|0,ae=ae+Math.imul(ee,$e)|0,te=te+Math.imul(he,at)|0,B=B+Math.imul(he,ct)|0,B=B+Math.imul(Ee,at)|0,ae=ae+Math.imul(Ee,ct)|0;var _i=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(_i>>>26)|0,_i&=67108863,te=Math.imul(be,et),B=Math.imul(be,rt),B=B+Math.imul(Me,et)|0,ae=Math.imul(Me,rt),te=te+Math.imul(ce,mt)|0,B=B+Math.imul(ce,vt)|0,B=B+Math.imul(ne,mt)|0,ae=ae+Math.imul(ne,vt)|0,te=te+Math.imul(Ke,ht)|0,B=B+Math.imul(Ke,Pt)|0,B=B+Math.imul(Ze,ht)|0,ae=ae+Math.imul(Ze,Pt)|0,te=te+Math.imul(Le,Rt)|0,B=B+Math.imul(Le,qt)|0,B=B+Math.imul(He,Rt)|0,ae=ae+Math.imul(He,qt)|0,te=te+Math.imul(we,lt)|0,B=B+Math.imul(we,it)|0,B=B+Math.imul(pe,lt)|0,ae=ae+Math.imul(pe,it)|0,te=te+Math.imul(O,Vt)|0,B=B+Math.imul(O,Yt)|0,B=B+Math.imul(oe,Vt)|0,ae=ae+Math.imul(oe,Yt)|0,te=te+Math.imul(me,De)|0,B=B+Math.imul(me,$e)|0,B=B+Math.imul(_e,De)|0,ae=ae+Math.imul(_e,$e)|0,te=te+Math.imul(X,at)|0,B=B+Math.imul(X,ct)|0,B=B+Math.imul(ee,at)|0,ae=ae+Math.imul(ee,ct)|0,te=te+Math.imul(he,Nt)|0,B=B+Math.imul(he,Dt)|0,B=B+Math.imul(Ee,Nt)|0,ae=ae+Math.imul(Ee,Dt)|0;var Hi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,te=Math.imul(Fe,et),B=Math.imul(Fe,rt),B=B+Math.imul(Ye,et)|0,ae=Math.imul(Ye,rt),te=te+Math.imul(be,mt)|0,B=B+Math.imul(be,vt)|0,B=B+Math.imul(Me,mt)|0,ae=ae+Math.imul(Me,vt)|0,te=te+Math.imul(ce,ht)|0,B=B+Math.imul(ce,Pt)|0,B=B+Math.imul(ne,ht)|0,ae=ae+Math.imul(ne,Pt)|0,te=te+Math.imul(Ke,Rt)|0,B=B+Math.imul(Ke,qt)|0,B=B+Math.imul(Ze,Rt)|0,ae=ae+Math.imul(Ze,qt)|0,te=te+Math.imul(Le,lt)|0,B=B+Math.imul(Le,it)|0,B=B+Math.imul(He,lt)|0,ae=ae+Math.imul(He,it)|0,te=te+Math.imul(we,Vt)|0,B=B+Math.imul(we,Yt)|0,B=B+Math.imul(pe,Vt)|0,ae=ae+Math.imul(pe,Yt)|0,te=te+Math.imul(O,De)|0,B=B+Math.imul(O,$e)|0,B=B+Math.imul(oe,De)|0,ae=ae+Math.imul(oe,$e)|0,te=te+Math.imul(me,at)|0,B=B+Math.imul(me,ct)|0,B=B+Math.imul(_e,at)|0,ae=ae+Math.imul(_e,ct)|0,te=te+Math.imul(X,Nt)|0,B=B+Math.imul(X,Dt)|0,B=B+Math.imul(ee,Nt)|0,ae=ae+Math.imul(ee,Dt)|0,te=te+Math.imul(he,st)|0,B=B+Math.imul(he,wt)|0,B=B+Math.imul(Ee,st)|0,ae=ae+Math.imul(Ee,wt)|0;var Ti=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,te=Math.imul(Fe,mt),B=Math.imul(Fe,vt),B=B+Math.imul(Ye,mt)|0,ae=Math.imul(Ye,vt),te=te+Math.imul(be,ht)|0,B=B+Math.imul(be,Pt)|0,B=B+Math.imul(Me,ht)|0,ae=ae+Math.imul(Me,Pt)|0,te=te+Math.imul(ce,Rt)|0,B=B+Math.imul(ce,qt)|0,B=B+Math.imul(ne,Rt)|0,ae=ae+Math.imul(ne,qt)|0,te=te+Math.imul(Ke,lt)|0,B=B+Math.imul(Ke,it)|0,B=B+Math.imul(Ze,lt)|0,ae=ae+Math.imul(Ze,it)|0,te=te+Math.imul(Le,Vt)|0,B=B+Math.imul(Le,Yt)|0,B=B+Math.imul(He,Vt)|0,ae=ae+Math.imul(He,Yt)|0,te=te+Math.imul(we,De)|0,B=B+Math.imul(we,$e)|0,B=B+Math.imul(pe,De)|0,ae=ae+Math.imul(pe,$e)|0,te=te+Math.imul(O,at)|0,B=B+Math.imul(O,ct)|0,B=B+Math.imul(oe,at)|0,ae=ae+Math.imul(oe,ct)|0,te=te+Math.imul(me,Nt)|0,B=B+Math.imul(me,Dt)|0,B=B+Math.imul(_e,Nt)|0,ae=ae+Math.imul(_e,Dt)|0,te=te+Math.imul(X,st)|0,B=B+Math.imul(X,wt)|0,B=B+Math.imul(ee,st)|0,ae=ae+Math.imul(ee,wt)|0;var Ci=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,te=Math.imul(Fe,ht),B=Math.imul(Fe,Pt),B=B+Math.imul(Ye,ht)|0,ae=Math.imul(Ye,Pt),te=te+Math.imul(be,Rt)|0,B=B+Math.imul(be,qt)|0,B=B+Math.imul(Me,Rt)|0,ae=ae+Math.imul(Me,qt)|0,te=te+Math.imul(ce,lt)|0,B=B+Math.imul(ce,it)|0,B=B+Math.imul(ne,lt)|0,ae=ae+Math.imul(ne,it)|0,te=te+Math.imul(Ke,Vt)|0,B=B+Math.imul(Ke,Yt)|0,B=B+Math.imul(Ze,Vt)|0,ae=ae+Math.imul(Ze,Yt)|0,te=te+Math.imul(Le,De)|0,B=B+Math.imul(Le,$e)|0,B=B+Math.imul(He,De)|0,ae=ae+Math.imul(He,$e)|0,te=te+Math.imul(we,at)|0,B=B+Math.imul(we,ct)|0,B=B+Math.imul(pe,at)|0,ae=ae+Math.imul(pe,ct)|0,te=te+Math.imul(O,Nt)|0,B=B+Math.imul(O,Dt)|0,B=B+Math.imul(oe,Nt)|0,ae=ae+Math.imul(oe,Dt)|0,te=te+Math.imul(me,st)|0,B=B+Math.imul(me,wt)|0,B=B+Math.imul(_e,st)|0,ae=ae+Math.imul(_e,wt)|0;var Pi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,te=Math.imul(Fe,Rt),B=Math.imul(Fe,qt),B=B+Math.imul(Ye,Rt)|0,ae=Math.imul(Ye,qt),te=te+Math.imul(be,lt)|0,B=B+Math.imul(be,it)|0,B=B+Math.imul(Me,lt)|0,ae=ae+Math.imul(Me,it)|0,te=te+Math.imul(ce,Vt)|0,B=B+Math.imul(ce,Yt)|0,B=B+Math.imul(ne,Vt)|0,ae=ae+Math.imul(ne,Yt)|0,te=te+Math.imul(Ke,De)|0,B=B+Math.imul(Ke,$e)|0,B=B+Math.imul(Ze,De)|0,ae=ae+Math.imul(Ze,$e)|0,te=te+Math.imul(Le,at)|0,B=B+Math.imul(Le,ct)|0,B=B+Math.imul(He,at)|0,ae=ae+Math.imul(He,ct)|0,te=te+Math.imul(we,Nt)|0,B=B+Math.imul(we,Dt)|0,B=B+Math.imul(pe,Nt)|0,ae=ae+Math.imul(pe,Dt)|0,te=te+Math.imul(O,st)|0,B=B+Math.imul(O,wt)|0,B=B+Math.imul(oe,st)|0,ae=ae+Math.imul(oe,wt)|0;var Ht=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,te=Math.imul(Fe,lt),B=Math.imul(Fe,it),B=B+Math.imul(Ye,lt)|0,ae=Math.imul(Ye,it),te=te+Math.imul(be,Vt)|0,B=B+Math.imul(be,Yt)|0,B=B+Math.imul(Me,Vt)|0,ae=ae+Math.imul(Me,Yt)|0,te=te+Math.imul(ce,De)|0,B=B+Math.imul(ce,$e)|0,B=B+Math.imul(ne,De)|0,ae=ae+Math.imul(ne,$e)|0,te=te+Math.imul(Ke,at)|0,B=B+Math.imul(Ke,ct)|0,B=B+Math.imul(Ze,at)|0,ae=ae+Math.imul(Ze,ct)|0,te=te+Math.imul(Le,Nt)|0,B=B+Math.imul(Le,Dt)|0,B=B+Math.imul(He,Nt)|0,ae=ae+Math.imul(He,Dt)|0,te=te+Math.imul(we,st)|0,B=B+Math.imul(we,wt)|0,B=B+Math.imul(pe,st)|0,ae=ae+Math.imul(pe,wt)|0;var ti=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(ti>>>26)|0,ti&=67108863,te=Math.imul(Fe,Vt),B=Math.imul(Fe,Yt),B=B+Math.imul(Ye,Vt)|0,ae=Math.imul(Ye,Yt),te=te+Math.imul(be,De)|0,B=B+Math.imul(be,$e)|0,B=B+Math.imul(Me,De)|0,ae=ae+Math.imul(Me,$e)|0,te=te+Math.imul(ce,at)|0,B=B+Math.imul(ce,ct)|0,B=B+Math.imul(ne,at)|0,ae=ae+Math.imul(ne,ct)|0,te=te+Math.imul(Ke,Nt)|0,B=B+Math.imul(Ke,Dt)|0,B=B+Math.imul(Ze,Nt)|0,ae=ae+Math.imul(Ze,Dt)|0,te=te+Math.imul(Le,st)|0,B=B+Math.imul(Le,wt)|0,B=B+Math.imul(He,st)|0,ae=ae+Math.imul(He,wt)|0;var Xt=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,te=Math.imul(Fe,De),B=Math.imul(Fe,$e),B=B+Math.imul(Ye,De)|0,ae=Math.imul(Ye,$e),te=te+Math.imul(be,at)|0,B=B+Math.imul(be,ct)|0,B=B+Math.imul(Me,at)|0,ae=ae+Math.imul(Me,ct)|0,te=te+Math.imul(ce,Nt)|0,B=B+Math.imul(ce,Dt)|0,B=B+Math.imul(ne,Nt)|0,ae=ae+Math.imul(ne,Dt)|0,te=te+Math.imul(Ke,st)|0,B=B+Math.imul(Ke,wt)|0,B=B+Math.imul(Ze,st)|0,ae=ae+Math.imul(Ze,wt)|0;var Mi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,te=Math.imul(Fe,at),B=Math.imul(Fe,ct),B=B+Math.imul(Ye,at)|0,ae=Math.imul(Ye,ct),te=te+Math.imul(be,Nt)|0,B=B+Math.imul(be,Dt)|0,B=B+Math.imul(Me,Nt)|0,ae=ae+Math.imul(Me,Dt)|0,te=te+Math.imul(ce,st)|0,B=B+Math.imul(ce,wt)|0,B=B+Math.imul(ne,st)|0,ae=ae+Math.imul(ne,wt)|0;var oi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(oi>>>26)|0,oi&=67108863,te=Math.imul(Fe,Nt),B=Math.imul(Fe,Dt),B=B+Math.imul(Ye,Nt)|0,ae=Math.imul(Ye,Dt),te=te+Math.imul(be,st)|0,B=B+Math.imul(be,wt)|0,B=B+Math.imul(Me,st)|0,ae=ae+Math.imul(Me,wt)|0;var yi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(yi>>>26)|0,yi&=67108863,te=Math.imul(Fe,st),B=Math.imul(Fe,wt),B=B+Math.imul(Ye,st)|0,ae=Math.imul(Ye,wt);var Oi=(Z+te|0)+((B&8191)<<13)|0;return Z=(ae+(B>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,H[0]=St,H[1]=si,H[2]=ei,H[3]=Ft,H[4]=mi,H[5]=ii,H[6]=bi,H[7]=_i,H[8]=Hi,H[9]=Ti,H[10]=Ci,H[11]=Pi,H[12]=Ht,H[13]=ti,H[14]=Xt,H[15]=Mi,H[16]=oi,H[17]=yi,H[18]=Oi,Z!==0&&(H[19]=Z,D.length++),D};Math.imul||(x=E);function F(C,l,w){w.negative=l.negative^C.negative,w.length=C.length+l.length;for(var D=0,q=0,j=0;j<w.length-1;j++){var H=q;q=0;for(var Z=D&67108863,te=Math.min(j,l.length-1),B=Math.max(0,j-C.length+1);B<=te;B++){var ae=j-B,xe=C.words[ae]|0,he=l.words[B]|0,Ee=xe*he,Ne=Ee&67108863;H=H+(Ee/67108864|0)|0,Ne=Ne+Z|0,Z=Ne&67108863,H=H+(Ne>>>26)|0,q+=H>>>26,H&=67108863}w.words[j]=Z,D=H,H=q}return D!==0?w.words[j]=D:w.length--,w._strip()}function W(C,l,w){return F(C,l,w)}d.prototype.mulTo=function(l,w){var D,q=this.length+l.length;return this.length===10&&l.length===10?D=x(this,l,w):q<63?D=E(this,l,w):q<1024?D=F(this,l,w):D=W(this,l,w),D};function b(C,l){this.x=C,this.y=l}b.prototype.makeRBT=function(l){for(var w=new Array(l),D=d.prototype._countBits(l)-1,q=0;q<l;q++)w[q]=this.revBin(q,D,l);return w},b.prototype.revBin=function(l,w,D){if(l===0||l===D-1)return l;for(var q=0,j=0;j<w;j++)q|=(l&1)<<w-j-1,l>>=1;return q},b.prototype.permute=function(l,w,D,q,j,H){for(var Z=0;Z<H;Z++)q[Z]=w[l[Z]],j[Z]=D[l[Z]]},b.prototype.transform=function(l,w,D,q,j,H){this.permute(H,l,w,D,q,j);for(var Z=1;Z<j;Z<<=1)for(var te=Z<<1,B=Math.cos(2*Math.PI/te),ae=Math.sin(2*Math.PI/te),xe=0;xe<j;xe+=te)for(var he=B,Ee=ae,Ne=0;Ne<Z;Ne++){var X=D[xe+Ne],ee=q[xe+Ne],de=D[xe+Ne+Z],me=q[xe+Ne+Z],_e=he*de-Ee*me;me=he*me+Ee*de,de=_e,D[xe+Ne]=X+de,q[xe+Ne]=ee+me,D[xe+Ne+Z]=X-de,q[xe+Ne+Z]=ee-me,Ne!==te&&(_e=B*he-ae*Ee,Ee=B*Ee+ae*he,he=_e)}},b.prototype.guessLen13b=function(l,w){var D=Math.max(w,l)|1,q=D&1,j=0;for(D=D/2|0;D;D=D>>>1)j++;return 1<<j+1+q},b.prototype.conjugate=function(l,w,D){if(!(D<=1))for(var q=0;q<D/2;q++){var j=l[q];l[q]=l[D-q-1],l[D-q-1]=j,j=w[q],w[q]=-w[D-q-1],w[D-q-1]=-j}},b.prototype.normalize13b=function(l,w){for(var D=0,q=0;q<w/2;q++){var j=Math.round(l[2*q+1]/w)*8192+Math.round(l[2*q]/w)+D;l[q]=j&67108863,j<67108864?D=0:D=j/67108864|0}return l},b.prototype.convert13b=function(l,w,D,q){for(var j=0,H=0;H<w;H++)j=j+(l[H]|0),D[2*H]=j&8191,j=j>>>13,D[2*H+1]=j&8191,j=j>>>13;for(H=2*w;H<q;++H)D[H]=0;P(j===0),P((j&-8192)===0)},b.prototype.stub=function(l){for(var w=new Array(l),D=0;D<l;D++)w[D]=0;return w},b.prototype.mulp=function(l,w,D){var q=2*this.guessLen13b(l.length,w.length),j=this.makeRBT(q),H=this.stub(q),Z=new Array(q),te=new Array(q),B=new Array(q),ae=new Array(q),xe=new Array(q),he=new Array(q),Ee=D.words;Ee.length=q,this.convert13b(l.words,l.length,Z,q),this.convert13b(w.words,w.length,ae,q),this.transform(Z,H,te,B,q,j),this.transform(ae,H,xe,he,q,j);for(var Ne=0;Ne<q;Ne++){var X=te[Ne]*xe[Ne]-B[Ne]*he[Ne];B[Ne]=te[Ne]*he[Ne]+B[Ne]*xe[Ne],te[Ne]=X}return this.conjugate(te,B,q),this.transform(te,B,Ee,H,q,j),this.conjugate(Ee,H,q),this.normalize13b(Ee,q),D.negative=l.negative^w.negative,D.length=l.length+w.length,D._strip()},d.prototype.mul=function(l){var w=new d(null);return w.words=new Array(this.length+l.length),this.mulTo(l,w)},d.prototype.mulf=function(l){var w=new d(null);return w.words=new Array(this.length+l.length),W(this,l,w)},d.prototype.imul=function(l){return this.clone().mulTo(l,this)},d.prototype.imuln=function(l){var w=l<0;w&&(l=-l),P(typeof l=="number"),P(l<67108864);for(var D=0,q=0;q<this.length;q++){var j=(this.words[q]|0)*l,H=(j&67108863)+(D&67108863);D>>=26,D+=j/67108864|0,D+=H>>>26,this.words[q]=H&67108863}return D!==0&&(this.words[q]=D,this.length++),w?this.ineg():this},d.prototype.muln=function(l){return this.clone().imuln(l)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(l){var w=N(l);if(w.length===0)return new d(1);for(var D=this,q=0;q<w.length&&w[q]===0;q++,D=D.sqr());if(++q<w.length)for(var j=D.sqr();q<w.length;q++,j=j.sqr())w[q]!==0&&(D=D.mul(j));return D},d.prototype.iushln=function(l){P(typeof l=="number"&&l>=0);var w=l%26,D=(l-w)/26,q=67108863>>>26-w<<26-w,j;if(w!==0){var H=0;for(j=0;j<this.length;j++){var Z=this.words[j]&q,te=(this.words[j]|0)-Z<<w;this.words[j]=te|H,H=Z>>>26-w}H&&(this.words[j]=H,this.length++)}if(D!==0){for(j=this.length-1;j>=0;j--)this.words[j+D]=this.words[j];for(j=0;j<D;j++)this.words[j]=0;this.length+=D}return this._strip()},d.prototype.ishln=function(l){return P(this.negative===0),this.iushln(l)},d.prototype.iushrn=function(l,w,D){P(typeof l=="number"&&l>=0);var q;w?q=(w-w%26)/26:q=0;var j=l%26,H=Math.min((l-j)/26,this.length),Z=67108863^67108863>>>j<<j,te=D;if(q-=H,q=Math.max(0,q),te){for(var B=0;B<H;B++)te.words[B]=this.words[B];te.length=H}if(H!==0)if(this.length>H)for(this.length-=H,B=0;B<this.length;B++)this.words[B]=this.words[B+H];else this.words[0]=0,this.length=1;var ae=0;for(B=this.length-1;B>=0&&(ae!==0||B>=q);B--){var xe=this.words[B]|0;this.words[B]=ae<<26-j|xe>>>j,ae=xe&Z}return te&&ae!==0&&(te.words[te.length++]=ae),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},d.prototype.ishrn=function(l,w,D){return P(this.negative===0),this.iushrn(l,w,D)},d.prototype.shln=function(l){return this.clone().ishln(l)},d.prototype.ushln=function(l){return this.clone().iushln(l)},d.prototype.shrn=function(l){return this.clone().ishrn(l)},d.prototype.ushrn=function(l){return this.clone().iushrn(l)},d.prototype.testn=function(l){P(typeof l=="number"&&l>=0);var w=l%26,D=(l-w)/26,q=1<<w;if(this.length<=D)return!1;var j=this.words[D];return!!(j&q)},d.prototype.imaskn=function(l){P(typeof l=="number"&&l>=0);var w=l%26,D=(l-w)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=D)return this;if(w!==0&&D++,this.length=Math.min(D,this.length),w!==0){var q=67108863^67108863>>>w<<w;this.words[this.length-1]&=q}return this._strip()},d.prototype.maskn=function(l){return this.clone().imaskn(l)},d.prototype.iaddn=function(l){return P(typeof l=="number"),P(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},d.prototype._iaddn=function(l){this.words[0]+=l;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},d.prototype.isubn=function(l){if(P(typeof l=="number"),P(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},d.prototype.addn=function(l){return this.clone().iaddn(l)},d.prototype.subn=function(l){return this.clone().isubn(l)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(l,w,D){var q=l.length+D,j;this._expand(q);var H,Z=0;for(j=0;j<l.length;j++){H=(this.words[j+D]|0)+Z;var te=(l.words[j]|0)*w;H-=te&67108863,Z=(H>>26)-(te/67108864|0),this.words[j+D]=H&67108863}for(;j<this.length-D;j++)H=(this.words[j+D]|0)+Z,Z=H>>26,this.words[j+D]=H&67108863;if(Z===0)return this._strip();for(P(Z===-1),Z=0,j=0;j<this.length;j++)H=-(this.words[j]|0)+Z,Z=H>>26,this.words[j]=H&67108863;return this.negative=1,this._strip()},d.prototype._wordDiv=function(l,w){var D=this.length-l.length,q=this.clone(),j=l,H=j.words[j.length-1]|0,Z=this._countBits(H);D=26-Z,D!==0&&(j=j.ushln(D),q.iushln(D),H=j.words[j.length-1]|0);var te=q.length-j.length,B;if(w!=="mod"){B=new d(null),B.length=te+1,B.words=new Array(B.length);for(var ae=0;ae<B.length;ae++)B.words[ae]=0}var xe=q.clone()._ishlnsubmul(j,1,te);xe.negative===0&&(q=xe,B&&(B.words[te]=1));for(var he=te-1;he>=0;he--){var Ee=(q.words[j.length+he]|0)*67108864+(q.words[j.length+he-1]|0);for(Ee=Math.min(Ee/H|0,67108863),q._ishlnsubmul(j,Ee,he);q.negative!==0;)Ee--,q.negative=0,q._ishlnsubmul(j,1,he),q.isZero()||(q.negative^=1);B&&(B.words[he]=Ee)}return B&&B._strip(),q._strip(),w!=="div"&&D!==0&&q.iushrn(D),{div:B||null,mod:q}},d.prototype.divmod=function(l,w,D){if(P(!l.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var q,j,H;return this.negative!==0&&l.negative===0?(H=this.neg().divmod(l,w),w!=="mod"&&(q=H.div.neg()),w!=="div"&&(j=H.mod.neg(),D&&j.negative!==0&&j.iadd(l)),{div:q,mod:j}):this.negative===0&&l.negative!==0?(H=this.divmod(l.neg(),w),w!=="mod"&&(q=H.div.neg()),{div:q,mod:H.mod}):this.negative&l.negative?(H=this.neg().divmod(l.neg(),w),w!=="div"&&(j=H.mod.neg(),D&&j.negative!==0&&j.isub(l)),{div:H.div,mod:j}):l.length>this.length||this.cmp(l)<0?{div:new d(0),mod:this}:l.length===1?w==="div"?{div:this.divn(l.words[0]),mod:null}:w==="mod"?{div:null,mod:new d(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new d(this.modrn(l.words[0]))}:this._wordDiv(l,w)},d.prototype.div=function(l){return this.divmod(l,"div",!1).div},d.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},d.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},d.prototype.divRound=function(l){var w=this.divmod(l);if(w.mod.isZero())return w.div;var D=w.div.negative!==0?w.mod.isub(l):w.mod,q=l.ushrn(1),j=l.andln(1),H=D.cmp(q);return H<0||j===1&&H===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},d.prototype.modrn=function(l){var w=l<0;w&&(l=-l),P(l<=67108863);for(var D=(1<<26)%l,q=0,j=this.length-1;j>=0;j--)q=(D*q+(this.words[j]|0))%l;return w?-q:q},d.prototype.modn=function(l){return this.modrn(l)},d.prototype.idivn=function(l){var w=l<0;w&&(l=-l),P(l<=67108863);for(var D=0,q=this.length-1;q>=0;q--){var j=(this.words[q]|0)+D*67108864;this.words[q]=j/l|0,D=j%l}return this._strip(),w?this.ineg():this},d.prototype.divn=function(l){return this.clone().idivn(l)},d.prototype.egcd=function(l){P(l.negative===0),P(!l.isZero());var w=this,D=l.clone();w.negative!==0?w=w.umod(l):w=w.clone();for(var q=new d(1),j=new d(0),H=new d(0),Z=new d(1),te=0;w.isEven()&&D.isEven();)w.iushrn(1),D.iushrn(1),++te;for(var B=D.clone(),ae=w.clone();!w.isZero();){for(var xe=0,he=1;!(w.words[0]&he)&&xe<26;++xe,he<<=1);if(xe>0)for(w.iushrn(xe);xe-- >0;)(q.isOdd()||j.isOdd())&&(q.iadd(B),j.isub(ae)),q.iushrn(1),j.iushrn(1);for(var Ee=0,Ne=1;!(D.words[0]&Ne)&&Ee<26;++Ee,Ne<<=1);if(Ee>0)for(D.iushrn(Ee);Ee-- >0;)(H.isOdd()||Z.isOdd())&&(H.iadd(B),Z.isub(ae)),H.iushrn(1),Z.iushrn(1);w.cmp(D)>=0?(w.isub(D),q.isub(H),j.isub(Z)):(D.isub(w),H.isub(q),Z.isub(j))}return{a:H,b:Z,gcd:D.iushln(te)}},d.prototype._invmp=function(l){P(l.negative===0),P(!l.isZero());var w=this,D=l.clone();w.negative!==0?w=w.umod(l):w=w.clone();for(var q=new d(1),j=new d(0),H=D.clone();w.cmpn(1)>0&&D.cmpn(1)>0;){for(var Z=0,te=1;!(w.words[0]&te)&&Z<26;++Z,te<<=1);if(Z>0)for(w.iushrn(Z);Z-- >0;)q.isOdd()&&q.iadd(H),q.iushrn(1);for(var B=0,ae=1;!(D.words[0]&ae)&&B<26;++B,ae<<=1);if(B>0)for(D.iushrn(B);B-- >0;)j.isOdd()&&j.iadd(H),j.iushrn(1);w.cmp(D)>=0?(w.isub(D),q.isub(j)):(D.isub(w),j.isub(q))}var xe;return w.cmpn(1)===0?xe=q:xe=j,xe.cmpn(0)<0&&xe.iadd(l),xe},d.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var w=this.clone(),D=l.clone();w.negative=0,D.negative=0;for(var q=0;w.isEven()&&D.isEven();q++)w.iushrn(1),D.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;D.isEven();)D.iushrn(1);var j=w.cmp(D);if(j<0){var H=w;w=D,D=H}else if(j===0||D.cmpn(1)===0)break;w.isub(D)}while(!0);return D.iushln(q)},d.prototype.invm=function(l){return this.egcd(l).a.umod(l)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(l){return this.words[0]&l},d.prototype.bincn=function(l){P(typeof l=="number");var w=l%26,D=(l-w)/26,q=1<<w;if(this.length<=D)return this._expand(D+1),this.words[D]|=q,this;for(var j=q,H=D;j!==0&&H<this.length;H++){var Z=this.words[H]|0;Z+=j,j=Z>>>26,Z&=67108863,this.words[H]=Z}return j!==0&&(this.words[H]=j,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(l){var w=l<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var D;if(this.length>1)D=1;else{w&&(l=-l),P(l<=67108863,"Number is too big");var q=this.words[0]|0;D=q===l?0:q<l?-1:1}return this.negative!==0?-D|0:D},d.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var w=this.ucmp(l);return this.negative!==0?-w|0:w},d.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var w=0,D=this.length-1;D>=0;D--){var q=this.words[D]|0,j=l.words[D]|0;if(q!==j){q<j?w=-1:q>j&&(w=1);break}}return w},d.prototype.gtn=function(l){return this.cmpn(l)===1},d.prototype.gt=function(l){return this.cmp(l)===1},d.prototype.gten=function(l){return this.cmpn(l)>=0},d.prototype.gte=function(l){return this.cmp(l)>=0},d.prototype.ltn=function(l){return this.cmpn(l)===-1},d.prototype.lt=function(l){return this.cmp(l)===-1},d.prototype.lten=function(l){return this.cmpn(l)<=0},d.prototype.lte=function(l){return this.cmp(l)<=0},d.prototype.eqn=function(l){return this.cmpn(l)===0},d.prototype.eq=function(l){return this.cmp(l)===0},d.red=function(l){return new M(l)},d.prototype.toRed=function(l){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},d.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(l){return this.red=l,this},d.prototype.forceRed=function(l){return P(!this.red,"Already a number in reduction context"),this._forceRed(l)},d.prototype.redAdd=function(l){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},d.prototype.redIAdd=function(l){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},d.prototype.redSub=function(l){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},d.prototype.redISub=function(l){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},d.prototype.redShl=function(l){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},d.prototype.redMul=function(l){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},d.prototype.redIMul=function(l){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},d.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(l){return P(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var L={k256:null,p224:null,p192:null,p25519:null};function z(C,l){this.name=C,this.p=new d(l,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var l=new d(null);return l.words=new Array(Math.ceil(this.n/13)),l},z.prototype.ireduce=function(l){var w=l,D;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),D=w.bitLength();while(D>this.n);var q=D<this.n?-1:w.ucmp(this.p);return q===0?(w.words[0]=0,w.length=1):q>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},z.prototype.split=function(l,w){l.iushrn(this.n,0,w)},z.prototype.imulK=function(l){return l.imul(this.k)};function K(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}S(K,z),K.prototype.split=function(l,w){for(var D=4194303,q=Math.min(l.length,9),j=0;j<q;j++)w.words[j]=l.words[j];if(w.length=q,l.length<=9){l.words[0]=0,l.length=1;return}var H=l.words[9];for(w.words[w.length++]=H&D,j=10;j<l.length;j++){var Z=l.words[j]|0;l.words[j-10]=(Z&D)<<4|H>>>22,H=Z}H>>>=22,l.words[j-10]=H,H===0&&l.length>10?l.length-=10:l.length-=9},K.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var w=0,D=0;D<l.length;D++){var q=l.words[D]|0;w+=q*977,l.words[D]=w&67108863,w=q*64+(w/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function J(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}S(J,z);function ie(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}S(ie,z);function Y(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}S(Y,z),Y.prototype.imulK=function(l){for(var w=0,D=0;D<l.length;D++){var q=(l.words[D]|0)*19+w,j=q&67108863;q>>>=26,l.words[D]=j,w=q}return w!==0&&(l.words[l.length++]=w),l},d._prime=function(l){if(L[l])return L[l];var w;if(l==="k256")w=new K;else if(l==="p224")w=new J;else if(l==="p192")w=new ie;else if(l==="p25519")w=new Y;else throw new Error("Unknown prime "+l);return L[l]=w,w};function M(C){if(typeof C=="string"){var l=d._prime(C);this.m=l.p,this.prime=l}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}M.prototype._verify1=function(l){P(l.negative===0,"red works only with positives"),P(l.red,"red works only with red numbers")},M.prototype._verify2=function(l,w){P((l.negative|w.negative)===0,"red works only with positives"),P(l.red&&l.red===w.red,"red works only with red numbers")},M.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(y(l,l.umod(this.m)._forceRed(this)),l)},M.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},M.prototype.add=function(l,w){this._verify2(l,w);var D=l.add(w);return D.cmp(this.m)>=0&&D.isub(this.m),D._forceRed(this)},M.prototype.iadd=function(l,w){this._verify2(l,w);var D=l.iadd(w);return D.cmp(this.m)>=0&&D.isub(this.m),D},M.prototype.sub=function(l,w){this._verify2(l,w);var D=l.sub(w);return D.cmpn(0)<0&&D.iadd(this.m),D._forceRed(this)},M.prototype.isub=function(l,w){this._verify2(l,w);var D=l.isub(w);return D.cmpn(0)<0&&D.iadd(this.m),D},M.prototype.shl=function(l,w){return this._verify1(l),this.imod(l.ushln(w))},M.prototype.imul=function(l,w){return this._verify2(l,w),this.imod(l.imul(w))},M.prototype.mul=function(l,w){return this._verify2(l,w),this.imod(l.mul(w))},M.prototype.isqr=function(l){return this.imul(l,l.clone())},M.prototype.sqr=function(l){return this.mul(l,l)},M.prototype.sqrt=function(l){if(l.isZero())return l.clone();var w=this.m.andln(3);if(P(w%2===1),w===3){var D=this.m.add(new d(1)).iushrn(2);return this.pow(l,D)}for(var q=this.m.subn(1),j=0;!q.isZero()&&q.andln(1)===0;)j++,q.iushrn(1);P(!q.isZero());var H=new d(1).toRed(this),Z=H.redNeg(),te=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new d(2*B*B).toRed(this);this.pow(B,te).cmp(Z)!==0;)B.redIAdd(Z);for(var ae=this.pow(B,q),xe=this.pow(l,q.addn(1).iushrn(1)),he=this.pow(l,q),Ee=j;he.cmp(H)!==0;){for(var Ne=he,X=0;Ne.cmp(H)!==0;X++)Ne=Ne.redSqr();P(X<Ee);var ee=this.pow(ae,new d(1).iushln(Ee-X-1));xe=xe.redMul(ee),ae=ee.redSqr(),he=he.redMul(ae),Ee=X}return xe},M.prototype.invm=function(l){var w=l._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},M.prototype.pow=function(l,w){if(w.isZero())return new d(1).toRed(this);if(w.cmpn(1)===0)return l.clone();var D=4,q=new Array(1<<D);q[0]=new d(1).toRed(this),q[1]=l;for(var j=2;j<q.length;j++)q[j]=this.mul(q[j-1],l);var H=q[0],Z=0,te=0,B=w.bitLength()%26;for(B===0&&(B=26),j=w.length-1;j>=0;j--){for(var ae=w.words[j],xe=B-1;xe>=0;xe--){var he=ae>>xe&1;if(H!==q[0]&&(H=this.sqr(H)),he===0&&Z===0){te=0;continue}Z<<=1,Z|=he,te++,!(te!==D&&(j!==0||xe!==0))&&(H=this.mul(H,q[Z]),te=0,Z=0)}B=26}return H},M.prototype.convertTo=function(l){var w=l.umod(this.m);return w===l?w.clone():w},M.prototype.convertFrom=function(l){var w=l.clone();return w.red=null,w},d.mont=function(l){return new $(l)};function $(C){M.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S($,M),$.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},$.prototype.convertFrom=function(l){var w=this.imod(l.mul(this.rinv));return w.red=null,w},$.prototype.imul=function(l,w){if(l.isZero()||w.isZero())return l.words[0]=0,l.length=1,l;var D=l.imul(w),q=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=D.isub(q).iushrn(this.shift),H=j;return j.cmp(this.m)>=0?H=j.isub(this.m):j.cmpn(0)<0&&(H=j.iadd(this.m)),H._forceRed(this)},$.prototype.mul=function(l,w){if(l.isZero()||w.isZero())return new d(0)._forceRed(this);var D=l.mul(w),q=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=D.isub(q).iushrn(this.shift),H=j;return j.cmp(this.m)>=0?H=j.isub(this.m):j.cmpn(0)<0&&(H=j.iadd(this.m)),H._forceRed(this)},$.prototype.invm=function(l){var w=this.imod(l._invmp(this.m).mul(this.r2));return w._forceRed(this)}}(s,this)},55715:(s,V,T)=>{"use strict";s.exports=T(62951)},20:(s,V,T)=>{"use strict";var R=T(92861).Buffer,A=T(47108),P=T(46737),S=T(56698),d=T(35359),c=T(74847),f=T(62951);Object.keys(f).forEach(function(_){f[_].id=R.from(f[_].id,"hex"),f[_.toLowerCase()]=f[_]});function h(_){P.Writable.call(this);var m=f[_];if(!m)throw new Error("Unknown message digest");this._hashType=m.hash,this._hash=A(m.hash),this._tag=m.id,this._signType=m.sign}S(h,P.Writable),h.prototype._write=function(m,g,p){this._hash.update(m),p()},h.prototype.update=function(m,g){return this._hash.update(typeof m=="string"?R.from(m,g):m),this},h.prototype.sign=function(m,g){this.end();var p=this._hash.digest(),N=d(p,m,this._hashType,this._signType,this._tag);return g?N.toString(g):N};function k(_){P.Writable.call(this);var m=f[_];if(!m)throw new Error("Unknown message digest");this._hash=A(m.hash),this._tag=m.id,this._signType=m.sign}S(k,P.Writable),k.prototype._write=function(m,g,p){this._hash.update(m),p()},k.prototype.update=function(m,g){return this._hash.update(typeof m=="string"?R.from(m,g):m),this},k.prototype.verify=function(m,g,p){var N=typeof g=="string"?R.from(g,p):g;this.end();var E=this._hash.digest();return c(N,E,m,this._signType,this._tag)};function y(_){return new h(_)}function u(_){return new k(_)}s.exports={Sign:y,Verify:u,createSign:y,createVerify:u}},35359:(s,V,T)=>{"use strict";var R=T(92861).Buffer,A=T(83507),P=T(67332),S=T(86729).ec,d=T(26162),c=T(78170),f=T(64589),h=1;function k(x,F,W,b,L){var z=c(F);if(z.curve){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");return y(x,z)}else if(z.type==="dsa"){if(b!=="dsa")throw new Error("wrong private key type");return u(x,z,W)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");if(F.padding!==void 0&&F.padding!==h)throw new Error("illegal or unsupported padding mode");x=R.concat([L,x]);for(var K=z.modulus.byteLength(),J=[0,1];x.length+J.length+1<K;)J.push(255);J.push(0);for(var ie=-1;++ie<x.length;)J.push(x[ie]);var Y=P(J,z);return Y}function y(x,F){var W=f[F.curve.join(".")];if(!W)throw new Error("unknown curve "+F.curve.join("."));var b=new S(W),L=b.keyFromPrivate(F.privateKey),z=L.sign(x);return R.from(z.toDER())}function u(x,F,W){for(var b=F.params.priv_key,L=F.params.p,z=F.params.q,K=F.params.g,J=new d(0),ie,Y=g(x,z).mod(z),M=!1,$=m(b,z,x,W);M===!1;)ie=N(z,$,W),J=E(K,ie,L,z),M=ie.invm(z).imul(Y.add(b.mul(J))).mod(z),M.cmpn(0)===0&&(M=!1,J=new d(0));return _(J,M)}function _(x,F){x=x.toArray(),F=F.toArray(),x[0]&128&&(x=[0].concat(x)),F[0]&128&&(F=[0].concat(F));var W=x.length+F.length+4,b=[48,W,2,x.length];return b=b.concat(x,[2,F.length],F),R.from(b)}function m(x,F,W,b){if(x=R.from(x.toArray()),x.length<F.byteLength()){var L=R.alloc(F.byteLength()-x.length);x=R.concat([L,x])}var z=W.length,K=p(W,F),J=R.alloc(z);J.fill(1);var ie=R.alloc(z);return ie=A(b,ie).update(J).update(R.from([0])).update(x).update(K).digest(),J=A(b,ie).update(J).digest(),ie=A(b,ie).update(J).update(R.from([1])).update(x).update(K).digest(),J=A(b,ie).update(J).digest(),{k:ie,v:J}}function g(x,F){var W=new d(x),b=(x.length<<3)-F.bitLength();return b>0&&W.ishrn(b),W}function p(x,F){x=g(x,F),x=x.mod(F);var W=R.from(x.toArray());if(W.length<F.byteLength()){var b=R.alloc(F.byteLength()-W.length);W=R.concat([b,W])}return W}function N(x,F,W){var b,L;do{for(b=R.alloc(0);b.length*8<x.bitLength();)F.v=A(W,F.k).update(F.v).digest(),b=R.concat([b,F.v]);L=g(b,x),F.k=A(W,F.k).update(F.v).update(R.from([0])).digest(),F.v=A(W,F.k).update(F.v).digest()}while(L.cmp(x)!==-1);return L}function E(x,F,W,b){return x.toRed(d.mont(W)).redPow(F).fromRed().mod(b)}s.exports=k,s.exports.getKey=m,s.exports.makeKey=N},74847:(s,V,T)=>{"use strict";var R=T(92861).Buffer,A=T(26162),P=T(86729).ec,S=T(78170),d=T(64589);function c(y,u,_,m,g){var p=S(_);if(p.type==="ec"){if(m!=="ecdsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");return f(y,u,p)}else if(p.type==="dsa"){if(m!=="dsa")throw new Error("wrong public key type");return h(y,u,p)}if(m!=="rsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");u=R.concat([g,u]);for(var N=p.modulus.byteLength(),E=[1],x=0;u.length+E.length+2<N;)E.push(255),x+=1;E.push(0);for(var F=-1;++F<u.length;)E.push(u[F]);E=R.from(E);var W=A.mont(p.modulus);y=new A(y).toRed(W),y=y.redPow(new A(p.publicExponent)),y=R.from(y.fromRed().toArray());var b=x<8?1:0;for(N=Math.min(y.length,E.length),y.length!==E.length&&(b=1),F=-1;++F<N;)b|=y[F]^E[F];return b===0}function f(y,u,_){var m=d[_.data.algorithm.curve.join(".")];if(!m)throw new Error("unknown curve "+_.data.algorithm.curve.join("."));var g=new P(m),p=_.data.subjectPrivateKey.data;return g.verify(u,y,p)}function h(y,u,_){var m=_.data.p,g=_.data.q,p=_.data.g,N=_.data.pub_key,E=S.signature.decode(y,"der"),x=E.s,F=E.r;k(x,g),k(F,g);var W=A.mont(m),b=x.invm(g),L=p.toRed(W).redPow(new A(u).mul(b).mod(g)).fromRed().mul(N.toRed(W).redPow(F.mul(b).mod(g)).fromRed()).mod(m).mod(g);return L.cmp(F)===0}function k(y,u){if(y.cmpn(0)<=0)throw new Error("invalid sig");if(y.cmp(u)>=0)throw new Error("invalid sig")}s.exports=c},26162:function(s,V,T){s=T.nmd(s),function(R,A){"use strict";function P(C,l){if(!C)throw new Error(l||"Assertion failed")}function S(C,l){C.super_=l;var w=function(){};w.prototype=l.prototype,C.prototype=new w,C.prototype.constructor=C}function d(C,l,w){if(d.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((l==="le"||l==="be")&&(w=l,l=10),this._init(C||0,l||10,w||"be"))}typeof R=="object"?R.exports=d:A.BN=d,d.BN=d,d.wordSize=26;var c;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?c=window.Buffer:c=T(38664).Buffer}catch{}d.isBN=function(l){return l instanceof d?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===d.wordSize&&Array.isArray(l.words)},d.max=function(l,w){return l.cmp(w)>0?l:w},d.min=function(l,w){return l.cmp(w)<0?l:w},d.prototype._init=function(l,w,D){if(typeof l=="number")return this._initNumber(l,w,D);if(typeof l=="object")return this._initArray(l,w,D);w==="hex"&&(w=16),P(w===(w|0)&&w>=2&&w<=36),l=l.toString().replace(/\s+/g,"");var q=0;l[0]==="-"&&(q++,this.negative=1),q<l.length&&(w===16?this._parseHex(l,q,D):(this._parseBase(l,w,q),D==="le"&&this._initArray(this.toArray(),w,D)))},d.prototype._initNumber=function(l,w,D){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(P(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),D==="le"&&this._initArray(this.toArray(),w,D)},d.prototype._initArray=function(l,w,D){if(P(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j,H,Z=0;if(D==="be")for(q=l.length-1,j=0;q>=0;q-=3)H=l[q]|l[q-1]<<8|l[q-2]<<16,this.words[j]|=H<<Z&67108863,this.words[j+1]=H>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,j++);else if(D==="le")for(q=0,j=0;q<l.length;q+=3)H=l[q]|l[q+1]<<8|l[q+2]<<16,this.words[j]|=H<<Z&67108863,this.words[j+1]=H>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,j++);return this._strip()};function f(C,l){var w=C.charCodeAt(l);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;P(!1,"Invalid character in "+C)}function h(C,l,w){var D=f(C,w);return w-1>=l&&(D|=f(C,w-1)<<4),D}d.prototype._parseHex=function(l,w,D){this.length=Math.ceil((l.length-w)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j=0,H=0,Z;if(D==="be")for(q=l.length-1;q>=w;q-=2)Z=h(l,w,q)<<j,this.words[H]|=Z&67108863,j>=18?(j-=18,H+=1,this.words[H]|=Z>>>26):j+=8;else{var te=l.length-w;for(q=te%2===0?w+1:w;q<l.length;q+=2)Z=h(l,w,q)<<j,this.words[H]|=Z&67108863,j>=18?(j-=18,H+=1,this.words[H]|=Z>>>26):j+=8}this._strip()};function k(C,l,w,D){for(var q=0,j=0,H=Math.min(C.length,w),Z=l;Z<H;Z++){var te=C.charCodeAt(Z)-48;q*=D,te>=49?j=te-49+10:te>=17?j=te-17+10:j=te,P(te>=0&&j<D,"Invalid character"),q+=j}return q}d.prototype._parseBase=function(l,w,D){this.words=[0],this.length=1;for(var q=0,j=1;j<=67108863;j*=w)q++;q--,j=j/w|0;for(var H=l.length-D,Z=H%q,te=Math.min(H,H-Z)+D,B=0,ae=D;ae<te;ae+=q)B=k(l,ae,ae+q,w),this.imuln(j),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(Z!==0){var xe=1;for(B=k(l,ae,l.length,w),ae=0;ae<Z;ae++)xe*=w;this.imuln(xe),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this._strip()},d.prototype.copy=function(l){l.words=new Array(this.length);for(var w=0;w<this.length;w++)l.words[w]=this.words[w];l.length=this.length,l.negative=this.negative,l.red=this.red};function y(C,l){C.words=l.words,C.length=l.length,C.negative=l.negative,C.red=l.red}if(d.prototype._move=function(l){y(l,this)},d.prototype.clone=function(){var l=new d(null);return this.copy(l),l},d.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},d.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{d.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{d.prototype.inspect=u}else d.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(l,w){l=l||10,w=w|0||1;var D;if(l===16||l==="hex"){D="";for(var q=0,j=0,H=0;H<this.length;H++){var Z=this.words[H],te=((Z<<q|j)&16777215).toString(16);j=Z>>>24-q&16777215,q+=2,q>=26&&(q-=26,H--),j!==0||H!==this.length-1?D=_[6-te.length]+te+D:D=te+D}for(j!==0&&(D=j.toString(16)+D);D.length%w!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}if(l===(l|0)&&l>=2&&l<=36){var B=m[l],ae=g[l];D="";var xe=this.clone();for(xe.negative=0;!xe.isZero();){var he=xe.modrn(ae).toString(l);xe=xe.idivn(ae),xe.isZero()?D=he+D:D=_[B-he.length]+he+D}for(this.isZero()&&(D="0"+D);D.length%w!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}P(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},d.prototype.toJSON=function(){return this.toString(16,2)},c&&(d.prototype.toBuffer=function(l,w){return this.toArrayLike(c,l,w)}),d.prototype.toArray=function(l,w){return this.toArrayLike(Array,l,w)};var p=function(l,w){return l.allocUnsafe?l.allocUnsafe(w):new l(w)};d.prototype.toArrayLike=function(l,w,D){this._strip();var q=this.byteLength(),j=D||Math.max(1,q);P(q<=j,"byte array longer than desired length"),P(j>0,"Requested array length <= 0");var H=p(l,j),Z=w==="le"?"LE":"BE";return this["_toArrayLike"+Z](H,q),H},d.prototype._toArrayLikeLE=function(l,w){for(var D=0,q=0,j=0,H=0;j<this.length;j++){var Z=this.words[j]<<H|q;l[D++]=Z&255,D<l.length&&(l[D++]=Z>>8&255),D<l.length&&(l[D++]=Z>>16&255),H===6?(D<l.length&&(l[D++]=Z>>24&255),q=0,H=0):(q=Z>>>24,H+=2)}if(D<l.length)for(l[D++]=q;D<l.length;)l[D++]=0},d.prototype._toArrayLikeBE=function(l,w){for(var D=l.length-1,q=0,j=0,H=0;j<this.length;j++){var Z=this.words[j]<<H|q;l[D--]=Z&255,D>=0&&(l[D--]=Z>>8&255),D>=0&&(l[D--]=Z>>16&255),H===6?(D>=0&&(l[D--]=Z>>24&255),q=0,H=0):(q=Z>>>24,H+=2)}if(D>=0)for(l[D--]=q;D>=0;)l[D--]=0},Math.clz32?d.prototype._countBits=function(l){return 32-Math.clz32(l)}:d.prototype._countBits=function(l){var w=l,D=0;return w>=4096&&(D+=13,w>>>=13),w>=64&&(D+=7,w>>>=7),w>=8&&(D+=4,w>>>=4),w>=2&&(D+=2,w>>>=2),D+w},d.prototype._zeroBits=function(l){if(l===0)return 26;var w=l,D=0;return w&8191||(D+=13,w>>>=13),w&127||(D+=7,w>>>=7),w&15||(D+=4,w>>>=4),w&3||(D+=2,w>>>=2),w&1||D++,D},d.prototype.bitLength=function(){var l=this.words[this.length-1],w=this._countBits(l);return(this.length-1)*26+w};function N(C){for(var l=new Array(C.bitLength()),w=0;w<l.length;w++){var D=w/26|0,q=w%26;l[w]=C.words[D]>>>q&1}return l}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,w=0;w<this.length;w++){var D=this._zeroBits(this.words[w]);if(l+=D,D!==26)break}return l},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},d.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var w=0;w<l.length;w++)this.words[w]=this.words[w]|l.words[w];return this._strip()},d.prototype.ior=function(l){return P((this.negative|l.negative)===0),this.iuor(l)},d.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},d.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},d.prototype.iuand=function(l){var w;this.length>l.length?w=l:w=this;for(var D=0;D<w.length;D++)this.words[D]=this.words[D]&l.words[D];return this.length=w.length,this._strip()},d.prototype.iand=function(l){return P((this.negative|l.negative)===0),this.iuand(l)},d.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},d.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},d.prototype.iuxor=function(l){var w,D;this.length>l.length?(w=this,D=l):(w=l,D=this);for(var q=0;q<D.length;q++)this.words[q]=w.words[q]^D.words[q];if(this!==w)for(;q<w.length;q++)this.words[q]=w.words[q];return this.length=w.length,this._strip()},d.prototype.ixor=function(l){return P((this.negative|l.negative)===0),this.iuxor(l)},d.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},d.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},d.prototype.inotn=function(l){P(typeof l=="number"&&l>=0);var w=Math.ceil(l/26)|0,D=l%26;this._expand(w),D>0&&w--;for(var q=0;q<w;q++)this.words[q]=~this.words[q]&67108863;return D>0&&(this.words[q]=~this.words[q]&67108863>>26-D),this._strip()},d.prototype.notn=function(l){return this.clone().inotn(l)},d.prototype.setn=function(l,w){P(typeof l=="number"&&l>=0);var D=l/26|0,q=l%26;return this._expand(D+1),w?this.words[D]=this.words[D]|1<<q:this.words[D]=this.words[D]&~(1<<q),this._strip()},d.prototype.iadd=function(l){var w;if(this.negative!==0&&l.negative===0)return this.negative=0,w=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,w=this.isub(l),l.negative=1,w._normSign();var D,q;this.length>l.length?(D=this,q=l):(D=l,q=this);for(var j=0,H=0;H<q.length;H++)w=(D.words[H]|0)+(q.words[H]|0)+j,this.words[H]=w&67108863,j=w>>>26;for(;j!==0&&H<D.length;H++)w=(D.words[H]|0)+j,this.words[H]=w&67108863,j=w>>>26;if(this.length=D.length,j!==0)this.words[this.length]=j,this.length++;else if(D!==this)for(;H<D.length;H++)this.words[H]=D.words[H];return this},d.prototype.add=function(l){var w;return l.negative!==0&&this.negative===0?(l.negative=0,w=this.sub(l),l.negative^=1,w):l.negative===0&&this.negative!==0?(this.negative=0,w=l.sub(this),this.negative=1,w):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},d.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var w=this.iadd(l);return l.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var D=this.cmp(l);if(D===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,j;D>0?(q=this,j=l):(q=l,j=this);for(var H=0,Z=0;Z<j.length;Z++)w=(q.words[Z]|0)-(j.words[Z]|0)+H,H=w>>26,this.words[Z]=w&67108863;for(;H!==0&&Z<q.length;Z++)w=(q.words[Z]|0)+H,H=w>>26,this.words[Z]=w&67108863;if(H===0&&Z<q.length&&q!==this)for(;Z<q.length;Z++)this.words[Z]=q.words[Z];return this.length=Math.max(this.length,Z),q!==this&&(this.negative=1),this._strip()},d.prototype.sub=function(l){return this.clone().isub(l)};function E(C,l,w){w.negative=l.negative^C.negative;var D=C.length+l.length|0;w.length=D,D=D-1|0;var q=C.words[0]|0,j=l.words[0]|0,H=q*j,Z=H&67108863,te=H/67108864|0;w.words[0]=Z;for(var B=1;B<D;B++){for(var ae=te>>>26,xe=te&67108863,he=Math.min(B,l.length-1),Ee=Math.max(0,B-C.length+1);Ee<=he;Ee++){var Ne=B-Ee|0;q=C.words[Ne]|0,j=l.words[Ee]|0,H=q*j+xe,ae+=H/67108864|0,xe=H&67108863}w.words[B]=xe|0,te=ae|0}return te!==0?w.words[B]=te|0:w.length--,w._strip()}var x=function(l,w,D){var q=l.words,j=w.words,H=D.words,Z=0,te,B,ae,xe=q[0]|0,he=xe&8191,Ee=xe>>>13,Ne=q[1]|0,X=Ne&8191,ee=Ne>>>13,de=q[2]|0,me=de&8191,_e=de>>>13,U=q[3]|0,O=U&8191,oe=U>>>13,ve=q[4]|0,we=ve&8191,pe=ve>>>13,Pe=q[5]|0,Le=Pe&8191,He=Pe>>>13,kt=q[6]|0,Ke=kt&8191,Ze=kt>>>13,yt=q[7]|0,ce=yt&8191,ne=yt>>>13,se=q[8]|0,be=se&8191,Me=se>>>13,Ve=q[9]|0,Fe=Ve&8191,Ye=Ve>>>13,Tt=j[0]|0,et=Tt&8191,rt=Tt>>>13,ut=j[1]|0,mt=ut&8191,vt=ut>>>13,ai=j[2]|0,ht=ai&8191,Pt=ai>>>13,Fi=j[3]|0,Rt=Fi&8191,qt=Fi>>>13,Ri=j[4]|0,lt=Ri&8191,it=Ri>>>13,_n=j[5]|0,Vt=_n&8191,Yt=_n>>>13,Ji=j[6]|0,De=Ji&8191,$e=Ji>>>13,gt=j[7]|0,at=gt&8191,ct=gt>>>13,Jt=j[8]|0,Nt=Jt&8191,Dt=Jt>>>13,At=j[9]|0,st=At&8191,wt=At>>>13;D.negative=l.negative^w.negative,D.length=19,te=Math.imul(he,et),B=Math.imul(he,rt),B=B+Math.imul(Ee,et)|0,ae=Math.imul(Ee,rt);var St=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(St>>>26)|0,St&=67108863,te=Math.imul(X,et),B=Math.imul(X,rt),B=B+Math.imul(ee,et)|0,ae=Math.imul(ee,rt),te=te+Math.imul(he,mt)|0,B=B+Math.imul(he,vt)|0,B=B+Math.imul(Ee,mt)|0,ae=ae+Math.imul(Ee,vt)|0;var si=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(si>>>26)|0,si&=67108863,te=Math.imul(me,et),B=Math.imul(me,rt),B=B+Math.imul(_e,et)|0,ae=Math.imul(_e,rt),te=te+Math.imul(X,mt)|0,B=B+Math.imul(X,vt)|0,B=B+Math.imul(ee,mt)|0,ae=ae+Math.imul(ee,vt)|0,te=te+Math.imul(he,ht)|0,B=B+Math.imul(he,Pt)|0,B=B+Math.imul(Ee,ht)|0,ae=ae+Math.imul(Ee,Pt)|0;var ei=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(ei>>>26)|0,ei&=67108863,te=Math.imul(O,et),B=Math.imul(O,rt),B=B+Math.imul(oe,et)|0,ae=Math.imul(oe,rt),te=te+Math.imul(me,mt)|0,B=B+Math.imul(me,vt)|0,B=B+Math.imul(_e,mt)|0,ae=ae+Math.imul(_e,vt)|0,te=te+Math.imul(X,ht)|0,B=B+Math.imul(X,Pt)|0,B=B+Math.imul(ee,ht)|0,ae=ae+Math.imul(ee,Pt)|0,te=te+Math.imul(he,Rt)|0,B=B+Math.imul(he,qt)|0,B=B+Math.imul(Ee,Rt)|0,ae=ae+Math.imul(Ee,qt)|0;var Ft=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,te=Math.imul(we,et),B=Math.imul(we,rt),B=B+Math.imul(pe,et)|0,ae=Math.imul(pe,rt),te=te+Math.imul(O,mt)|0,B=B+Math.imul(O,vt)|0,B=B+Math.imul(oe,mt)|0,ae=ae+Math.imul(oe,vt)|0,te=te+Math.imul(me,ht)|0,B=B+Math.imul(me,Pt)|0,B=B+Math.imul(_e,ht)|0,ae=ae+Math.imul(_e,Pt)|0,te=te+Math.imul(X,Rt)|0,B=B+Math.imul(X,qt)|0,B=B+Math.imul(ee,Rt)|0,ae=ae+Math.imul(ee,qt)|0,te=te+Math.imul(he,lt)|0,B=B+Math.imul(he,it)|0,B=B+Math.imul(Ee,lt)|0,ae=ae+Math.imul(Ee,it)|0;var mi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(mi>>>26)|0,mi&=67108863,te=Math.imul(Le,et),B=Math.imul(Le,rt),B=B+Math.imul(He,et)|0,ae=Math.imul(He,rt),te=te+Math.imul(we,mt)|0,B=B+Math.imul(we,vt)|0,B=B+Math.imul(pe,mt)|0,ae=ae+Math.imul(pe,vt)|0,te=te+Math.imul(O,ht)|0,B=B+Math.imul(O,Pt)|0,B=B+Math.imul(oe,ht)|0,ae=ae+Math.imul(oe,Pt)|0,te=te+Math.imul(me,Rt)|0,B=B+Math.imul(me,qt)|0,B=B+Math.imul(_e,Rt)|0,ae=ae+Math.imul(_e,qt)|0,te=te+Math.imul(X,lt)|0,B=B+Math.imul(X,it)|0,B=B+Math.imul(ee,lt)|0,ae=ae+Math.imul(ee,it)|0,te=te+Math.imul(he,Vt)|0,B=B+Math.imul(he,Yt)|0,B=B+Math.imul(Ee,Vt)|0,ae=ae+Math.imul(Ee,Yt)|0;var ii=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(ii>>>26)|0,ii&=67108863,te=Math.imul(Ke,et),B=Math.imul(Ke,rt),B=B+Math.imul(Ze,et)|0,ae=Math.imul(Ze,rt),te=te+Math.imul(Le,mt)|0,B=B+Math.imul(Le,vt)|0,B=B+Math.imul(He,mt)|0,ae=ae+Math.imul(He,vt)|0,te=te+Math.imul(we,ht)|0,B=B+Math.imul(we,Pt)|0,B=B+Math.imul(pe,ht)|0,ae=ae+Math.imul(pe,Pt)|0,te=te+Math.imul(O,Rt)|0,B=B+Math.imul(O,qt)|0,B=B+Math.imul(oe,Rt)|0,ae=ae+Math.imul(oe,qt)|0,te=te+Math.imul(me,lt)|0,B=B+Math.imul(me,it)|0,B=B+Math.imul(_e,lt)|0,ae=ae+Math.imul(_e,it)|0,te=te+Math.imul(X,Vt)|0,B=B+Math.imul(X,Yt)|0,B=B+Math.imul(ee,Vt)|0,ae=ae+Math.imul(ee,Yt)|0,te=te+Math.imul(he,De)|0,B=B+Math.imul(he,$e)|0,B=B+Math.imul(Ee,De)|0,ae=ae+Math.imul(Ee,$e)|0;var bi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(bi>>>26)|0,bi&=67108863,te=Math.imul(ce,et),B=Math.imul(ce,rt),B=B+Math.imul(ne,et)|0,ae=Math.imul(ne,rt),te=te+Math.imul(Ke,mt)|0,B=B+Math.imul(Ke,vt)|0,B=B+Math.imul(Ze,mt)|0,ae=ae+Math.imul(Ze,vt)|0,te=te+Math.imul(Le,ht)|0,B=B+Math.imul(Le,Pt)|0,B=B+Math.imul(He,ht)|0,ae=ae+Math.imul(He,Pt)|0,te=te+Math.imul(we,Rt)|0,B=B+Math.imul(we,qt)|0,B=B+Math.imul(pe,Rt)|0,ae=ae+Math.imul(pe,qt)|0,te=te+Math.imul(O,lt)|0,B=B+Math.imul(O,it)|0,B=B+Math.imul(oe,lt)|0,ae=ae+Math.imul(oe,it)|0,te=te+Math.imul(me,Vt)|0,B=B+Math.imul(me,Yt)|0,B=B+Math.imul(_e,Vt)|0,ae=ae+Math.imul(_e,Yt)|0,te=te+Math.imul(X,De)|0,B=B+Math.imul(X,$e)|0,B=B+Math.imul(ee,De)|0,ae=ae+Math.imul(ee,$e)|0,te=te+Math.imul(he,at)|0,B=B+Math.imul(he,ct)|0,B=B+Math.imul(Ee,at)|0,ae=ae+Math.imul(Ee,ct)|0;var _i=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(_i>>>26)|0,_i&=67108863,te=Math.imul(be,et),B=Math.imul(be,rt),B=B+Math.imul(Me,et)|0,ae=Math.imul(Me,rt),te=te+Math.imul(ce,mt)|0,B=B+Math.imul(ce,vt)|0,B=B+Math.imul(ne,mt)|0,ae=ae+Math.imul(ne,vt)|0,te=te+Math.imul(Ke,ht)|0,B=B+Math.imul(Ke,Pt)|0,B=B+Math.imul(Ze,ht)|0,ae=ae+Math.imul(Ze,Pt)|0,te=te+Math.imul(Le,Rt)|0,B=B+Math.imul(Le,qt)|0,B=B+Math.imul(He,Rt)|0,ae=ae+Math.imul(He,qt)|0,te=te+Math.imul(we,lt)|0,B=B+Math.imul(we,it)|0,B=B+Math.imul(pe,lt)|0,ae=ae+Math.imul(pe,it)|0,te=te+Math.imul(O,Vt)|0,B=B+Math.imul(O,Yt)|0,B=B+Math.imul(oe,Vt)|0,ae=ae+Math.imul(oe,Yt)|0,te=te+Math.imul(me,De)|0,B=B+Math.imul(me,$e)|0,B=B+Math.imul(_e,De)|0,ae=ae+Math.imul(_e,$e)|0,te=te+Math.imul(X,at)|0,B=B+Math.imul(X,ct)|0,B=B+Math.imul(ee,at)|0,ae=ae+Math.imul(ee,ct)|0,te=te+Math.imul(he,Nt)|0,B=B+Math.imul(he,Dt)|0,B=B+Math.imul(Ee,Nt)|0,ae=ae+Math.imul(Ee,Dt)|0;var Hi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,te=Math.imul(Fe,et),B=Math.imul(Fe,rt),B=B+Math.imul(Ye,et)|0,ae=Math.imul(Ye,rt),te=te+Math.imul(be,mt)|0,B=B+Math.imul(be,vt)|0,B=B+Math.imul(Me,mt)|0,ae=ae+Math.imul(Me,vt)|0,te=te+Math.imul(ce,ht)|0,B=B+Math.imul(ce,Pt)|0,B=B+Math.imul(ne,ht)|0,ae=ae+Math.imul(ne,Pt)|0,te=te+Math.imul(Ke,Rt)|0,B=B+Math.imul(Ke,qt)|0,B=B+Math.imul(Ze,Rt)|0,ae=ae+Math.imul(Ze,qt)|0,te=te+Math.imul(Le,lt)|0,B=B+Math.imul(Le,it)|0,B=B+Math.imul(He,lt)|0,ae=ae+Math.imul(He,it)|0,te=te+Math.imul(we,Vt)|0,B=B+Math.imul(we,Yt)|0,B=B+Math.imul(pe,Vt)|0,ae=ae+Math.imul(pe,Yt)|0,te=te+Math.imul(O,De)|0,B=B+Math.imul(O,$e)|0,B=B+Math.imul(oe,De)|0,ae=ae+Math.imul(oe,$e)|0,te=te+Math.imul(me,at)|0,B=B+Math.imul(me,ct)|0,B=B+Math.imul(_e,at)|0,ae=ae+Math.imul(_e,ct)|0,te=te+Math.imul(X,Nt)|0,B=B+Math.imul(X,Dt)|0,B=B+Math.imul(ee,Nt)|0,ae=ae+Math.imul(ee,Dt)|0,te=te+Math.imul(he,st)|0,B=B+Math.imul(he,wt)|0,B=B+Math.imul(Ee,st)|0,ae=ae+Math.imul(Ee,wt)|0;var Ti=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,te=Math.imul(Fe,mt),B=Math.imul(Fe,vt),B=B+Math.imul(Ye,mt)|0,ae=Math.imul(Ye,vt),te=te+Math.imul(be,ht)|0,B=B+Math.imul(be,Pt)|0,B=B+Math.imul(Me,ht)|0,ae=ae+Math.imul(Me,Pt)|0,te=te+Math.imul(ce,Rt)|0,B=B+Math.imul(ce,qt)|0,B=B+Math.imul(ne,Rt)|0,ae=ae+Math.imul(ne,qt)|0,te=te+Math.imul(Ke,lt)|0,B=B+Math.imul(Ke,it)|0,B=B+Math.imul(Ze,lt)|0,ae=ae+Math.imul(Ze,it)|0,te=te+Math.imul(Le,Vt)|0,B=B+Math.imul(Le,Yt)|0,B=B+Math.imul(He,Vt)|0,ae=ae+Math.imul(He,Yt)|0,te=te+Math.imul(we,De)|0,B=B+Math.imul(we,$e)|0,B=B+Math.imul(pe,De)|0,ae=ae+Math.imul(pe,$e)|0,te=te+Math.imul(O,at)|0,B=B+Math.imul(O,ct)|0,B=B+Math.imul(oe,at)|0,ae=ae+Math.imul(oe,ct)|0,te=te+Math.imul(me,Nt)|0,B=B+Math.imul(me,Dt)|0,B=B+Math.imul(_e,Nt)|0,ae=ae+Math.imul(_e,Dt)|0,te=te+Math.imul(X,st)|0,B=B+Math.imul(X,wt)|0,B=B+Math.imul(ee,st)|0,ae=ae+Math.imul(ee,wt)|0;var Ci=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,te=Math.imul(Fe,ht),B=Math.imul(Fe,Pt),B=B+Math.imul(Ye,ht)|0,ae=Math.imul(Ye,Pt),te=te+Math.imul(be,Rt)|0,B=B+Math.imul(be,qt)|0,B=B+Math.imul(Me,Rt)|0,ae=ae+Math.imul(Me,qt)|0,te=te+Math.imul(ce,lt)|0,B=B+Math.imul(ce,it)|0,B=B+Math.imul(ne,lt)|0,ae=ae+Math.imul(ne,it)|0,te=te+Math.imul(Ke,Vt)|0,B=B+Math.imul(Ke,Yt)|0,B=B+Math.imul(Ze,Vt)|0,ae=ae+Math.imul(Ze,Yt)|0,te=te+Math.imul(Le,De)|0,B=B+Math.imul(Le,$e)|0,B=B+Math.imul(He,De)|0,ae=ae+Math.imul(He,$e)|0,te=te+Math.imul(we,at)|0,B=B+Math.imul(we,ct)|0,B=B+Math.imul(pe,at)|0,ae=ae+Math.imul(pe,ct)|0,te=te+Math.imul(O,Nt)|0,B=B+Math.imul(O,Dt)|0,B=B+Math.imul(oe,Nt)|0,ae=ae+Math.imul(oe,Dt)|0,te=te+Math.imul(me,st)|0,B=B+Math.imul(me,wt)|0,B=B+Math.imul(_e,st)|0,ae=ae+Math.imul(_e,wt)|0;var Pi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,te=Math.imul(Fe,Rt),B=Math.imul(Fe,qt),B=B+Math.imul(Ye,Rt)|0,ae=Math.imul(Ye,qt),te=te+Math.imul(be,lt)|0,B=B+Math.imul(be,it)|0,B=B+Math.imul(Me,lt)|0,ae=ae+Math.imul(Me,it)|0,te=te+Math.imul(ce,Vt)|0,B=B+Math.imul(ce,Yt)|0,B=B+Math.imul(ne,Vt)|0,ae=ae+Math.imul(ne,Yt)|0,te=te+Math.imul(Ke,De)|0,B=B+Math.imul(Ke,$e)|0,B=B+Math.imul(Ze,De)|0,ae=ae+Math.imul(Ze,$e)|0,te=te+Math.imul(Le,at)|0,B=B+Math.imul(Le,ct)|0,B=B+Math.imul(He,at)|0,ae=ae+Math.imul(He,ct)|0,te=te+Math.imul(we,Nt)|0,B=B+Math.imul(we,Dt)|0,B=B+Math.imul(pe,Nt)|0,ae=ae+Math.imul(pe,Dt)|0,te=te+Math.imul(O,st)|0,B=B+Math.imul(O,wt)|0,B=B+Math.imul(oe,st)|0,ae=ae+Math.imul(oe,wt)|0;var Ht=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,te=Math.imul(Fe,lt),B=Math.imul(Fe,it),B=B+Math.imul(Ye,lt)|0,ae=Math.imul(Ye,it),te=te+Math.imul(be,Vt)|0,B=B+Math.imul(be,Yt)|0,B=B+Math.imul(Me,Vt)|0,ae=ae+Math.imul(Me,Yt)|0,te=te+Math.imul(ce,De)|0,B=B+Math.imul(ce,$e)|0,B=B+Math.imul(ne,De)|0,ae=ae+Math.imul(ne,$e)|0,te=te+Math.imul(Ke,at)|0,B=B+Math.imul(Ke,ct)|0,B=B+Math.imul(Ze,at)|0,ae=ae+Math.imul(Ze,ct)|0,te=te+Math.imul(Le,Nt)|0,B=B+Math.imul(Le,Dt)|0,B=B+Math.imul(He,Nt)|0,ae=ae+Math.imul(He,Dt)|0,te=te+Math.imul(we,st)|0,B=B+Math.imul(we,wt)|0,B=B+Math.imul(pe,st)|0,ae=ae+Math.imul(pe,wt)|0;var ti=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(ti>>>26)|0,ti&=67108863,te=Math.imul(Fe,Vt),B=Math.imul(Fe,Yt),B=B+Math.imul(Ye,Vt)|0,ae=Math.imul(Ye,Yt),te=te+Math.imul(be,De)|0,B=B+Math.imul(be,$e)|0,B=B+Math.imul(Me,De)|0,ae=ae+Math.imul(Me,$e)|0,te=te+Math.imul(ce,at)|0,B=B+Math.imul(ce,ct)|0,B=B+Math.imul(ne,at)|0,ae=ae+Math.imul(ne,ct)|0,te=te+Math.imul(Ke,Nt)|0,B=B+Math.imul(Ke,Dt)|0,B=B+Math.imul(Ze,Nt)|0,ae=ae+Math.imul(Ze,Dt)|0,te=te+Math.imul(Le,st)|0,B=B+Math.imul(Le,wt)|0,B=B+Math.imul(He,st)|0,ae=ae+Math.imul(He,wt)|0;var Xt=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,te=Math.imul(Fe,De),B=Math.imul(Fe,$e),B=B+Math.imul(Ye,De)|0,ae=Math.imul(Ye,$e),te=te+Math.imul(be,at)|0,B=B+Math.imul(be,ct)|0,B=B+Math.imul(Me,at)|0,ae=ae+Math.imul(Me,ct)|0,te=te+Math.imul(ce,Nt)|0,B=B+Math.imul(ce,Dt)|0,B=B+Math.imul(ne,Nt)|0,ae=ae+Math.imul(ne,Dt)|0,te=te+Math.imul(Ke,st)|0,B=B+Math.imul(Ke,wt)|0,B=B+Math.imul(Ze,st)|0,ae=ae+Math.imul(Ze,wt)|0;var Mi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,te=Math.imul(Fe,at),B=Math.imul(Fe,ct),B=B+Math.imul(Ye,at)|0,ae=Math.imul(Ye,ct),te=te+Math.imul(be,Nt)|0,B=B+Math.imul(be,Dt)|0,B=B+Math.imul(Me,Nt)|0,ae=ae+Math.imul(Me,Dt)|0,te=te+Math.imul(ce,st)|0,B=B+Math.imul(ce,wt)|0,B=B+Math.imul(ne,st)|0,ae=ae+Math.imul(ne,wt)|0;var oi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(oi>>>26)|0,oi&=67108863,te=Math.imul(Fe,Nt),B=Math.imul(Fe,Dt),B=B+Math.imul(Ye,Nt)|0,ae=Math.imul(Ye,Dt),te=te+Math.imul(be,st)|0,B=B+Math.imul(be,wt)|0,B=B+Math.imul(Me,st)|0,ae=ae+Math.imul(Me,wt)|0;var yi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(yi>>>26)|0,yi&=67108863,te=Math.imul(Fe,st),B=Math.imul(Fe,wt),B=B+Math.imul(Ye,st)|0,ae=Math.imul(Ye,wt);var Oi=(Z+te|0)+((B&8191)<<13)|0;return Z=(ae+(B>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,H[0]=St,H[1]=si,H[2]=ei,H[3]=Ft,H[4]=mi,H[5]=ii,H[6]=bi,H[7]=_i,H[8]=Hi,H[9]=Ti,H[10]=Ci,H[11]=Pi,H[12]=Ht,H[13]=ti,H[14]=Xt,H[15]=Mi,H[16]=oi,H[17]=yi,H[18]=Oi,Z!==0&&(H[19]=Z,D.length++),D};Math.imul||(x=E);function F(C,l,w){w.negative=l.negative^C.negative,w.length=C.length+l.length;for(var D=0,q=0,j=0;j<w.length-1;j++){var H=q;q=0;for(var Z=D&67108863,te=Math.min(j,l.length-1),B=Math.max(0,j-C.length+1);B<=te;B++){var ae=j-B,xe=C.words[ae]|0,he=l.words[B]|0,Ee=xe*he,Ne=Ee&67108863;H=H+(Ee/67108864|0)|0,Ne=Ne+Z|0,Z=Ne&67108863,H=H+(Ne>>>26)|0,q+=H>>>26,H&=67108863}w.words[j]=Z,D=H,H=q}return D!==0?w.words[j]=D:w.length--,w._strip()}function W(C,l,w){return F(C,l,w)}d.prototype.mulTo=function(l,w){var D,q=this.length+l.length;return this.length===10&&l.length===10?D=x(this,l,w):q<63?D=E(this,l,w):q<1024?D=F(this,l,w):D=W(this,l,w),D};function b(C,l){this.x=C,this.y=l}b.prototype.makeRBT=function(l){for(var w=new Array(l),D=d.prototype._countBits(l)-1,q=0;q<l;q++)w[q]=this.revBin(q,D,l);return w},b.prototype.revBin=function(l,w,D){if(l===0||l===D-1)return l;for(var q=0,j=0;j<w;j++)q|=(l&1)<<w-j-1,l>>=1;return q},b.prototype.permute=function(l,w,D,q,j,H){for(var Z=0;Z<H;Z++)q[Z]=w[l[Z]],j[Z]=D[l[Z]]},b.prototype.transform=function(l,w,D,q,j,H){this.permute(H,l,w,D,q,j);for(var Z=1;Z<j;Z<<=1)for(var te=Z<<1,B=Math.cos(2*Math.PI/te),ae=Math.sin(2*Math.PI/te),xe=0;xe<j;xe+=te)for(var he=B,Ee=ae,Ne=0;Ne<Z;Ne++){var X=D[xe+Ne],ee=q[xe+Ne],de=D[xe+Ne+Z],me=q[xe+Ne+Z],_e=he*de-Ee*me;me=he*me+Ee*de,de=_e,D[xe+Ne]=X+de,q[xe+Ne]=ee+me,D[xe+Ne+Z]=X-de,q[xe+Ne+Z]=ee-me,Ne!==te&&(_e=B*he-ae*Ee,Ee=B*Ee+ae*he,he=_e)}},b.prototype.guessLen13b=function(l,w){var D=Math.max(w,l)|1,q=D&1,j=0;for(D=D/2|0;D;D=D>>>1)j++;return 1<<j+1+q},b.prototype.conjugate=function(l,w,D){if(!(D<=1))for(var q=0;q<D/2;q++){var j=l[q];l[q]=l[D-q-1],l[D-q-1]=j,j=w[q],w[q]=-w[D-q-1],w[D-q-1]=-j}},b.prototype.normalize13b=function(l,w){for(var D=0,q=0;q<w/2;q++){var j=Math.round(l[2*q+1]/w)*8192+Math.round(l[2*q]/w)+D;l[q]=j&67108863,j<67108864?D=0:D=j/67108864|0}return l},b.prototype.convert13b=function(l,w,D,q){for(var j=0,H=0;H<w;H++)j=j+(l[H]|0),D[2*H]=j&8191,j=j>>>13,D[2*H+1]=j&8191,j=j>>>13;for(H=2*w;H<q;++H)D[H]=0;P(j===0),P((j&-8192)===0)},b.prototype.stub=function(l){for(var w=new Array(l),D=0;D<l;D++)w[D]=0;return w},b.prototype.mulp=function(l,w,D){var q=2*this.guessLen13b(l.length,w.length),j=this.makeRBT(q),H=this.stub(q),Z=new Array(q),te=new Array(q),B=new Array(q),ae=new Array(q),xe=new Array(q),he=new Array(q),Ee=D.words;Ee.length=q,this.convert13b(l.words,l.length,Z,q),this.convert13b(w.words,w.length,ae,q),this.transform(Z,H,te,B,q,j),this.transform(ae,H,xe,he,q,j);for(var Ne=0;Ne<q;Ne++){var X=te[Ne]*xe[Ne]-B[Ne]*he[Ne];B[Ne]=te[Ne]*he[Ne]+B[Ne]*xe[Ne],te[Ne]=X}return this.conjugate(te,B,q),this.transform(te,B,Ee,H,q,j),this.conjugate(Ee,H,q),this.normalize13b(Ee,q),D.negative=l.negative^w.negative,D.length=l.length+w.length,D._strip()},d.prototype.mul=function(l){var w=new d(null);return w.words=new Array(this.length+l.length),this.mulTo(l,w)},d.prototype.mulf=function(l){var w=new d(null);return w.words=new Array(this.length+l.length),W(this,l,w)},d.prototype.imul=function(l){return this.clone().mulTo(l,this)},d.prototype.imuln=function(l){var w=l<0;w&&(l=-l),P(typeof l=="number"),P(l<67108864);for(var D=0,q=0;q<this.length;q++){var j=(this.words[q]|0)*l,H=(j&67108863)+(D&67108863);D>>=26,D+=j/67108864|0,D+=H>>>26,this.words[q]=H&67108863}return D!==0&&(this.words[q]=D,this.length++),w?this.ineg():this},d.prototype.muln=function(l){return this.clone().imuln(l)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(l){var w=N(l);if(w.length===0)return new d(1);for(var D=this,q=0;q<w.length&&w[q]===0;q++,D=D.sqr());if(++q<w.length)for(var j=D.sqr();q<w.length;q++,j=j.sqr())w[q]!==0&&(D=D.mul(j));return D},d.prototype.iushln=function(l){P(typeof l=="number"&&l>=0);var w=l%26,D=(l-w)/26,q=67108863>>>26-w<<26-w,j;if(w!==0){var H=0;for(j=0;j<this.length;j++){var Z=this.words[j]&q,te=(this.words[j]|0)-Z<<w;this.words[j]=te|H,H=Z>>>26-w}H&&(this.words[j]=H,this.length++)}if(D!==0){for(j=this.length-1;j>=0;j--)this.words[j+D]=this.words[j];for(j=0;j<D;j++)this.words[j]=0;this.length+=D}return this._strip()},d.prototype.ishln=function(l){return P(this.negative===0),this.iushln(l)},d.prototype.iushrn=function(l,w,D){P(typeof l=="number"&&l>=0);var q;w?q=(w-w%26)/26:q=0;var j=l%26,H=Math.min((l-j)/26,this.length),Z=67108863^67108863>>>j<<j,te=D;if(q-=H,q=Math.max(0,q),te){for(var B=0;B<H;B++)te.words[B]=this.words[B];te.length=H}if(H!==0)if(this.length>H)for(this.length-=H,B=0;B<this.length;B++)this.words[B]=this.words[B+H];else this.words[0]=0,this.length=1;var ae=0;for(B=this.length-1;B>=0&&(ae!==0||B>=q);B--){var xe=this.words[B]|0;this.words[B]=ae<<26-j|xe>>>j,ae=xe&Z}return te&&ae!==0&&(te.words[te.length++]=ae),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},d.prototype.ishrn=function(l,w,D){return P(this.negative===0),this.iushrn(l,w,D)},d.prototype.shln=function(l){return this.clone().ishln(l)},d.prototype.ushln=function(l){return this.clone().iushln(l)},d.prototype.shrn=function(l){return this.clone().ishrn(l)},d.prototype.ushrn=function(l){return this.clone().iushrn(l)},d.prototype.testn=function(l){P(typeof l=="number"&&l>=0);var w=l%26,D=(l-w)/26,q=1<<w;if(this.length<=D)return!1;var j=this.words[D];return!!(j&q)},d.prototype.imaskn=function(l){P(typeof l=="number"&&l>=0);var w=l%26,D=(l-w)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=D)return this;if(w!==0&&D++,this.length=Math.min(D,this.length),w!==0){var q=67108863^67108863>>>w<<w;this.words[this.length-1]&=q}return this._strip()},d.prototype.maskn=function(l){return this.clone().imaskn(l)},d.prototype.iaddn=function(l){return P(typeof l=="number"),P(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},d.prototype._iaddn=function(l){this.words[0]+=l;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},d.prototype.isubn=function(l){if(P(typeof l=="number"),P(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},d.prototype.addn=function(l){return this.clone().iaddn(l)},d.prototype.subn=function(l){return this.clone().isubn(l)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(l,w,D){var q=l.length+D,j;this._expand(q);var H,Z=0;for(j=0;j<l.length;j++){H=(this.words[j+D]|0)+Z;var te=(l.words[j]|0)*w;H-=te&67108863,Z=(H>>26)-(te/67108864|0),this.words[j+D]=H&67108863}for(;j<this.length-D;j++)H=(this.words[j+D]|0)+Z,Z=H>>26,this.words[j+D]=H&67108863;if(Z===0)return this._strip();for(P(Z===-1),Z=0,j=0;j<this.length;j++)H=-(this.words[j]|0)+Z,Z=H>>26,this.words[j]=H&67108863;return this.negative=1,this._strip()},d.prototype._wordDiv=function(l,w){var D=this.length-l.length,q=this.clone(),j=l,H=j.words[j.length-1]|0,Z=this._countBits(H);D=26-Z,D!==0&&(j=j.ushln(D),q.iushln(D),H=j.words[j.length-1]|0);var te=q.length-j.length,B;if(w!=="mod"){B=new d(null),B.length=te+1,B.words=new Array(B.length);for(var ae=0;ae<B.length;ae++)B.words[ae]=0}var xe=q.clone()._ishlnsubmul(j,1,te);xe.negative===0&&(q=xe,B&&(B.words[te]=1));for(var he=te-1;he>=0;he--){var Ee=(q.words[j.length+he]|0)*67108864+(q.words[j.length+he-1]|0);for(Ee=Math.min(Ee/H|0,67108863),q._ishlnsubmul(j,Ee,he);q.negative!==0;)Ee--,q.negative=0,q._ishlnsubmul(j,1,he),q.isZero()||(q.negative^=1);B&&(B.words[he]=Ee)}return B&&B._strip(),q._strip(),w!=="div"&&D!==0&&q.iushrn(D),{div:B||null,mod:q}},d.prototype.divmod=function(l,w,D){if(P(!l.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var q,j,H;return this.negative!==0&&l.negative===0?(H=this.neg().divmod(l,w),w!=="mod"&&(q=H.div.neg()),w!=="div"&&(j=H.mod.neg(),D&&j.negative!==0&&j.iadd(l)),{div:q,mod:j}):this.negative===0&&l.negative!==0?(H=this.divmod(l.neg(),w),w!=="mod"&&(q=H.div.neg()),{div:q,mod:H.mod}):this.negative&l.negative?(H=this.neg().divmod(l.neg(),w),w!=="div"&&(j=H.mod.neg(),D&&j.negative!==0&&j.isub(l)),{div:H.div,mod:j}):l.length>this.length||this.cmp(l)<0?{div:new d(0),mod:this}:l.length===1?w==="div"?{div:this.divn(l.words[0]),mod:null}:w==="mod"?{div:null,mod:new d(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new d(this.modrn(l.words[0]))}:this._wordDiv(l,w)},d.prototype.div=function(l){return this.divmod(l,"div",!1).div},d.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},d.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},d.prototype.divRound=function(l){var w=this.divmod(l);if(w.mod.isZero())return w.div;var D=w.div.negative!==0?w.mod.isub(l):w.mod,q=l.ushrn(1),j=l.andln(1),H=D.cmp(q);return H<0||j===1&&H===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},d.prototype.modrn=function(l){var w=l<0;w&&(l=-l),P(l<=67108863);for(var D=(1<<26)%l,q=0,j=this.length-1;j>=0;j--)q=(D*q+(this.words[j]|0))%l;return w?-q:q},d.prototype.modn=function(l){return this.modrn(l)},d.prototype.idivn=function(l){var w=l<0;w&&(l=-l),P(l<=67108863);for(var D=0,q=this.length-1;q>=0;q--){var j=(this.words[q]|0)+D*67108864;this.words[q]=j/l|0,D=j%l}return this._strip(),w?this.ineg():this},d.prototype.divn=function(l){return this.clone().idivn(l)},d.prototype.egcd=function(l){P(l.negative===0),P(!l.isZero());var w=this,D=l.clone();w.negative!==0?w=w.umod(l):w=w.clone();for(var q=new d(1),j=new d(0),H=new d(0),Z=new d(1),te=0;w.isEven()&&D.isEven();)w.iushrn(1),D.iushrn(1),++te;for(var B=D.clone(),ae=w.clone();!w.isZero();){for(var xe=0,he=1;!(w.words[0]&he)&&xe<26;++xe,he<<=1);if(xe>0)for(w.iushrn(xe);xe-- >0;)(q.isOdd()||j.isOdd())&&(q.iadd(B),j.isub(ae)),q.iushrn(1),j.iushrn(1);for(var Ee=0,Ne=1;!(D.words[0]&Ne)&&Ee<26;++Ee,Ne<<=1);if(Ee>0)for(D.iushrn(Ee);Ee-- >0;)(H.isOdd()||Z.isOdd())&&(H.iadd(B),Z.isub(ae)),H.iushrn(1),Z.iushrn(1);w.cmp(D)>=0?(w.isub(D),q.isub(H),j.isub(Z)):(D.isub(w),H.isub(q),Z.isub(j))}return{a:H,b:Z,gcd:D.iushln(te)}},d.prototype._invmp=function(l){P(l.negative===0),P(!l.isZero());var w=this,D=l.clone();w.negative!==0?w=w.umod(l):w=w.clone();for(var q=new d(1),j=new d(0),H=D.clone();w.cmpn(1)>0&&D.cmpn(1)>0;){for(var Z=0,te=1;!(w.words[0]&te)&&Z<26;++Z,te<<=1);if(Z>0)for(w.iushrn(Z);Z-- >0;)q.isOdd()&&q.iadd(H),q.iushrn(1);for(var B=0,ae=1;!(D.words[0]&ae)&&B<26;++B,ae<<=1);if(B>0)for(D.iushrn(B);B-- >0;)j.isOdd()&&j.iadd(H),j.iushrn(1);w.cmp(D)>=0?(w.isub(D),q.isub(j)):(D.isub(w),j.isub(q))}var xe;return w.cmpn(1)===0?xe=q:xe=j,xe.cmpn(0)<0&&xe.iadd(l),xe},d.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var w=this.clone(),D=l.clone();w.negative=0,D.negative=0;for(var q=0;w.isEven()&&D.isEven();q++)w.iushrn(1),D.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;D.isEven();)D.iushrn(1);var j=w.cmp(D);if(j<0){var H=w;w=D,D=H}else if(j===0||D.cmpn(1)===0)break;w.isub(D)}while(!0);return D.iushln(q)},d.prototype.invm=function(l){return this.egcd(l).a.umod(l)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(l){return this.words[0]&l},d.prototype.bincn=function(l){P(typeof l=="number");var w=l%26,D=(l-w)/26,q=1<<w;if(this.length<=D)return this._expand(D+1),this.words[D]|=q,this;for(var j=q,H=D;j!==0&&H<this.length;H++){var Z=this.words[H]|0;Z+=j,j=Z>>>26,Z&=67108863,this.words[H]=Z}return j!==0&&(this.words[H]=j,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(l){var w=l<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var D;if(this.length>1)D=1;else{w&&(l=-l),P(l<=67108863,"Number is too big");var q=this.words[0]|0;D=q===l?0:q<l?-1:1}return this.negative!==0?-D|0:D},d.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var w=this.ucmp(l);return this.negative!==0?-w|0:w},d.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var w=0,D=this.length-1;D>=0;D--){var q=this.words[D]|0,j=l.words[D]|0;if(q!==j){q<j?w=-1:q>j&&(w=1);break}}return w},d.prototype.gtn=function(l){return this.cmpn(l)===1},d.prototype.gt=function(l){return this.cmp(l)===1},d.prototype.gten=function(l){return this.cmpn(l)>=0},d.prototype.gte=function(l){return this.cmp(l)>=0},d.prototype.ltn=function(l){return this.cmpn(l)===-1},d.prototype.lt=function(l){return this.cmp(l)===-1},d.prototype.lten=function(l){return this.cmpn(l)<=0},d.prototype.lte=function(l){return this.cmp(l)<=0},d.prototype.eqn=function(l){return this.cmpn(l)===0},d.prototype.eq=function(l){return this.cmp(l)===0},d.red=function(l){return new M(l)},d.prototype.toRed=function(l){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},d.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(l){return this.red=l,this},d.prototype.forceRed=function(l){return P(!this.red,"Already a number in reduction context"),this._forceRed(l)},d.prototype.redAdd=function(l){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},d.prototype.redIAdd=function(l){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},d.prototype.redSub=function(l){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},d.prototype.redISub=function(l){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},d.prototype.redShl=function(l){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},d.prototype.redMul=function(l){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},d.prototype.redIMul=function(l){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},d.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(l){return P(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var L={k256:null,p224:null,p192:null,p25519:null};function z(C,l){this.name=C,this.p=new d(l,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var l=new d(null);return l.words=new Array(Math.ceil(this.n/13)),l},z.prototype.ireduce=function(l){var w=l,D;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),D=w.bitLength();while(D>this.n);var q=D<this.n?-1:w.ucmp(this.p);return q===0?(w.words[0]=0,w.length=1):q>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},z.prototype.split=function(l,w){l.iushrn(this.n,0,w)},z.prototype.imulK=function(l){return l.imul(this.k)};function K(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}S(K,z),K.prototype.split=function(l,w){for(var D=4194303,q=Math.min(l.length,9),j=0;j<q;j++)w.words[j]=l.words[j];if(w.length=q,l.length<=9){l.words[0]=0,l.length=1;return}var H=l.words[9];for(w.words[w.length++]=H&D,j=10;j<l.length;j++){var Z=l.words[j]|0;l.words[j-10]=(Z&D)<<4|H>>>22,H=Z}H>>>=22,l.words[j-10]=H,H===0&&l.length>10?l.length-=10:l.length-=9},K.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var w=0,D=0;D<l.length;D++){var q=l.words[D]|0;w+=q*977,l.words[D]=w&67108863,w=q*64+(w/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function J(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}S(J,z);function ie(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}S(ie,z);function Y(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}S(Y,z),Y.prototype.imulK=function(l){for(var w=0,D=0;D<l.length;D++){var q=(l.words[D]|0)*19+w,j=q&67108863;q>>>=26,l.words[D]=j,w=q}return w!==0&&(l.words[l.length++]=w),l},d._prime=function(l){if(L[l])return L[l];var w;if(l==="k256")w=new K;else if(l==="p224")w=new J;else if(l==="p192")w=new ie;else if(l==="p25519")w=new Y;else throw new Error("Unknown prime "+l);return L[l]=w,w};function M(C){if(typeof C=="string"){var l=d._prime(C);this.m=l.p,this.prime=l}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}M.prototype._verify1=function(l){P(l.negative===0,"red works only with positives"),P(l.red,"red works only with red numbers")},M.prototype._verify2=function(l,w){P((l.negative|w.negative)===0,"red works only with positives"),P(l.red&&l.red===w.red,"red works only with red numbers")},M.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(y(l,l.umod(this.m)._forceRed(this)),l)},M.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},M.prototype.add=function(l,w){this._verify2(l,w);var D=l.add(w);return D.cmp(this.m)>=0&&D.isub(this.m),D._forceRed(this)},M.prototype.iadd=function(l,w){this._verify2(l,w);var D=l.iadd(w);return D.cmp(this.m)>=0&&D.isub(this.m),D},M.prototype.sub=function(l,w){this._verify2(l,w);var D=l.sub(w);return D.cmpn(0)<0&&D.iadd(this.m),D._forceRed(this)},M.prototype.isub=function(l,w){this._verify2(l,w);var D=l.isub(w);return D.cmpn(0)<0&&D.iadd(this.m),D},M.prototype.shl=function(l,w){return this._verify1(l),this.imod(l.ushln(w))},M.prototype.imul=function(l,w){return this._verify2(l,w),this.imod(l.imul(w))},M.prototype.mul=function(l,w){return this._verify2(l,w),this.imod(l.mul(w))},M.prototype.isqr=function(l){return this.imul(l,l.clone())},M.prototype.sqr=function(l){return this.mul(l,l)},M.prototype.sqrt=function(l){if(l.isZero())return l.clone();var w=this.m.andln(3);if(P(w%2===1),w===3){var D=this.m.add(new d(1)).iushrn(2);return this.pow(l,D)}for(var q=this.m.subn(1),j=0;!q.isZero()&&q.andln(1)===0;)j++,q.iushrn(1);P(!q.isZero());var H=new d(1).toRed(this),Z=H.redNeg(),te=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new d(2*B*B).toRed(this);this.pow(B,te).cmp(Z)!==0;)B.redIAdd(Z);for(var ae=this.pow(B,q),xe=this.pow(l,q.addn(1).iushrn(1)),he=this.pow(l,q),Ee=j;he.cmp(H)!==0;){for(var Ne=he,X=0;Ne.cmp(H)!==0;X++)Ne=Ne.redSqr();P(X<Ee);var ee=this.pow(ae,new d(1).iushln(Ee-X-1));xe=xe.redMul(ee),ae=ee.redSqr(),he=he.redMul(ae),Ee=X}return xe},M.prototype.invm=function(l){var w=l._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},M.prototype.pow=function(l,w){if(w.isZero())return new d(1).toRed(this);if(w.cmpn(1)===0)return l.clone();var D=4,q=new Array(1<<D);q[0]=new d(1).toRed(this),q[1]=l;for(var j=2;j<q.length;j++)q[j]=this.mul(q[j-1],l);var H=q[0],Z=0,te=0,B=w.bitLength()%26;for(B===0&&(B=26),j=w.length-1;j>=0;j--){for(var ae=w.words[j],xe=B-1;xe>=0;xe--){var he=ae>>xe&1;if(H!==q[0]&&(H=this.sqr(H)),he===0&&Z===0){te=0;continue}Z<<=1,Z|=he,te++,!(te!==D&&(j!==0||xe!==0))&&(H=this.mul(H,q[Z]),te=0,Z=0)}B=26}return H},M.prototype.convertTo=function(l){var w=l.umod(this.m);return w===l?w.clone():w},M.prototype.convertFrom=function(l){var w=l.clone();return w.red=null,w},d.mont=function(l){return new $(l)};function $(C){M.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S($,M),$.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},$.prototype.convertFrom=function(l){var w=this.imod(l.mul(this.rinv));return w.red=null,w},$.prototype.imul=function(l,w){if(l.isZero()||w.isZero())return l.words[0]=0,l.length=1,l;var D=l.imul(w),q=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=D.isub(q).iushrn(this.shift),H=j;return j.cmp(this.m)>=0?H=j.isub(this.m):j.cmpn(0)<0&&(H=j.iadd(this.m)),H._forceRed(this)},$.prototype.mul=function(l,w){if(l.isZero()||w.isZero())return new d(0)._forceRed(this);var D=l.mul(w),q=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=D.isub(q).iushrn(this.shift),H=j;return j.cmp(this.m)>=0?H=j.isub(this.m):j.cmpn(0)<0&&(H=j.iadd(this.m)),H._forceRed(this)},$.prototype.invm=function(l){var w=this.imod(l._invmp(this.m).mul(this.r2));return w._forceRed(this)}}(s,this)},2686:s=>{"use strict";function V(c,f){c.prototype=Object.create(f.prototype),c.prototype.constructor=c,c.__proto__=f}var T={};function R(c,f,h){h||(h=Error);function k(u,_,m){return typeof f=="string"?f:f(u,_,m)}var y=function(u){V(_,u);function _(m,g,p){return u.call(this,k(m,g,p))||this}return _}(h);y.prototype.name=h.name,y.prototype.code=c,T[c]=y}function A(c,f){if(Array.isArray(c)){var h=c.length;return c=c.map(function(k){return String(k)}),h>2?"one of ".concat(f," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(f," ").concat(c[0]," or ").concat(c[1]):"of ".concat(f," ").concat(c[0])}else return"of ".concat(f," ").concat(String(c))}function P(c,f,h){return c.substr(!h||h<0?0:+h,f.length)===f}function S(c,f,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-f.length,h)===f}function d(c,f,h){return typeof h!="number"&&(h=0),h+f.length>c.length?!1:c.indexOf(f,h)!==-1}R("ERR_INVALID_OPT_VALUE",function(c,f){return'The value "'+f+'" is invalid for option "'+c+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(c,f,h){var k;typeof f=="string"&&P(f,"not ")?(k="must not be",f=f.replace(/^not /,"")):k="must be";var y;if(S(c," argument"))y="The ".concat(c," ").concat(k," ").concat(A(f,"type"));else{var u=d(c,".")?"property":"argument";y='The "'.concat(c,'" ').concat(u," ").concat(k," ").concat(A(f,"type"))}return y+=". Received type ".concat(typeof h),y},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=T},26248:(s,V,T)=>{"use strict";var R=T(65606),A=Object.keys||function(u){var _=[];for(var m in u)_.push(m);return _};s.exports=h;var P=T(30206),S=T(7314);T(56698)(h,P);for(var d=A(S.prototype),c=0;c<d.length;c++){var f=d[c];h.prototype[f]||(h.prototype[f]=S.prototype[f])}function h(u){if(!(this instanceof h))return new h(u);P.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",k)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function k(){this._writableState.ended||R.nextTick(y,this)}function y(u){u.end()}Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(_){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=_,this._writableState.destroyed=_)}})},75242:(s,V,T)=>{"use strict";s.exports=A;var R=T(81816);T(56698)(A,R);function A(P){if(!(this instanceof A))return new A(P);R.call(this,P)}A.prototype._transform=function(P,S,d){d(null,P)}},30206:(s,V,T)=>{"use strict";var R=T(65606);s.exports=M;var A;M.ReadableState=Y;var P=T(37007).EventEmitter,S=function(O,oe){return O.listeners(oe).length},d=T(5567),c=T(48287).Buffer,f=(typeof T.g!="undefined"?T.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function h(U){return c.from(U)}function k(U){return c.isBuffer(U)||U instanceof f}var y=T(92668),u;y&&y.debuglog?u=y.debuglog("stream"):u=function(){};var _=T(72851),m=T(36278),g=T(57385),p=g.getHighWaterMark,N=T(2686).F,E=N.ERR_INVALID_ARG_TYPE,x=N.ERR_STREAM_PUSH_AFTER_EOF,F=N.ERR_METHOD_NOT_IMPLEMENTED,W=N.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b,L,z;T(56698)(M,d);var K=m.errorOrDestroy,J=["error","close","destroy","pause","resume"];function ie(U,O,oe){if(typeof U.prependListener=="function")return U.prependListener(O,oe);!U._events||!U._events[O]?U.on(O,oe):Array.isArray(U._events[O])?U._events[O].unshift(oe):U._events[O]=[oe,U._events[O]]}function Y(U,O,oe){A=A||T(26248),U=U||{},typeof oe!="boolean"&&(oe=O instanceof A),this.objectMode=!!U.objectMode,oe&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=p(this,U,"readableHighWaterMark",oe),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(b||(b=T(83141).I),this.decoder=new b(U.encoding),this.encoding=U.encoding)}function M(U){if(A=A||T(26248),!(this instanceof M))return new M(U);var O=this instanceof A;this._readableState=new Y(U,this,O),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),d.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),M.prototype.destroy=m.destroy,M.prototype._undestroy=m.undestroy,M.prototype._destroy=function(U,O){O(U)},M.prototype.push=function(U,O){var oe=this._readableState,ve;return oe.objectMode?ve=!0:typeof U=="string"&&(O=O||oe.defaultEncoding,O!==oe.encoding&&(U=c.from(U,O),O=""),ve=!0),$(this,U,O,!1,ve)},M.prototype.unshift=function(U){return $(this,U,null,!0,!1)};function $(U,O,oe,ve,we){u("readableAddChunk",O);var pe=U._readableState;if(O===null)pe.reading=!1,j(U,pe);else{var Pe;if(we||(Pe=l(pe,O)),Pe)K(U,Pe);else if(pe.objectMode||O&&O.length>0)if(typeof O!="string"&&!pe.objectMode&&Object.getPrototypeOf(O)!==c.prototype&&(O=h(O)),ve)pe.endEmitted?K(U,new W):C(U,pe,O,!0);else if(pe.ended)K(U,new x);else{if(pe.destroyed)return!1;pe.reading=!1,pe.decoder&&!oe?(O=pe.decoder.write(O),pe.objectMode||O.length!==0?C(U,pe,O,!1):te(U,pe)):C(U,pe,O,!1)}else ve||(pe.reading=!1,te(U,pe))}return!pe.ended&&(pe.length<pe.highWaterMark||pe.length===0)}function C(U,O,oe,ve){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,U.emit("data",oe)):(O.length+=O.objectMode?1:oe.length,ve?O.buffer.unshift(oe):O.buffer.push(oe),O.needReadable&&H(U)),te(U,O)}function l(U,O){var oe;return!k(O)&&typeof O!="string"&&O!==void 0&&!U.objectMode&&(oe=new E("chunk",["string","Buffer","Uint8Array"],O)),oe}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(U){b||(b=T(83141).I);var O=new b(U);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,ve="";oe!==null;)ve+=O.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),ve!==""&&this._readableState.buffer.push(ve),this._readableState.length=ve.length,this};var w=1073741824;function D(U){return U>=w?U=w:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function q(U,O){return U<=0||O.length===0&&O.ended?0:O.objectMode?1:U!==U?O.flowing&&O.length?O.buffer.head.data.length:O.length:(U>O.highWaterMark&&(O.highWaterMark=D(U)),U<=O.length?U:O.ended?O.length:(O.needReadable=!0,0))}M.prototype.read=function(U){u("read",U),U=parseInt(U,10);var O=this._readableState,oe=U;if(U!==0&&(O.emittedReadable=!1),U===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return u("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?de(this):H(this),null;if(U=q(U,O),U===0&&O.ended)return O.length===0&&de(this),null;var ve=O.needReadable;u("need readable",ve),(O.length===0||O.length-U<O.highWaterMark)&&(ve=!0,u("length less than watermark",ve)),O.ended||O.reading?(ve=!1,u("reading or ended",ve)):ve&&(u("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(U=q(oe,O)));var we;return U>0?we=ee(U,O):we=null,we===null?(O.needReadable=O.length<=O.highWaterMark,U=0):(O.length-=U,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),oe!==U&&O.ended&&de(this)),we!==null&&this.emit("data",we),we};function j(U,O){if(u("onEofChunk"),!O.ended){if(O.decoder){var oe=O.decoder.end();oe&&oe.length&&(O.buffer.push(oe),O.length+=O.objectMode?1:oe.length)}O.ended=!0,O.sync?H(U):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,Z(U)))}}function H(U){var O=U._readableState;u("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(u("emitReadable",O.flowing),O.emittedReadable=!0,R.nextTick(Z,U))}function Z(U){var O=U._readableState;u("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(U.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,X(U)}function te(U,O){O.readingMore||(O.readingMore=!0,R.nextTick(B,U,O))}function B(U,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var oe=O.length;if(u("maybeReadMore read 0"),U.read(0),oe===O.length)break}O.readingMore=!1}M.prototype._read=function(U){K(this,new F("_read()"))},M.prototype.pipe=function(U,O){var oe=this,ve=this._readableState;switch(ve.pipesCount){case 0:ve.pipes=U;break;case 1:ve.pipes=[ve.pipes,U];break;default:ve.pipes.push(U);break}ve.pipesCount+=1,u("pipe count=%d opts=%j",ve.pipesCount,O);var we=(!O||O.end!==!1)&&U!==R.stdout&&U!==R.stderr,pe=we?Le:se;ve.endEmitted?R.nextTick(pe):oe.once("end",pe),U.on("unpipe",Pe);function Pe(be,Me){u("onunpipe"),be===oe&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,Ke())}function Le(){u("onend"),U.end()}var He=ae(oe);U.on("drain",He);var kt=!1;function Ke(){u("cleanup"),U.removeListener("close",ce),U.removeListener("finish",ne),U.removeListener("drain",He),U.removeListener("error",yt),U.removeListener("unpipe",Pe),oe.removeListener("end",Le),oe.removeListener("end",se),oe.removeListener("data",Ze),kt=!0,ve.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&He()}oe.on("data",Ze);function Ze(be){u("ondata");var Me=U.write(be);u("dest.write",Me),Me===!1&&((ve.pipesCount===1&&ve.pipes===U||ve.pipesCount>1&&_e(ve.pipes,U)!==-1)&&!kt&&(u("false write response, pause",ve.awaitDrain),ve.awaitDrain++),oe.pause())}function yt(be){u("onerror",be),se(),U.removeListener("error",yt),S(U,"error")===0&&K(U,be)}ie(U,"error",yt);function ce(){U.removeListener("finish",ne),se()}U.once("close",ce);function ne(){u("onfinish"),U.removeListener("close",ce),se()}U.once("finish",ne);function se(){u("unpipe"),oe.unpipe(U)}return U.emit("pipe",oe),ve.flowing||(u("pipe resume"),oe.resume()),U};function ae(U){return function(){var oe=U._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&S(U,"data")&&(oe.flowing=!0,X(U))}}M.prototype.unpipe=function(U){var O=this._readableState,oe={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return U&&U!==O.pipes?this:(U||(U=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,U&&U.emit("unpipe",this,oe),this);if(!U){var ve=O.pipes,we=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var pe=0;pe<we;pe++)ve[pe].emit("unpipe",this,{hasUnpiped:!1});return this}var Pe=_e(O.pipes,U);return Pe===-1?this:(O.pipes.splice(Pe,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),U.emit("unpipe",this,oe),this)},M.prototype.on=function(U,O){var oe=d.prototype.on.call(this,U,O),ve=this._readableState;return U==="data"?(ve.readableListening=this.listenerCount("readable")>0,ve.flowing!==!1&&this.resume()):U==="readable"&&!ve.endEmitted&&!ve.readableListening&&(ve.readableListening=ve.needReadable=!0,ve.flowing=!1,ve.emittedReadable=!1,u("on readable",ve.length,ve.reading),ve.length?H(this):ve.reading||R.nextTick(he,this)),oe},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(U,O){var oe=d.prototype.removeListener.call(this,U,O);return U==="readable"&&R.nextTick(xe,this),oe},M.prototype.removeAllListeners=function(U){var O=d.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&R.nextTick(xe,this),O};function xe(U){var O=U._readableState;O.readableListening=U.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:U.listenerCount("data")>0&&U.resume()}function he(U){u("readable nexttick read 0"),U.read(0)}M.prototype.resume=function(){var U=this._readableState;return U.flowing||(u("resume"),U.flowing=!U.readableListening,Ee(this,U)),U.paused=!1,this};function Ee(U,O){O.resumeScheduled||(O.resumeScheduled=!0,R.nextTick(Ne,U,O))}function Ne(U,O){u("resume",O.reading),O.reading||U.read(0),O.resumeScheduled=!1,U.emit("resume"),X(U),O.flowing&&!O.reading&&U.read(0)}M.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(U){var O=U._readableState;for(u("flow",O.flowing);O.flowing&&U.read()!==null;);}M.prototype.wrap=function(U){var O=this,oe=this._readableState,ve=!1;U.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var Pe=oe.decoder.end();Pe&&Pe.length&&O.push(Pe)}O.push(null)}),U.on("data",function(Pe){if(u("wrapped data"),oe.decoder&&(Pe=oe.decoder.write(Pe)),!(oe.objectMode&&Pe==null)&&!(!oe.objectMode&&(!Pe||!Pe.length))){var Le=O.push(Pe);Le||(ve=!0,U.pause())}});for(var we in U)this[we]===void 0&&typeof U[we]=="function"&&(this[we]=function(Le){return function(){return U[Le].apply(U,arguments)}}(we));for(var pe=0;pe<J.length;pe++)U.on(J[pe],this.emit.bind(this,J[pe]));return this._read=function(Pe){u("wrapped _read",Pe),ve&&(ve=!1,U.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return L===void 0&&(L=T(72485)),L(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),M._fromList=ee,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(U,O){if(O.length===0)return null;var oe;return O.objectMode?oe=O.buffer.shift():!U||U>=O.length?(O.decoder?oe=O.buffer.join(""):O.buffer.length===1?oe=O.buffer.first():oe=O.buffer.concat(O.length),O.buffer.clear()):oe=O.buffer.consume(U,O.decoder),oe}function de(U){var O=U._readableState;u("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,R.nextTick(me,O,U))}function me(U,O){if(u("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,O.readable=!1,O.emit("end"),U.autoDestroy)){var oe=O._writableState;(!oe||oe.autoDestroy&&oe.finished)&&O.destroy()}}typeof Symbol=="function"&&(M.from=function(U,O){return z===void 0&&(z=T(28591)),z(M,U,O)});function _e(U,O){for(var oe=0,ve=U.length;oe<ve;oe++)if(U[oe]===O)return oe;return-1}},81816:(s,V,T)=>{"use strict";s.exports=h;var R=T(2686).F,A=R.ERR_METHOD_NOT_IMPLEMENTED,P=R.ERR_MULTIPLE_CALLBACK,S=R.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=R.ERR_TRANSFORM_WITH_LENGTH_0,c=T(26248);T(56698)(h,c);function f(u,_){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new P);m.writechunk=null,m.writecb=null,_!=null&&this.push(_),g(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function h(u){if(!(this instanceof h))return new h(u);c.call(this,u),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",k)}function k(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(_,m){y(u,_,m)}):y(this,null,null)}h.prototype.push=function(u,_){return this._transformState.needTransform=!1,c.prototype.push.call(this,u,_)},h.prototype._transform=function(u,_,m){m(new A("_transform()"))},h.prototype._write=function(u,_,m){var g=this._transformState;if(g.writecb=m,g.writechunk=u,g.writeencoding=_,!g.transforming){var p=this._readableState;(g.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},h.prototype._read=function(u){var _=this._transformState;_.writechunk!==null&&!_.transforming?(_.transforming=!0,this._transform(_.writechunk,_.writeencoding,_.afterTransform)):_.needTransform=!0},h.prototype._destroy=function(u,_){c.prototype._destroy.call(this,u,function(m){_(m)})};function y(u,_,m){if(_)return u.emit("error",_);if(m!=null&&u.push(m),u._writableState.length)throw new d;if(u._transformState.transforming)throw new S;return u.push(null)}},7314:(s,V,T)=>{"use strict";var R=T(65606);s.exports=Y;function A(X,ee,de){this.chunk=X,this.encoding=ee,this.callback=de,this.next=null}function P(X){var ee=this;this.next=null,this.entry=null,this.finish=function(){Ne(ee,X)}}var S;Y.WritableState=J;var d={deprecate:T(94643)},c=T(5567),f=T(48287).Buffer,h=(typeof T.g!="undefined"?T.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function k(X){return f.from(X)}function y(X){return f.isBuffer(X)||X instanceof h}var u=T(36278),_=T(57385),m=_.getHighWaterMark,g=T(2686).F,p=g.ERR_INVALID_ARG_TYPE,N=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_MULTIPLE_CALLBACK,x=g.ERR_STREAM_CANNOT_PIPE,F=g.ERR_STREAM_DESTROYED,W=g.ERR_STREAM_NULL_VALUES,b=g.ERR_STREAM_WRITE_AFTER_END,L=g.ERR_UNKNOWN_ENCODING,z=u.errorOrDestroy;T(56698)(Y,c);function K(){}function J(X,ee,de){S=S||T(26248),X=X||{},typeof de!="boolean"&&(de=ee instanceof S),this.objectMode=!!X.objectMode,de&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=m(this,X,"writableHighWaterMark",de),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=X.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){j(ee,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}J.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,de=[];ee;)de.push(ee),ee=ee.next;return de},function(){try{Object.defineProperty(J.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ie;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ie=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(ee){return ie.call(this,ee)?!0:this!==Y?!1:ee&&ee._writableState instanceof J}})):ie=function(ee){return ee instanceof this};function Y(X){S=S||T(26248);var ee=this instanceof S;if(!ee&&!ie.call(Y,this))return new Y(X);this._writableState=new J(X,this,ee),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),c.call(this)}Y.prototype.pipe=function(){z(this,new x)};function M(X,ee){var de=new b;z(X,de),R.nextTick(ee,de)}function $(X,ee,de,me){var _e;return de===null?_e=new W:typeof de!="string"&&!ee.objectMode&&(_e=new p("chunk",["string","Buffer"],de)),_e?(z(X,_e),R.nextTick(me,_e),!1):!0}Y.prototype.write=function(X,ee,de){var me=this._writableState,_e=!1,U=!me.objectMode&&y(X);return U&&!f.isBuffer(X)&&(X=k(X)),typeof ee=="function"&&(de=ee,ee=null),U?ee="buffer":ee||(ee=me.defaultEncoding),typeof de!="function"&&(de=K),me.ending?M(this,de):(U||$(this,me,X,de))&&(me.pendingcb++,_e=l(this,me,U,X,ee,de)),_e},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&te(this,X))},Y.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new L(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(X,ee,de){return!X.objectMode&&X.decodeStrings!==!1&&typeof ee=="string"&&(ee=f.from(ee,de)),ee}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function l(X,ee,de,me,_e,U){if(!de){var O=C(ee,me,_e);me!==O&&(de=!0,_e="buffer",me=O)}var oe=ee.objectMode?1:me.length;ee.length+=oe;var ve=ee.length<ee.highWaterMark;if(ve||(ee.needDrain=!0),ee.writing||ee.corked){var we=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:me,encoding:_e,isBuf:de,callback:U,next:null},we?we.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else w(X,ee,!1,oe,me,_e,U);return ve}function w(X,ee,de,me,_e,U,O){ee.writelen=me,ee.writecb=O,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new F("write")):de?X._writev(_e,ee.onwrite):X._write(_e,U,ee.onwrite),ee.sync=!1}function D(X,ee,de,me,_e){--ee.pendingcb,de?(R.nextTick(_e,me),R.nextTick(he,X,ee),X._writableState.errorEmitted=!0,z(X,me)):(_e(me),X._writableState.errorEmitted=!0,z(X,me),he(X,ee))}function q(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function j(X,ee){var de=X._writableState,me=de.sync,_e=de.writecb;if(typeof _e!="function")throw new E;if(q(de),ee)D(X,de,me,ee,_e);else{var U=B(de)||X.destroyed;!U&&!de.corked&&!de.bufferProcessing&&de.bufferedRequest&&te(X,de),me?R.nextTick(H,X,de,U,_e):H(X,de,U,_e)}}function H(X,ee,de,me){de||Z(X,ee),ee.pendingcb--,me(),he(X,ee)}function Z(X,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,X.emit("drain"))}function te(X,ee){ee.bufferProcessing=!0;var de=ee.bufferedRequest;if(X._writev&&de&&de.next){var me=ee.bufferedRequestCount,_e=new Array(me),U=ee.corkedRequestsFree;U.entry=de;for(var O=0,oe=!0;de;)_e[O]=de,de.isBuf||(oe=!1),de=de.next,O+=1;_e.allBuffers=oe,w(X,ee,!0,ee.length,_e,"",U.finish),ee.pendingcb++,ee.lastBufferedRequest=null,U.next?(ee.corkedRequestsFree=U.next,U.next=null):ee.corkedRequestsFree=new P(ee),ee.bufferedRequestCount=0}else{for(;de;){var ve=de.chunk,we=de.encoding,pe=de.callback,Pe=ee.objectMode?1:ve.length;if(w(X,ee,!1,Pe,ve,we,pe),de=de.next,ee.bufferedRequestCount--,ee.writing)break}de===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=de,ee.bufferProcessing=!1}Y.prototype._write=function(X,ee,de){de(new N("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(X,ee,de){var me=this._writableState;return typeof X=="function"?(de=X,X=null,ee=null):typeof ee=="function"&&(de=ee,ee=null),X!=null&&this.write(X,ee),me.corked&&(me.corked=1,this.uncork()),me.ending||Ee(this,me,de),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function ae(X,ee){X._final(function(de){ee.pendingcb--,de&&z(X,de),ee.prefinished=!0,X.emit("prefinish"),he(X,ee)})}function xe(X,ee){!ee.prefinished&&!ee.finalCalled&&(typeof X._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,R.nextTick(ae,X,ee)):(ee.prefinished=!0,X.emit("prefinish")))}function he(X,ee){var de=B(ee);if(de&&(xe(X,ee),ee.pendingcb===0&&(ee.finished=!0,X.emit("finish"),ee.autoDestroy))){var me=X._readableState;(!me||me.autoDestroy&&me.endEmitted)&&X.destroy()}return de}function Ee(X,ee,de){ee.ending=!0,he(X,ee),de&&(ee.finished?R.nextTick(de):X.once("finish",de)),ee.ended=!0,X.writable=!1}function Ne(X,ee,de){var me=X.entry;for(X.entry=null;me;){var _e=me.callback;ee.pendingcb--,_e(de),me=me.next}ee.corkedRequestsFree.next=X}Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),Y.prototype.destroy=u.destroy,Y.prototype._undestroy=u.undestroy,Y.prototype._destroy=function(X,ee){ee(X)}},72485:(s,V,T)=>{"use strict";var R=T(65606),A;function P(b,L,z){return L=S(L),L in b?Object.defineProperty(b,L,{value:z,enumerable:!0,configurable:!0,writable:!0}):b[L]=z,b}function S(b){var L=d(b,"string");return typeof L=="symbol"?L:String(L)}function d(b,L){if(typeof b!="object"||b===null)return b;var z=b[Symbol.toPrimitive];if(z!==void 0){var K=z.call(b,L||"default");if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(b)}var c=T(23532),f=Symbol("lastResolve"),h=Symbol("lastReject"),k=Symbol("error"),y=Symbol("ended"),u=Symbol("lastPromise"),_=Symbol("handlePromise"),m=Symbol("stream");function g(b,L){return{value:b,done:L}}function p(b){var L=b[f];if(L!==null){var z=b[m].read();z!==null&&(b[u]=null,b[f]=null,b[h]=null,L(g(z,!1)))}}function N(b){R.nextTick(p,b)}function E(b,L){return function(z,K){b.then(function(){if(L[y]){z(g(void 0,!0));return}L[_](z,K)},K)}}var x=Object.getPrototypeOf(function(){}),F=Object.setPrototypeOf((A={get stream(){return this[m]},next:function(){var L=this,z=this[k];if(z!==null)return Promise.reject(z);if(this[y])return Promise.resolve(g(void 0,!0));if(this[m].destroyed)return new Promise(function(Y,M){R.nextTick(function(){L[k]?M(L[k]):Y(g(void 0,!0))})});var K=this[u],J;if(K)J=new Promise(E(K,this));else{var ie=this[m].read();if(ie!==null)return Promise.resolve(g(ie,!1));J=new Promise(this[_])}return this[u]=J,J}},P(A,Symbol.asyncIterator,function(){return this}),P(A,"return",function(){var L=this;return new Promise(function(z,K){L[m].destroy(null,function(J){if(J){K(J);return}z(g(void 0,!0))})})}),A),x),W=function(L){var z,K=Object.create(F,(z={},P(z,m,{value:L,writable:!0}),P(z,f,{value:null,writable:!0}),P(z,h,{value:null,writable:!0}),P(z,k,{value:null,writable:!0}),P(z,y,{value:L._readableState.endEmitted,writable:!0}),P(z,_,{value:function(ie,Y){var M=K[m].read();M?(K[u]=null,K[f]=null,K[h]=null,ie(g(M,!1))):(K[f]=ie,K[h]=Y)},writable:!0}),z));return K[u]=null,c(L,function(J){if(J&&J.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ie=K[h];ie!==null&&(K[u]=null,K[f]=null,K[h]=null,ie(J)),K[k]=J;return}var Y=K[f];Y!==null&&(K[u]=null,K[f]=null,K[h]=null,Y(g(void 0,!0))),K[y]=!0}),L.on("readable",N.bind(null,K)),K};s.exports=W},72851:(s,V,T)=>{"use strict";function R(p,N){var E=Object.keys(p);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(p);N&&(x=x.filter(function(F){return Object.getOwnPropertyDescriptor(p,F).enumerable})),E.push.apply(E,x)}return E}function A(p){for(var N=1;N<arguments.length;N++){var E=arguments[N]!=null?arguments[N]:{};N%2?R(Object(E),!0).forEach(function(x){P(p,x,E[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(E)):R(Object(E)).forEach(function(x){Object.defineProperty(p,x,Object.getOwnPropertyDescriptor(E,x))})}return p}function P(p,N,E){return N=f(N),N in p?Object.defineProperty(p,N,{value:E,enumerable:!0,configurable:!0,writable:!0}):p[N]=E,p}function S(p,N){if(!(p instanceof N))throw new TypeError("Cannot call a class as a function")}function d(p,N){for(var E=0;E<N.length;E++){var x=N[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,f(x.key),x)}}function c(p,N,E){return N&&d(p.prototype,N),E&&d(p,E),Object.defineProperty(p,"prototype",{writable:!1}),p}function f(p){var N=h(p,"string");return typeof N=="symbol"?N:String(N)}function h(p,N){if(typeof p!="object"||p===null)return p;var E=p[Symbol.toPrimitive];if(E!==void 0){var x=E.call(p,N||"default");if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(p)}var k=T(48287),y=k.Buffer,u=T(21638),_=u.inspect,m=_&&_.custom||"inspect";function g(p,N,E){y.prototype.copy.call(p,N,E)}s.exports=function(){function p(){S(this,p),this.head=null,this.tail=null,this.length=0}return c(p,[{key:"push",value:function(E){var x={data:E,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(E){var x={data:E,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var x=this.head,F=""+x.data;x=x.next;)F+=E+x.data;return F}},{key:"concat",value:function(E){if(this.length===0)return y.alloc(0);for(var x=y.allocUnsafe(E>>>0),F=this.head,W=0;F;)g(F.data,x,W),W+=F.data.length,F=F.next;return x}},{key:"consume",value:function(E,x){var F;return E<this.head.data.length?(F=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?F=this.shift():F=x?this._getString(E):this._getBuffer(E),F}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var x=this.head,F=1,W=x.data;for(E-=W.length;x=x.next;){var b=x.data,L=E>b.length?b.length:E;if(L===b.length?W+=b:W+=b.slice(0,E),E-=L,E===0){L===b.length?(++F,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=b.slice(L));break}++F}return this.length-=F,W}},{key:"_getBuffer",value:function(E){var x=y.allocUnsafe(E),F=this.head,W=1;for(F.data.copy(x),E-=F.data.length;F=F.next;){var b=F.data,L=E>b.length?b.length:E;if(b.copy(x,x.length-E,0,L),E-=L,E===0){L===b.length?(++W,F.next?this.head=F.next:this.head=this.tail=null):(this.head=F,F.data=b.slice(L));break}++W}return this.length-=W,x}},{key:m,value:function(E,x){return _(this,A(A({},x),{},{depth:0,customInspect:!1}))}}]),p}()},36278:(s,V,T)=>{"use strict";var R=T(65606);function A(h,k){var y=this,u=this._readableState&&this._readableState.destroyed,_=this._writableState&&this._writableState.destroyed;return u||_?(k?k(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,R.nextTick(c,this,h)):R.nextTick(c,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(m){!k&&m?y._writableState?y._writableState.errorEmitted?R.nextTick(S,y):(y._writableState.errorEmitted=!0,R.nextTick(P,y,m)):R.nextTick(P,y,m):k?(R.nextTick(S,y),k(m)):R.nextTick(S,y)}),this)}function P(h,k){c(h,k),S(h)}function S(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(h,k){h.emit("error",k)}function f(h,k){var y=h._readableState,u=h._writableState;y&&y.autoDestroy||u&&u.autoDestroy?h.destroy(k):h.emit("error",k)}s.exports={destroy:A,undestroy:d,errorOrDestroy:f}},23532:(s,V,T)=>{"use strict";var R=T(2686).F.ERR_STREAM_PREMATURE_CLOSE;function A(c){var f=!1;return function(){if(!f){f=!0;for(var h=arguments.length,k=new Array(h),y=0;y<h;y++)k[y]=arguments[y];c.apply(this,k)}}}function P(){}function S(c){return c.setHeader&&typeof c.abort=="function"}function d(c,f,h){if(typeof f=="function")return d(c,null,f);f||(f={}),h=A(h||P);var k=f.readable||f.readable!==!1&&c.readable,y=f.writable||f.writable!==!1&&c.writable,u=function(){c.writable||m()},_=c._writableState&&c._writableState.finished,m=function(){y=!1,_=!0,k||h.call(c)},g=c._readableState&&c._readableState.endEmitted,p=function(){k=!1,g=!0,y||h.call(c)},N=function(W){h.call(c,W)},E=function(){var W;if(k&&!g)return(!c._readableState||!c._readableState.ended)&&(W=new R),h.call(c,W);if(y&&!_)return(!c._writableState||!c._writableState.ended)&&(W=new R),h.call(c,W)},x=function(){c.req.on("finish",m)};return S(c)?(c.on("complete",m),c.on("abort",E),c.req?x():c.on("request",x)):y&&!c._writableState&&(c.on("end",u),c.on("close",u)),c.on("end",p),c.on("finish",m),f.error!==!1&&c.on("error",N),c.on("close",E),function(){c.removeListener("complete",m),c.removeListener("abort",E),c.removeListener("request",x),c.req&&c.req.removeListener("finish",m),c.removeListener("end",u),c.removeListener("close",u),c.removeListener("finish",m),c.removeListener("end",p),c.removeListener("error",N),c.removeListener("close",E)}}s.exports=d},28591:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},43440:(s,V,T)=>{"use strict";var R;function A(m){var g=!1;return function(){g||(g=!0,m.apply(void 0,arguments))}}var P=T(2686).F,S=P.ERR_MISSING_ARGS,d=P.ERR_STREAM_DESTROYED;function c(m){if(m)throw m}function f(m){return m.setHeader&&typeof m.abort=="function"}function h(m,g,p,N){N=A(N);var E=!1;m.on("close",function(){E=!0}),R===void 0&&(R=T(23532)),R(m,{readable:g,writable:p},function(F){if(F)return N(F);E=!0,N()});var x=!1;return function(F){if(!E&&!x){if(x=!0,f(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();N(F||new d("pipe"))}}}function k(m){m()}function y(m,g){return m.pipe(g)}function u(m){return!m.length||typeof m[m.length-1]!="function"?c:m.pop()}function _(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];var N=u(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new S("streams");var E,x=g.map(function(F,W){var b=W<g.length-1,L=W>0;return h(F,b,L,function(z){E||(E=z),z&&x.forEach(k),!b&&(x.forEach(k),N(E))})});return g.reduce(y)}s.exports=_},57385:(s,V,T)=>{"use strict";var R=T(2686).F.ERR_INVALID_OPT_VALUE;function A(S,d,c){return S.highWaterMark!=null?S.highWaterMark:d?S[c]:null}function P(S,d,c,f){var h=A(d,f,c);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var k=f?c:"highWaterMark";throw new R(k,h)}return Math.floor(h)}return S.objectMode?16:16384}s.exports={getHighWaterMark:P}},5567:(s,V,T)=>{s.exports=T(37007).EventEmitter},46737:(s,V,T)=>{V=s.exports=T(30206),V.Stream=V,V.Readable=V,V.Writable=T(7314),V.Duplex=T(26248),V.Transform=T(81816),V.PassThrough=T(75242),V.finished=T(23532),V.pipeline=T(43440)},30295:s=>{s.exports=function(T,R){for(var A=Math.min(T.length,R.length),P=new Buffer(A),S=0;S<A;++S)P[S]=T[S]^R[S];return P}},48287:(s,V,T)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const R=T(67526),A=T(251),P=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=f,V.SlowBuffer=x,V.INSPECT_MAX_BYTES=50;const S=2147483647;V.kMaxLength=S,f.TYPED_ARRAY_SUPPORT=d(),!f.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const ce=new Uint8Array(1),ne={foo:function(){return 42}};return Object.setPrototypeOf(ne,Uint8Array.prototype),Object.setPrototypeOf(ce,ne),ce.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function c(ce){if(ce>S)throw new RangeError('The value "'+ce+'" is invalid for option "size"');const ne=new Uint8Array(ce);return Object.setPrototypeOf(ne,f.prototype),ne}function f(ce,ne,se){if(typeof ce=="number"){if(typeof ne=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(ce)}return h(ce,ne,se)}f.poolSize=8192;function h(ce,ne,se){if(typeof ce=="string")return _(ce,ne);if(ArrayBuffer.isView(ce))return g(ce);if(ce==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce);if(He(ce,ArrayBuffer)||ce&&He(ce.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(He(ce,SharedArrayBuffer)||ce&&He(ce.buffer,SharedArrayBuffer)))return p(ce,ne,se);if(typeof ce=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const be=ce.valueOf&&ce.valueOf();if(be!=null&&be!==ce)return f.from(be,ne,se);const Me=N(ce);if(Me)return Me;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof ce[Symbol.toPrimitive]=="function")return f.from(ce[Symbol.toPrimitive]("string"),ne,se);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce)}f.from=function(ce,ne,se){return h(ce,ne,se)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function k(ce){if(typeof ce!="number")throw new TypeError('"size" argument must be of type number');if(ce<0)throw new RangeError('The value "'+ce+'" is invalid for option "size"')}function y(ce,ne,se){return k(ce),ce<=0?c(ce):ne!==void 0?typeof se=="string"?c(ce).fill(ne,se):c(ce).fill(ne):c(ce)}f.alloc=function(ce,ne,se){return y(ce,ne,se)};function u(ce){return k(ce),c(ce<0?0:E(ce)|0)}f.allocUnsafe=function(ce){return u(ce)},f.allocUnsafeSlow=function(ce){return u(ce)};function _(ce,ne){if((typeof ne!="string"||ne==="")&&(ne="utf8"),!f.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);const se=F(ce,ne)|0;let be=c(se);const Me=be.write(ce,ne);return Me!==se&&(be=be.slice(0,Me)),be}function m(ce){const ne=ce.length<0?0:E(ce.length)|0,se=c(ne);for(let be=0;be<ne;be+=1)se[be]=ce[be]&255;return se}function g(ce){if(He(ce,Uint8Array)){const ne=new Uint8Array(ce);return p(ne.buffer,ne.byteOffset,ne.byteLength)}return m(ce)}function p(ce,ne,se){if(ne<0||ce.byteLength<ne)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<ne+(se||0))throw new RangeError('"length" is outside of buffer bounds');let be;return ne===void 0&&se===void 0?be=new Uint8Array(ce):se===void 0?be=new Uint8Array(ce,ne):be=new Uint8Array(ce,ne,se),Object.setPrototypeOf(be,f.prototype),be}function N(ce){if(f.isBuffer(ce)){const ne=E(ce.length)|0,se=c(ne);return se.length===0||ce.copy(se,0,0,ne),se}if(ce.length!==void 0)return typeof ce.length!="number"||kt(ce.length)?c(0):m(ce);if(ce.type==="Buffer"&&Array.isArray(ce.data))return m(ce.data)}function E(ce){if(ce>=S)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return ce|0}function x(ce){return+ce!=ce&&(ce=0),f.alloc(+ce)}f.isBuffer=function(ne){return ne!=null&&ne._isBuffer===!0&&ne!==f.prototype},f.compare=function(ne,se){if(He(ne,Uint8Array)&&(ne=f.from(ne,ne.offset,ne.byteLength)),He(se,Uint8Array)&&(se=f.from(se,se.offset,se.byteLength)),!f.isBuffer(ne)||!f.isBuffer(se))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ne===se)return 0;let be=ne.length,Me=se.length;for(let Ve=0,Fe=Math.min(be,Me);Ve<Fe;++Ve)if(ne[Ve]!==se[Ve]){be=ne[Ve],Me=se[Ve];break}return be<Me?-1:Me<be?1:0},f.isEncoding=function(ne){switch(String(ne).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(ne,se){if(!Array.isArray(ne))throw new TypeError('"list" argument must be an Array of Buffers');if(ne.length===0)return f.alloc(0);let be;if(se===void 0)for(se=0,be=0;be<ne.length;++be)se+=ne[be].length;const Me=f.allocUnsafe(se);let Ve=0;for(be=0;be<ne.length;++be){let Fe=ne[be];if(He(Fe,Uint8Array))Ve+Fe.length>Me.length?(f.isBuffer(Fe)||(Fe=f.from(Fe)),Fe.copy(Me,Ve)):Uint8Array.prototype.set.call(Me,Fe,Ve);else if(f.isBuffer(Fe))Fe.copy(Me,Ve);else throw new TypeError('"list" argument must be an Array of Buffers');Ve+=Fe.length}return Me};function F(ce,ne){if(f.isBuffer(ce))return ce.length;if(ArrayBuffer.isView(ce)||He(ce,ArrayBuffer))return ce.byteLength;if(typeof ce!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ce);const se=ce.length,be=arguments.length>2&&arguments[2]===!0;if(!be&&se===0)return 0;let Me=!1;for(;;)switch(ne){case"ascii":case"latin1":case"binary":return se;case"utf8":case"utf-8":return ve(ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se*2;case"hex":return se>>>1;case"base64":return Pe(ce).length;default:if(Me)return be?-1:ve(ce).length;ne=(""+ne).toLowerCase(),Me=!0}}f.byteLength=F;function W(ce,ne,se){let be=!1;if((ne===void 0||ne<0)&&(ne=0),ne>this.length||((se===void 0||se>this.length)&&(se=this.length),se<=0)||(se>>>=0,ne>>>=0,se<=ne))return"";for(ce||(ce="utf8");;)switch(ce){case"hex":return j(this,ne,se);case"utf8":case"utf-8":return C(this,ne,se);case"ascii":return D(this,ne,se);case"latin1":case"binary":return q(this,ne,se);case"base64":return $(this,ne,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,ne,se);default:if(be)throw new TypeError("Unknown encoding: "+ce);ce=(ce+"").toLowerCase(),be=!0}}f.prototype._isBuffer=!0;function b(ce,ne,se){const be=ce[ne];ce[ne]=ce[se],ce[se]=be}f.prototype.swap16=function(){const ne=this.length;if(ne%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let se=0;se<ne;se+=2)b(this,se,se+1);return this},f.prototype.swap32=function(){const ne=this.length;if(ne%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let se=0;se<ne;se+=4)b(this,se,se+3),b(this,se+1,se+2);return this},f.prototype.swap64=function(){const ne=this.length;if(ne%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let se=0;se<ne;se+=8)b(this,se,se+7),b(this,se+1,se+6),b(this,se+2,se+5),b(this,se+3,se+4);return this},f.prototype.toString=function(){const ne=this.length;return ne===0?"":arguments.length===0?C(this,0,ne):W.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(ne){if(!f.isBuffer(ne))throw new TypeError("Argument must be a Buffer");return this===ne?!0:f.compare(this,ne)===0},f.prototype.inspect=function(){let ne="";const se=V.INSPECT_MAX_BYTES;return ne=this.toString("hex",0,se).replace(/(.{2})/g,"$1 ").trim(),this.length>se&&(ne+=" ... "),"<Buffer "+ne+">"},P&&(f.prototype[P]=f.prototype.inspect),f.prototype.compare=function(ne,se,be,Me,Ve){if(He(ne,Uint8Array)&&(ne=f.from(ne,ne.offset,ne.byteLength)),!f.isBuffer(ne))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ne);if(se===void 0&&(se=0),be===void 0&&(be=ne?ne.length:0),Me===void 0&&(Me=0),Ve===void 0&&(Ve=this.length),se<0||be>ne.length||Me<0||Ve>this.length)throw new RangeError("out of range index");if(Me>=Ve&&se>=be)return 0;if(Me>=Ve)return-1;if(se>=be)return 1;if(se>>>=0,be>>>=0,Me>>>=0,Ve>>>=0,this===ne)return 0;let Fe=Ve-Me,Ye=be-se;const Tt=Math.min(Fe,Ye),et=this.slice(Me,Ve),rt=ne.slice(se,be);for(let ut=0;ut<Tt;++ut)if(et[ut]!==rt[ut]){Fe=et[ut],Ye=rt[ut];break}return Fe<Ye?-1:Ye<Fe?1:0};function L(ce,ne,se,be,Me){if(ce.length===0)return-1;if(typeof se=="string"?(be=se,se=0):se>2147483647?se=2147483647:se<-2147483648&&(se=-2147483648),se=+se,kt(se)&&(se=Me?0:ce.length-1),se<0&&(se=ce.length+se),se>=ce.length){if(Me)return-1;se=ce.length-1}else if(se<0)if(Me)se=0;else return-1;if(typeof ne=="string"&&(ne=f.from(ne,be)),f.isBuffer(ne))return ne.length===0?-1:z(ce,ne,se,be,Me);if(typeof ne=="number")return ne=ne&255,typeof Uint8Array.prototype.indexOf=="function"?Me?Uint8Array.prototype.indexOf.call(ce,ne,se):Uint8Array.prototype.lastIndexOf.call(ce,ne,se):z(ce,[ne],se,be,Me);throw new TypeError("val must be string, number or Buffer")}function z(ce,ne,se,be,Me){let Ve=1,Fe=ce.length,Ye=ne.length;if(be!==void 0&&(be=String(be).toLowerCase(),be==="ucs2"||be==="ucs-2"||be==="utf16le"||be==="utf-16le")){if(ce.length<2||ne.length<2)return-1;Ve=2,Fe/=2,Ye/=2,se/=2}function Tt(rt,ut){return Ve===1?rt[ut]:rt.readUInt16BE(ut*Ve)}let et;if(Me){let rt=-1;for(et=se;et<Fe;et++)if(Tt(ce,et)===Tt(ne,rt===-1?0:et-rt)){if(rt===-1&&(rt=et),et-rt+1===Ye)return rt*Ve}else rt!==-1&&(et-=et-rt),rt=-1}else for(se+Ye>Fe&&(se=Fe-Ye),et=se;et>=0;et--){let rt=!0;for(let ut=0;ut<Ye;ut++)if(Tt(ce,et+ut)!==Tt(ne,ut)){rt=!1;break}if(rt)return et}return-1}f.prototype.includes=function(ne,se,be){return this.indexOf(ne,se,be)!==-1},f.prototype.indexOf=function(ne,se,be){return L(this,ne,se,be,!0)},f.prototype.lastIndexOf=function(ne,se,be){return L(this,ne,se,be,!1)};function K(ce,ne,se,be){se=Number(se)||0;const Me=ce.length-se;be?(be=Number(be),be>Me&&(be=Me)):be=Me;const Ve=ne.length;be>Ve/2&&(be=Ve/2);let Fe;for(Fe=0;Fe<be;++Fe){const Ye=parseInt(ne.substr(Fe*2,2),16);if(kt(Ye))return Fe;ce[se+Fe]=Ye}return Fe}function J(ce,ne,se,be){return Le(ve(ne,ce.length-se),ce,se,be)}function ie(ce,ne,se,be){return Le(we(ne),ce,se,be)}function Y(ce,ne,se,be){return Le(Pe(ne),ce,se,be)}function M(ce,ne,se,be){return Le(pe(ne,ce.length-se),ce,se,be)}f.prototype.write=function(ne,se,be,Me){if(se===void 0)Me="utf8",be=this.length,se=0;else if(be===void 0&&typeof se=="string")Me=se,be=this.length,se=0;else if(isFinite(se))se=se>>>0,isFinite(be)?(be=be>>>0,Me===void 0&&(Me="utf8")):(Me=be,be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ve=this.length-se;if((be===void 0||be>Ve)&&(be=Ve),ne.length>0&&(be<0||se<0)||se>this.length)throw new RangeError("Attempt to write outside buffer bounds");Me||(Me="utf8");let Fe=!1;for(;;)switch(Me){case"hex":return K(this,ne,se,be);case"utf8":case"utf-8":return J(this,ne,se,be);case"ascii":case"latin1":case"binary":return ie(this,ne,se,be);case"base64":return Y(this,ne,se,be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,ne,se,be);default:if(Fe)throw new TypeError("Unknown encoding: "+Me);Me=(""+Me).toLowerCase(),Fe=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(ce,ne,se){return ne===0&&se===ce.length?R.fromByteArray(ce):R.fromByteArray(ce.slice(ne,se))}function C(ce,ne,se){se=Math.min(ce.length,se);const be=[];let Me=ne;for(;Me<se;){const Ve=ce[Me];let Fe=null,Ye=Ve>239?4:Ve>223?3:Ve>191?2:1;if(Me+Ye<=se){let Tt,et,rt,ut;switch(Ye){case 1:Ve<128&&(Fe=Ve);break;case 2:Tt=ce[Me+1],(Tt&192)===128&&(ut=(Ve&31)<<6|Tt&63,ut>127&&(Fe=ut));break;case 3:Tt=ce[Me+1],et=ce[Me+2],(Tt&192)===128&&(et&192)===128&&(ut=(Ve&15)<<12|(Tt&63)<<6|et&63,ut>2047&&(ut<55296||ut>57343)&&(Fe=ut));break;case 4:Tt=ce[Me+1],et=ce[Me+2],rt=ce[Me+3],(Tt&192)===128&&(et&192)===128&&(rt&192)===128&&(ut=(Ve&15)<<18|(Tt&63)<<12|(et&63)<<6|rt&63,ut>65535&&ut<1114112&&(Fe=ut))}}Fe===null?(Fe=65533,Ye=1):Fe>65535&&(Fe-=65536,be.push(Fe>>>10&1023|55296),Fe=56320|Fe&1023),be.push(Fe),Me+=Ye}return w(be)}const l=4096;function w(ce){const ne=ce.length;if(ne<=l)return String.fromCharCode.apply(String,ce);let se="",be=0;for(;be<ne;)se+=String.fromCharCode.apply(String,ce.slice(be,be+=l));return se}function D(ce,ne,se){let be="";se=Math.min(ce.length,se);for(let Me=ne;Me<se;++Me)be+=String.fromCharCode(ce[Me]&127);return be}function q(ce,ne,se){let be="";se=Math.min(ce.length,se);for(let Me=ne;Me<se;++Me)be+=String.fromCharCode(ce[Me]);return be}function j(ce,ne,se){const be=ce.length;(!ne||ne<0)&&(ne=0),(!se||se<0||se>be)&&(se=be);let Me="";for(let Ve=ne;Ve<se;++Ve)Me+=Ke[ce[Ve]];return Me}function H(ce,ne,se){const be=ce.slice(ne,se);let Me="";for(let Ve=0;Ve<be.length-1;Ve+=2)Me+=String.fromCharCode(be[Ve]+be[Ve+1]*256);return Me}f.prototype.slice=function(ne,se){const be=this.length;ne=~~ne,se=se===void 0?be:~~se,ne<0?(ne+=be,ne<0&&(ne=0)):ne>be&&(ne=be),se<0?(se+=be,se<0&&(se=0)):se>be&&(se=be),se<ne&&(se=ne);const Me=this.subarray(ne,se);return Object.setPrototypeOf(Me,f.prototype),Me};function Z(ce,ne,se){if(ce%1!==0||ce<0)throw new RangeError("offset is not uint");if(ce+ne>se)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(ne,se,be){ne=ne>>>0,se=se>>>0,be||Z(ne,se,this.length);let Me=this[ne],Ve=1,Fe=0;for(;++Fe<se&&(Ve*=256);)Me+=this[ne+Fe]*Ve;return Me},f.prototype.readUintBE=f.prototype.readUIntBE=function(ne,se,be){ne=ne>>>0,se=se>>>0,be||Z(ne,se,this.length);let Me=this[ne+--se],Ve=1;for(;se>0&&(Ve*=256);)Me+=this[ne+--se]*Ve;return Me},f.prototype.readUint8=f.prototype.readUInt8=function(ne,se){return ne=ne>>>0,se||Z(ne,1,this.length),this[ne]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(ne,se){return ne=ne>>>0,se||Z(ne,2,this.length),this[ne]|this[ne+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(ne,se){return ne=ne>>>0,se||Z(ne,2,this.length),this[ne]<<8|this[ne+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(ne,se){return ne=ne>>>0,se||Z(ne,4,this.length),(this[ne]|this[ne+1]<<8|this[ne+2]<<16)+this[ne+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(ne,se){return ne=ne>>>0,se||Z(ne,4,this.length),this[ne]*16777216+(this[ne+1]<<16|this[ne+2]<<8|this[ne+3])},f.prototype.readBigUInt64LE=Ze(function(ne){ne=ne>>>0,_e(ne,"offset");const se=this[ne],be=this[ne+7];(se===void 0||be===void 0)&&U(ne,this.length-8);const Me=se+this[++ne]*2**8+this[++ne]*2**16+this[++ne]*2**24,Ve=this[++ne]+this[++ne]*2**8+this[++ne]*2**16+be*2**24;return BigInt(Me)+(BigInt(Ve)<<BigInt(32))}),f.prototype.readBigUInt64BE=Ze(function(ne){ne=ne>>>0,_e(ne,"offset");const se=this[ne],be=this[ne+7];(se===void 0||be===void 0)&&U(ne,this.length-8);const Me=se*2**24+this[++ne]*2**16+this[++ne]*2**8+this[++ne],Ve=this[++ne]*2**24+this[++ne]*2**16+this[++ne]*2**8+be;return(BigInt(Me)<<BigInt(32))+BigInt(Ve)}),f.prototype.readIntLE=function(ne,se,be){ne=ne>>>0,se=se>>>0,be||Z(ne,se,this.length);let Me=this[ne],Ve=1,Fe=0;for(;++Fe<se&&(Ve*=256);)Me+=this[ne+Fe]*Ve;return Ve*=128,Me>=Ve&&(Me-=Math.pow(2,8*se)),Me},f.prototype.readIntBE=function(ne,se,be){ne=ne>>>0,se=se>>>0,be||Z(ne,se,this.length);let Me=se,Ve=1,Fe=this[ne+--Me];for(;Me>0&&(Ve*=256);)Fe+=this[ne+--Me]*Ve;return Ve*=128,Fe>=Ve&&(Fe-=Math.pow(2,8*se)),Fe},f.prototype.readInt8=function(ne,se){return ne=ne>>>0,se||Z(ne,1,this.length),this[ne]&128?(255-this[ne]+1)*-1:this[ne]},f.prototype.readInt16LE=function(ne,se){ne=ne>>>0,se||Z(ne,2,this.length);const be=this[ne]|this[ne+1]<<8;return be&32768?be|4294901760:be},f.prototype.readInt16BE=function(ne,se){ne=ne>>>0,se||Z(ne,2,this.length);const be=this[ne+1]|this[ne]<<8;return be&32768?be|4294901760:be},f.prototype.readInt32LE=function(ne,se){return ne=ne>>>0,se||Z(ne,4,this.length),this[ne]|this[ne+1]<<8|this[ne+2]<<16|this[ne+3]<<24},f.prototype.readInt32BE=function(ne,se){return ne=ne>>>0,se||Z(ne,4,this.length),this[ne]<<24|this[ne+1]<<16|this[ne+2]<<8|this[ne+3]},f.prototype.readBigInt64LE=Ze(function(ne){ne=ne>>>0,_e(ne,"offset");const se=this[ne],be=this[ne+7];(se===void 0||be===void 0)&&U(ne,this.length-8);const Me=this[ne+4]+this[ne+5]*2**8+this[ne+6]*2**16+(be<<24);return(BigInt(Me)<<BigInt(32))+BigInt(se+this[++ne]*256+this[++ne]*65536+this[++ne]*16777216)}),f.prototype.readBigInt64BE=Ze(function(ne){ne=ne>>>0,_e(ne,"offset");const se=this[ne],be=this[ne+7];(se===void 0||be===void 0)&&U(ne,this.length-8);const Me=(se<<24)+this[++ne]*2**16+this[++ne]*2**8+this[++ne];return(BigInt(Me)<<BigInt(32))+BigInt(this[++ne]*16777216+this[++ne]*65536+this[++ne]*256+be)}),f.prototype.readFloatLE=function(ne,se){return ne=ne>>>0,se||Z(ne,4,this.length),A.read(this,ne,!0,23,4)},f.prototype.readFloatBE=function(ne,se){return ne=ne>>>0,se||Z(ne,4,this.length),A.read(this,ne,!1,23,4)},f.prototype.readDoubleLE=function(ne,se){return ne=ne>>>0,se||Z(ne,8,this.length),A.read(this,ne,!0,52,8)},f.prototype.readDoubleBE=function(ne,se){return ne=ne>>>0,se||Z(ne,8,this.length),A.read(this,ne,!1,52,8)};function te(ce,ne,se,be,Me,Ve){if(!f.isBuffer(ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(ne>Me||ne<Ve)throw new RangeError('"value" argument is out of bounds');if(se+be>ce.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(ne,se,be,Me){if(ne=+ne,se=se>>>0,be=be>>>0,!Me){const Ye=Math.pow(2,8*be)-1;te(this,ne,se,be,Ye,0)}let Ve=1,Fe=0;for(this[se]=ne&255;++Fe<be&&(Ve*=256);)this[se+Fe]=ne/Ve&255;return se+be},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(ne,se,be,Me){if(ne=+ne,se=se>>>0,be=be>>>0,!Me){const Ye=Math.pow(2,8*be)-1;te(this,ne,se,be,Ye,0)}let Ve=be-1,Fe=1;for(this[se+Ve]=ne&255;--Ve>=0&&(Fe*=256);)this[se+Ve]=ne/Fe&255;return se+be},f.prototype.writeUint8=f.prototype.writeUInt8=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,1,255,0),this[se]=ne&255,se+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,2,65535,0),this[se]=ne&255,this[se+1]=ne>>>8,se+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,2,65535,0),this[se]=ne>>>8,this[se+1]=ne&255,se+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,4,4294967295,0),this[se+3]=ne>>>24,this[se+2]=ne>>>16,this[se+1]=ne>>>8,this[se]=ne&255,se+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,4,4294967295,0),this[se]=ne>>>24,this[se+1]=ne>>>16,this[se+2]=ne>>>8,this[se+3]=ne&255,se+4};function B(ce,ne,se,be,Me){me(ne,be,Me,ce,se,7);let Ve=Number(ne&BigInt(4294967295));ce[se++]=Ve,Ve=Ve>>8,ce[se++]=Ve,Ve=Ve>>8,ce[se++]=Ve,Ve=Ve>>8,ce[se++]=Ve;let Fe=Number(ne>>BigInt(32)&BigInt(4294967295));return ce[se++]=Fe,Fe=Fe>>8,ce[se++]=Fe,Fe=Fe>>8,ce[se++]=Fe,Fe=Fe>>8,ce[se++]=Fe,se}function ae(ce,ne,se,be,Me){me(ne,be,Me,ce,se,7);let Ve=Number(ne&BigInt(4294967295));ce[se+7]=Ve,Ve=Ve>>8,ce[se+6]=Ve,Ve=Ve>>8,ce[se+5]=Ve,Ve=Ve>>8,ce[se+4]=Ve;let Fe=Number(ne>>BigInt(32)&BigInt(4294967295));return ce[se+3]=Fe,Fe=Fe>>8,ce[se+2]=Fe,Fe=Fe>>8,ce[se+1]=Fe,Fe=Fe>>8,ce[se]=Fe,se+8}f.prototype.writeBigUInt64LE=Ze(function(ne,se=0){return B(this,ne,se,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Ze(function(ne,se=0){return ae(this,ne,se,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(ne,se,be,Me){if(ne=+ne,se=se>>>0,!Me){const Tt=Math.pow(2,8*be-1);te(this,ne,se,be,Tt-1,-Tt)}let Ve=0,Fe=1,Ye=0;for(this[se]=ne&255;++Ve<be&&(Fe*=256);)ne<0&&Ye===0&&this[se+Ve-1]!==0&&(Ye=1),this[se+Ve]=(ne/Fe>>0)-Ye&255;return se+be},f.prototype.writeIntBE=function(ne,se,be,Me){if(ne=+ne,se=se>>>0,!Me){const Tt=Math.pow(2,8*be-1);te(this,ne,se,be,Tt-1,-Tt)}let Ve=be-1,Fe=1,Ye=0;for(this[se+Ve]=ne&255;--Ve>=0&&(Fe*=256);)ne<0&&Ye===0&&this[se+Ve+1]!==0&&(Ye=1),this[se+Ve]=(ne/Fe>>0)-Ye&255;return se+be},f.prototype.writeInt8=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,1,127,-128),ne<0&&(ne=255+ne+1),this[se]=ne&255,se+1},f.prototype.writeInt16LE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,2,32767,-32768),this[se]=ne&255,this[se+1]=ne>>>8,se+2},f.prototype.writeInt16BE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,2,32767,-32768),this[se]=ne>>>8,this[se+1]=ne&255,se+2},f.prototype.writeInt32LE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,4,2147483647,-2147483648),this[se]=ne&255,this[se+1]=ne>>>8,this[se+2]=ne>>>16,this[se+3]=ne>>>24,se+4},f.prototype.writeInt32BE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,4,2147483647,-2147483648),ne<0&&(ne=4294967295+ne+1),this[se]=ne>>>24,this[se+1]=ne>>>16,this[se+2]=ne>>>8,this[se+3]=ne&255,se+4},f.prototype.writeBigInt64LE=Ze(function(ne,se=0){return B(this,ne,se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Ze(function(ne,se=0){return ae(this,ne,se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xe(ce,ne,se,be,Me,Ve){if(se+be>ce.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("Index out of range")}function he(ce,ne,se,be,Me){return ne=+ne,se=se>>>0,Me||xe(ce,ne,se,4,34028234663852886e22,-34028234663852886e22),A.write(ce,ne,se,be,23,4),se+4}f.prototype.writeFloatLE=function(ne,se,be){return he(this,ne,se,!0,be)},f.prototype.writeFloatBE=function(ne,se,be){return he(this,ne,se,!1,be)};function Ee(ce,ne,se,be,Me){return ne=+ne,se=se>>>0,Me||xe(ce,ne,se,8,17976931348623157e292,-17976931348623157e292),A.write(ce,ne,se,be,52,8),se+8}f.prototype.writeDoubleLE=function(ne,se,be){return Ee(this,ne,se,!0,be)},f.prototype.writeDoubleBE=function(ne,se,be){return Ee(this,ne,se,!1,be)},f.prototype.copy=function(ne,se,be,Me){if(!f.isBuffer(ne))throw new TypeError("argument should be a Buffer");if(be||(be=0),!Me&&Me!==0&&(Me=this.length),se>=ne.length&&(se=ne.length),se||(se=0),Me>0&&Me<be&&(Me=be),Me===be||ne.length===0||this.length===0)return 0;if(se<0)throw new RangeError("targetStart out of bounds");if(be<0||be>=this.length)throw new RangeError("Index out of range");if(Me<0)throw new RangeError("sourceEnd out of bounds");Me>this.length&&(Me=this.length),ne.length-se<Me-be&&(Me=ne.length-se+be);const Ve=Me-be;return this===ne&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(se,be,Me):Uint8Array.prototype.set.call(ne,this.subarray(be,Me),se),Ve},f.prototype.fill=function(ne,se,be,Me){if(typeof ne=="string"){if(typeof se=="string"?(Me=se,se=0,be=this.length):typeof be=="string"&&(Me=be,be=this.length),Me!==void 0&&typeof Me!="string")throw new TypeError("encoding must be a string");if(typeof Me=="string"&&!f.isEncoding(Me))throw new TypeError("Unknown encoding: "+Me);if(ne.length===1){const Fe=ne.charCodeAt(0);(Me==="utf8"&&Fe<128||Me==="latin1")&&(ne=Fe)}}else typeof ne=="number"?ne=ne&255:typeof ne=="boolean"&&(ne=Number(ne));if(se<0||this.length<se||this.length<be)throw new RangeError("Out of range index");if(be<=se)return this;se=se>>>0,be=be===void 0?this.length:be>>>0,ne||(ne=0);let Ve;if(typeof ne=="number")for(Ve=se;Ve<be;++Ve)this[Ve]=ne;else{const Fe=f.isBuffer(ne)?ne:f.from(ne,Me),Ye=Fe.length;if(Ye===0)throw new TypeError('The value "'+ne+'" is invalid for argument "value"');for(Ve=0;Ve<be-se;++Ve)this[Ve+se]=Fe[Ve%Ye]}return this};const Ne={};function X(ce,ne,se){Ne[ce]=class extends se{constructor(){super(),Object.defineProperty(this,"message",{value:ne.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ce}]`,this.stack,delete this.name}get code(){return ce}set code(Me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Me,writable:!0})}toString(){return`${this.name} [${ce}]: ${this.message}`}}}X("ERR_BUFFER_OUT_OF_BOUNDS",function(ce){return ce?`${ce} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),X("ERR_INVALID_ARG_TYPE",function(ce,ne){return`The "${ce}" argument must be of type number. Received type ${typeof ne}`},TypeError),X("ERR_OUT_OF_RANGE",function(ce,ne,se){let be=`The value of "${ce}" is out of range.`,Me=se;return Number.isInteger(se)&&Math.abs(se)>4294967296?Me=ee(String(se)):typeof se=="bigint"&&(Me=String(se),(se>BigInt(2)**BigInt(32)||se<-(BigInt(2)**BigInt(32)))&&(Me=ee(Me)),Me+="n"),be+=` It must be ${ne}. Received ${Me}`,be},RangeError);function ee(ce){let ne="",se=ce.length;const be=ce[0]==="-"?1:0;for(;se>=be+4;se-=3)ne=`_${ce.slice(se-3,se)}${ne}`;return`${ce.slice(0,se)}${ne}`}function de(ce,ne,se){_e(ne,"offset"),(ce[ne]===void 0||ce[ne+se]===void 0)&&U(ne,ce.length-(se+1))}function me(ce,ne,se,be,Me,Ve){if(ce>se||ce<ne){const Fe=typeof ne=="bigint"?"n":"";let Ye;throw Ve>3?ne===0||ne===BigInt(0)?Ye=`>= 0${Fe} and < 2${Fe} ** ${(Ve+1)*8}${Fe}`:Ye=`>= -(2${Fe} ** ${(Ve+1)*8-1}${Fe}) and < 2 ** ${(Ve+1)*8-1}${Fe}`:Ye=`>= ${ne}${Fe} and <= ${se}${Fe}`,new Ne.ERR_OUT_OF_RANGE("value",Ye,ce)}de(be,Me,Ve)}function _e(ce,ne){if(typeof ce!="number")throw new Ne.ERR_INVALID_ARG_TYPE(ne,"number",ce)}function U(ce,ne,se){throw Math.floor(ce)!==ce?(_e(ce,se),new Ne.ERR_OUT_OF_RANGE(se||"offset","an integer",ce)):ne<0?new Ne.ERR_BUFFER_OUT_OF_BOUNDS:new Ne.ERR_OUT_OF_RANGE(se||"offset",`>= ${se?1:0} and <= ${ne}`,ce)}const O=/[^+/0-9A-Za-z-_]/g;function oe(ce){if(ce=ce.split("=")[0],ce=ce.trim().replace(O,""),ce.length<2)return"";for(;ce.length%4!==0;)ce=ce+"=";return ce}function ve(ce,ne){ne=ne||1/0;let se;const be=ce.length;let Me=null;const Ve=[];for(let Fe=0;Fe<be;++Fe){if(se=ce.charCodeAt(Fe),se>55295&&se<57344){if(!Me){if(se>56319){(ne-=3)>-1&&Ve.push(239,191,189);continue}else if(Fe+1===be){(ne-=3)>-1&&Ve.push(239,191,189);continue}Me=se;continue}if(se<56320){(ne-=3)>-1&&Ve.push(239,191,189),Me=se;continue}se=(Me-55296<<10|se-56320)+65536}else Me&&(ne-=3)>-1&&Ve.push(239,191,189);if(Me=null,se<128){if((ne-=1)<0)break;Ve.push(se)}else if(se<2048){if((ne-=2)<0)break;Ve.push(se>>6|192,se&63|128)}else if(se<65536){if((ne-=3)<0)break;Ve.push(se>>12|224,se>>6&63|128,se&63|128)}else if(se<1114112){if((ne-=4)<0)break;Ve.push(se>>18|240,se>>12&63|128,se>>6&63|128,se&63|128)}else throw new Error("Invalid code point")}return Ve}function we(ce){const ne=[];for(let se=0;se<ce.length;++se)ne.push(ce.charCodeAt(se)&255);return ne}function pe(ce,ne){let se,be,Me;const Ve=[];for(let Fe=0;Fe<ce.length&&!((ne-=2)<0);++Fe)se=ce.charCodeAt(Fe),be=se>>8,Me=se%256,Ve.push(Me),Ve.push(be);return Ve}function Pe(ce){return R.toByteArray(oe(ce))}function Le(ce,ne,se,be){let Me;for(Me=0;Me<be&&!(Me+se>=ne.length||Me>=ce.length);++Me)ne[Me+se]=ce[Me];return Me}function He(ce,ne){return ce instanceof ne||ce!=null&&ce.constructor!=null&&ce.constructor.name!=null&&ce.constructor.name===ne.name}function kt(ce){return ce!==ce}const Ke=function(){const ce="0123456789abcdef",ne=new Array(256);for(let se=0;se<16;++se){const be=se*16;for(let Me=0;Me<16;++Me)ne[be+Me]=ce[se]+ce[Me]}return ne}();function Ze(ce){return typeof BigInt=="undefined"?yt:ce}function yt(){throw new Error("BigInt not supported")}},86866:s=>{s.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},56168:(s,V,T)=>{var R=T(92861).Buffer,A=T(88310).Transform,P=T(83141).I,S=T(56698);function d(c){A.call(this),this.hashMode=typeof c=="string",this.hashMode?this[c]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}S(d,A),d.prototype.update=function(c,f,h){typeof c=="string"&&(c=R.from(c,f));var k=this._update(c);return this.hashMode?this:(h&&(k=this._toString(k,h)),k)},d.prototype.setAutoPadding=function(){},d.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},d.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},d.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},d.prototype._transform=function(c,f,h){var k;try{this.hashMode?this._update(c):this.push(this._update(c))}catch(y){k=y}finally{h(k)}},d.prototype._flush=function(c){var f;try{this.push(this.__final())}catch(h){f=h}c(f)},d.prototype._finalOrDigest=function(c){var f=this.__final()||R.alloc(0);return c&&(f=this._toString(f,c,!0)),f},d.prototype._toString=function(c,f,h){if(this._decoder||(this._decoder=new P(f),this._encoding=f),this._encoding!==f)throw new Error("can't switch encodings");var k=this._decoder.write(c);return h&&(k+=this._decoder.end()),k},s.exports=d},61324:(s,V,T)=>{var R=T(86729),A=T(39404);s.exports=function(f){return new S(f)};var P={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};P.p224=P.secp224r1,P.p256=P.secp256r1=P.prime256v1,P.p192=P.secp192r1=P.prime192v1,P.p384=P.secp384r1,P.p521=P.secp521r1;function S(c){this.curveType=P[c],this.curveType||(this.curveType={name:c}),this.curve=new R.ec(this.curveType.name),this.keys=void 0}S.prototype.generateKeys=function(c,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(c,f)},S.prototype.computeSecret=function(c,f,h){f=f||"utf8",Buffer.isBuffer(c)||(c=new Buffer(c,f));var k=this.curve.keyFromPublic(c).getPublic(),y=k.mul(this.keys.getPrivate()).getX();return d(y,h,this.curveType.byteLength)},S.prototype.getPublicKey=function(c,f){var h=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),d(h,c)},S.prototype.getPrivateKey=function(c){return d(this.keys.getPrivate(),c)},S.prototype.setPublicKey=function(c,f){return f=f||"utf8",Buffer.isBuffer(c)||(c=new Buffer(c,f)),this.keys._importPublic(c),this},S.prototype.setPrivateKey=function(c,f){f=f||"utf8",Buffer.isBuffer(c)||(c=new Buffer(c,f));var h=new A(c);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this};function d(c,f,h){Array.isArray(c)||(c=c.toArray());var k=new Buffer(c);if(h&&k.length<h){var y=new Buffer(h-k.length);y.fill(0),k=Buffer.concat([y,k])}return f?k.toString(f):k}},47108:(s,V,T)=>{"use strict";var R=T(56698),A=T(88276),P=T(66011),S=T(62802),d=T(56168);function c(f){d.call(this,"digest"),this._hash=f}R(c,d),c.prototype._update=function(f){this._hash.update(f)},c.prototype._final=function(){return this._hash.digest()},s.exports=function(h){return h=h.toLowerCase(),h==="md5"?new A:h==="rmd160"||h==="ripemd160"?new P:new c(S(h))}},20320:(s,V,T)=>{var R=T(88276);s.exports=function(A){return new R().update(A).digest()}},83507:(s,V,T)=>{"use strict";var R=T(56698),A=T(41800),P=T(56168),S=T(92861).Buffer,d=T(20320),c=T(66011),f=T(62802),h=S.alloc(128);function k(y,u){P.call(this,"digest"),typeof u=="string"&&(u=S.from(u));var _=y==="sha512"||y==="sha384"?128:64;if(this._alg=y,this._key=u,u.length>_){var m=y==="rmd160"?new c:f(y);u=m.update(u).digest()}else u.length<_&&(u=S.concat([u,h],_));for(var g=this._ipad=S.allocUnsafe(_),p=this._opad=S.allocUnsafe(_),N=0;N<_;N++)g[N]=u[N]^54,p[N]=u[N]^92;this._hash=y==="rmd160"?new c:f(y),this._hash.update(g)}R(k,P),k.prototype._update=function(y){this._hash.update(y)},k.prototype._final=function(){var y=this._hash.digest(),u=this._alg==="rmd160"?new c:f(this._alg);return u.update(this._opad).update(y).digest()},s.exports=function(u,_){return u=u.toLowerCase(),u==="rmd160"||u==="ripemd160"?new k("rmd160",_):u==="md5"?new A(d,_):new k(u,_)}},41800:(s,V,T)=>{"use strict";var R=T(56698),A=T(92861).Buffer,P=T(56168),S=A.alloc(128),d=64;function c(f,h){P.call(this,"digest"),typeof h=="string"&&(h=A.from(h)),this._alg=f,this._key=h,h.length>d?h=f(h):h.length<d&&(h=A.concat([h,S],d));for(var k=this._ipad=A.allocUnsafe(d),y=this._opad=A.allocUnsafe(d),u=0;u<d;u++)k[u]=h[u]^54,y[u]=h[u]^92;this._hash=[k]}R(c,P),c.prototype._update=function(f){this._hash.push(f)},c.prototype._final=function(){var f=this._alg(A.concat(this._hash));return this._alg(A.concat([this._opad,f]))},s.exports=c},74945:function(s,V){var T=typeof self!="undefined"?self:this,R=function(){function P(){this.fetch=!1,this.DOMException=T.DOMException}return P.prototype=T,new P}();(function(P){var S=function(d){var c={searchParams:"URLSearchParams"in P,iterable:"Symbol"in P&&"iterator"in Symbol,blob:"FileReader"in P&&"Blob"in P&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in P,arrayBuffer:"ArrayBuffer"in P};function f($){return $&&DataView.prototype.isPrototypeOf($)}if(c.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],k=ArrayBuffer.isView||function($){return $&&h.indexOf(Object.prototype.toString.call($))>-1};function y($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test($))throw new TypeError("Invalid character in header field name");return $.toLowerCase()}function u($){return typeof $!="string"&&($=String($)),$}function _($){var C={next:function(){var l=$.shift();return{done:l===void 0,value:l}}};return c.iterable&&(C[Symbol.iterator]=function(){return C}),C}function m($){this.map={},$ instanceof m?$.forEach(function(C,l){this.append(l,C)},this):Array.isArray($)?$.forEach(function(C){this.append(C[0],C[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(C){this.append(C,$[C])},this)}m.prototype.append=function($,C){$=y($),C=u(C);var l=this.map[$];this.map[$]=l?l+", "+C:C},m.prototype.delete=function($){delete this.map[y($)]},m.prototype.get=function($){return $=y($),this.has($)?this.map[$]:null},m.prototype.has=function($){return this.map.hasOwnProperty(y($))},m.prototype.set=function($,C){this.map[y($)]=u(C)},m.prototype.forEach=function($,C){for(var l in this.map)this.map.hasOwnProperty(l)&&$.call(C,this.map[l],l,this)},m.prototype.keys=function(){var $=[];return this.forEach(function(C,l){$.push(l)}),_($)},m.prototype.values=function(){var $=[];return this.forEach(function(C){$.push(C)}),_($)},m.prototype.entries=function(){var $=[];return this.forEach(function(C,l){$.push([l,C])}),_($)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function g($){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}function p($){return new Promise(function(C,l){$.onload=function(){C($.result)},$.onerror=function(){l($.error)}})}function N($){var C=new FileReader,l=p(C);return C.readAsArrayBuffer($),l}function E($){var C=new FileReader,l=p(C);return C.readAsText($),l}function x($){for(var C=new Uint8Array($),l=new Array(C.length),w=0;w<C.length;w++)l[w]=String.fromCharCode(C[w]);return l.join("")}function F($){if($.slice)return $.slice(0);var C=new Uint8Array($.byteLength);return C.set(new Uint8Array($)),C.buffer}function W(){return this.bodyUsed=!1,this._initBody=function($){this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:c.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:c.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:c.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():c.arrayBuffer&&c.blob&&f($)?(this._bodyArrayBuffer=F($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||k($))?this._bodyArrayBuffer=F($):this._bodyText=$=Object.prototype.toString.call($):this._bodyText="",this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var $=g(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(N)}),this.text=function(){var $=g(this);if($)return $;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(K)}),this.json=function(){return this.text().then(JSON.parse)},this}var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function L($){var C=$.toUpperCase();return b.indexOf(C)>-1?C:$}function z($,C){C=C||{};var l=C.body;if($ instanceof z){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,C.headers||(this.headers=new m($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!l&&$._bodyInit!=null&&(l=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new m(C.headers)),this.method=L(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&l)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(l)}z.prototype.clone=function(){return new z(this,{body:this._bodyInit})};function K($){var C=new FormData;return $.trim().split("&").forEach(function(l){if(l){var w=l.split("="),D=w.shift().replace(/\+/g," "),q=w.join("=").replace(/\+/g," ");C.append(decodeURIComponent(D),decodeURIComponent(q))}}),C}function J($){var C=new m,l=$.replace(/\r?\n[\t ]+/g," ");return l.split(/\r?\n/).forEach(function(w){var D=w.split(":"),q=D.shift().trim();if(q){var j=D.join(":").trim();C.append(q,j)}}),C}W.call(z.prototype);function ie($,C){C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in C?C.statusText:"OK",this.headers=new m(C.headers),this.url=C.url||"",this._initBody($)}W.call(ie.prototype),ie.prototype.clone=function(){return new ie(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},ie.error=function(){var $=new ie(null,{status:0,statusText:""});return $.type="error",$};var Y=[301,302,303,307,308];ie.redirect=function($,C){if(Y.indexOf(C)===-1)throw new RangeError("Invalid status code");return new ie(null,{status:C,headers:{location:$}})},d.DOMException=P.DOMException;try{new d.DOMException}catch{d.DOMException=function(C,l){this.message=C,this.name=l;var w=Error(C);this.stack=w.stack},d.DOMException.prototype=Object.create(Error.prototype),d.DOMException.prototype.constructor=d.DOMException}function M($,C){return new Promise(function(l,w){var D=new z($,C);if(D.signal&&D.signal.aborted)return w(new d.DOMException("Aborted","AbortError"));var q=new XMLHttpRequest;function j(){q.abort()}q.onload=function(){var H={status:q.status,statusText:q.statusText,headers:J(q.getAllResponseHeaders()||"")};H.url="responseURL"in q?q.responseURL:H.headers.get("X-Request-URL");var Z="response"in q?q.response:q.responseText;l(new ie(Z,H))},q.onerror=function(){w(new TypeError("Network request failed"))},q.ontimeout=function(){w(new TypeError("Network request failed"))},q.onabort=function(){w(new d.DOMException("Aborted","AbortError"))},q.open(D.method,D.url,!0),D.credentials==="include"?q.withCredentials=!0:D.credentials==="omit"&&(q.withCredentials=!1),"responseType"in q&&c.blob&&(q.responseType="blob"),D.headers.forEach(function(H,Z){q.setRequestHeader(Z,H)}),D.signal&&(D.signal.addEventListener("abort",j),q.onreadystatechange=function(){q.readyState===4&&D.signal.removeEventListener("abort",j)}),q.send(typeof D._bodyInit=="undefined"?null:D._bodyInit)})}return M.polyfill=!0,P.fetch||(P.fetch=M,P.Headers=m,P.Request=z,P.Response=ie),d.Headers=m,d.Request=z,d.Response=ie,d.fetch=M,Object.defineProperty(d,"__esModule",{value:!0}),d}({})})(R),R.fetch.ponyfill=!0,delete R.fetch.polyfill;var A=R;V=A.fetch,V.default=A.fetch,V.fetch=A.fetch,V.Headers=A.Headers,V.Request=A.Request,V.Response=A.Response,s.exports=V},91565:(s,V,T)=>{"use strict";var R;R=R=R=T(53209),V.n1=T(47108),R=T(83507);var A=T(55715),P=Object.keys(A),S=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(P);R=function(){return S};var d=T(78396);R=d.pbkdf2,R=d.pbkdf2Sync;var c=T(30125);R=c.Cipher,R=c.createCipher,R=c.Cipheriv,R=c.createCipheriv,R=c.Decipher,R=c.createDecipher,R=c.Decipheriv,R=c.createDecipheriv,R=c.getCiphers,R=c.listCiphers;var f=T(15380);R=f.DiffieHellmanGroup,R=f.createDiffieHellmanGroup,R=f.getDiffieHellman,R=f.createDiffieHellman,R=f.DiffieHellman;var h=T(20);R=h.createSign,R=h.Sign,R=h.createVerify,R=h.Verify,T(61324);var k=T(97168);R=k.publicEncrypt,R=k.privateEncrypt,R=k.publicDecrypt,R=k.privateDecrypt;var y=T(76983);R=y.randomFill,R=y.randomFillSync,R=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},R={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},74353:function(s){(function(V,T){s.exports=T()})(this,function(){"use strict";var V="millisecond",T="second",R="minute",A="hour",P="day",S="week",d="month",c="quarter",f="year",h="date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},_=function(L,z,K){var J=String(L);return!J||J.length>=z?L:""+Array(z+1-J.length).join(K)+L},m={s:_,z:function(L){var z=-L.utcOffset(),K=Math.abs(z),J=Math.floor(K/60),ie=K%60;return(z<=0?"+":"-")+_(J,2,"0")+":"+_(ie,2,"0")},m:function L(z,K){if(z.date()<K.date())return-L(K,z);var J=12*(K.year()-z.year())+(K.month()-z.month()),ie=z.clone().add(J,d),Y=K-ie<0,M=z.clone().add(J+(Y?-1:1),d);return+(-(J+(K-ie)/(Y?ie-M:M-ie))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:d,y:f,w:S,d:P,D:h,h:A,m:R,s:T,ms:V,Q:c}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},g="en",p={};p[g]=u;var N=function(L){return L instanceof W},E=function(L,z,K){var J;if(!L)return g;if(typeof L=="string")p[L]&&(J=L),z&&(p[L]=z,J=L);else{var ie=L.name;p[ie]=L,J=ie}return!K&&J&&(g=J),J||!K&&g},x=function(L,z){if(N(L))return L.clone();var K=typeof z=="object"?z:{};return K.date=L,K.args=arguments,new W(K)},F=m;F.l=E,F.i=N,F.w=function(L,z){return x(L,{locale:z.$L,utc:z.$u,x:z.$x,$offset:z.$offset})};var W=function(){function L(K){this.$L=E(K.locale,null,!0),this.parse(K)}var z=L.prototype;return z.parse=function(K){this.$d=function(J){var ie=J.date,Y=J.utc;if(ie===null)return new Date(NaN);if(F.u(ie))return new Date;if(ie instanceof Date)return new Date(ie);if(typeof ie=="string"&&!/Z$/i.test(ie)){var M=ie.match(k);if(M){var $=M[2]-1||0,C=(M[7]||"0").substring(0,3);return Y?new Date(Date.UTC(M[1],$,M[3]||1,M[4]||0,M[5]||0,M[6]||0,C)):new Date(M[1],$,M[3]||1,M[4]||0,M[5]||0,M[6]||0,C)}}return new Date(ie)}(K),this.$x=K.x||{},this.init()},z.init=function(){var K=this.$d;this.$y=K.getFullYear(),this.$M=K.getMonth(),this.$D=K.getDate(),this.$W=K.getDay(),this.$H=K.getHours(),this.$m=K.getMinutes(),this.$s=K.getSeconds(),this.$ms=K.getMilliseconds()},z.$utils=function(){return F},z.isValid=function(){return this.$d.toString()!=="Invalid Date"},z.isSame=function(K,J){var ie=x(K);return this.startOf(J)<=ie&&ie<=this.endOf(J)},z.isAfter=function(K,J){return x(K)<this.startOf(J)},z.isBefore=function(K,J){return this.endOf(J)<x(K)},z.$g=function(K,J,ie){return F.u(K)?this[J]:this.set(ie,K)},z.unix=function(){return Math.floor(this.valueOf()/1e3)},z.valueOf=function(){return this.$d.getTime()},z.startOf=function(K,J){var ie=this,Y=!!F.u(J)||J,M=F.p(K),$=function(Z,te){var B=F.w(ie.$u?Date.UTC(ie.$y,te,Z):new Date(ie.$y,te,Z),ie);return Y?B:B.endOf(P)},C=function(Z,te){return F.w(ie.toDate()[Z].apply(ie.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(te)),ie)},l=this.$W,w=this.$M,D=this.$D,q="set"+(this.$u?"UTC":"");switch(M){case f:return Y?$(1,0):$(31,11);case d:return Y?$(1,w):$(0,w+1);case S:var j=this.$locale().weekStart||0,H=(l<j?l+7:l)-j;return $(Y?D-H:D+(6-H),w);case P:case h:return C(q+"Hours",0);case A:return C(q+"Minutes",1);case R:return C(q+"Seconds",2);case T:return C(q+"Milliseconds",3);default:return this.clone()}},z.endOf=function(K){return this.startOf(K,!1)},z.$set=function(K,J){var ie,Y=F.p(K),M="set"+(this.$u?"UTC":""),$=(ie={},ie[P]=M+"Date",ie[h]=M+"Date",ie[d]=M+"Month",ie[f]=M+"FullYear",ie[A]=M+"Hours",ie[R]=M+"Minutes",ie[T]=M+"Seconds",ie[V]=M+"Milliseconds",ie)[Y],C=Y===P?this.$D+(J-this.$W):J;if(Y===d||Y===f){var l=this.clone().set(h,1);l.$d[$](C),l.init(),this.$d=l.set(h,Math.min(this.$D,l.daysInMonth())).$d}else $&&this.$d[$](C);return this.init(),this},z.set=function(K,J){return this.clone().$set(K,J)},z.get=function(K){return this[F.p(K)]()},z.add=function(K,J){var ie,Y=this;K=Number(K);var M=F.p(J),$=function(w){var D=x(Y);return F.w(D.date(D.date()+Math.round(w*K)),Y)};if(M===d)return this.set(d,this.$M+K);if(M===f)return this.set(f,this.$y+K);if(M===P)return $(1);if(M===S)return $(7);var C=(ie={},ie[R]=6e4,ie[A]=36e5,ie[T]=1e3,ie)[M]||1,l=this.$d.getTime()+K*C;return F.w(l,this)},z.subtract=function(K,J){return this.add(-1*K,J)},z.format=function(K){var J=this;if(!this.isValid())return"Invalid Date";var ie=K||"YYYY-MM-DDTHH:mm:ssZ",Y=F.z(this),M=this.$locale(),$=this.$H,C=this.$m,l=this.$M,w=M.weekdays,D=M.months,q=function(te,B,ae,xe){return te&&(te[B]||te(J,ie))||ae[B].substr(0,xe)},j=function(te){return F.s($%12||12,te,"0")},H=M.meridiem||function(te,B,ae){var xe=te<12?"AM":"PM";return ae?xe.toLowerCase():xe},Z={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:F.s(l+1,2,"0"),MMM:q(M.monthsShort,l,D,3),MMMM:q(D,l),D:this.$D,DD:F.s(this.$D,2,"0"),d:String(this.$W),dd:q(M.weekdaysMin,this.$W,w,2),ddd:q(M.weekdaysShort,this.$W,w,3),dddd:w[this.$W],H:String($),HH:F.s($,2,"0"),h:j(1),hh:j(2),a:H($,C,!0),A:H($,C,!1),m:String(C),mm:F.s(C,2,"0"),s:String(this.$s),ss:F.s(this.$s,2,"0"),SSS:F.s(this.$ms,3,"0"),Z:Y};return ie.replace(y,function(te,B){return B||Z[te]||Y.replace(":","")})},z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},z.diff=function(K,J,ie){var Y,M=F.p(J),$=x(K),C=6e4*($.utcOffset()-this.utcOffset()),l=this-$,w=F.m(this,$);return w=(Y={},Y[f]=w/12,Y[d]=w,Y[c]=w/3,Y[S]=(l-C)/6048e5,Y[P]=(l-C)/864e5,Y[A]=l/36e5,Y[R]=l/6e4,Y[T]=l/1e3,Y)[M]||l,ie?w:F.a(w)},z.daysInMonth=function(){return this.endOf(d).$D},z.$locale=function(){return p[this.$L]},z.locale=function(K,J){if(!K)return this.$L;var ie=this.clone(),Y=E(K,J,!0);return Y&&(ie.$L=Y),ie},z.clone=function(){return F.w(this.$d,this)},z.toDate=function(){return new Date(this.valueOf())},z.toJSON=function(){return this.isValid()?this.toISOString():null},z.toISOString=function(){return this.$d.toISOString()},z.toString=function(){return this.$d.toUTCString()},L}(),b=W.prototype;return x.prototype=b,[["$ms",V],["$s",T],["$m",R],["$H",A],["$W",P],["$M",d],["$y",f],["$D",h]].forEach(function(L){b[L[1]]=function(z){return this.$g(z,L[0],L[1])}}),x.extend=function(L,z){return L.$i||(L(z,W,x),L.$i=!0),x},x.locale=E,x.isDayjs=N,x.unix=function(L){return x(1e3*L)},x.en=p[g],x.Ls=p,x.p={},x})},6279:function(s){(function(V,T){s.exports=T()})(this,function(){"use strict";return function(V,T,R){V=V||{};var A=T.prototype,P={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function S(c,f,h,k){return A.fromToBase(c,f,h,k)}R.en.relativeTime=P,A.fromToBase=function(c,f,h,k,y){for(var u,_,m,g=h.$locale().relativeTime||P,p=V.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],N=p.length,E=0;E<N;E+=1){var x=p[E];x.d&&(u=k?R(c).diff(h,x.d,!0):h.diff(c,x.d,!0));var F=(V.rounding||Math.round)(Math.abs(u));if(m=u>0,F<=x.r||!x.r){F<=1&&E>0&&(x=p[E-1]);var W=g[x.l];y&&(F=y(""+F)),_=typeof W=="string"?W.replace("%d",F):W(F,f,x.l,m);break}}if(f)return _;var b=m?g.future:g.past;return typeof b=="function"?b(_):b.replace("%s",_)},A.to=function(c,f){return S(c,f,this,!0)},A.from=function(c,f){return S(c,f,this)};var d=function(c){return c.$u?R.utc():R()};A.toNow=function(c){return this.to(d(this),c)},A.fromNow=function(c){return this.from(d(this),c)}}})},53581:function(s){(function(V,T){s.exports=T()})(this,function(){"use strict";return function(V,T,R){R.updateLocale=function(A,P){var S=R.Ls[A];if(S)return(P?Object.keys(P):[]).forEach(function(d){S[d]=P[d]}),S}}})},29560:(s,V,T)=>{"use strict";V.utils=T(87626),V.Cipher=T(82808),V.DES=T(82211),V.CBC=T(3389),V.EDE=T(65279)},3389:(s,V,T)=>{"use strict";var R=T(43349),A=T(56698),P={};function S(c){R.equal(c.length,8,"Invalid IV length"),this.iv=new Array(8);for(var f=0;f<this.iv.length;f++)this.iv[f]=c[f]}function d(c){function f(u){c.call(this,u),this._cbcInit()}A(f,c);for(var h=Object.keys(P),k=0;k<h.length;k++){var y=h[k];f.prototype[y]=P[y]}return f.create=function(_){return new f(_)},f}V.instantiate=d,P._cbcInit=function(){var f=new S(this.options.iv);this._cbcState=f},P._update=function(f,h,k,y){var u=this._cbcState,_=this.constructor.super_.prototype,m=u.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)m[g]^=f[h+g];_._update.call(this,m,0,k,y);for(var g=0;g<this.blockSize;g++)m[g]=k[y+g]}else{_._update.call(this,f,h,k,y);for(var g=0;g<this.blockSize;g++)k[y+g]^=m[g];for(var g=0;g<this.blockSize;g++)m[g]=f[h+g]}}},82808:(s,V,T)=>{"use strict";var R=T(43349);function A(P){this.options=P,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}s.exports=A,A.prototype._init=function(){},A.prototype.update=function(S){return S.length===0?[]:this.type==="decrypt"?this._updateDecrypt(S):this._updateEncrypt(S)},A.prototype._buffer=function(S,d){for(var c=Math.min(this.buffer.length-this.bufferOff,S.length-d),f=0;f<c;f++)this.buffer[this.bufferOff+f]=S[d+f];return this.bufferOff+=c,c},A.prototype._flushBuffer=function(S,d){return this._update(this.buffer,0,S,d),this.bufferOff=0,this.blockSize},A.prototype._updateEncrypt=function(S){var d=0,c=0,f=(this.bufferOff+S.length)/this.blockSize|0,h=new Array(f*this.blockSize);this.bufferOff!==0&&(d+=this._buffer(S,d),this.bufferOff===this.buffer.length&&(c+=this._flushBuffer(h,c)));for(var k=S.length-(S.length-d)%this.blockSize;d<k;d+=this.blockSize)this._update(S,d,h,c),c+=this.blockSize;for(;d<S.length;d++,this.bufferOff++)this.buffer[this.bufferOff]=S[d];return h},A.prototype._updateDecrypt=function(S){for(var d=0,c=0,f=Math.ceil((this.bufferOff+S.length)/this.blockSize)-1,h=new Array(f*this.blockSize);f>0;f--)d+=this._buffer(S,d),c+=this._flushBuffer(h,c);return d+=this._buffer(S,d),h},A.prototype.final=function(S){var d;S&&(d=this.update(S));var c;return this.type==="encrypt"?c=this._finalEncrypt():c=this._finalDecrypt(),d?d.concat(c):c},A.prototype._pad=function(S,d){if(d===0)return!1;for(;d<S.length;)S[d++]=0;return!0},A.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var S=new Array(this.blockSize);return this._update(this.buffer,0,S,0),S},A.prototype._unpad=function(S){return S},A.prototype._finalDecrypt=function(){R.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var S=new Array(this.blockSize);return this._flushBuffer(S,0),this._unpad(S)}},82211:(s,V,T)=>{"use strict";var R=T(43349),A=T(56698),P=T(87626),S=T(82808);function d(){this.tmp=new Array(2),this.keys=null}function c(h){S.call(this,h);var k=new d;this._desState=k,this.deriveKeys(k,h.key)}A(c,S),s.exports=c,c.create=function(k){return new c(k)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(k,y){k.keys=new Array(32),R.equal(y.length,this.blockSize,"Invalid key length");var u=P.readUInt32BE(y,0),_=P.readUInt32BE(y,4);P.pc1(u,_,k.tmp,0),u=k.tmp[0],_=k.tmp[1];for(var m=0;m<k.keys.length;m+=2){var g=f[m>>>1];u=P.r28shl(u,g),_=P.r28shl(_,g),P.pc2(u,_,k.keys,m)}},c.prototype._update=function(k,y,u,_){var m=this._desState,g=P.readUInt32BE(k,y),p=P.readUInt32BE(k,y+4);P.ip(g,p,m.tmp,0),g=m.tmp[0],p=m.tmp[1],this.type==="encrypt"?this._encrypt(m,g,p,m.tmp,0):this._decrypt(m,g,p,m.tmp,0),g=m.tmp[0],p=m.tmp[1],P.writeUInt32BE(u,g,_),P.writeUInt32BE(u,p,_+4)},c.prototype._pad=function(k,y){for(var u=k.length-y,_=y;_<k.length;_++)k[_]=u;return!0},c.prototype._unpad=function(k){for(var y=k[k.length-1],u=k.length-y;u<k.length;u++)R.equal(k[u],y);return k.slice(0,k.length-y)},c.prototype._encrypt=function(k,y,u,_,m){for(var g=y,p=u,N=0;N<k.keys.length;N+=2){var E=k.keys[N],x=k.keys[N+1];P.expand(p,k.tmp,0),E^=k.tmp[0],x^=k.tmp[1];var F=P.substitute(E,x),W=P.permute(F),b=p;p=(g^W)>>>0,g=b}P.rip(p,g,_,m)},c.prototype._decrypt=function(k,y,u,_,m){for(var g=u,p=y,N=k.keys.length-2;N>=0;N-=2){var E=k.keys[N],x=k.keys[N+1];P.expand(g,k.tmp,0),E^=k.tmp[0],x^=k.tmp[1];var F=P.substitute(E,x),W=P.permute(F),b=g;g=(p^W)>>>0,p=b}P.rip(g,p,_,m)}},65279:(s,V,T)=>{"use strict";var R=T(43349),A=T(56698),P=T(82808),S=T(82211);function d(f,h){R.equal(h.length,24,"Invalid key length");var k=h.slice(0,8),y=h.slice(8,16),u=h.slice(16,24);f==="encrypt"?this.ciphers=[S.create({type:"encrypt",key:k}),S.create({type:"decrypt",key:y}),S.create({type:"encrypt",key:u})]:this.ciphers=[S.create({type:"decrypt",key:u}),S.create({type:"encrypt",key:y}),S.create({type:"decrypt",key:k})]}function c(f){P.call(this,f);var h=new d(this.type,this.options.key);this._edeState=h}A(c,P),s.exports=c,c.create=function(h){return new c(h)},c.prototype._update=function(h,k,y,u){var _=this._edeState;_.ciphers[0]._update(h,k,y,u),_.ciphers[1]._update(y,u,y,u),_.ciphers[2]._update(y,u,y,u)},c.prototype._pad=S.prototype._pad,c.prototype._unpad=S.prototype._unpad},87626:(s,V)=>{"use strict";V.readUInt32BE=function(S,d){var c=S[0+d]<<24|S[1+d]<<16|S[2+d]<<8|S[3+d];return c>>>0},V.writeUInt32BE=function(S,d,c){S[0+c]=d>>>24,S[1+c]=d>>>16&255,S[2+c]=d>>>8&255,S[3+c]=d&255},V.ip=function(S,d,c,f){for(var h=0,k=0,y=6;y>=0;y-=2){for(var u=0;u<=24;u+=8)h<<=1,h|=d>>>u+y&1;for(var u=0;u<=24;u+=8)h<<=1,h|=S>>>u+y&1}for(var y=6;y>=0;y-=2){for(var u=1;u<=25;u+=8)k<<=1,k|=d>>>u+y&1;for(var u=1;u<=25;u+=8)k<<=1,k|=S>>>u+y&1}c[f+0]=h>>>0,c[f+1]=k>>>0},V.rip=function(S,d,c,f){for(var h=0,k=0,y=0;y<4;y++)for(var u=24;u>=0;u-=8)h<<=1,h|=d>>>u+y&1,h<<=1,h|=S>>>u+y&1;for(var y=4;y<8;y++)for(var u=24;u>=0;u-=8)k<<=1,k|=d>>>u+y&1,k<<=1,k|=S>>>u+y&1;c[f+0]=h>>>0,c[f+1]=k>>>0},V.pc1=function(S,d,c,f){for(var h=0,k=0,y=7;y>=5;y--){for(var u=0;u<=24;u+=8)h<<=1,h|=d>>u+y&1;for(var u=0;u<=24;u+=8)h<<=1,h|=S>>u+y&1}for(var u=0;u<=24;u+=8)h<<=1,h|=d>>u+y&1;for(var y=1;y<=3;y++){for(var u=0;u<=24;u+=8)k<<=1,k|=d>>u+y&1;for(var u=0;u<=24;u+=8)k<<=1,k|=S>>u+y&1}for(var u=0;u<=24;u+=8)k<<=1,k|=S>>u+y&1;c[f+0]=h>>>0,c[f+1]=k>>>0},V.r28shl=function(S,d){return S<<d&268435455|S>>>28-d};var T=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];V.pc2=function(S,d,c,f){for(var h=0,k=0,y=T.length>>>1,u=0;u<y;u++)h<<=1,h|=S>>>T[u]&1;for(var u=y;u<T.length;u++)k<<=1,k|=d>>>T[u]&1;c[f+0]=h>>>0,c[f+1]=k>>>0},V.expand=function(S,d,c){var f=0,h=0;f=(S&1)<<5|S>>>27;for(var k=23;k>=15;k-=4)f<<=6,f|=S>>>k&63;for(var k=11;k>=3;k-=4)h|=S>>>k&63,h<<=6;h|=(S&31)<<1|S>>>31,d[c+0]=f>>>0,d[c+1]=h>>>0};var R=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];V.substitute=function(S,d){for(var c=0,f=0;f<4;f++){var h=S>>>18-f*6&63,k=R[f*64+h];c<<=4,c|=k}for(var f=0;f<4;f++){var h=d>>>18-f*6&63,k=R[4*64+f*64+h];c<<=4,c|=k}return c>>>0};var A=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];V.permute=function(S){for(var d=0,c=0;c<A.length;c++)d<<=1,d|=S>>>A[c]&1;return d>>>0},V.padSplit=function(S,d,c){for(var f=S.toString(2);f.length<d;)f="0"+f;for(var h=[],k=0;k<d;k+=c)h.push(f.slice(k,k+c));return h.join(" ")}},15380:(s,V,T)=>{var R=T(4934),A=T(23241),P=T(14910);function S(f){var h=new Buffer(A[f].prime,"hex"),k=new Buffer(A[f].gen,"hex");return new P(h,k)}var d={binary:!0,hex:!0,base64:!0};function c(f,h,k,y){return Buffer.isBuffer(h)||d[h]===void 0?c(f,"binary",h,k):(h=h||"binary",y=y||"binary",k=k||new Buffer([2]),Buffer.isBuffer(k)||(k=new Buffer(k,y)),typeof f=="number"?new P(R(f,k),k,!0):(Buffer.isBuffer(f)||(f=new Buffer(f,h)),new P(f,k,!0)))}V.DiffieHellmanGroup=V.createDiffieHellmanGroup=V.getDiffieHellman=S,V.createDiffieHellman=V.DiffieHellman=c},14910:(s,V,T)=>{var R=T(39404),A=T(52244),P=new A,S=new R(24),d=new R(11),c=new R(10),f=new R(3),h=new R(7),k=T(4934),y=T(53209);s.exports=p;function u(E,x){return x=x||"utf8",Buffer.isBuffer(E)||(E=new Buffer(E,x)),this._pub=new R(E),this}function _(E,x){return x=x||"utf8",Buffer.isBuffer(E)||(E=new Buffer(E,x)),this._priv=new R(E),this}var m={};function g(E,x){var F=x.toString("hex"),W=[F,E.toString(16)].join("_");if(W in m)return m[W];var b=0;if(E.isEven()||!k.simpleSieve||!k.fermatTest(E)||!P.test(E))return b+=1,F==="02"||F==="05"?b+=8:b+=4,m[W]=b,b;P.test(E.shrn(1))||(b+=2);var L;switch(F){case"02":E.mod(S).cmp(d)&&(b+=8);break;case"05":L=E.mod(c),L.cmp(f)&&L.cmp(h)&&(b+=8);break;default:b+=4}return m[W]=b,b}function p(E,x,F){this.setGenerator(x),this.__prime=new R(E),this._prime=R.mont(this.__prime),this._primeLen=E.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,F?(this.setPublicKey=u,this.setPrivateKey=_):this._primeCode=8}Object.defineProperty(p.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=g(this.__prime,this.__gen)),this._primeCode}}),p.prototype.generateKeys=function(){return this._priv||(this._priv=new R(y(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},p.prototype.computeSecret=function(E){E=new R(E),E=E.toRed(this._prime);var x=E.redPow(this._priv).fromRed(),F=new Buffer(x.toArray()),W=this.getPrime();if(F.length<W.length){var b=new Buffer(W.length-F.length);b.fill(0),F=Buffer.concat([b,F])}return F},p.prototype.getPublicKey=function(x){return N(this._pub,x)},p.prototype.getPrivateKey=function(x){return N(this._priv,x)},p.prototype.getPrime=function(E){return N(this.__prime,E)},p.prototype.getGenerator=function(E){return N(this._gen,E)},p.prototype.setGenerator=function(E,x){return x=x||"utf8",Buffer.isBuffer(E)||(E=new Buffer(E,x)),this.__gen=E,this._gen=new R(E),this};function N(E,x){var F=new Buffer(E.toArray());return x?F.toString(x):F}},4934:(s,V,T)=>{var R=T(53209);s.exports=b,b.simpleSieve=F,b.fermatTest=W;var A=T(39404),P=new A(24),S=T(52244),d=new S,c=new A(1),f=new A(2),h=new A(5),k=new A(16),y=new A(8),u=new A(10),_=new A(3),m=new A(7),g=new A(11),p=new A(4),N=new A(12),E=null;function x(){if(E!==null)return E;var L=1048576,z=[];z[0]=2;for(var K=1,J=3;J<L;J+=2){for(var ie=Math.ceil(Math.sqrt(J)),Y=0;Y<K&&z[Y]<=ie&&J%z[Y]!==0;Y++);K!==Y&&z[Y]<=ie||(z[K++]=J)}return E=z,z}function F(L){for(var z=x(),K=0;K<z.length;K++)if(L.modn(z[K])===0)return L.cmpn(z[K])===0;return!0}function W(L){var z=A.mont(L);return f.toRed(z).redPow(L.subn(1)).fromRed().cmpn(1)===0}function b(L,z){if(L<16)return z===2||z===5?new A([140,123]):new A([140,39]);z=new A(z);for(var K,J;;){for(K=new A(R(Math.ceil(L/8)));K.bitLength()>L;)K.ishrn(1);if(K.isEven()&&K.iadd(c),K.testn(1)||K.iadd(f),z.cmp(f)){if(!z.cmp(h))for(;K.mod(u).cmp(_);)K.iadd(p)}else for(;K.mod(P).cmp(g);)K.iadd(p);if(J=K.shrn(1),F(J)&&F(K)&&W(J)&&W(K)&&d.test(J)&&d.test(K))return K}}},86729:(s,V,T)=>{"use strict";var R=V;R.version=T(1636).rE,R.utils=T(47011),R.rand=T(15037),R.curve=T(894),R.curves=T(60480),R.ec=T(57447),R.eddsa=T(8650)},36677:(s,V,T)=>{"use strict";var R=T(39404),A=T(47011),P=A.getNAF,S=A.getJSF,d=A.assert;function c(h,k){this.type=h,this.p=new R(k.p,16),this.red=k.prime?R.red(k.prime):R.mont(this.p),this.zero=new R(0).toRed(this.red),this.one=new R(1).toRed(this.red),this.two=new R(2).toRed(this.red),this.n=k.n&&new R(k.n,16),this.g=k.g&&this.pointFromJSON(k.g,k.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var y=this.n&&this.p.div(this.n);!y||y.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}s.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(k,y){d(k.precomputed);var u=k._getDoubles(),_=P(y,1,this._bitLength),m=(1<<u.step+1)-(u.step%2===0?2:1);m/=3;var g=[],p,N;for(p=0;p<_.length;p+=u.step){N=0;for(var E=p+u.step-1;E>=p;E--)N=(N<<1)+_[E];g.push(N)}for(var x=this.jpoint(null,null,null),F=this.jpoint(null,null,null),W=m;W>0;W--){for(p=0;p<g.length;p++)N=g[p],N===W?F=F.mixedAdd(u.points[p]):N===-W&&(F=F.mixedAdd(u.points[p].neg()));x=x.add(F)}return x.toP()},c.prototype._wnafMul=function(k,y){var u=4,_=k._getNAFPoints(u);u=_.wnd;for(var m=_.points,g=P(y,u,this._bitLength),p=this.jpoint(null,null,null),N=g.length-1;N>=0;N--){for(var E=0;N>=0&&g[N]===0;N--)E++;if(N>=0&&E++,p=p.dblp(E),N<0)break;var x=g[N];d(x!==0),k.type==="affine"?x>0?p=p.mixedAdd(m[x-1>>1]):p=p.mixedAdd(m[-x-1>>1].neg()):x>0?p=p.add(m[x-1>>1]):p=p.add(m[-x-1>>1].neg())}return k.type==="affine"?p.toP():p},c.prototype._wnafMulAdd=function(k,y,u,_,m){var g=this._wnafT1,p=this._wnafT2,N=this._wnafT3,E=0,x,F,W;for(x=0;x<_;x++){W=y[x];var b=W._getNAFPoints(k);g[x]=b.wnd,p[x]=b.points}for(x=_-1;x>=1;x-=2){var L=x-1,z=x;if(g[L]!==1||g[z]!==1){N[L]=P(u[L],g[L],this._bitLength),N[z]=P(u[z],g[z],this._bitLength),E=Math.max(N[L].length,E),E=Math.max(N[z].length,E);continue}var K=[y[L],null,null,y[z]];y[L].y.cmp(y[z].y)===0?(K[1]=y[L].add(y[z]),K[2]=y[L].toJ().mixedAdd(y[z].neg())):y[L].y.cmp(y[z].y.redNeg())===0?(K[1]=y[L].toJ().mixedAdd(y[z]),K[2]=y[L].add(y[z].neg())):(K[1]=y[L].toJ().mixedAdd(y[z]),K[2]=y[L].toJ().mixedAdd(y[z].neg()));var J=[-3,-1,-5,-7,0,7,5,1,3],ie=S(u[L],u[z]);for(E=Math.max(ie[0].length,E),N[L]=new Array(E),N[z]=new Array(E),F=0;F<E;F++){var Y=ie[0][F]|0,M=ie[1][F]|0;N[L][F]=J[(Y+1)*3+(M+1)],N[z][F]=0,p[L]=K}}var $=this.jpoint(null,null,null),C=this._wnafT4;for(x=E;x>=0;x--){for(var l=0;x>=0;){var w=!0;for(F=0;F<_;F++)C[F]=N[F][x]|0,C[F]!==0&&(w=!1);if(!w)break;l++,x--}if(x>=0&&l++,$=$.dblp(l),x<0)break;for(F=0;F<_;F++){var D=C[F];D!==0&&(D>0?W=p[F][D-1>>1]:D<0&&(W=p[F][-D-1>>1].neg()),W.type==="affine"?$=$.mixedAdd(W):$=$.add(W))}}for(x=0;x<_;x++)p[x]=null;return m?$:$.toP()};function f(h,k){this.curve=h,this.type=k,this.precomputed=null}c.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(k,y){k=A.toArray(k,y);var u=this.p.byteLength();if((k[0]===4||k[0]===6||k[0]===7)&&k.length-1===2*u){k[0]===6?d(k[k.length-1]%2===0):k[0]===7&&d(k[k.length-1]%2===1);var _=this.point(k.slice(1,1+u),k.slice(1+u,1+2*u));return _}else if((k[0]===2||k[0]===3)&&k.length-1===u)return this.pointFromX(k.slice(1,1+u),k[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(k){return this.encode(k,!0)},f.prototype._encode=function(k){var y=this.curve.p.byteLength(),u=this.getX().toArray("be",y);return k?[this.getY().isEven()?2:3].concat(u):[4].concat(u,this.getY().toArray("be",y))},f.prototype.encode=function(k,y){return A.encode(this._encode(y),k)},f.prototype.precompute=function(k){if(this.precomputed)return this;var y={doubles:null,naf:null,beta:null};return y.naf=this._getNAFPoints(8),y.doubles=this._getDoubles(4,k),y.beta=this._getBeta(),this.precomputed=y,this},f.prototype._hasDoubles=function(k){if(!this.precomputed)return!1;var y=this.precomputed.doubles;return y?y.points.length>=Math.ceil((k.bitLength()+1)/y.step):!1},f.prototype._getDoubles=function(k,y){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var u=[this],_=this,m=0;m<y;m+=k){for(var g=0;g<k;g++)_=_.dbl();u.push(_)}return{step:k,points:u}},f.prototype._getNAFPoints=function(k){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var y=[this],u=(1<<k)-1,_=u===1?null:this.dbl(),m=1;m<u;m++)y[m]=y[m-1].add(_);return{wnd:k,points:y}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(k){for(var y=this,u=0;u<k;u++)y=y.dbl();return y}},31298:(s,V,T)=>{"use strict";var R=T(47011),A=T(39404),P=T(56698),S=T(36677),d=R.assert;function c(h){this.twisted=(h.a|0)!==1,this.mOneA=this.twisted&&(h.a|0)===-1,this.extended=this.mOneA,S.call(this,"edwards",h),this.a=new A(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new A(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new A(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),d(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(h.c|0)===1}P(c,S),s.exports=c,c.prototype._mulA=function(k){return this.mOneA?k.redNeg():this.a.redMul(k)},c.prototype._mulC=function(k){return this.oneC?k:this.c.redMul(k)},c.prototype.jpoint=function(k,y,u,_){return this.point(k,y,u,_)},c.prototype.pointFromX=function(k,y){k=new A(k,16),k.red||(k=k.toRed(this.red));var u=k.redSqr(),_=this.c2.redSub(this.a.redMul(u)),m=this.one.redSub(this.c2.redMul(this.d).redMul(u)),g=_.redMul(m.redInvm()),p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var N=p.fromRed().isOdd();return(y&&!N||!y&&N)&&(p=p.redNeg()),this.point(k,p)},c.prototype.pointFromY=function(k,y){k=new A(k,16),k.red||(k=k.toRed(this.red));var u=k.redSqr(),_=u.redSub(this.c2),m=u.redMul(this.d).redMul(this.c2).redSub(this.a),g=_.redMul(m.redInvm());if(g.cmp(this.zero)===0){if(y)throw new Error("invalid point");return this.point(this.zero,k)}var p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return p.fromRed().isOdd()!==y&&(p=p.redNeg()),this.point(p,k)},c.prototype.validate=function(k){if(k.isInfinity())return!0;k.normalize();var y=k.x.redSqr(),u=k.y.redSqr(),_=y.redMul(this.a).redAdd(u),m=this.c2.redMul(this.one.redAdd(this.d.redMul(y).redMul(u)));return _.cmp(m)===0};function f(h,k,y,u,_){S.BasePoint.call(this,h,"projective"),k===null&&y===null&&u===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new A(k,16),this.y=new A(y,16),this.z=u?new A(u,16):this.curve.one,this.t=_&&new A(_,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}P(f,S.BasePoint),c.prototype.pointFromJSON=function(k){return f.fromJSON(this,k)},c.prototype.point=function(k,y,u,_){return new f(this,k,y,u,_)},f.fromJSON=function(k,y){return new f(k,y[0],y[1],y[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var k=this.x.redSqr(),y=this.y.redSqr(),u=this.z.redSqr();u=u.redIAdd(u);var _=this.curve._mulA(k),m=this.x.redAdd(this.y).redSqr().redISub(k).redISub(y),g=_.redAdd(y),p=g.redSub(u),N=_.redSub(y),E=m.redMul(p),x=g.redMul(N),F=m.redMul(N),W=p.redMul(g);return this.curve.point(E,x,W,F)},f.prototype._projDbl=function(){var k=this.x.redAdd(this.y).redSqr(),y=this.x.redSqr(),u=this.y.redSqr(),_,m,g,p,N,E;if(this.curve.twisted){p=this.curve._mulA(y);var x=p.redAdd(u);this.zOne?(_=k.redSub(y).redSub(u).redMul(x.redSub(this.curve.two)),m=x.redMul(p.redSub(u)),g=x.redSqr().redSub(x).redSub(x)):(N=this.z.redSqr(),E=x.redSub(N).redISub(N),_=k.redSub(y).redISub(u).redMul(E),m=x.redMul(p.redSub(u)),g=x.redMul(E))}else p=y.redAdd(u),N=this.curve._mulC(this.z).redSqr(),E=p.redSub(N).redSub(N),_=this.curve._mulC(k.redISub(p)).redMul(E),m=this.curve._mulC(p).redMul(y.redISub(u)),g=p.redMul(E);return this.curve.point(_,m,g)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(k){var y=this.y.redSub(this.x).redMul(k.y.redSub(k.x)),u=this.y.redAdd(this.x).redMul(k.y.redAdd(k.x)),_=this.t.redMul(this.curve.dd).redMul(k.t),m=this.z.redMul(k.z.redAdd(k.z)),g=u.redSub(y),p=m.redSub(_),N=m.redAdd(_),E=u.redAdd(y),x=g.redMul(p),F=N.redMul(E),W=g.redMul(E),b=p.redMul(N);return this.curve.point(x,F,b,W)},f.prototype._projAdd=function(k){var y=this.z.redMul(k.z),u=y.redSqr(),_=this.x.redMul(k.x),m=this.y.redMul(k.y),g=this.curve.d.redMul(_).redMul(m),p=u.redSub(g),N=u.redAdd(g),E=this.x.redAdd(this.y).redMul(k.x.redAdd(k.y)).redISub(_).redISub(m),x=y.redMul(p).redMul(E),F,W;return this.curve.twisted?(F=y.redMul(N).redMul(m.redSub(this.curve._mulA(_))),W=p.redMul(N)):(F=y.redMul(N).redMul(m.redSub(_)),W=this.curve._mulC(p).redMul(N)),this.curve.point(x,F,W)},f.prototype.add=function(k){return this.isInfinity()?k:k.isInfinity()?this:this.curve.extended?this._extAdd(k):this._projAdd(k)},f.prototype.mul=function(k){return this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve._wnafMul(this,k)},f.prototype.mulAdd=function(k,y,u){return this.curve._wnafMulAdd(1,[this,y],[k,u],2,!1)},f.prototype.jmulAdd=function(k,y,u){return this.curve._wnafMulAdd(1,[this,y],[k,u],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var k=this.z.redInvm();return this.x=this.x.redMul(k),this.y=this.y.redMul(k),this.t&&(this.t=this.t.redMul(k)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(k){return this===k||this.getX().cmp(k.getX())===0&&this.getY().cmp(k.getY())===0},f.prototype.eqXToP=function(k){var y=k.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(y)===0)return!0;for(var u=k.clone(),_=this.curve.redN.redMul(this.z);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(_),this.x.cmp(y)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},894:(s,V,T)=>{"use strict";var R=V;R.base=T(36677),R.short=T(39188),R.mont=T(30370),R.edwards=T(31298)},30370:(s,V,T)=>{"use strict";var R=T(39404),A=T(56698),P=T(36677),S=T(47011);function d(f){P.call(this,"mont",f),this.a=new R(f.a,16).toRed(this.red),this.b=new R(f.b,16).toRed(this.red),this.i4=new R(4).toRed(this.red).redInvm(),this.two=new R(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}A(d,P),s.exports=d,d.prototype.validate=function(h){var k=h.normalize().x,y=k.redSqr(),u=y.redMul(k).redAdd(y.redMul(this.a)).redAdd(k),_=u.redSqrt();return _.redSqr().cmp(u)===0};function c(f,h,k){P.BasePoint.call(this,f,"projective"),h===null&&k===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new R(h,16),this.z=new R(k,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}A(c,P.BasePoint),d.prototype.decodePoint=function(h,k){return this.point(S.toArray(h,k),1)},d.prototype.point=function(h,k){return new c(this,h,k)},d.prototype.pointFromJSON=function(h){return c.fromJSON(this,h)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(h,k){return new c(h,k[0],k[1]||h.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var h=this.x.redAdd(this.z),k=h.redSqr(),y=this.x.redSub(this.z),u=y.redSqr(),_=k.redSub(u),m=k.redMul(u),g=_.redMul(u.redAdd(this.curve.a24.redMul(_)));return this.curve.point(m,g)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(h,k){var y=this.x.redAdd(this.z),u=this.x.redSub(this.z),_=h.x.redAdd(h.z),m=h.x.redSub(h.z),g=m.redMul(y),p=_.redMul(u),N=k.z.redMul(g.redAdd(p).redSqr()),E=k.x.redMul(g.redISub(p).redSqr());return this.curve.point(N,E)},c.prototype.mul=function(h){for(var k=h.clone(),y=this,u=this.curve.point(null,null),_=this,m=[];k.cmpn(0)!==0;k.iushrn(1))m.push(k.andln(1));for(var g=m.length-1;g>=0;g--)m[g]===0?(y=y.diffAdd(u,_),u=u.dbl()):(u=y.diffAdd(u,_),y=y.dbl());return u},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(h){return this.getX().cmp(h.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},39188:(s,V,T)=>{"use strict";var R=T(47011),A=T(39404),P=T(56698),S=T(36677),d=R.assert;function c(k){S.call(this,"short",k),this.a=new A(k.a,16).toRed(this.red),this.b=new A(k.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(k),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}P(c,S),s.exports=c,c.prototype._getEndomorphism=function(y){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var u,_;if(y.beta)u=new A(y.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);u=m[0].cmp(m[1])<0?m[0]:m[1],u=u.toRed(this.red)}if(y.lambda)_=new A(y.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(u))===0?_=g[0]:(_=g[1],d(this.g.mul(_).x.cmp(this.g.x.redMul(u))===0))}var p;return y.basis?p=y.basis.map(function(N){return{a:new A(N.a,16),b:new A(N.b,16)}}):p=this._getEndoBasis(_),{beta:u,lambda:_,basis:p}}},c.prototype._getEndoRoots=function(y){var u=y===this.p?this.red:A.mont(y),_=new A(2).toRed(u).redInvm(),m=_.redNeg(),g=new A(3).toRed(u).redNeg().redSqrt().redMul(_),p=m.redAdd(g).fromRed(),N=m.redSub(g).fromRed();return[p,N]},c.prototype._getEndoBasis=function(y){for(var u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),_=y,m=this.n.clone(),g=new A(1),p=new A(0),N=new A(0),E=new A(1),x,F,W,b,L,z,K,J=0,ie,Y;_.cmpn(0)!==0;){var M=m.div(_);ie=m.sub(M.mul(_)),Y=N.sub(M.mul(g));var $=E.sub(M.mul(p));if(!W&&ie.cmp(u)<0)x=K.neg(),F=g,W=ie.neg(),b=Y;else if(W&&++J===2)break;K=ie,m=_,_=ie,N=g,g=Y,E=p,p=$}L=ie.neg(),z=Y;var C=W.sqr().add(b.sqr()),l=L.sqr().add(z.sqr());return l.cmp(C)>=0&&(L=x,z=F),W.negative&&(W=W.neg(),b=b.neg()),L.negative&&(L=L.neg(),z=z.neg()),[{a:W,b},{a:L,b:z}]},c.prototype._endoSplit=function(y){var u=this.endo.basis,_=u[0],m=u[1],g=m.b.mul(y).divRound(this.n),p=_.b.neg().mul(y).divRound(this.n),N=g.mul(_.a),E=p.mul(m.a),x=g.mul(_.b),F=p.mul(m.b),W=y.sub(N).sub(E),b=x.add(F).neg();return{k1:W,k2:b}},c.prototype.pointFromX=function(y,u){y=new A(y,16),y.red||(y=y.toRed(this.red));var _=y.redSqr().redMul(y).redIAdd(y.redMul(this.a)).redIAdd(this.b),m=_.redSqrt();if(m.redSqr().redSub(_).cmp(this.zero)!==0)throw new Error("invalid point");var g=m.fromRed().isOdd();return(u&&!g||!u&&g)&&(m=m.redNeg()),this.point(y,m)},c.prototype.validate=function(y){if(y.inf)return!0;var u=y.x,_=y.y,m=this.a.redMul(u),g=u.redSqr().redMul(u).redIAdd(m).redIAdd(this.b);return _.redSqr().redISub(g).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(y,u,_){for(var m=this._endoWnafT1,g=this._endoWnafT2,p=0;p<y.length;p++){var N=this._endoSplit(u[p]),E=y[p],x=E._getBeta();N.k1.negative&&(N.k1.ineg(),E=E.neg(!0)),N.k2.negative&&(N.k2.ineg(),x=x.neg(!0)),m[p*2]=E,m[p*2+1]=x,g[p*2]=N.k1,g[p*2+1]=N.k2}for(var F=this._wnafMulAdd(1,m,g,p*2,_),W=0;W<p*2;W++)m[W]=null,g[W]=null;return F};function f(k,y,u,_){S.BasePoint.call(this,k,"affine"),y===null&&u===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new A(y,16),this.y=new A(u,16),_&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}P(f,S.BasePoint),c.prototype.point=function(y,u,_){return new f(this,y,u,_)},c.prototype.pointFromJSON=function(y,u){return f.fromJSON(this,y,u)},f.prototype._getBeta=function(){if(this.curve.endo){var y=this.precomputed;if(y&&y.beta)return y.beta;var u=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(y){var _=this.curve,m=function(g){return _.point(g.x.redMul(_.endo.beta),g.y)};y.beta=u,u.precomputed={beta:null,naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(m)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(m)}}}return u}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(y,u,_){typeof u=="string"&&(u=JSON.parse(u));var m=y.point(u[0],u[1],_);if(!u[2])return m;function g(N){return y.point(N[0],N[1],_)}var p=u[2];return m.precomputed={beta:null,doubles:p.doubles&&{step:p.doubles.step,points:[m].concat(p.doubles.points.map(g))},naf:p.naf&&{wnd:p.naf.wnd,points:[m].concat(p.naf.points.map(g))}},m},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(y){if(this.inf)return y;if(y.inf)return this;if(this.eq(y))return this.dbl();if(this.neg().eq(y))return this.curve.point(null,null);if(this.x.cmp(y.x)===0)return this.curve.point(null,null);var u=this.y.redSub(y.y);u.cmpn(0)!==0&&(u=u.redMul(this.x.redSub(y.x).redInvm()));var _=u.redSqr().redISub(this.x).redISub(y.x),m=u.redMul(this.x.redSub(_)).redISub(this.y);return this.curve.point(_,m)},f.prototype.dbl=function(){if(this.inf)return this;var y=this.y.redAdd(this.y);if(y.cmpn(0)===0)return this.curve.point(null,null);var u=this.curve.a,_=this.x.redSqr(),m=y.redInvm(),g=_.redAdd(_).redIAdd(_).redIAdd(u).redMul(m),p=g.redSqr().redISub(this.x.redAdd(this.x)),N=g.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,N)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(y){return y=new A(y,16),this.isInfinity()?this:this._hasDoubles(y)?this.curve._fixedNafMul(this,y):this.curve.endo?this.curve._endoWnafMulAdd([this],[y]):this.curve._wnafMul(this,y)},f.prototype.mulAdd=function(y,u,_){var m=[this,u],g=[y,_];return this.curve.endo?this.curve._endoWnafMulAdd(m,g):this.curve._wnafMulAdd(1,m,g,2)},f.prototype.jmulAdd=function(y,u,_){var m=[this,u],g=[y,_];return this.curve.endo?this.curve._endoWnafMulAdd(m,g,!0):this.curve._wnafMulAdd(1,m,g,2,!0)},f.prototype.eq=function(y){return this===y||this.inf===y.inf&&(this.inf||this.x.cmp(y.x)===0&&this.y.cmp(y.y)===0)},f.prototype.neg=function(y){if(this.inf)return this;var u=this.curve.point(this.x,this.y.redNeg());if(y&&this.precomputed){var _=this.precomputed,m=function(g){return g.neg()};u.precomputed={naf:_.naf&&{wnd:_.naf.wnd,points:_.naf.points.map(m)},doubles:_.doubles&&{step:_.doubles.step,points:_.doubles.points.map(m)}}}return u},f.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var y=this.curve.jpoint(this.x,this.y,this.curve.one);return y};function h(k,y,u,_){S.BasePoint.call(this,k,"jacobian"),y===null&&u===null&&_===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new A(0)):(this.x=new A(y,16),this.y=new A(u,16),this.z=new A(_,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}P(h,S.BasePoint),c.prototype.jpoint=function(y,u,_){return new h(this,y,u,_)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var y=this.z.redInvm(),u=y.redSqr(),_=this.x.redMul(u),m=this.y.redMul(u).redMul(y);return this.curve.point(_,m)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(y){if(this.isInfinity())return y;if(y.isInfinity())return this;var u=y.z.redSqr(),_=this.z.redSqr(),m=this.x.redMul(u),g=y.x.redMul(_),p=this.y.redMul(u.redMul(y.z)),N=y.y.redMul(_.redMul(this.z)),E=m.redSub(g),x=p.redSub(N);if(E.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var F=E.redSqr(),W=F.redMul(E),b=m.redMul(F),L=x.redSqr().redIAdd(W).redISub(b).redISub(b),z=x.redMul(b.redISub(L)).redISub(p.redMul(W)),K=this.z.redMul(y.z).redMul(E);return this.curve.jpoint(L,z,K)},h.prototype.mixedAdd=function(y){if(this.isInfinity())return y.toJ();if(y.isInfinity())return this;var u=this.z.redSqr(),_=this.x,m=y.x.redMul(u),g=this.y,p=y.y.redMul(u).redMul(this.z),N=_.redSub(m),E=g.redSub(p);if(N.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var x=N.redSqr(),F=x.redMul(N),W=_.redMul(x),b=E.redSqr().redIAdd(F).redISub(W).redISub(W),L=E.redMul(W.redISub(b)).redISub(g.redMul(F)),z=this.z.redMul(N);return this.curve.jpoint(b,L,z)},h.prototype.dblp=function(y){if(y===0)return this;if(this.isInfinity())return this;if(!y)return this.dbl();var u;if(this.curve.zeroA||this.curve.threeA){var _=this;for(u=0;u<y;u++)_=_.dbl();return _}var m=this.curve.a,g=this.curve.tinv,p=this.x,N=this.y,E=this.z,x=E.redSqr().redSqr(),F=N.redAdd(N);for(u=0;u<y;u++){var W=p.redSqr(),b=F.redSqr(),L=b.redSqr(),z=W.redAdd(W).redIAdd(W).redIAdd(m.redMul(x)),K=p.redMul(b),J=z.redSqr().redISub(K.redAdd(K)),ie=K.redISub(J),Y=z.redMul(ie);Y=Y.redIAdd(Y).redISub(L);var M=F.redMul(E);u+1<y&&(x=x.redMul(L)),p=J,E=M,F=Y}return this.curve.jpoint(p,F.redMul(g),E)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var y,u,_;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),p=g.redSqr(),N=this.x.redAdd(g).redSqr().redISub(m).redISub(p);N=N.redIAdd(N);var E=m.redAdd(m).redIAdd(m),x=E.redSqr().redISub(N).redISub(N),F=p.redIAdd(p);F=F.redIAdd(F),F=F.redIAdd(F),y=x,u=E.redMul(N.redISub(x)).redISub(F),_=this.y.redAdd(this.y)}else{var W=this.x.redSqr(),b=this.y.redSqr(),L=b.redSqr(),z=this.x.redAdd(b).redSqr().redISub(W).redISub(L);z=z.redIAdd(z);var K=W.redAdd(W).redIAdd(W),J=K.redSqr(),ie=L.redIAdd(L);ie=ie.redIAdd(ie),ie=ie.redIAdd(ie),y=J.redISub(z).redISub(z),u=K.redMul(z.redISub(y)).redISub(ie),_=this.y.redMul(this.z),_=_.redIAdd(_)}return this.curve.jpoint(y,u,_)},h.prototype._threeDbl=function(){var y,u,_;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),p=g.redSqr(),N=this.x.redAdd(g).redSqr().redISub(m).redISub(p);N=N.redIAdd(N);var E=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),x=E.redSqr().redISub(N).redISub(N);y=x;var F=p.redIAdd(p);F=F.redIAdd(F),F=F.redIAdd(F),u=E.redMul(N.redISub(x)).redISub(F),_=this.y.redAdd(this.y)}else{var W=this.z.redSqr(),b=this.y.redSqr(),L=this.x.redMul(b),z=this.x.redSub(W).redMul(this.x.redAdd(W));z=z.redAdd(z).redIAdd(z);var K=L.redIAdd(L);K=K.redIAdd(K);var J=K.redAdd(K);y=z.redSqr().redISub(J),_=this.y.redAdd(this.z).redSqr().redISub(b).redISub(W);var ie=b.redSqr();ie=ie.redIAdd(ie),ie=ie.redIAdd(ie),ie=ie.redIAdd(ie),u=z.redMul(K.redISub(y)).redISub(ie)}return this.curve.jpoint(y,u,_)},h.prototype._dbl=function(){var y=this.curve.a,u=this.x,_=this.y,m=this.z,g=m.redSqr().redSqr(),p=u.redSqr(),N=_.redSqr(),E=p.redAdd(p).redIAdd(p).redIAdd(y.redMul(g)),x=u.redAdd(u);x=x.redIAdd(x);var F=x.redMul(N),W=E.redSqr().redISub(F.redAdd(F)),b=F.redISub(W),L=N.redSqr();L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L);var z=E.redMul(b).redISub(L),K=_.redAdd(_).redMul(m);return this.curve.jpoint(W,z,K)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var y=this.x.redSqr(),u=this.y.redSqr(),_=this.z.redSqr(),m=u.redSqr(),g=y.redAdd(y).redIAdd(y),p=g.redSqr(),N=this.x.redAdd(u).redSqr().redISub(y).redISub(m);N=N.redIAdd(N),N=N.redAdd(N).redIAdd(N),N=N.redISub(p);var E=N.redSqr(),x=m.redIAdd(m);x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var F=g.redIAdd(N).redSqr().redISub(p).redISub(E).redISub(x),W=u.redMul(F);W=W.redIAdd(W),W=W.redIAdd(W);var b=this.x.redMul(E).redISub(W);b=b.redIAdd(b),b=b.redIAdd(b);var L=this.y.redMul(F.redMul(x.redISub(F)).redISub(N.redMul(E)));L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L);var z=this.z.redAdd(N).redSqr().redISub(_).redISub(E);return this.curve.jpoint(b,L,z)},h.prototype.mul=function(y,u){return y=new A(y,u),this.curve._wnafMul(this,y)},h.prototype.eq=function(y){if(y.type==="affine")return this.eq(y.toJ());if(this===y)return!0;var u=this.z.redSqr(),_=y.z.redSqr();if(this.x.redMul(_).redISub(y.x.redMul(u)).cmpn(0)!==0)return!1;var m=u.redMul(this.z),g=_.redMul(y.z);return this.y.redMul(g).redISub(y.y.redMul(m)).cmpn(0)===0},h.prototype.eqXToP=function(y){var u=this.z.redSqr(),_=y.toRed(this.curve.red).redMul(u);if(this.x.cmp(_)===0)return!0;for(var m=y.clone(),g=this.curve.redN.redMul(u);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(_.redIAdd(g),this.x.cmp(_)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},60480:(s,V,T)=>{"use strict";var R=V,A=T(77952),P=T(894),S=T(47011),d=S.assert;function c(k){k.type==="short"?this.curve=new P.short(k):k.type==="edwards"?this.curve=new P.edwards(k):this.curve=new P.mont(k),this.g=this.curve.g,this.n=this.curve.n,this.hash=k.hash,d(this.g.validate(),"Invalid curve"),d(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}R.PresetCurve=c;function f(k,y){Object.defineProperty(R,k,{configurable:!0,enumerable:!0,get:function(){var u=new c(y);return Object.defineProperty(R,k,{configurable:!0,enumerable:!0,value:u}),u}})}f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:A.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:A.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:A.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:A.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:A.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:A.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:A.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var h;try{h=T(74011)}catch{h=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:A.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",h]})},57447:(s,V,T)=>{"use strict";var R=T(39404),A=T(32723),P=T(47011),S=T(60480),d=T(15037),c=P.assert,f=T(61200),h=T(28545);function k(y){if(!(this instanceof k))return new k(y);typeof y=="string"&&(c(Object.prototype.hasOwnProperty.call(S,y),"Unknown curve "+y),y=S[y]),y instanceof S.PresetCurve&&(y={curve:y}),this.curve=y.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=y.curve.g,this.g.precompute(y.curve.n.bitLength()+1),this.hash=y.hash||y.curve.hash}s.exports=k,k.prototype.keyPair=function(u){return new f(this,u)},k.prototype.keyFromPrivate=function(u,_){return f.fromPrivate(this,u,_)},k.prototype.keyFromPublic=function(u,_){return f.fromPublic(this,u,_)},k.prototype.genKeyPair=function(u){u||(u={});for(var _=new A({hash:this.hash,pers:u.pers,persEnc:u.persEnc||"utf8",entropy:u.entropy||d(this.hash.hmacStrength),entropyEnc:u.entropy&&u.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),g=this.n.sub(new R(2));;){var p=new R(_.generate(m));if(!(p.cmp(g)>0))return p.iaddn(1),this.keyFromPrivate(p)}},k.prototype._truncateToN=function(u,_,m){var g;if(R.isBN(u)||typeof u=="number")u=new R(u,16),g=u.byteLength();else if(typeof u=="object")g=u.length,u=new R(u,16);else{var p=u.toString();g=p.length+1>>>1,u=new R(p,16)}typeof m!="number"&&(m=g*8);var N=m-this.n.bitLength();return N>0&&(u=u.ushrn(N)),!_&&u.cmp(this.n)>=0?u.sub(this.n):u},k.prototype.sign=function(u,_,m,g){if(typeof m=="object"&&(g=m,m=null),g||(g={}),typeof u!="string"&&typeof u!="number"&&!R.isBN(u)){c(typeof u=="object"&&u&&typeof u.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),c(u.length>>>0===u.length);for(var p=0;p<u.length;p++)c((u[p]&255)===u[p])}_=this.keyFromPrivate(_,m),u=this._truncateToN(u,!1,g.msgBitLength),c(!u.isNeg(),"Can not sign a negative message");var N=this.n.byteLength(),E=_.getPrivate().toArray("be",N),x=u.toArray("be",N);c(new R(x).eq(u),"Can not sign message");for(var F=new A({hash:this.hash,entropy:E,nonce:x,pers:g.pers,persEnc:g.persEnc||"utf8"}),W=this.n.sub(new R(1)),b=0;;b++){var L=g.k?g.k(b):new R(F.generate(this.n.byteLength()));if(L=this._truncateToN(L,!0),!(L.cmpn(1)<=0||L.cmp(W)>=0)){var z=this.g.mul(L);if(!z.isInfinity()){var K=z.getX(),J=K.umod(this.n);if(J.cmpn(0)!==0){var ie=L.invm(this.n).mul(J.mul(_.getPrivate()).iadd(u));if(ie=ie.umod(this.n),ie.cmpn(0)!==0){var Y=(z.getY().isOdd()?1:0)|(K.cmp(J)!==0?2:0);return g.canonical&&ie.cmp(this.nh)>0&&(ie=this.n.sub(ie),Y^=1),new h({r:J,s:ie,recoveryParam:Y})}}}}}},k.prototype.verify=function(u,_,m,g,p){p||(p={}),u=this._truncateToN(u,!1,p.msgBitLength),m=this.keyFromPublic(m,g),_=new h(_,"hex");var N=_.r,E=_.s;if(N.cmpn(1)<0||N.cmp(this.n)>=0||E.cmpn(1)<0||E.cmp(this.n)>=0)return!1;var x=E.invm(this.n),F=x.mul(u).umod(this.n),W=x.mul(N).umod(this.n),b;return this.curve._maxwellTrick?(b=this.g.jmulAdd(F,m.getPublic(),W),b.isInfinity()?!1:b.eqXToP(N)):(b=this.g.mulAdd(F,m.getPublic(),W),b.isInfinity()?!1:b.getX().umod(this.n).cmp(N)===0)},k.prototype.recoverPubKey=function(y,u,_,m){c((3&_)===_,"The recovery param is more than two bits"),u=new h(u,m);var g=this.n,p=new R(y),N=u.r,E=u.s,x=_&1,F=_>>1;if(N.cmp(this.curve.p.umod(this.curve.n))>=0&&F)throw new Error("Unable to find sencond key candinate");F?N=this.curve.pointFromX(N.add(this.curve.n),x):N=this.curve.pointFromX(N,x);var W=u.r.invm(g),b=g.sub(p).mul(W).umod(g),L=E.mul(W).umod(g);return this.g.mulAdd(b,N,L)},k.prototype.getKeyRecoveryParam=function(y,u,_,m){if(u=new h(u,m),u.recoveryParam!==null)return u.recoveryParam;for(var g=0;g<4;g++){var p;try{p=this.recoverPubKey(y,u,g)}catch{continue}if(p.eq(_))return g}throw new Error("Unable to find valid recovery factor")}},61200:(s,V,T)=>{"use strict";var R=T(39404),A=T(47011),P=A.assert;function S(d,c){this.ec=d,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}s.exports=S,S.fromPublic=function(c,f,h){return f instanceof S?f:new S(c,{pub:f,pubEnc:h})},S.fromPrivate=function(c,f,h){return f instanceof S?f:new S(c,{priv:f,privEnc:h})},S.prototype.validate=function(){var c=this.getPublic();return c.isInfinity()?{result:!1,reason:"Invalid public key"}:c.validate()?c.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},S.prototype.getPublic=function(c,f){return typeof c=="string"&&(f=c,c=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),f?this.pub.encode(f,c):this.pub},S.prototype.getPrivate=function(c){return c==="hex"?this.priv.toString(16,2):this.priv},S.prototype._importPrivate=function(c,f){this.priv=new R(c,f||16),this.priv=this.priv.umod(this.ec.curve.n)},S.prototype._importPublic=function(c,f){if(c.x||c.y){this.ec.curve.type==="mont"?P(c.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&P(c.x&&c.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(c.x,c.y);return}this.pub=this.ec.curve.decodePoint(c,f)},S.prototype.derive=function(c){return c.validate()||P(c.validate(),"public point not validated"),c.mul(this.priv).getX()},S.prototype.sign=function(c,f,h){return this.ec.sign(c,this,f,h)},S.prototype.verify=function(c,f,h){return this.ec.verify(c,f,this,void 0,h)},S.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},28545:(s,V,T)=>{"use strict";var R=T(39404),A=T(47011),P=A.assert;function S(k,y){if(k instanceof S)return k;this._importDER(k,y)||(P(k.r&&k.s,"Signature without r or s"),this.r=new R(k.r,16),this.s=new R(k.s,16),k.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=k.recoveryParam)}s.exports=S;function d(){this.place=0}function c(k,y){var u=k[y.place++];if(!(u&128))return u;var _=u&15;if(_===0||_>4||k[y.place]===0)return!1;for(var m=0,g=0,p=y.place;g<_;g++,p++)m<<=8,m|=k[p],m>>>=0;return m<=127?!1:(y.place=p,m)}function f(k){for(var y=0,u=k.length-1;!k[y]&&!(k[y+1]&128)&&y<u;)y++;return y===0?k:k.slice(y)}S.prototype._importDER=function(y,u){y=A.toArray(y,u);var _=new d;if(y[_.place++]!==48)return!1;var m=c(y,_);if(m===!1||m+_.place!==y.length||y[_.place++]!==2)return!1;var g=c(y,_);if(g===!1||y[_.place]&128)return!1;var p=y.slice(_.place,g+_.place);if(_.place+=g,y[_.place++]!==2)return!1;var N=c(y,_);if(N===!1||y.length!==N+_.place||y[_.place]&128)return!1;var E=y.slice(_.place,N+_.place);if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;if(E[0]===0)if(E[1]&128)E=E.slice(1);else return!1;return this.r=new R(p),this.s=new R(E),this.recoveryParam=null,!0};function h(k,y){if(y<128){k.push(y);return}var u=1+(Math.log(y)/Math.LN2>>>3);for(k.push(u|128);--u;)k.push(y>>>(u<<3)&255);k.push(y)}S.prototype.toDER=function(y){var u=this.r.toArray(),_=this.s.toArray();for(u[0]&128&&(u=[0].concat(u)),_[0]&128&&(_=[0].concat(_)),u=f(u),_=f(_);!_[0]&&!(_[1]&128);)_=_.slice(1);var m=[2];h(m,u.length),m=m.concat(u),m.push(2),h(m,_.length);var g=m.concat(_),p=[48];return h(p,g.length),p=p.concat(g),A.encode(p,y)}},8650:(s,V,T)=>{"use strict";var R=T(77952),A=T(60480),P=T(47011),S=P.assert,d=P.parseBytes,c=T(46661),f=T(90220);function h(k){if(S(k==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(k);k=A[k].curve,this.curve=k,this.g=k.g,this.g.precompute(k.n.bitLength()+1),this.pointClass=k.point().constructor,this.encodingLength=Math.ceil(k.n.bitLength()/8),this.hash=R.sha512}s.exports=h,h.prototype.sign=function(y,u){y=d(y);var _=this.keyFromSecret(u),m=this.hashInt(_.messagePrefix(),y),g=this.g.mul(m),p=this.encodePoint(g),N=this.hashInt(p,_.pubBytes(),y).mul(_.priv()),E=m.add(N).umod(this.curve.n);return this.makeSignature({R:g,S:E,Rencoded:p})},h.prototype.verify=function(y,u,_){if(y=d(y),u=this.makeSignature(u),u.S().gte(u.eddsa.curve.n)||u.S().isNeg())return!1;var m=this.keyFromPublic(_),g=this.hashInt(u.Rencoded(),m.pubBytes(),y),p=this.g.mul(u.S()),N=u.R().add(m.pub().mul(g));return N.eq(p)},h.prototype.hashInt=function(){for(var y=this.hash(),u=0;u<arguments.length;u++)y.update(arguments[u]);return P.intFromLE(y.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(y){return c.fromPublic(this,y)},h.prototype.keyFromSecret=function(y){return c.fromSecret(this,y)},h.prototype.makeSignature=function(y){return y instanceof f?y:new f(this,y)},h.prototype.encodePoint=function(y){var u=y.getY().toArray("le",this.encodingLength);return u[this.encodingLength-1]|=y.getX().isOdd()?128:0,u},h.prototype.decodePoint=function(y){y=P.parseBytes(y);var u=y.length-1,_=y.slice(0,u).concat(y[u]&-129),m=(y[u]&128)!==0,g=P.intFromLE(_);return this.curve.pointFromY(g,m)},h.prototype.encodeInt=function(y){return y.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(y){return P.intFromLE(y)},h.prototype.isPoint=function(y){return y instanceof this.pointClass}},46661:(s,V,T)=>{"use strict";var R=T(47011),A=R.assert,P=R.parseBytes,S=R.cachedProperty;function d(c,f){this.eddsa=c,this._secret=P(f.secret),c.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=P(f.pub)}d.fromPublic=function(f,h){return h instanceof d?h:new d(f,{pub:h})},d.fromSecret=function(f,h){return h instanceof d?h:new d(f,{secret:h})},d.prototype.secret=function(){return this._secret},S(d,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),S(d,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),S(d,"privBytes",function(){var f=this.eddsa,h=this.hash(),k=f.encodingLength-1,y=h.slice(0,f.encodingLength);return y[0]&=248,y[k]&=127,y[k]|=64,y}),S(d,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),S(d,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),S(d,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),d.prototype.sign=function(f){return A(this._secret,"KeyPair can only verify"),this.eddsa.sign(f,this)},d.prototype.verify=function(f,h){return this.eddsa.verify(f,h,this)},d.prototype.getSecret=function(f){return A(this._secret,"KeyPair is public only"),R.encode(this.secret(),f)},d.prototype.getPublic=function(f){return R.encode(this.pubBytes(),f)},s.exports=d},90220:(s,V,T)=>{"use strict";var R=T(39404),A=T(47011),P=A.assert,S=A.cachedProperty,d=A.parseBytes;function c(f,h){this.eddsa=f,typeof h!="object"&&(h=d(h)),Array.isArray(h)&&(P(h.length===f.encodingLength*2,"Signature has invalid size"),h={R:h.slice(0,f.encodingLength),S:h.slice(f.encodingLength)}),P(h.R&&h.S,"Signature without R or S"),f.isPoint(h.R)&&(this._R=h.R),h.S instanceof R&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}S(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),S(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),S(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),S(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return A.encode(this.toBytes(),"hex").toUpperCase()},s.exports=c},74011:s=>{s.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},47011:(s,V,T)=>{"use strict";var R=V,A=T(39404),P=T(43349),S=T(64367);R.assert=P,R.toArray=S.toArray,R.zero2=S.zero2,R.toHex=S.toHex,R.encode=S.encode;function d(y,u,_){var m=new Array(Math.max(y.bitLength(),_)+1),g;for(g=0;g<m.length;g+=1)m[g]=0;var p=1<<u+1,N=y.clone();for(g=0;g<m.length;g++){var E,x=N.andln(p-1);N.isOdd()?(x>(p>>1)-1?E=(p>>1)-x:E=x,N.isubn(E)):E=0,m[g]=E,N.iushrn(1)}return m}R.getNAF=d;function c(y,u){var _=[[],[]];y=y.clone(),u=u.clone();for(var m=0,g=0,p;y.cmpn(-m)>0||u.cmpn(-g)>0;){var N=y.andln(3)+m&3,E=u.andln(3)+g&3;N===3&&(N=-1),E===3&&(E=-1);var x;N&1?(p=y.andln(7)+m&7,(p===3||p===5)&&E===2?x=-N:x=N):x=0,_[0].push(x);var F;E&1?(p=u.andln(7)+g&7,(p===3||p===5)&&N===2?F=-E:F=E):F=0,_[1].push(F),2*m===x+1&&(m=1-m),2*g===F+1&&(g=1-g),y.iushrn(1),u.iushrn(1)}return _}R.getJSF=c;function f(y,u,_){var m="_"+u;y.prototype[u]=function(){return this[m]!==void 0?this[m]:this[m]=_.call(this)}}R.cachedProperty=f;function h(y){return typeof y=="string"?R.toArray(y,"hex"):y}R.parseBytes=h;function k(y){return new A(y,"hex","le")}R.intFromLE=k},37007:s=>{"use strict";var V=typeof Reflect=="object"?Reflect:null,T=V&&typeof V.apply=="function"?V.apply:function(x,F,W){return Function.prototype.apply.call(x,F,W)},R;V&&typeof V.ownKeys=="function"?R=V.ownKeys:Object.getOwnPropertySymbols?R=function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:R=function(x){return Object.getOwnPropertyNames(x)};function A(E){console&&console.warn&&console.warn(E)}var P=Number.isNaN||function(x){return x!==x};function S(){S.init.call(this)}s.exports=S,s.exports.once=N,S.EventEmitter=S,S.prototype._events=void 0,S.prototype._eventsCount=0,S.prototype._maxListeners=void 0;var d=10;function c(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(S,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(E){if(typeof E!="number"||E<0||P(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");d=E}}),S.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},S.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||P(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this};function f(E){return E._maxListeners===void 0?S.defaultMaxListeners:E._maxListeners}S.prototype.getMaxListeners=function(){return f(this)},S.prototype.emit=function(x){for(var F=[],W=1;W<arguments.length;W++)F.push(arguments[W]);var b=x==="error",L=this._events;if(L!==void 0)b=b&&L.error===void 0;else if(!b)return!1;if(b){var z;if(F.length>0&&(z=F[0]),z instanceof Error)throw z;var K=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw K.context=z,K}var J=L[x];if(J===void 0)return!1;if(typeof J=="function")T(J,this,F);else for(var ie=J.length,Y=m(J,ie),W=0;W<ie;++W)T(Y[W],this,F);return!0};function h(E,x,F,W){var b,L,z;if(c(F),L=E._events,L===void 0?(L=E._events=Object.create(null),E._eventsCount=0):(L.newListener!==void 0&&(E.emit("newListener",x,F.listener?F.listener:F),L=E._events),z=L[x]),z===void 0)z=L[x]=F,++E._eventsCount;else if(typeof z=="function"?z=L[x]=W?[F,z]:[z,F]:W?z.unshift(F):z.push(F),b=f(E),b>0&&z.length>b&&!z.warned){z.warned=!0;var K=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");K.name="MaxListenersExceededWarning",K.emitter=E,K.type=x,K.count=z.length,A(K)}return E}S.prototype.addListener=function(x,F){return h(this,x,F,!1)},S.prototype.on=S.prototype.addListener,S.prototype.prependListener=function(x,F){return h(this,x,F,!0)};function k(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(E,x,F){var W={fired:!1,wrapFn:void 0,target:E,type:x,listener:F},b=k.bind(W);return b.listener=F,W.wrapFn=b,b}S.prototype.once=function(x,F){return c(F),this.on(x,y(this,x,F)),this},S.prototype.prependOnceListener=function(x,F){return c(F),this.prependListener(x,y(this,x,F)),this},S.prototype.removeListener=function(x,F){var W,b,L,z,K;if(c(F),b=this._events,b===void 0)return this;if(W=b[x],W===void 0)return this;if(W===F||W.listener===F)--this._eventsCount===0?this._events=Object.create(null):(delete b[x],b.removeListener&&this.emit("removeListener",x,W.listener||F));else if(typeof W!="function"){for(L=-1,z=W.length-1;z>=0;z--)if(W[z]===F||W[z].listener===F){K=W[z].listener,L=z;break}if(L<0)return this;L===0?W.shift():g(W,L),W.length===1&&(b[x]=W[0]),b.removeListener!==void 0&&this.emit("removeListener",x,K||F)}return this},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(x){var F,W,b;if(W=this._events,W===void 0)return this;if(W.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):W[x]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete W[x]),this;if(arguments.length===0){var L=Object.keys(W),z;for(b=0;b<L.length;++b)z=L[b],z!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=W[x],typeof F=="function")this.removeListener(x,F);else if(F!==void 0)for(b=F.length-1;b>=0;b--)this.removeListener(x,F[b]);return this};function u(E,x,F){var W=E._events;if(W===void 0)return[];var b=W[x];return b===void 0?[]:typeof b=="function"?F?[b.listener||b]:[b]:F?p(b):m(b,b.length)}S.prototype.listeners=function(x){return u(this,x,!0)},S.prototype.rawListeners=function(x){return u(this,x,!1)},S.listenerCount=function(E,x){return typeof E.listenerCount=="function"?E.listenerCount(x):_.call(E,x)},S.prototype.listenerCount=_;function _(E){var x=this._events;if(x!==void 0){var F=x[E];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}S.prototype.eventNames=function(){return this._eventsCount>0?R(this._events):[]};function m(E,x){for(var F=new Array(x),W=0;W<x;++W)F[W]=E[W];return F}function g(E,x){for(;x+1<E.length;x++)E[x]=E[x+1];E.pop()}function p(E){for(var x=new Array(E.length),F=0;F<x.length;++F)x[F]=E[F].listener||E[F];return x}function N(E,x){return new Promise(function(F,W){function b(){L!==void 0&&E.removeListener("error",L),F([].slice.call(arguments))}var L;x!=="error"&&(L=function(K){E.removeListener(x,b),W(K)},E.once("error",L)),E.once(x,b)})}},68078:(s,V,T)=>{var R=T(92861).Buffer,A=T(88276);function P(S,d,c,f){if(R.isBuffer(S)||(S=R.from(S,"binary")),d&&(R.isBuffer(d)||(d=R.from(d,"binary")),d.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var h=c/8,k=R.alloc(h),y=R.alloc(f||0),u=R.alloc(0);h>0||f>0;){var _=new A;_.update(u),_.update(S),d&&_.update(d),u=_.digest();var m=0;if(h>0){var g=k.length-h;m=Math.min(h,u.length),u.copy(k,g,0,m),h-=m}if(m<u.length&&f>0){var p=y.length-f,N=Math.min(f,u.length-m);u.copy(y,p,m,m+N),f-=N}}return u.fill(0),{key:k,iv:y}}s.exports=P},32017:s=>{"use strict";s.exports=function V(T,R){if(T===R)return!0;if(T&&R&&typeof T=="object"&&typeof R=="object"){if(T.constructor!==R.constructor)return!1;var A,P,S;if(Array.isArray(T)){if(A=T.length,A!=R.length)return!1;for(P=A;P--!==0;)if(!V(T[P],R[P]))return!1;return!0}if(T.constructor===RegExp)return T.source===R.source&&T.flags===R.flags;if(T.valueOf!==Object.prototype.valueOf)return T.valueOf()===R.valueOf();if(T.toString!==Object.prototype.toString)return T.toString()===R.toString();if(S=Object.keys(T),A=S.length,A!==Object.keys(R).length)return!1;for(P=A;P--!==0;)if(!Object.prototype.hasOwnProperty.call(R,S[P]))return!1;for(P=A;P--!==0;){var d=S[P];if(!V(T[d],R[d]))return!1}return!0}return T!==T&&R!==R}},72492:s=>{"use strict";s.exports=function(V,T){T||(T={}),typeof T=="function"&&(T={cmp:T});var R=typeof T.cycles=="boolean"?T.cycles:!1,A=T.cmp&&function(S){return function(d){return function(c,f){var h={key:c,value:d[c]},k={key:f,value:d[f]};return S(h,k)}}}(T.cmp),P=[];return function S(d){if(d&&d.toJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),d!==void 0){if(typeof d=="number")return isFinite(d)?""+d:"null";if(typeof d!="object")return JSON.stringify(d);var c,f;if(Array.isArray(d)){for(f="[",c=0;c<d.length;c++)c&&(f+=","),f+=S(d[c])||"null";return f+"]"}if(d===null)return"null";if(P.indexOf(d)!==-1){if(R)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var h=P.push(d)-1,k=Object.keys(d).sort(A&&A(d));for(f="",c=0;c<k.length;c++){var y=k[c],u=S(d[y]);u&&(f&&(f+=","),f+=JSON.stringify(y)+":"+u)}return P.splice(h,1),"{"+f+"}"}}(V)}},58667:(s,V,T)=>{var R={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Team"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueWithCommentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueWithCommentsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeabilityMergeRequirements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequirements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conditions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestMergeConflictStateCondition"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conflicts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isConflictResolvableInWeb"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevertPullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSuggestedActors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"capabilities"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RepositorySuggestedActorFilter"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"suggestedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"capabilities"},value:{kind:"Variable",name:{kind:"Name",value:"capabilities"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DequeuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DequeuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dequeuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnqueuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnqueuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enqueuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReplaceActorsForAssignable"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReplaceActorsForAssignableInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"replaceActorsForAssignable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignable"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:6290}};R.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

# Queries that are also in the limit file, but are not limited (by scope or API availability) here

fragment Node on Node {
	id
}

fragment Actor on Actor { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.
	__typename
	login
	avatarUrl
	url
}

fragment User on User {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Organization on Organization {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Team on Team { # Team is not an Actor
	name
	avatarUrl
	url
	slug
	...Node
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		reactors(first: 10) {
			nodes {
				... on User {
					login
				}
				... on Actor {
					login
				}
			}
			totalCount
		}
	}
}

fragment IssueBase on Issue {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	repository {
		name
		owner {
			login
		}
		url
	}
}

fragment IssueFragment on Issue {
	...IssueBase
	comments(first: 1) {
		totalCount
	}
}

fragment IssueWithCommentsFragment on Issue {
	...IssueBase
	comments(first: 50) {
		nodes {
			author {
				...Node
				...Actor
				...User
				...Organization
			}
			body
			databaseId
			reactions(first: 100) {
				totalCount
			}
		}
		totalCount
	}
}

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	comments(first: 1) {
		totalCount
	}

	comments(first: 1) {
		totalCount
	}

	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
		squashMergeCommitTitle
		squashMergeCommitMessage
		mergeCommitMessage
		mergeCommitTitle
	}
	merged
	mergeable
	mergeQueueEntry {
		...MergeQueueEntryFragment
	}
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	reviewThreads {
		totalCount
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	isDraft
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			...Actor
			...User
			...Node
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueWithCommentsFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				...IssueFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestMergeabilityMergeRequirements($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
			mergeStateStatus
			mergeRequirements { # This is a privage field we're testing
				state
				conditions {
					result
					... on PullRequestMergeConflictStateCondition {
						__typename
						conflicts
						isConflictResolvableInWeb
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation RevertPullRequest($input: RevertPullRequestInput!) {
	revertPullRequest(input: $input) {
		revertPullRequest {
			...PullRequestFragment
		}
	}
}

# Queries that only exist in this file and in extra

query GetSuggestedActors($owner: String!, $name: String!, $capabilities: [RepositorySuggestedActorFilter!]!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		suggestedActors(first: $first, after: $after, capabilities: $capabilities) {
			nodes {
				...Node
				...Actor
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation DequeuePullRequest($input: DequeuePullRequestInput!) {
	dequeuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation EnqueuePullRequest($input: EnqueuePullRequestInput!) {
	enqueuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation ReplaceActorsForAssignable($input: ReplaceActorsForAssignableInput!) {
	replaceActorsForAssignable(input: $input) {
		assignable {
			assignees(first: 100) {
				nodes {
					...Node
					...Actor
					...User
				}
				pageInfo {
					hasNextPage
					endCursor
				}
			}
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var A={};function P(h){return h.filter(function(k){if(k.kind!=="FragmentDefinition")return!0;var y=k.name.value;return A[y]?!1:(A[y]=!0,!0)})}R.definitions=R.definitions.concat(P(T(72256).definitions));function S(h,k){if(h.kind==="FragmentSpread")k.add(h.name.value);else if(h.kind==="VariableDefinition"){var y=h.type;y.kind==="NamedType"&&k.add(y.name.value)}h.selectionSet&&h.selectionSet.selections.forEach(function(u){S(u,k)}),h.variableDefinitions&&h.variableDefinitions.forEach(function(u){S(u,k)}),h.definitions&&h.definitions.forEach(function(u){S(u,k)})}var d={};(function(){R.definitions.forEach(function(k){if(k.name){var y=new Set;S(k,y),d[k.name.value]=y}})})();function c(h,k){for(var y=0;y<h.definitions.length;y++){var u=h.definitions[y];if(u.name&&u.name.value==k)return u}}function f(h,k){var y={kind:h.kind,definitions:[c(h,k)]};h.hasOwnProperty("loc")&&(y.loc=h.loc);var u=d[k]||new Set,_=new Set,m=new Set;for(u.forEach(function(p){m.add(p)});m.size>0;){var g=m;m=new Set,g.forEach(function(p){if(!_.has(p)){_.add(p);var N=d[p]||new Set;N.forEach(function(E){m.add(E)})}})}return _.forEach(function(p){var N=c(h,p);N&&y.definitions.push(N)}),y}s.exports=R,s.exports.Issue=f(R,"Issue"),s.exports.IssueWithComments=f(R,"IssueWithComments"),s.exports.Issues=f(R,"Issues"),s.exports.PullRequest=f(R,"PullRequest"),s.exports.PullRequestForHead=f(R,"PullRequestForHead"),s.exports.PullRequestMergeabilityMergeRequirements=f(R,"PullRequestMergeabilityMergeRequirements"),s.exports.CreatePullRequest=f(R,"CreatePullRequest"),s.exports.RevertPullRequest=f(R,"RevertPullRequest"),s.exports.GetSuggestedActors=f(R,"GetSuggestedActors"),s.exports.DequeuePullRequest=f(R,"DequeuePullRequest"),s.exports.EnqueuePullRequest=f(R,"EnqueuePullRequest"),s.exports.ReplaceActorsForAssignable=f(R,"ReplaceActorsForAssignable")},8575:(s,V,T)=>{var R={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Team"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"projectItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueWithCommentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"projectItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueWithCommentsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeabilityMergeRequirements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequirements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conditions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestMergeConflictStateCondition"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conflicts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isConflictResolvableInWeb"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSuggestedActors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"capabilities"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RepositorySuggestedActorFilter"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"suggestedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"capabilities"},value:{kind:"Variable",name:{kind:"Name",value:"capabilities"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReplaceActorsForAssignable"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReplaceActorsForAssignableInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"replaceActorsForAssignable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignable"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepoProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrgProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddPullRequestToProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddProjectV2ItemByIdInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addProjectV2ItemById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemovePullRequestFromProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteProjectV2ItemInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteProjectV2Item"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedItemId"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DequeuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DequeuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dequeuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnqueuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnqueuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enqueuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:6962}};R.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

# Queries that are only available with extra auth scopes

fragment Node on Node {
	id
}

fragment Actor on Actor { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.
	__typename
	login
	avatarUrl
	url
}

fragment User on User {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Organization on Organization {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Team on Team { # Team is not an Actor
	name
	avatarUrl
	url
	slug
	...Node
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		reactors(first: 10) {
			nodes {
				... on User {
					login
				}
				... on Actor {
					login
				}
			}
			totalCount
		}
	}
}

fragment IssueBase on Issue {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	repository {
		name
		owner {
			login
		}
		url
	}
	projectItems(first: 100) {
		nodes {
			id
			project {
				title
				id
			}
		}
	}
}

fragment IssueFragment on Issue {
	...IssueBase
	comments(first: 1) {
		totalCount
	}
}

fragment IssueWithCommentsFragment on Issue {
	...IssueBase
	comments(first: 50) {
		nodes {
			author {
				...Node
				...Actor
				...User
				...Organization
			}
			body
			databaseId
			reactions(first: 100) {
				totalCount
			}
		}
		totalCount
	}
}

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	projectItems(first: 100) {
		nodes {
			id
			project {
				title
				id
			}
		}
	}
	comments(first: 1) {
		totalCount
	}
	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
		squashMergeCommitTitle
		squashMergeCommitMessage
		mergeCommitMessage
		mergeCommitTitle
	}
	merged
	mergeable
	mergeQueueEntry {
		...MergeQueueEntryFragment
	}
	mergeStateStatus
	reviewThreads {
		totalCount
	}
	autoMergeRequest {
		mergeMethod
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	isDraft
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			...Actor
			...User
			...Node
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueWithCommentsFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				...IssueFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestMergeabilityMergeRequirements($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
			mergeStateStatus
			mergeRequirements { # This is a privage field we're testing
				state
				conditions {
					result
					... on PullRequestMergeConflictStateCondition {
						__typename
						conflicts
						isConflictResolvableInWeb
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetSuggestedActors($owner: String!, $name: String!, $capabilities: [RepositorySuggestedActorFilter!]!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		suggestedActors(first: $first, after: $after, capabilities: $capabilities) {
			nodes {
				...Node
				...Actor
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation ReplaceActorsForAssignable($input: ReplaceActorsForAssignableInput!) {
	replaceActorsForAssignable(input: $input) {
		assignable {
			assignees(first: 100) {
				nodes {
					...Node
					...Actor
					...User
				}
				pageInfo {
					hasNextPage
					endCursor
				}
			}
		}
	}
}

# Queries that only exist in this file

query GetRepoProjects($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		projectsV2(first: 100, query: "state:OPEN") {
			nodes {
				title
				id
			}
		}
	}
}

query GetOrgProjects($owner: String!, $after: String) {
	organization(login: $owner) {
		projectsV2(first: 100, after: $after, query: "state:OPEN", orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				title
				id
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

mutation AddPullRequestToProject($input: AddProjectV2ItemByIdInput!) {
	addProjectV2ItemById(input: $input) {
		item {
			id
		}
	}
}

mutation RemovePullRequestFromProject($input: DeleteProjectV2ItemInput!) {
	deleteProjectV2Item(input: $input) {
		deletedItemId
	}
}

mutation DequeuePullRequest($input: DequeuePullRequestInput!) {
	dequeuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation EnqueuePullRequest($input: EnqueuePullRequestInput!) {
	enqueuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var A={};function P(h){return h.filter(function(k){if(k.kind!=="FragmentDefinition")return!0;var y=k.name.value;return A[y]?!1:(A[y]=!0,!0)})}R.definitions=R.definitions.concat(P(T(72256).definitions));function S(h,k){if(h.kind==="FragmentSpread")k.add(h.name.value);else if(h.kind==="VariableDefinition"){var y=h.type;y.kind==="NamedType"&&k.add(y.name.value)}h.selectionSet&&h.selectionSet.selections.forEach(function(u){S(u,k)}),h.variableDefinitions&&h.variableDefinitions.forEach(function(u){S(u,k)}),h.definitions&&h.definitions.forEach(function(u){S(u,k)})}var d={};(function(){R.definitions.forEach(function(k){if(k.name){var y=new Set;S(k,y),d[k.name.value]=y}})})();function c(h,k){for(var y=0;y<h.definitions.length;y++){var u=h.definitions[y];if(u.name&&u.name.value==k)return u}}function f(h,k){var y={kind:h.kind,definitions:[c(h,k)]};h.hasOwnProperty("loc")&&(y.loc=h.loc);var u=d[k]||new Set,_=new Set,m=new Set;for(u.forEach(function(p){m.add(p)});m.size>0;){var g=m;m=new Set,g.forEach(function(p){if(!_.has(p)){_.add(p);var N=d[p]||new Set;N.forEach(function(E){m.add(E)})}})}return _.forEach(function(p){var N=c(h,p);N&&y.definitions.push(N)}),y}s.exports=R,s.exports.Issue=f(R,"Issue"),s.exports.IssueWithComments=f(R,"IssueWithComments"),s.exports.Issues=f(R,"Issues"),s.exports.PullRequest=f(R,"PullRequest"),s.exports.PullRequestForHead=f(R,"PullRequestForHead"),s.exports.PullRequestMergeabilityMergeRequirements=f(R,"PullRequestMergeabilityMergeRequirements"),s.exports.GetSuggestedActors=f(R,"GetSuggestedActors"),s.exports.CreatePullRequest=f(R,"CreatePullRequest"),s.exports.ReplaceActorsForAssignable=f(R,"ReplaceActorsForAssignable"),s.exports.GetRepoProjects=f(R,"GetRepoProjects"),s.exports.GetOrgProjects=f(R,"GetOrgProjects"),s.exports.AddPullRequestToProject=f(R,"AddPullRequestToProject"),s.exports.RemovePullRequestFromProject=f(R,"RemovePullRequestFromProject"),s.exports.DequeuePullRequest=f(R,"DequeuePullRequest"),s.exports.EnqueuePullRequest=f(R,"EnqueuePullRequest")},87831:(s,V,T)=>{var R={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueWithCommentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueWithCommentsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevertPullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:4665}};R.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

fragment Node on Node {
	id
}

fragment Actor on Actor  { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.
	__typename
	login
	avatarUrl
	url
}

fragment User on User {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Organization on Organization {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		reactors(first: 10) {
			nodes {
				... on User {
					login
				}
				... on Actor {
					login
				}
			}
			totalCount
		}
	}
}

fragment IssueBase on Issue {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	repository {
		name
		owner {
			login
		}
		url
	}
}

fragment IssueFragment on Issue {
	...IssueBase
	comments(first: 1) {
		totalCount
	}
}

fragment IssueWithCommentsFragment on Issue {
	...IssueBase
	comments(first: 50) {
		nodes {
			author {
				...Node
				...Actor
				...User
				...Organization
			}
			body
			databaseId
			reactions(first: 100) {
				totalCount
			}
		}
		totalCount
	}
}

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	comments(first: 1) {
		totalCount
	}

	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	merged
	mergeable
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	reviewThreads {
		totalCount
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	isDraft
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			...Actor
			...User
			...Node
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueWithCommentsFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				...IssueFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		assignableUsers(first: $first, after: $after) {
			nodes {
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation RevertPullRequest($input: RevertPullRequestInput!) {
	revertPullRequest(input: $input) {
		revertPullRequest {
			...PullRequestFragment
		}
	}
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var A={};function P(h){return h.filter(function(k){if(k.kind!=="FragmentDefinition")return!0;var y=k.name.value;return A[y]?!1:(A[y]=!0,!0)})}R.definitions=R.definitions.concat(P(T(72256).definitions));function S(h,k){if(h.kind==="FragmentSpread")k.add(h.name.value);else if(h.kind==="VariableDefinition"){var y=h.type;y.kind==="NamedType"&&k.add(y.name.value)}h.selectionSet&&h.selectionSet.selections.forEach(function(u){S(u,k)}),h.variableDefinitions&&h.variableDefinitions.forEach(function(u){S(u,k)}),h.definitions&&h.definitions.forEach(function(u){S(u,k)})}var d={};(function(){R.definitions.forEach(function(k){if(k.name){var y=new Set;S(k,y),d[k.name.value]=y}})})();function c(h,k){for(var y=0;y<h.definitions.length;y++){var u=h.definitions[y];if(u.name&&u.name.value==k)return u}}function f(h,k){var y={kind:h.kind,definitions:[c(h,k)]};h.hasOwnProperty("loc")&&(y.loc=h.loc);var u=d[k]||new Set,_=new Set,m=new Set;for(u.forEach(function(p){m.add(p)});m.size>0;){var g=m;m=new Set,g.forEach(function(p){if(!_.has(p)){_.add(p);var N=d[p]||new Set;N.forEach(function(E){m.add(E)})}})}return _.forEach(function(p){var N=c(h,p);N&&y.definitions.push(N)}),y}s.exports=R,s.exports.Issue=f(R,"Issue"),s.exports.IssueWithComments=f(R,"IssueWithComments"),s.exports.Issues=f(R,"Issues"),s.exports.PullRequest=f(R,"PullRequest"),s.exports.PullRequestForHead=f(R,"PullRequestForHead"),s.exports.GetAssignableUsers=f(R,"GetAssignableUsers"),s.exports.CreatePullRequest=f(R,"CreatePullRequest"),s.exports.RevertPullRequest=f(R,"RevertPullRequest")},72256:s=>{var V={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Team"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RateLimit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RateLimit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Merged"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HeadRefDeleted"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Ref"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Ref"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Comment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanReact"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Commit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"committer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authoredDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AssignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CrossReferencedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"willCloseTarget"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Review"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submittedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LegacyReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MergeQueueEntryFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergeQueueEntry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"CrossReferencedEvent"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"CrossReferencedEvent"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviewCommit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerLatestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeamsCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeams"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"repoName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Team"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repositories"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"repoName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequestsAdditionalScopes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Team"},directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHunk"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"replyTo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetParticipants"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPendingReviewId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"author"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"author"},value:{kind:"Variable",name:{kind:"Name",value:"author"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"PENDING"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LegacyPullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Viewer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestFiles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"files"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerViewedState"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributionsCollection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commitContributionsByRepository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"maxRepositories"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameWithOwner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestTemplates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyAddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RequestReviewsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReviewComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReadyForReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkPullRequestReadyForReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markPullRequestReadyForReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"event"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewEvent"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"event"},value:{kind:"Variable",name:{kind:"Name",value:"event"}}},{kind:"ObjectField",name:{kind:"Name",value:"pullRequestReviewId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RemoveReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"updateIssue"},name:{kind:"Name",value:"updatePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issue"},name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentEdge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssueComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMentionableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mentionableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ref"},arguments:[{kind:"Argument",name:{kind:"Name",value:"qualifiedName"},value:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ListBranches"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"refPrefix"},value:{kind:"StringValue",value:"refs/heads/",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaxIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMilestones"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"states"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MilestoneState"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"milestones"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"DUE_DATE"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"Variable",name:{kind:"Name",value:"states"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViewerPermission"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerPermission"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepositoryForkDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkSuite"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"app"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workflowRun"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workflow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecksWithoutSuite"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MergeQueueForBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"branch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"branch"},value:{kind:"Variable",name:{kind:"Name",value:"branch"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"configuration"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetFileContent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"expression"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"object"},arguments:[{kind:"Argument",name:{kind:"Name",value:"expression"},value:{kind:"Variable",name:{kind:"Name",value:"expression"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Blob"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyUnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DisablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DisablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmarkFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MergePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MergePullRequestInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:19612}};V.loc.source={body:`# /*---------------------------------------------------------------------------------------------\r
#  *  Copyright (c) Microsoft Corporation. All rights reserved.\r
#  *  Licensed under the MIT License. See License.txt in the project root for license information.\r
#  *--------------------------------------------------------------------------------------------*/\r
\r
fragment Node on Node {\r
	id\r
}\r
\r
fragment Actor on Actor { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.\r
	__typename\r
	login\r
	avatarUrl\r
	url\r
}\r
\r
fragment User on User {\r
	__typename\r
	...Actor\r
	email\r
	name\r
	...Node\r
}\r
\r
fragment Organization on Organization {\r
	__typename\r
	...Actor\r
	email\r
	name\r
	...Node\r
}\r
\r
fragment Team on Team { # Team is not an Actor\r
	name\r
	avatarUrl\r
	url\r
	slug\r
	...Node\r
}\r
\r
fragment RateLimit on RateLimit {\r
	limit\r
	cost\r
	remaining\r
	resetAt\r
}\r
\r
fragment Merged on MergedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	mergeRef {\r
		name\r
	}\r
	commit {\r
		oid\r
		commitUrl\r
	}\r
	url\r
}\r
\r
fragment HeadRefDeleted on HeadRefDeletedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	headRefName\r
}\r
\r
fragment Ref on Ref {\r
	name\r
	repository {\r
		owner {\r
			login\r
		}\r
		url\r
	}\r
	target {\r
		oid\r
	}\r
}\r
\r
fragment Comment on IssueComment {\r
	id\r
	databaseId\r
	authorAssociation\r
	author {\r
		...Node\r
		...Actor\r
		...User\r
		...Organization\r
	}\r
	url\r
	body\r
	bodyHTML\r
	updatedAt\r
	createdAt\r
	viewerCanUpdate\r
	viewerCanReact\r
	viewerCanDelete\r
}\r
\r
fragment Commit on PullRequestCommit {\r
	id\r
	commit {\r
		author {\r
			user {\r
				...Node\r
				...Actor\r
				...User\r
			}\r
		}\r
		committer {\r
			avatarUrl\r
			name\r
		}\r
		oid\r
		message\r
		authoredDate\r
	}\r
	url\r
}\r
\r
fragment AssignedEvent on AssignedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	user {\r
		...Node\r
		...Actor\r
		...User\r
	}\r
	createdAt\r
}\r
\r
fragment CrossReferencedEvent on CrossReferencedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	source {\r
		... on PullRequest {\r
			number\r
			url\r
			title\r
		}\r
		... on Issue {\r
			number\r
			url\r
			title\r
		}\r
	}\r
	willCloseTarget\r
}\r
\r
fragment Review on PullRequestReview {\r
	id\r
	databaseId\r
	authorAssociation\r
	url\r
	author {\r
		...User\r
		...Organization\r
		...Node\r
		...Actor\r
	}\r
	state\r
	body\r
	bodyHTML\r
	submittedAt\r
	updatedAt\r
	createdAt\r
}\r
\r
fragment Reactable on Reactable {\r
	reactionGroups {\r
		content\r
		viewerHasReacted\r
		reactors(first: 10) {\r
			nodes {\r
				... on User {\r
					login\r
				}\r
				... on Actor {\r
					login\r
				}\r
			}\r
			totalCount\r
		}\r
	}\r
}\r
\r
\r
fragment ReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	subjectType\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
fragment LegacyReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
fragment MergeQueueEntryFragment on MergeQueueEntry {\r
	position\r
	state\r
	mergeQueue {\r
		url\r
	}\r
}\r
\r
query TimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...AssignedEvent\r
					...HeadRefDeleted\r
					...CrossReferencedEvent\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query IssueTimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Comment\r
					...AssignedEvent\r
					...CrossReferencedEvent\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviewCommit($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			viewerLatestReview {\r
				commit {\r
					oid\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviews($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			latestReviews (first: 10) {\r
				nodes {\r
					state\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeamsCount($login: String!) {\r
	organization(login: $login) {\r
		teams(first: 0, privacy: VISIBLE) {\r
			totalCount\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeams($login: String!, $after: String, $repoName: String!) {\r
	organization(login: $login) {\r
		teams(first: 100, after: $after, privacy: VISIBLE) {\r
			nodes {\r
				...Team\r
				repositories(first: 5, query: $repoName) {\r
					nodes {\r
						name\r
					}\r
				}\r
			}\r
			totalCount\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetReviewRequestsAdditionalScopes($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewRequests(first: 100) {\r
				nodes {\r
					requestedReviewer {\r
						...Node\r
						...Actor\r
						...User\r
						...Team\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetReviewRequests($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewRequests(first: 100) {\r
				nodes {\r
					requestedReviewer {\r
						...Node\r
						...Actor\r
						...User\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
fragment ReviewComment on PullRequestReviewComment {\r
	id\r
	databaseId\r
	url\r
	author {\r
		...Actor\r
		...Node\r
		...User\r
		...Organization\r
	}\r
	path\r
	originalPosition\r
	body\r
	bodyHTML\r
	diffHunk\r
	position\r
	state\r
	pullRequestReview {\r
		databaseId\r
	}\r
	commit {\r
		oid\r
	}\r
	replyTo {\r
		databaseId\r
	}\r
	createdAt\r
	originalCommit {\r
		oid\r
	}\r
	...Reactable\r
	viewerCanUpdate\r
	viewerCanDelete\r
}\r
\r
query GetParticipants($owner: String!, $name: String!, $number: Int!, $first: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			participants(first: $first) {\r
				nodes {\r
					...Node\r
					...Actor\r
					...User\r
					...Organization\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetPendingReviewId($pullRequestId: ID!, $author: String!) {\r
	node(id: $pullRequestId) {\r
		... on PullRequest {\r
			reviews(first: 1, author: $author, states: [PENDING]) {\r
				nodes {\r
					id\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestComments($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: 20, after: $after) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					subjectType\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LegacyPullRequestComments($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: 20, after: $after) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query Viewer {\r
	viewer {\r
		...User\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestFiles($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			files(first: 100, after: $after) {\r
				nodes {\r
					path\r
					viewerViewedState\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetUser($login: String!) {\r
	user(login: $login) {\r
		login\r
		avatarUrl(size: 50)\r
		id\r
		bio\r
		name\r
		company\r
		location\r
		contributionsCollection {\r
			commitContributionsByRepository(maxRepositories: 50) {\r
				contributions(first: 1) {\r
					nodes {\r
						occurredAt\r
					}\r
				}\r
				repository {\r
					nameWithOwner\r
				}\r
			}\r
		}\r
		url\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestMergeability($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			mergeable\r
			mergeStateStatus\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestState($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			title\r
			number\r
			state\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestTemplates($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequestTemplates {\r
			body\r
		}\r
	}\r
}\r
\r
mutation AddComment($input: AddPullRequestReviewCommentInput!) {\r
	addPullRequestReviewComment(input: $input) {\r
		comment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation AddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyAddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation AddReviewers($input: RequestReviewsInput!) {\r
	requestReviews(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation EditComment($input: UpdatePullRequestReviewCommentInput!) {\r
	updatePullRequestReviewComment(input: $input) {\r
		pullRequestReviewComment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation ReadyForReview($input: MarkPullRequestReadyForReviewInput!) {\r
	markPullRequestReadyForReview(input: $input) {\r
		pullRequest {\r
			isDraft\r
			mergeable\r
			mergeStateStatus\r
			viewerCanEnableAutoMerge\r
			viewerCanDisableAutoMerge\r
		}\r
	}\r
}\r
\r
mutation StartReview($input: AddPullRequestReviewInput!) {\r
	addPullRequestReview(input: $input) {\r
		pullRequestReview {\r
			id\r
		}\r
	}\r
}\r
\r
mutation SubmitReview($id: ID!, $event: PullRequestReviewEvent!, $body: String) {\r
	submitPullRequestReview(input: { event: $event, pullRequestReviewId: $id, body: $body }) {\r
		pullRequestReview {\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
			...Review\r
		}\r
	}\r
}\r
\r
mutation DeleteReview($input: DeletePullRequestReviewInput!) {\r
	deletePullRequestReview(input: $input) {\r
		pullRequestReview {\r
			databaseId\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
		}\r
	}\r
}\r
\r
mutation AddReaction($input: AddReactionInput!) {\r
	addReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation DeleteReaction($input: RemoveReactionInput!) {\r
	removeReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation UpdateIssue($input: UpdateIssueInput!) {\r
	updateIssue(input: $input) {\r
		issue {\r
			body\r
			bodyHTML\r
			title\r
			titleHTML\r
		}\r
	}\r
}\r
\r
mutation UpdatePullRequest($input: UpdatePullRequestInput!) {\r
	updateIssue: updatePullRequest(input: $input) {\r
		issue: pullRequest {\r
			body\r
			bodyHTML\r
			title\r
			titleHTML\r
		}\r
	}\r
}\r
\r
mutation AddIssueComment($input: AddCommentInput!) {\r
	addComment(input: $input) {\r
		commentEdge {\r
			node {\r
				...Comment\r
			}\r
		}\r
	}\r
}\r
\r
mutation EditIssueComment($input: UpdateIssueCommentInput!) {\r
	updateIssueComment(input: $input) {\r
		issueComment {\r
			...Comment\r
		}\r
	}\r
}\r
\r
query GetMentionableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		mentionableUsers(first: $first, after: $after) {\r
			nodes {\r
				...Node\r
				...Actor\r
				...User\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetBranch($owner: String!, $name: String!, $qualifiedName: String!) {\r
	repository(owner: $owner, name: $name) {\r
		ref(qualifiedName: $qualifiedName) {\r
			target {\r
				oid\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query ListBranches($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		refs(first: $first, after: $after, refPrefix: "refs/heads/") {\r
			nodes {\r
				name\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MaxIssue($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		issues(first: 1, orderBy: { direction: DESC, field: CREATED_AT }) {\r
			edges {\r
				node {\r
					... on Issue {\r
						number\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetMilestones($owner: String!, $name: String!, $states: [MilestoneState!]!) {\r
	repository(owner: $owner, name: $name) {\r
		milestones(first: 100, orderBy: { direction: DESC, field: DUE_DATE }, states: $states) {\r
			nodes {\r
				dueOn\r
				title\r
				createdAt\r
				id\r
				number\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetViewerPermission($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		viewerPermission\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetRepositoryForkDetails($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		isFork\r
		parent {\r
			name\r
			owner {\r
				login\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecks($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
										checkSuite {\r
											app {\r
												logoUrl\r
												url\r
											}\r
											workflowRun {\r
												event\r
												workflow {\r
													name\r
												}\r
											}\r
										}\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecksWithoutSuite($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MergeQueueForBranch($owner: String!, $name: String!, $branch: String!) {\r
	repository(owner: $owner, name: $name) {\r
		mergeQueue(branch: $branch) {\r
			configuration {\r
				mergeMethod\r
			}\r
		}\r
	}\r
}\r
\r
query GetFileContent($owner: String!, $name: String!, $expression: String!) {\r
	repository(owner: $owner, name: $name) {\r
		object(expression: $expression) {\r
			... on Blob {\r
				text\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
mutation ResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation UnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyUnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation EnablePullRequestAutoMerge($input: EnablePullRequestAutoMergeInput!) {\r
	enablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation DisablePullRequestAutoMerge($input: DisablePullRequestAutoMergeInput!) {\r
	disablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation MarkFileAsViewed($input: MarkFileAsViewedInput!) {\r
	markFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation UnmarkFileAsViewed($input: UnmarkFileAsViewedInput!) {\r
	unmarkFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation MergePullRequest($input: MergePullRequestInput!, $last: Int = 150) {\r
	mergePullRequest(input: $input) {\r
		pullRequest {\r
			id\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...AssignedEvent\r
					...HeadRefDeleted\r
				}\r
			}\r
		}\r
	}\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var T={};function R(c){return c.filter(function(f){if(f.kind!=="FragmentDefinition")return!0;var h=f.name.value;return T[h]?!1:(T[h]=!0,!0)})}function A(c,f){if(c.kind==="FragmentSpread")f.add(c.name.value);else if(c.kind==="VariableDefinition"){var h=c.type;h.kind==="NamedType"&&f.add(h.name.value)}c.selectionSet&&c.selectionSet.selections.forEach(function(k){A(k,f)}),c.variableDefinitions&&c.variableDefinitions.forEach(function(k){A(k,f)}),c.definitions&&c.definitions.forEach(function(k){A(k,f)})}var P={};(function(){V.definitions.forEach(function(f){if(f.name){var h=new Set;A(f,h),P[f.name.value]=h}})})();function S(c,f){for(var h=0;h<c.definitions.length;h++){var k=c.definitions[h];if(k.name&&k.name.value==f)return k}}function d(c,f){var h={kind:c.kind,definitions:[S(c,f)]};c.hasOwnProperty("loc")&&(h.loc=c.loc);var k=P[f]||new Set,y=new Set,u=new Set;for(k.forEach(function(m){u.add(m)});u.size>0;){var _=u;u=new Set,_.forEach(function(m){if(!y.has(m)){y.add(m);var g=P[m]||new Set;g.forEach(function(p){u.add(p)})}})}return y.forEach(function(m){var g=S(c,m);g&&h.definitions.push(g)}),h}s.exports=V,s.exports.TimelineEvents=d(V,"TimelineEvents"),s.exports.IssueTimelineEvents=d(V,"IssueTimelineEvents"),s.exports.LatestReviewCommit=d(V,"LatestReviewCommit"),s.exports.LatestReviews=d(V,"LatestReviews"),s.exports.GetOrganizationTeamsCount=d(V,"GetOrganizationTeamsCount"),s.exports.GetOrganizationTeams=d(V,"GetOrganizationTeams"),s.exports.GetReviewRequestsAdditionalScopes=d(V,"GetReviewRequestsAdditionalScopes"),s.exports.GetReviewRequests=d(V,"GetReviewRequests"),s.exports.GetParticipants=d(V,"GetParticipants"),s.exports.GetPendingReviewId=d(V,"GetPendingReviewId"),s.exports.PullRequestComments=d(V,"PullRequestComments"),s.exports.LegacyPullRequestComments=d(V,"LegacyPullRequestComments"),s.exports.Viewer=d(V,"Viewer"),s.exports.PullRequestFiles=d(V,"PullRequestFiles"),s.exports.GetUser=d(V,"GetUser"),s.exports.PullRequestMergeability=d(V,"PullRequestMergeability"),s.exports.PullRequestState=d(V,"PullRequestState"),s.exports.PullRequestTemplates=d(V,"PullRequestTemplates"),s.exports.AddComment=d(V,"AddComment"),s.exports.AddReviewThread=d(V,"AddReviewThread"),s.exports.LegacyAddReviewThread=d(V,"LegacyAddReviewThread"),s.exports.AddReviewers=d(V,"AddReviewers"),s.exports.EditComment=d(V,"EditComment"),s.exports.ReadyForReview=d(V,"ReadyForReview"),s.exports.StartReview=d(V,"StartReview"),s.exports.SubmitReview=d(V,"SubmitReview"),s.exports.DeleteReview=d(V,"DeleteReview"),s.exports.AddReaction=d(V,"AddReaction"),s.exports.DeleteReaction=d(V,"DeleteReaction"),s.exports.UpdateIssue=d(V,"UpdateIssue"),s.exports.UpdatePullRequest=d(V,"UpdatePullRequest"),s.exports.AddIssueComment=d(V,"AddIssueComment"),s.exports.EditIssueComment=d(V,"EditIssueComment"),s.exports.GetMentionableUsers=d(V,"GetMentionableUsers"),s.exports.GetBranch=d(V,"GetBranch"),s.exports.ListBranches=d(V,"ListBranches"),s.exports.MaxIssue=d(V,"MaxIssue"),s.exports.GetMilestones=d(V,"GetMilestones"),s.exports.GetViewerPermission=d(V,"GetViewerPermission"),s.exports.GetRepositoryForkDetails=d(V,"GetRepositoryForkDetails"),s.exports.GetChecks=d(V,"GetChecks"),s.exports.GetChecksWithoutSuite=d(V,"GetChecksWithoutSuite"),s.exports.MergeQueueForBranch=d(V,"MergeQueueForBranch"),s.exports.GetFileContent=d(V,"GetFileContent"),s.exports.ResolveReviewThread=d(V,"ResolveReviewThread"),s.exports.LegacyResolveReviewThread=d(V,"LegacyResolveReviewThread"),s.exports.UnresolveReviewThread=d(V,"UnresolveReviewThread"),s.exports.LegacyUnresolveReviewThread=d(V,"LegacyUnresolveReviewThread"),s.exports.EnablePullRequestAutoMerge=d(V,"EnablePullRequestAutoMerge"),s.exports.DisablePullRequestAutoMerge=d(V,"DisablePullRequestAutoMerge"),s.exports.MarkFileAsViewed=d(V,"MarkFileAsViewed"),s.exports.UnmarkFileAsViewed=d(V,"UnmarkFileAsViewed"),s.exports.MergePullRequest=d(V,"MergePullRequest")},77358:(s,V,T)=>{var R=T(50246),A=R.parse;function P(E){return E.replace(/[\s,]+/g," ").trim()}var S={},d={};function c(E){return P(E.source.body.substring(E.start,E.end))}function f(){S={},d={}}var h=!0;function k(E){for(var x={},F=[],W=0;W<E.definitions.length;W++){var b=E.definitions[W];if(b.kind==="FragmentDefinition"){var L=b.name.value,z=c(b.loc);d.hasOwnProperty(L)&&!d[L][z]?(h&&console.warn("Warning: fragment with name "+L+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`),d[L][z]=!0):d.hasOwnProperty(L)||(d[L]={},d[L][z]=!0),x[z]||(x[z]=!0,F.push(b))}else F.push(b)}return E.definitions=F,E}function y(){h=!1}function u(E,x){var F=Object.prototype.toString.call(E);if(F==="[object Array]")return E.map(function(K){return u(K,x)});if(F!=="[object Object]")throw new Error("Unexpected input.");x&&E.loc&&delete E.loc,E.loc&&(delete E.loc.startToken,delete E.loc.endToken);var W=Object.keys(E),b,L,z;for(b in W)W.hasOwnProperty(b)&&(L=E[W[b]],z=Object.prototype.toString.call(L),(z==="[object Object]"||z==="[object Array]")&&(E[W[b]]=u(L,!0)));return E}var _=!1;function m(E){var x=P(E);if(S[x])return S[x];var F=A(E,{experimentalFragmentVariables:_});if(!F||F.kind!=="Document")throw new Error("Not a valid GraphQL document.");return F=k(F),F=u(F,!1),S[x]=F,F}function g(){_=!0}function p(){_=!1}function N(){for(var E=Array.prototype.slice.call(arguments),x=E[0],F=typeof x=="string"?x:x[0],W=1;W<E.length;W++)E[W]&&E[W].kind&&E[W].kind==="Document"?F+=E[W].loc.source.body:F+=E[W],F+=x[W];return m(F)}N.default=N,N.resetCaches=f,N.disableFragmentWarnings=y,N.enableExperimentalFragmentVariables=g,N.disableExperimentalFragmentVariables=p,s.exports=N},61702:(s,V,T)=>{"use strict";function R(L){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(K){return typeof K}:R=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},R(L)}Object.defineProperty(V,"__esModule",{value:!0}),V.printError=b,V.GraphQLError=void 0;var A=c(T(55569)),P=T(25888),S=T(99530),d=T(40825);function c(L){return L&&L.__esModule?L:{default:L}}function f(L,z){if(!(L instanceof z))throw new TypeError("Cannot call a class as a function")}function h(L,z){for(var K=0;K<z.length;K++){var J=z[K];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(L,J.key,J)}}function k(L,z,K){return z&&h(L.prototype,z),K&&h(L,K),L}function y(L,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(z&&z.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),z&&x(L,z)}function u(L){var z=N();return function(){var J=F(L),ie;if(z){var Y=F(this).constructor;ie=Reflect.construct(J,arguments,Y)}else ie=J.apply(this,arguments);return _(this,ie)}}function _(L,z){return z&&(R(z)==="object"||typeof z=="function")?z:m(L)}function m(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function g(L){var z=typeof Map=="function"?new Map:void 0;return g=function(J){if(J===null||!E(J))return J;if(typeof J!="function")throw new TypeError("Super expression must either be null or a function");if(typeof z!="undefined"){if(z.has(J))return z.get(J);z.set(J,ie)}function ie(){return p(J,arguments,F(this).constructor)}return ie.prototype=Object.create(J.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),x(ie,J)},g(L)}function p(L,z,K){return N()?p=Reflect.construct:p=function(ie,Y,M){var $=[null];$.push.apply($,Y);var C=Function.bind.apply(ie,$),l=new C;return M&&x(l,M.prototype),l},p.apply(null,arguments)}function N(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function E(L){return Function.toString.call(L).indexOf("[native code]")!==-1}function x(L,z){return x=Object.setPrototypeOf||function(J,ie){return J.__proto__=ie,J},x(L,z)}function F(L){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)},F(L)}var W=function(L){y(K,L);var z=u(K);function K(J,ie,Y,M,$,C,l){var w,D,q,j,H;f(this,K),H=z.call(this,J);var Z=Array.isArray(ie)?ie.length!==0?ie:void 0:ie?[ie]:void 0,te=Y;if(!te&&Z){var B;te=(B=Z[0].loc)===null||B===void 0?void 0:B.source}var ae=M;!ae&&Z&&(ae=Z.reduce(function(Ne,X){return X.loc&&Ne.push(X.loc.start),Ne},[])),ae&&ae.length===0&&(ae=void 0);var xe;M&&Y?xe=M.map(function(Ne){return(0,S.getLocation)(Y,Ne)}):Z&&(xe=Z.reduce(function(Ne,X){return X.loc&&Ne.push((0,S.getLocation)(X.loc.source,X.loc.start)),Ne},[]));var he=l;if(he==null&&C!=null){var Ee=C.extensions;(0,A.default)(Ee)&&(he=Ee)}return Object.defineProperties(m(H),{name:{value:"GraphQLError"},message:{value:J,enumerable:!0,writable:!0},locations:{value:(w=xe)!==null&&w!==void 0?w:void 0,enumerable:xe!=null},path:{value:$!=null?$:void 0,enumerable:$!=null},nodes:{value:Z!=null?Z:void 0},source:{value:(D=te)!==null&&D!==void 0?D:void 0},positions:{value:(q=ae)!==null&&q!==void 0?q:void 0},originalError:{value:C},extensions:{value:(j=he)!==null&&j!==void 0?j:void 0,enumerable:he!=null}}),C!=null&&C.stack?(Object.defineProperty(m(H),"stack",{value:C.stack,writable:!0,configurable:!0}),_(H)):(Error.captureStackTrace?Error.captureStackTrace(m(H),K):Object.defineProperty(m(H),"stack",{value:Error().stack,writable:!0,configurable:!0}),H)}return k(K,[{key:"toString",value:function(){return b(this)}},{key:P.SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}]),K}(g(Error));V.GraphQLError=W;function b(L){var z=L.message;if(L.nodes)for(var K=0,J=L.nodes;K<J.length;K++){var ie=J[K];ie.loc&&(z+=`

`+(0,d.printLocation)(ie.loc))}else if(L.source&&L.locations)for(var Y=0,M=L.locations;Y<M.length;Y++){var $=M[Y];z+=`

`+(0,d.printSourceLocation)(L.source,$)}return z}},51352:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.syntaxError=A;var R=T(61702);function A(P,S,d){return new R.GraphQLError("Syntax Error: ".concat(d),void 0,P,[S])}},63580:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=S;var R=P(T(61321)),A=P(T(98493));function P(d){return d&&d.__esModule?d:{default:d}}function S(d){var c=d.prototype.toJSON;typeof c=="function"||(0,R.default)(0),d.prototype.inspect=c,A.default&&(d.prototype[A.default]=c)}},93028:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=T;function T(R,A){var P=!!R;if(!P)throw new Error(A)}},29657:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=c;var R=A(T(98493));function A(m){return m&&m.__esModule?m:{default:m}}function P(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(p){return typeof p}:P=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},P(m)}var S=10,d=2;function c(m){return f(m,[])}function f(m,g){switch(P(m)){case"string":return JSON.stringify(m);case"function":return m.name?"[function ".concat(m.name,"]"):"[function]";case"object":return m===null?"null":h(m,g);default:return String(m)}}function h(m,g){if(g.indexOf(m)!==-1)return"[Circular]";var p=[].concat(g,[m]),N=u(m);if(N!==void 0){var E=N.call(m);if(E!==m)return typeof E=="string"?E:f(E,p)}else if(Array.isArray(m))return y(m,p);return k(m,p)}function k(m,g){var p=Object.keys(m);if(p.length===0)return"{}";if(g.length>d)return"["+_(m)+"]";var N=p.map(function(E){var x=f(m[E],g);return E+": "+x});return"{ "+N.join(", ")+" }"}function y(m,g){if(m.length===0)return"[]";if(g.length>d)return"[Array]";for(var p=Math.min(S,m.length),N=m.length-p,E=[],x=0;x<p;++x)E.push(f(m[x],g));return N===1?E.push("... 1 more item"):N>1&&E.push("... ".concat(N," more items")),"["+E.join(", ")+"]"}function u(m){var g=m[String(R.default)];if(typeof g=="function")return g;if(typeof m.inspect=="function")return m.inspect}function _(m){var g=Object.prototype.toString.call(m).replace(/^\[object /,"").replace(/]$/,"");if(g==="Object"&&typeof m.constructor=="function"){var p=m.constructor.name;if(typeof p=="string"&&p!=="")return p}return g}},79527:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var T=function(A,P){return A instanceof P};V.default=T},61321:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=T;function T(R,A){var P=!!R;if(!P)throw new Error(A!=null?A:"Unexpected invariant triggered.")}},55569:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=R;function T(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(S){return typeof S}:T=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},T(A)}function R(A){return T(A)=="object"&&A!==null}},98493:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var T=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,R=T;V.default=R},76257:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.isNode=d,V.Token=V.Location=void 0;var R=A(T(63580));function A(c){return c&&c.__esModule?c:{default:c}}var P=function(){function c(h,k,y){this.start=h.start,this.end=k.end,this.startToken=h,this.endToken=k,this.source=y}var f=c.prototype;return f.toJSON=function(){return{start:this.start,end:this.end}},c}();V.Location=P,(0,R.default)(P);var S=function(){function c(h,k,y,u,_,m,g){this.kind=h,this.start=k,this.end=y,this.line=u,this.column=_,this.value=g,this.prev=m,this.next=null}var f=c.prototype;return f.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},c}();V.Token=S,(0,R.default)(S);function d(c){return c!=null&&typeof c.kind=="string"}},69165:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.dedentBlockStringValue=T,V.getBlockStringIndentation=A,V.printBlockString=P;function T(S){var d=S.split(/\r\n|[\n\r]/g),c=A(S);if(c!==0)for(var f=1;f<d.length;f++)d[f]=d[f].slice(c);for(var h=0;h<d.length&&R(d[h]);)++h;for(var k=d.length;k>h&&R(d[k-1]);)--k;return d.slice(h,k).join(`
`)}function R(S){for(var d=0;d<S.length;++d)if(S[d]!==" "&&S[d]!=="	")return!1;return!0}function A(S){for(var d,c=!0,f=!0,h=0,k=null,y=0;y<S.length;++y)switch(S.charCodeAt(y)){case 13:S.charCodeAt(y+1)===10&&++y;case 10:c=!1,f=!0,h=0;break;case 9:case 32:++h;break;default:f&&!c&&(k===null||h<k)&&(k=h),f=!1}return(d=k)!==null&&d!==void 0?d:0}function P(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=S.indexOf(`
`)===-1,h=S[0]===" "||S[0]==="	",k=S[S.length-1]==='"',y=S[S.length-1]==="\\",u=!f||k||y||c,_="";return u&&!(f&&h)&&(_+=`
`+d),_+=d?S.replace(/\n/g,`
`+d):S,u&&(_+=`
`),'"""'+_.replace(/"""/g,'\\"""')+'"""'}},5919:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.DirectiveLocation=void 0;var T=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});V.DirectiveLocation=T},7030:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.Kind=void 0;var T=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});V.Kind=T},46083:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.isPunctuatorTokenKind=c,V.Lexer=void 0;var R=T(51352),A=T(76257),P=T(73038),S=T(69165),d=function(){function F(b){var L=new A.Token(P.TokenKind.SOF,0,0,0,0,null);this.source=b,this.lastToken=L,this.token=L,this.line=1,this.lineStart=0}var W=F.prototype;return W.advance=function(){this.lastToken=this.token;var L=this.token=this.lookahead();return L},W.lookahead=function(){var L=this.token;if(L.kind!==P.TokenKind.EOF)do{var z;L=(z=L.next)!==null&&z!==void 0?z:L.next=h(this,L)}while(L.kind===P.TokenKind.COMMENT);return L},F}();V.Lexer=d;function c(F){return F===P.TokenKind.BANG||F===P.TokenKind.DOLLAR||F===P.TokenKind.AMP||F===P.TokenKind.PAREN_L||F===P.TokenKind.PAREN_R||F===P.TokenKind.SPREAD||F===P.TokenKind.COLON||F===P.TokenKind.EQUALS||F===P.TokenKind.AT||F===P.TokenKind.BRACKET_L||F===P.TokenKind.BRACKET_R||F===P.TokenKind.BRACE_L||F===P.TokenKind.PIPE||F===P.TokenKind.BRACE_R}function f(F){return isNaN(F)?P.TokenKind.EOF:F<127?JSON.stringify(String.fromCharCode(F)):'"\\u'.concat(("00"+F.toString(16).toUpperCase()).slice(-4),'"')}function h(F,W){for(var b=F.source,L=b.body,z=L.length,K=W.end;K<z;){var J=L.charCodeAt(K),ie=F.line,Y=1+K-F.lineStart;switch(J){case 65279:case 9:case 32:case 44:++K;continue;case 10:++K,++F.line,F.lineStart=K;continue;case 13:L.charCodeAt(K+1)===10?K+=2:++K,++F.line,F.lineStart=K;continue;case 33:return new A.Token(P.TokenKind.BANG,K,K+1,ie,Y,W);case 35:return y(b,K,ie,Y,W);case 36:return new A.Token(P.TokenKind.DOLLAR,K,K+1,ie,Y,W);case 38:return new A.Token(P.TokenKind.AMP,K,K+1,ie,Y,W);case 40:return new A.Token(P.TokenKind.PAREN_L,K,K+1,ie,Y,W);case 41:return new A.Token(P.TokenKind.PAREN_R,K,K+1,ie,Y,W);case 46:if(L.charCodeAt(K+1)===46&&L.charCodeAt(K+2)===46)return new A.Token(P.TokenKind.SPREAD,K,K+3,ie,Y,W);break;case 58:return new A.Token(P.TokenKind.COLON,K,K+1,ie,Y,W);case 61:return new A.Token(P.TokenKind.EQUALS,K,K+1,ie,Y,W);case 64:return new A.Token(P.TokenKind.AT,K,K+1,ie,Y,W);case 91:return new A.Token(P.TokenKind.BRACKET_L,K,K+1,ie,Y,W);case 93:return new A.Token(P.TokenKind.BRACKET_R,K,K+1,ie,Y,W);case 123:return new A.Token(P.TokenKind.BRACE_L,K,K+1,ie,Y,W);case 124:return new A.Token(P.TokenKind.PIPE,K,K+1,ie,Y,W);case 125:return new A.Token(P.TokenKind.BRACE_R,K,K+1,ie,Y,W);case 34:return L.charCodeAt(K+1)===34&&L.charCodeAt(K+2)===34?g(b,K,ie,Y,W,F):m(b,K,ie,Y,W);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return u(b,K,J,ie,Y,W);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return E(b,K,ie,Y,W)}throw(0,R.syntaxError)(b,K,k(J))}var M=F.line,$=1+K-F.lineStart;return new A.Token(P.TokenKind.EOF,z,z,M,$,W)}function k(F){return F<32&&F!==9&&F!==10&&F!==13?"Cannot contain the invalid character ".concat(f(F),"."):F===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(f(F),".")}function y(F,W,b,L,z){var K=F.body,J,ie=W;do J=K.charCodeAt(++ie);while(!isNaN(J)&&(J>31||J===9));return new A.Token(P.TokenKind.COMMENT,W,ie,b,L,z,K.slice(W+1,ie))}function u(F,W,b,L,z,K){var J=F.body,ie=b,Y=W,M=!1;if(ie===45&&(ie=J.charCodeAt(++Y)),ie===48){if(ie=J.charCodeAt(++Y),ie>=48&&ie<=57)throw(0,R.syntaxError)(F,Y,"Invalid number, unexpected digit after 0: ".concat(f(ie),"."))}else Y=_(F,Y,ie),ie=J.charCodeAt(Y);if(ie===46&&(M=!0,ie=J.charCodeAt(++Y),Y=_(F,Y,ie),ie=J.charCodeAt(Y)),(ie===69||ie===101)&&(M=!0,ie=J.charCodeAt(++Y),(ie===43||ie===45)&&(ie=J.charCodeAt(++Y)),Y=_(F,Y,ie),ie=J.charCodeAt(Y)),ie===46||x(ie))throw(0,R.syntaxError)(F,Y,"Invalid number, expected digit but got: ".concat(f(ie),"."));return new A.Token(M?P.TokenKind.FLOAT:P.TokenKind.INT,W,Y,L,z,K,J.slice(W,Y))}function _(F,W,b){var L=F.body,z=W,K=b;if(K>=48&&K<=57){do K=L.charCodeAt(++z);while(K>=48&&K<=57);return z}throw(0,R.syntaxError)(F,z,"Invalid number, expected digit but got: ".concat(f(K),"."))}function m(F,W,b,L,z){for(var K=F.body,J=W+1,ie=J,Y=0,M="";J<K.length&&!isNaN(Y=K.charCodeAt(J))&&Y!==10&&Y!==13;){if(Y===34)return M+=K.slice(ie,J),new A.Token(P.TokenKind.STRING,W,J+1,b,L,z,M);if(Y<32&&Y!==9)throw(0,R.syntaxError)(F,J,"Invalid character within String: ".concat(f(Y),"."));if(++J,Y===92){switch(M+=K.slice(ie,J-1),Y=K.charCodeAt(J),Y){case 34:M+='"';break;case 47:M+="/";break;case 92:M+="\\";break;case 98:M+="\b";break;case 102:M+="\f";break;case 110:M+=`
`;break;case 114:M+="\r";break;case 116:M+="	";break;case 117:{var $=p(K.charCodeAt(J+1),K.charCodeAt(J+2),K.charCodeAt(J+3),K.charCodeAt(J+4));if($<0){var C=K.slice(J+1,J+5);throw(0,R.syntaxError)(F,J,"Invalid character escape sequence: \\u".concat(C,"."))}M+=String.fromCharCode($),J+=4;break}default:throw(0,R.syntaxError)(F,J,"Invalid character escape sequence: \\".concat(String.fromCharCode(Y),"."))}++J,ie=J}}throw(0,R.syntaxError)(F,J,"Unterminated string.")}function g(F,W,b,L,z,K){for(var J=F.body,ie=W+3,Y=ie,M=0,$="";ie<J.length&&!isNaN(M=J.charCodeAt(ie));){if(M===34&&J.charCodeAt(ie+1)===34&&J.charCodeAt(ie+2)===34)return $+=J.slice(Y,ie),new A.Token(P.TokenKind.BLOCK_STRING,W,ie+3,b,L,z,(0,S.dedentBlockStringValue)($));if(M<32&&M!==9&&M!==10&&M!==13)throw(0,R.syntaxError)(F,ie,"Invalid character within String: ".concat(f(M),"."));M===10?(++ie,++K.line,K.lineStart=ie):M===13?(J.charCodeAt(ie+1)===10?ie+=2:++ie,++K.line,K.lineStart=ie):M===92&&J.charCodeAt(ie+1)===34&&J.charCodeAt(ie+2)===34&&J.charCodeAt(ie+3)===34?($+=J.slice(Y,ie)+'"""',ie+=4,Y=ie):++ie}throw(0,R.syntaxError)(F,ie,"Unterminated string.")}function p(F,W,b,L){return N(F)<<12|N(W)<<8|N(b)<<4|N(L)}function N(F){return F>=48&&F<=57?F-48:F>=65&&F<=70?F-55:F>=97&&F<=102?F-87:-1}function E(F,W,b,L,z){for(var K=F.body,J=K.length,ie=W+1,Y=0;ie!==J&&!isNaN(Y=K.charCodeAt(ie))&&(Y===95||Y>=48&&Y<=57||Y>=65&&Y<=90||Y>=97&&Y<=122);)++ie;return new A.Token(P.TokenKind.NAME,W,ie,b,L,z,K.slice(W,ie))}function x(F){return F===95||F>=65&&F<=90||F>=97&&F<=122}},99530:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.getLocation=T;function T(R,A){for(var P=/\r\n|[\n\r]/g,S=1,d=A+1,c;(c=P.exec(R.body))&&c.index<A;)S+=1,d=A+1-(c.index+c[0].length);return{line:S,column:d}}},50246:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.parse=h,V.parseValue=k,V.parseType=y,V.Parser=void 0;var R=T(51352),A=T(7030),P=T(76257),S=T(73038),d=T(46876),c=T(5919),f=T(46083);function h(g,p){var N=new u(g,p);return N.parseDocument()}function k(g,p){var N=new u(g,p);N.expectToken(S.TokenKind.SOF);var E=N.parseValueLiteral(!1);return N.expectToken(S.TokenKind.EOF),E}function y(g,p){var N=new u(g,p);N.expectToken(S.TokenKind.SOF);var E=N.parseTypeReference();return N.expectToken(S.TokenKind.EOF),E}var u=function(){function g(N,E){var x=(0,d.isSource)(N)?N:new d.Source(N);this._lexer=new f.Lexer(x),this._options=E}var p=g.prototype;return p.parseName=function(){var E=this.expectToken(S.TokenKind.NAME);return{kind:A.Kind.NAME,value:E.value,loc:this.loc(E)}},p.parseDocument=function(){var E=this._lexer.token;return{kind:A.Kind.DOCUMENT,definitions:this.many(S.TokenKind.SOF,this.parseDefinition,S.TokenKind.EOF),loc:this.loc(E)}},p.parseDefinition=function(){if(this.peek(S.TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(S.TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},p.parseOperationDefinition=function(){var E=this._lexer.token;if(this.peek(S.TokenKind.BRACE_L))return{kind:A.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(E)};var x=this.parseOperationType(),F;return this.peek(S.TokenKind.NAME)&&(F=this.parseName()),{kind:A.Kind.OPERATION_DEFINITION,operation:x,name:F,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(E)}},p.parseOperationType=function(){var E=this.expectToken(S.TokenKind.NAME);switch(E.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(E)},p.parseVariableDefinitions=function(){return this.optionalMany(S.TokenKind.PAREN_L,this.parseVariableDefinition,S.TokenKind.PAREN_R)},p.parseVariableDefinition=function(){var E=this._lexer.token;return{kind:A.Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(S.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(S.TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(E)}},p.parseVariable=function(){var E=this._lexer.token;return this.expectToken(S.TokenKind.DOLLAR),{kind:A.Kind.VARIABLE,name:this.parseName(),loc:this.loc(E)}},p.parseSelectionSet=function(){var E=this._lexer.token;return{kind:A.Kind.SELECTION_SET,selections:this.many(S.TokenKind.BRACE_L,this.parseSelection,S.TokenKind.BRACE_R),loc:this.loc(E)}},p.parseSelection=function(){return this.peek(S.TokenKind.SPREAD)?this.parseFragment():this.parseField()},p.parseField=function(){var E=this._lexer.token,x=this.parseName(),F,W;return this.expectOptionalToken(S.TokenKind.COLON)?(F=x,W=this.parseName()):W=x,{kind:A.Kind.FIELD,alias:F,name:W,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(S.TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(E)}},p.parseArguments=function(E){var x=E?this.parseConstArgument:this.parseArgument;return this.optionalMany(S.TokenKind.PAREN_L,x,S.TokenKind.PAREN_R)},p.parseArgument=function(){var E=this._lexer.token,x=this.parseName();return this.expectToken(S.TokenKind.COLON),{kind:A.Kind.ARGUMENT,name:x,value:this.parseValueLiteral(!1),loc:this.loc(E)}},p.parseConstArgument=function(){var E=this._lexer.token;return{kind:A.Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(S.TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(E)}},p.parseFragment=function(){var E=this._lexer.token;this.expectToken(S.TokenKind.SPREAD);var x=this.expectOptionalKeyword("on");return!x&&this.peek(S.TokenKind.NAME)?{kind:A.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(E)}:{kind:A.Kind.INLINE_FRAGMENT,typeCondition:x?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(E)}},p.parseFragmentDefinition=function(){var E,x=this._lexer.token;return this.expectKeyword("fragment"),((E=this._options)===null||E===void 0?void 0:E.experimentalFragmentVariables)===!0?{kind:A.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(x)}:{kind:A.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(x)}},p.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},p.parseValueLiteral=function(E){var x=this._lexer.token;switch(x.kind){case S.TokenKind.BRACKET_L:return this.parseList(E);case S.TokenKind.BRACE_L:return this.parseObject(E);case S.TokenKind.INT:return this._lexer.advance(),{kind:A.Kind.INT,value:x.value,loc:this.loc(x)};case S.TokenKind.FLOAT:return this._lexer.advance(),{kind:A.Kind.FLOAT,value:x.value,loc:this.loc(x)};case S.TokenKind.STRING:case S.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case S.TokenKind.NAME:switch(this._lexer.advance(),x.value){case"true":return{kind:A.Kind.BOOLEAN,value:!0,loc:this.loc(x)};case"false":return{kind:A.Kind.BOOLEAN,value:!1,loc:this.loc(x)};case"null":return{kind:A.Kind.NULL,loc:this.loc(x)};default:return{kind:A.Kind.ENUM,value:x.value,loc:this.loc(x)}}case S.TokenKind.DOLLAR:if(!E)return this.parseVariable();break}throw this.unexpected()},p.parseStringLiteral=function(){var E=this._lexer.token;return this._lexer.advance(),{kind:A.Kind.STRING,value:E.value,block:E.kind===S.TokenKind.BLOCK_STRING,loc:this.loc(E)}},p.parseList=function(E){var x=this,F=this._lexer.token,W=function(){return x.parseValueLiteral(E)};return{kind:A.Kind.LIST,values:this.any(S.TokenKind.BRACKET_L,W,S.TokenKind.BRACKET_R),loc:this.loc(F)}},p.parseObject=function(E){var x=this,F=this._lexer.token,W=function(){return x.parseObjectField(E)};return{kind:A.Kind.OBJECT,fields:this.any(S.TokenKind.BRACE_L,W,S.TokenKind.BRACE_R),loc:this.loc(F)}},p.parseObjectField=function(E){var x=this._lexer.token,F=this.parseName();return this.expectToken(S.TokenKind.COLON),{kind:A.Kind.OBJECT_FIELD,name:F,value:this.parseValueLiteral(E),loc:this.loc(x)}},p.parseDirectives=function(E){for(var x=[];this.peek(S.TokenKind.AT);)x.push(this.parseDirective(E));return x},p.parseDirective=function(E){var x=this._lexer.token;return this.expectToken(S.TokenKind.AT),{kind:A.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(E),loc:this.loc(x)}},p.parseTypeReference=function(){var E=this._lexer.token,x;return this.expectOptionalToken(S.TokenKind.BRACKET_L)?(x=this.parseTypeReference(),this.expectToken(S.TokenKind.BRACKET_R),x={kind:A.Kind.LIST_TYPE,type:x,loc:this.loc(E)}):x=this.parseNamedType(),this.expectOptionalToken(S.TokenKind.BANG)?{kind:A.Kind.NON_NULL_TYPE,type:x,loc:this.loc(E)}:x},p.parseNamedType=function(){var E=this._lexer.token;return{kind:A.Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(E)}},p.parseTypeSystemDefinition=function(){var E=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(E.kind===S.TokenKind.NAME)switch(E.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(E)},p.peekDescription=function(){return this.peek(S.TokenKind.STRING)||this.peek(S.TokenKind.BLOCK_STRING)},p.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},p.parseSchemaDefinition=function(){var E=this._lexer.token,x=this.parseDescription();this.expectKeyword("schema");var F=this.parseDirectives(!0),W=this.many(S.TokenKind.BRACE_L,this.parseOperationTypeDefinition,S.TokenKind.BRACE_R);return{kind:A.Kind.SCHEMA_DEFINITION,description:x,directives:F,operationTypes:W,loc:this.loc(E)}},p.parseOperationTypeDefinition=function(){var E=this._lexer.token,x=this.parseOperationType();this.expectToken(S.TokenKind.COLON);var F=this.parseNamedType();return{kind:A.Kind.OPERATION_TYPE_DEFINITION,operation:x,type:F,loc:this.loc(E)}},p.parseScalarTypeDefinition=function(){var E=this._lexer.token,x=this.parseDescription();this.expectKeyword("scalar");var F=this.parseName(),W=this.parseDirectives(!0);return{kind:A.Kind.SCALAR_TYPE_DEFINITION,description:x,name:F,directives:W,loc:this.loc(E)}},p.parseObjectTypeDefinition=function(){var E=this._lexer.token,x=this.parseDescription();this.expectKeyword("type");var F=this.parseName(),W=this.parseImplementsInterfaces(),b=this.parseDirectives(!0),L=this.parseFieldsDefinition();return{kind:A.Kind.OBJECT_TYPE_DEFINITION,description:x,name:F,interfaces:W,directives:b,fields:L,loc:this.loc(E)}},p.parseImplementsInterfaces=function(){var E;if(!this.expectOptionalKeyword("implements"))return[];if(((E=this._options)===null||E===void 0?void 0:E.allowLegacySDLImplementsInterfaces)===!0){var x=[];this.expectOptionalToken(S.TokenKind.AMP);do x.push(this.parseNamedType());while(this.expectOptionalToken(S.TokenKind.AMP)||this.peek(S.TokenKind.NAME));return x}return this.delimitedMany(S.TokenKind.AMP,this.parseNamedType)},p.parseFieldsDefinition=function(){var E;return((E=this._options)===null||E===void 0?void 0:E.allowLegacySDLEmptyFields)===!0&&this.peek(S.TokenKind.BRACE_L)&&this._lexer.lookahead().kind===S.TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(S.TokenKind.BRACE_L,this.parseFieldDefinition,S.TokenKind.BRACE_R)},p.parseFieldDefinition=function(){var E=this._lexer.token,x=this.parseDescription(),F=this.parseName(),W=this.parseArgumentDefs();this.expectToken(S.TokenKind.COLON);var b=this.parseTypeReference(),L=this.parseDirectives(!0);return{kind:A.Kind.FIELD_DEFINITION,description:x,name:F,arguments:W,type:b,directives:L,loc:this.loc(E)}},p.parseArgumentDefs=function(){return this.optionalMany(S.TokenKind.PAREN_L,this.parseInputValueDef,S.TokenKind.PAREN_R)},p.parseInputValueDef=function(){var E=this._lexer.token,x=this.parseDescription(),F=this.parseName();this.expectToken(S.TokenKind.COLON);var W=this.parseTypeReference(),b;this.expectOptionalToken(S.TokenKind.EQUALS)&&(b=this.parseValueLiteral(!0));var L=this.parseDirectives(!0);return{kind:A.Kind.INPUT_VALUE_DEFINITION,description:x,name:F,type:W,defaultValue:b,directives:L,loc:this.loc(E)}},p.parseInterfaceTypeDefinition=function(){var E=this._lexer.token,x=this.parseDescription();this.expectKeyword("interface");var F=this.parseName(),W=this.parseImplementsInterfaces(),b=this.parseDirectives(!0),L=this.parseFieldsDefinition();return{kind:A.Kind.INTERFACE_TYPE_DEFINITION,description:x,name:F,interfaces:W,directives:b,fields:L,loc:this.loc(E)}},p.parseUnionTypeDefinition=function(){var E=this._lexer.token,x=this.parseDescription();this.expectKeyword("union");var F=this.parseName(),W=this.parseDirectives(!0),b=this.parseUnionMemberTypes();return{kind:A.Kind.UNION_TYPE_DEFINITION,description:x,name:F,directives:W,types:b,loc:this.loc(E)}},p.parseUnionMemberTypes=function(){return this.expectOptionalToken(S.TokenKind.EQUALS)?this.delimitedMany(S.TokenKind.PIPE,this.parseNamedType):[]},p.parseEnumTypeDefinition=function(){var E=this._lexer.token,x=this.parseDescription();this.expectKeyword("enum");var F=this.parseName(),W=this.parseDirectives(!0),b=this.parseEnumValuesDefinition();return{kind:A.Kind.ENUM_TYPE_DEFINITION,description:x,name:F,directives:W,values:b,loc:this.loc(E)}},p.parseEnumValuesDefinition=function(){return this.optionalMany(S.TokenKind.BRACE_L,this.parseEnumValueDefinition,S.TokenKind.BRACE_R)},p.parseEnumValueDefinition=function(){var E=this._lexer.token,x=this.parseDescription(),F=this.parseName(),W=this.parseDirectives(!0);return{kind:A.Kind.ENUM_VALUE_DEFINITION,description:x,name:F,directives:W,loc:this.loc(E)}},p.parseInputObjectTypeDefinition=function(){var E=this._lexer.token,x=this.parseDescription();this.expectKeyword("input");var F=this.parseName(),W=this.parseDirectives(!0),b=this.parseInputFieldsDefinition();return{kind:A.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:x,name:F,directives:W,fields:b,loc:this.loc(E)}},p.parseInputFieldsDefinition=function(){return this.optionalMany(S.TokenKind.BRACE_L,this.parseInputValueDef,S.TokenKind.BRACE_R)},p.parseTypeSystemExtension=function(){var E=this._lexer.lookahead();if(E.kind===S.TokenKind.NAME)switch(E.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(E)},p.parseSchemaExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var x=this.parseDirectives(!0),F=this.optionalMany(S.TokenKind.BRACE_L,this.parseOperationTypeDefinition,S.TokenKind.BRACE_R);if(x.length===0&&F.length===0)throw this.unexpected();return{kind:A.Kind.SCHEMA_EXTENSION,directives:x,operationTypes:F,loc:this.loc(E)}},p.parseScalarTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var x=this.parseName(),F=this.parseDirectives(!0);if(F.length===0)throw this.unexpected();return{kind:A.Kind.SCALAR_TYPE_EXTENSION,name:x,directives:F,loc:this.loc(E)}},p.parseObjectTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var x=this.parseName(),F=this.parseImplementsInterfaces(),W=this.parseDirectives(!0),b=this.parseFieldsDefinition();if(F.length===0&&W.length===0&&b.length===0)throw this.unexpected();return{kind:A.Kind.OBJECT_TYPE_EXTENSION,name:x,interfaces:F,directives:W,fields:b,loc:this.loc(E)}},p.parseInterfaceTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var x=this.parseName(),F=this.parseImplementsInterfaces(),W=this.parseDirectives(!0),b=this.parseFieldsDefinition();if(F.length===0&&W.length===0&&b.length===0)throw this.unexpected();return{kind:A.Kind.INTERFACE_TYPE_EXTENSION,name:x,interfaces:F,directives:W,fields:b,loc:this.loc(E)}},p.parseUnionTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var x=this.parseName(),F=this.parseDirectives(!0),W=this.parseUnionMemberTypes();if(F.length===0&&W.length===0)throw this.unexpected();return{kind:A.Kind.UNION_TYPE_EXTENSION,name:x,directives:F,types:W,loc:this.loc(E)}},p.parseEnumTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var x=this.parseName(),F=this.parseDirectives(!0),W=this.parseEnumValuesDefinition();if(F.length===0&&W.length===0)throw this.unexpected();return{kind:A.Kind.ENUM_TYPE_EXTENSION,name:x,directives:F,values:W,loc:this.loc(E)}},p.parseInputObjectTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var x=this.parseName(),F=this.parseDirectives(!0),W=this.parseInputFieldsDefinition();if(F.length===0&&W.length===0)throw this.unexpected();return{kind:A.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:x,directives:F,fields:W,loc:this.loc(E)}},p.parseDirectiveDefinition=function(){var E=this._lexer.token,x=this.parseDescription();this.expectKeyword("directive"),this.expectToken(S.TokenKind.AT);var F=this.parseName(),W=this.parseArgumentDefs(),b=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var L=this.parseDirectiveLocations();return{kind:A.Kind.DIRECTIVE_DEFINITION,description:x,name:F,arguments:W,repeatable:b,locations:L,loc:this.loc(E)}},p.parseDirectiveLocations=function(){return this.delimitedMany(S.TokenKind.PIPE,this.parseDirectiveLocation)},p.parseDirectiveLocation=function(){var E=this._lexer.token,x=this.parseName();if(c.DirectiveLocation[x.value]!==void 0)return x;throw this.unexpected(E)},p.loc=function(E){var x;if(((x=this._options)===null||x===void 0?void 0:x.noLocation)!==!0)return new P.Location(E,this._lexer.lastToken,this._lexer.source)},p.peek=function(E){return this._lexer.token.kind===E},p.expectToken=function(E){var x=this._lexer.token;if(x.kind===E)return this._lexer.advance(),x;throw(0,R.syntaxError)(this._lexer.source,x.start,"Expected ".concat(m(E),", found ").concat(_(x),"."))},p.expectOptionalToken=function(E){var x=this._lexer.token;if(x.kind===E)return this._lexer.advance(),x},p.expectKeyword=function(E){var x=this._lexer.token;if(x.kind===S.TokenKind.NAME&&x.value===E)this._lexer.advance();else throw(0,R.syntaxError)(this._lexer.source,x.start,'Expected "'.concat(E,'", found ').concat(_(x),"."))},p.expectOptionalKeyword=function(E){var x=this._lexer.token;return x.kind===S.TokenKind.NAME&&x.value===E?(this._lexer.advance(),!0):!1},p.unexpected=function(E){var x=E!=null?E:this._lexer.token;return(0,R.syntaxError)(this._lexer.source,x.start,"Unexpected ".concat(_(x),"."))},p.any=function(E,x,F){this.expectToken(E);for(var W=[];!this.expectOptionalToken(F);)W.push(x.call(this));return W},p.optionalMany=function(E,x,F){if(this.expectOptionalToken(E)){var W=[];do W.push(x.call(this));while(!this.expectOptionalToken(F));return W}return[]},p.many=function(E,x,F){this.expectToken(E);var W=[];do W.push(x.call(this));while(!this.expectOptionalToken(F));return W},p.delimitedMany=function(E,x){this.expectOptionalToken(E);var F=[];do F.push(x.call(this));while(this.expectOptionalToken(E));return F},g}();V.Parser=u;function _(g){var p=g.value;return m(g.kind)+(p!=null?' "'.concat(p,'"'):"")}function m(g){return(0,f.isPunctuatorTokenKind)(g)?'"'.concat(g,'"'):g}},40825:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.printLocation=A,V.printSourceLocation=P;var R=T(99530);function A(f){return P(f.source,(0,R.getLocation)(f.source,f.start))}function P(f,h){var k=f.locationOffset.column-1,y=d(k)+f.body,u=h.line-1,_=f.locationOffset.line-1,m=h.line+_,g=h.line===1?k:0,p=h.column+g,N="".concat(f.name,":").concat(m,":").concat(p,`
`),E=y.split(/\r\n|[\n\r]/g),x=E[u];if(x.length>120){for(var F=Math.floor(p/80),W=p%80,b=[],L=0;L<x.length;L+=80)b.push(x.slice(L,L+80));return N+S([["".concat(m),b[0]]].concat(b.slice(1,F+1).map(function(z){return["",z]}),[[" ",d(W-1)+"^"],["",b[F+1]]]))}return N+S([["".concat(m-1),E[u-1]],["".concat(m),x],["",d(p-1)+"^"],["".concat(m+1),E[u+1]]])}function S(f){var h=f.filter(function(y){var u=y[0],_=y[1];return _!==void 0}),k=Math.max.apply(Math,h.map(function(y){var u=y[0];return u.length}));return h.map(function(y){var u=y[0],_=y[1];return c(k,u)+(_?" | "+_:" |")}).join(`
`)}function d(f){return Array(f+1).join(" ")}function c(f,h){return d(f-h.length)+h}},70585:(s,V,T)=>{"use strict";var R;R={value:!0},V.y=S;var A=T(9111),P=T(69165);function S(g){return(0,A.visit)(g,{leave:c})}var d=80,c={Name:function(p){return p.value},Variable:function(p){return"$"+p.name},Document:function(p){return h(p.definitions,`

`)+`
`},OperationDefinition:function(p){var N=p.operation,E=p.name,x=y("(",h(p.variableDefinitions,", "),")"),F=h(p.directives," "),W=p.selectionSet;return!E&&!F&&!x&&N==="query"?W:h([N,h([E,x]),F,W]," ")},VariableDefinition:function(p){var N=p.variable,E=p.type,x=p.defaultValue,F=p.directives;return N+": "+E+y(" = ",x)+y(" ",h(F," "))},SelectionSet:function(p){var N=p.selections;return k(N)},Field:function(p){var N=p.alias,E=p.name,x=p.arguments,F=p.directives,W=p.selectionSet,b=y("",N,": ")+E,L=b+y("(",h(x,", "),")");return L.length>d&&(L=b+y(`(
`,u(h(x,`
`)),`
)`)),h([L,h(F," "),W]," ")},Argument:function(p){var N=p.name,E=p.value;return N+": "+E},FragmentSpread:function(p){var N=p.name,E=p.directives;return"..."+N+y(" ",h(E," "))},InlineFragment:function(p){var N=p.typeCondition,E=p.directives,x=p.selectionSet;return h(["...",y("on ",N),h(E," "),x]," ")},FragmentDefinition:function(p){var N=p.name,E=p.typeCondition,x=p.variableDefinitions,F=p.directives,W=p.selectionSet;return"fragment ".concat(N).concat(y("(",h(x,", "),")")," ")+"on ".concat(E," ").concat(y("",h(F," ")," "))+W},IntValue:function(p){var N=p.value;return N},FloatValue:function(p){var N=p.value;return N},StringValue:function(p,N){var E=p.value,x=p.block;return x?(0,P.printBlockString)(E,N==="description"?"":"  "):JSON.stringify(E)},BooleanValue:function(p){var N=p.value;return N?"true":"false"},NullValue:function(){return"null"},EnumValue:function(p){var N=p.value;return N},ListValue:function(p){var N=p.values;return"["+h(N,", ")+"]"},ObjectValue:function(p){var N=p.fields;return"{"+h(N,", ")+"}"},ObjectField:function(p){var N=p.name,E=p.value;return N+": "+E},Directive:function(p){var N=p.name,E=p.arguments;return"@"+N+y("(",h(E,", "),")")},NamedType:function(p){var N=p.name;return N},ListType:function(p){var N=p.type;return"["+N+"]"},NonNullType:function(p){var N=p.type;return N+"!"},SchemaDefinition:f(function(g){var p=g.directives,N=g.operationTypes;return h(["schema",h(p," "),k(N)]," ")}),OperationTypeDefinition:function(p){var N=p.operation,E=p.type;return N+": "+E},ScalarTypeDefinition:f(function(g){var p=g.name,N=g.directives;return h(["scalar",p,h(N," ")]," ")}),ObjectTypeDefinition:f(function(g){var p=g.name,N=g.interfaces,E=g.directives,x=g.fields;return h(["type",p,y("implements ",h(N," & ")),h(E," "),k(x)]," ")}),FieldDefinition:f(function(g){var p=g.name,N=g.arguments,E=g.type,x=g.directives;return p+(m(N)?y(`(
`,u(h(N,`
`)),`
)`):y("(",h(N,", "),")"))+": "+E+y(" ",h(x," "))}),InputValueDefinition:f(function(g){var p=g.name,N=g.type,E=g.defaultValue,x=g.directives;return h([p+": "+N,y("= ",E),h(x," ")]," ")}),InterfaceTypeDefinition:f(function(g){var p=g.name,N=g.interfaces,E=g.directives,x=g.fields;return h(["interface",p,y("implements ",h(N," & ")),h(E," "),k(x)]," ")}),UnionTypeDefinition:f(function(g){var p=g.name,N=g.directives,E=g.types;return h(["union",p,h(N," "),E&&E.length!==0?"= "+h(E," | "):""]," ")}),EnumTypeDefinition:f(function(g){var p=g.name,N=g.directives,E=g.values;return h(["enum",p,h(N," "),k(E)]," ")}),EnumValueDefinition:f(function(g){var p=g.name,N=g.directives;return h([p,h(N," ")]," ")}),InputObjectTypeDefinition:f(function(g){var p=g.name,N=g.directives,E=g.fields;return h(["input",p,h(N," "),k(E)]," ")}),DirectiveDefinition:f(function(g){var p=g.name,N=g.arguments,E=g.repeatable,x=g.locations;return"directive @"+p+(m(N)?y(`(
`,u(h(N,`
`)),`
)`):y("(",h(N,", "),")"))+(E?" repeatable":"")+" on "+h(x," | ")}),SchemaExtension:function(p){var N=p.directives,E=p.operationTypes;return h(["extend schema",h(N," "),k(E)]," ")},ScalarTypeExtension:function(p){var N=p.name,E=p.directives;return h(["extend scalar",N,h(E," ")]," ")},ObjectTypeExtension:function(p){var N=p.name,E=p.interfaces,x=p.directives,F=p.fields;return h(["extend type",N,y("implements ",h(E," & ")),h(x," "),k(F)]," ")},InterfaceTypeExtension:function(p){var N=p.name,E=p.interfaces,x=p.directives,F=p.fields;return h(["extend interface",N,y("implements ",h(E," & ")),h(x," "),k(F)]," ")},UnionTypeExtension:function(p){var N=p.name,E=p.directives,x=p.types;return h(["extend union",N,h(E," "),x&&x.length!==0?"= "+h(x," | "):""]," ")},EnumTypeExtension:function(p){var N=p.name,E=p.directives,x=p.values;return h(["extend enum",N,h(E," "),k(x)]," ")},InputObjectTypeExtension:function(p){var N=p.name,E=p.directives,x=p.fields;return h(["extend input",N,h(E," "),k(x)]," ")}};function f(g){return function(p){return h([p.description,g(p)],`
`)}}function h(g){var p,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(p=g==null?void 0:g.filter(function(E){return E}).join(N))!==null&&p!==void 0?p:""}function k(g){return y(`{
`,u(h(g,`
`)),`
}`)}function y(g,p){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return p!=null&&p!==""?g+p+N:""}function u(g){return y("  ",g.replace(/\n/g,`
  `))}function _(g){return g.indexOf(`
`)!==-1}function m(g){return g!=null&&g.some(_)}},46876:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.isSource=k,V.Source=void 0;var R=T(25888),A=d(T(29657)),P=d(T(93028)),S=d(T(79527));function d(y){return y&&y.__esModule?y:{default:y}}function c(y,u){for(var _=0;_<u.length;_++){var m=u[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}function f(y,u,_){return u&&c(y.prototype,u),_&&c(y,_),y}var h=function(){function y(u){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof u=="string"||(0,P.default)(0,"Body must be a string. Received: ".concat((0,A.default)(u),".")),this.body=u,this.name=_,this.locationOffset=m,this.locationOffset.line>0||(0,P.default)(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,P.default)(0,"column in locationOffset is 1-indexed and must be positive.")}return f(y,[{key:R.SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}]),y}();V.Source=h;function k(y){return(0,S.default)(y,h)}},73038:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.TokenKind=void 0;var T=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});V.TokenKind=T},9111:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.visit=c,V.visitInParallel=f,V.getVisitFn=h,V.BREAK=V.QueryDocumentKeys=void 0;var R=P(T(29657)),A=T(76257);function P(k){return k&&k.__esModule?k:{default:k}}var S={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};V.QueryDocumentKeys=S;var d=Object.freeze({});V.BREAK=d;function c(k,y){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,_=void 0,m=Array.isArray(k),g=[k],p=-1,N=[],E=void 0,x=void 0,F=void 0,W=[],b=[],L=k;do{p++;var z=p===g.length,K=z&&N.length!==0;if(z){if(x=b.length===0?void 0:W[W.length-1],E=F,F=b.pop(),K){if(m)E=E.slice();else{for(var J={},ie=0,Y=Object.keys(E);ie<Y.length;ie++){var M=Y[ie];J[M]=E[M]}E=J}for(var $=0,C=0;C<N.length;C++){var l=N[C][0],w=N[C][1];m&&(l-=$),m&&w===null?(E.splice(l,1),$++):E[l]=w}}p=_.index,g=_.keys,N=_.edits,m=_.inArray,_=_.prev}else{if(x=F?m?p:g[p]:void 0,E=F?F[x]:L,E==null)continue;F&&W.push(x)}var D=void 0;if(!Array.isArray(E)){if(!(0,A.isNode)(E))throw new Error("Invalid AST Node: ".concat((0,R.default)(E),"."));var q=h(y,E.kind,z);if(q){if(D=q.call(y,E,x,F,W,b),D===d)break;if(D===!1){if(!z){W.pop();continue}}else if(D!==void 0&&(N.push([x,D]),!z))if((0,A.isNode)(D))E=D;else{W.pop();continue}}}if(D===void 0&&K&&N.push([x,E]),z)W.pop();else{var j;_={inArray:m,index:p,keys:g,edits:N,prev:_},m=Array.isArray(E),g=m?E:(j=u[E.kind])!==null&&j!==void 0?j:[],p=-1,N=[],F&&b.push(F),F=E}}while(_!==void 0);return N.length!==0&&(L=N[N.length-1][1]),L}function f(k){var y=new Array(k.length);return{enter:function(_){for(var m=0;m<k.length;m++)if(y[m]==null){var g=h(k[m],_.kind,!1);if(g){var p=g.apply(k[m],arguments);if(p===!1)y[m]=_;else if(p===d)y[m]=d;else if(p!==void 0)return p}}},leave:function(_){for(var m=0;m<k.length;m++)if(y[m]==null){var g=h(k[m],_.kind,!0);if(g){var p=g.apply(k[m],arguments);if(p===d)y[m]=d;else if(p!==void 0&&p!==!1)return p}}else y[m]===_&&(y[m]=null)}}}function h(k,y,u){var _=k[y];if(_){if(!u&&typeof _=="function")return _;var m=u?_.leave:_.enter;if(typeof m=="function")return m}else{var g=u?k.leave:k.enter;if(g){if(typeof g=="function")return g;var p=g[y];if(typeof p=="function")return p}}}},25888:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.SYMBOL_TO_STRING_TAG=V.SYMBOL_ASYNC_ITERATOR=V.SYMBOL_ITERATOR=void 0;var T=typeof Symbol=="function"&&Symbol.iterator!=null?Symbol.iterator:"@@iterator";V.SYMBOL_ITERATOR=T;var R=typeof Symbol=="function"&&Symbol.asyncIterator!=null?Symbol.asyncIterator:"@@asyncIterator";V.SYMBOL_ASYNC_ITERATOR=R;var A=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";V.SYMBOL_TO_STRING_TAG=A},4729:(s,V,T)=>{"use strict";var R=T(92861).Buffer,A=T(61603).Transform,P=T(56698);function S(c,f){if(!R.isBuffer(c)&&typeof c!="string")throw new TypeError(f+" must be a string or a buffer")}function d(c){A.call(this),this._block=R.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}P(d,A),d.prototype._transform=function(c,f,h){var k=null;try{this.update(c,f)}catch(y){k=y}h(k)},d.prototype._flush=function(c){var f=null;try{this.push(this.digest())}catch(h){f=h}c(f)},d.prototype.update=function(c,f){if(S(c,"Data"),this._finalized)throw new Error("Digest already called");R.isBuffer(c)||(c=R.from(c,f));for(var h=this._block,k=0;this._blockOffset+c.length-k>=this._blockSize;){for(var y=this._blockOffset;y<this._blockSize;)h[y++]=c[k++];this._update(),this._blockOffset=0}for(;k<c.length;)h[this._blockOffset++]=c[k++];for(var u=0,_=c.length*8;_>0;++u)this._length[u]+=_,_=this._length[u]/4294967296|0,_>0&&(this._length[u]-=4294967296*_);return this},d.prototype._update=function(){throw new Error("_update is not implemented")},d.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var f=this._digest();c!==void 0&&(f=f.toString(c)),this._block.fill(0),this._blockOffset=0;for(var h=0;h<4;++h)this._length[h]=0;return f},d.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=d},92260:s=>{"use strict";function V(c,f){c.prototype=Object.create(f.prototype),c.prototype.constructor=c,c.__proto__=f}var T={};function R(c,f,h){h||(h=Error);function k(u,_,m){return typeof f=="string"?f:f(u,_,m)}var y=function(u){V(_,u);function _(m,g,p){return u.call(this,k(m,g,p))||this}return _}(h);y.prototype.name=h.name,y.prototype.code=c,T[c]=y}function A(c,f){if(Array.isArray(c)){var h=c.length;return c=c.map(function(k){return String(k)}),h>2?"one of ".concat(f," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(f," ").concat(c[0]," or ").concat(c[1]):"of ".concat(f," ").concat(c[0])}else return"of ".concat(f," ").concat(String(c))}function P(c,f,h){return c.substr(!h||h<0?0:+h,f.length)===f}function S(c,f,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-f.length,h)===f}function d(c,f,h){return typeof h!="number"&&(h=0),h+f.length>c.length?!1:c.indexOf(f,h)!==-1}R("ERR_INVALID_OPT_VALUE",function(c,f){return'The value "'+f+'" is invalid for option "'+c+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(c,f,h){var k;typeof f=="string"&&P(f,"not ")?(k="must not be",f=f.replace(/^not /,"")):k="must be";var y;if(S(c," argument"))y="The ".concat(c," ").concat(k," ").concat(A(f,"type"));else{var u=d(c,".")?"property":"argument";y='The "'.concat(c,'" ').concat(u," ").concat(k," ").concat(A(f,"type"))}return y+=". Received type ".concat(typeof h),y},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=T},92818:(s,V,T)=>{"use strict";var R=T(65606),A=Object.keys||function(u){var _=[];for(var m in u)_.push(m);return _};s.exports=h;var P=T(6736),S=T(62192);T(56698)(h,P);for(var d=A(S.prototype),c=0;c<d.length;c++){var f=d[c];h.prototype[f]||(h.prototype[f]=S.prototype[f])}function h(u){if(!(this instanceof h))return new h(u);P.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",k)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function k(){this._writableState.ended||R.nextTick(y,this)}function y(u){u.end()}Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(_){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=_,this._writableState.destroyed=_)}})},35860:(s,V,T)=>{"use strict";s.exports=A;var R=T(13054);T(56698)(A,R);function A(P){if(!(this instanceof A))return new A(P);R.call(this,P)}A.prototype._transform=function(P,S,d){d(null,P)}},6736:(s,V,T)=>{"use strict";var R=T(65606);s.exports=M;var A;M.ReadableState=Y;var P=T(37007).EventEmitter,S=function(O,oe){return O.listeners(oe).length},d=T(71181),c=T(48287).Buffer,f=T.g.Uint8Array||function(){};function h(U){return c.from(U)}function k(U){return c.isBuffer(U)||U instanceof f}var y=T(92382),u;y&&y.debuglog?u=y.debuglog("stream"):u=function(){};var _=T(12389),m=T(41468),g=T(8775),p=g.getHighWaterMark,N=T(92260).F,E=N.ERR_INVALID_ARG_TYPE,x=N.ERR_STREAM_PUSH_AFTER_EOF,F=N.ERR_METHOD_NOT_IMPLEMENTED,W=N.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b,L,z;T(56698)(M,d);var K=m.errorOrDestroy,J=["error","close","destroy","pause","resume"];function ie(U,O,oe){if(typeof U.prependListener=="function")return U.prependListener(O,oe);!U._events||!U._events[O]?U.on(O,oe):Array.isArray(U._events[O])?U._events[O].unshift(oe):U._events[O]=[oe,U._events[O]]}function Y(U,O,oe){A=A||T(92818),U=U||{},typeof oe!="boolean"&&(oe=O instanceof A),this.objectMode=!!U.objectMode,oe&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=p(this,U,"readableHighWaterMark",oe),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(b||(b=T(83141).I),this.decoder=new b(U.encoding),this.encoding=U.encoding)}function M(U){if(A=A||T(92818),!(this instanceof M))return new M(U);var O=this instanceof A;this._readableState=new Y(U,this,O),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),d.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),M.prototype.destroy=m.destroy,M.prototype._undestroy=m.undestroy,M.prototype._destroy=function(U,O){O(U)},M.prototype.push=function(U,O){var oe=this._readableState,ve;return oe.objectMode?ve=!0:typeof U=="string"&&(O=O||oe.defaultEncoding,O!==oe.encoding&&(U=c.from(U,O),O=""),ve=!0),$(this,U,O,!1,ve)},M.prototype.unshift=function(U){return $(this,U,null,!0,!1)};function $(U,O,oe,ve,we){u("readableAddChunk",O);var pe=U._readableState;if(O===null)pe.reading=!1,j(U,pe);else{var Pe;if(we||(Pe=l(pe,O)),Pe)K(U,Pe);else if(pe.objectMode||O&&O.length>0)if(typeof O!="string"&&!pe.objectMode&&Object.getPrototypeOf(O)!==c.prototype&&(O=h(O)),ve)pe.endEmitted?K(U,new W):C(U,pe,O,!0);else if(pe.ended)K(U,new x);else{if(pe.destroyed)return!1;pe.reading=!1,pe.decoder&&!oe?(O=pe.decoder.write(O),pe.objectMode||O.length!==0?C(U,pe,O,!1):te(U,pe)):C(U,pe,O,!1)}else ve||(pe.reading=!1,te(U,pe))}return!pe.ended&&(pe.length<pe.highWaterMark||pe.length===0)}function C(U,O,oe,ve){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,U.emit("data",oe)):(O.length+=O.objectMode?1:oe.length,ve?O.buffer.unshift(oe):O.buffer.push(oe),O.needReadable&&H(U)),te(U,O)}function l(U,O){var oe;return!k(O)&&typeof O!="string"&&O!==void 0&&!U.objectMode&&(oe=new E("chunk",["string","Buffer","Uint8Array"],O)),oe}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(U){b||(b=T(83141).I);var O=new b(U);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,ve="";oe!==null;)ve+=O.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),ve!==""&&this._readableState.buffer.push(ve),this._readableState.length=ve.length,this};var w=1073741824;function D(U){return U>=w?U=w:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function q(U,O){return U<=0||O.length===0&&O.ended?0:O.objectMode?1:U!==U?O.flowing&&O.length?O.buffer.head.data.length:O.length:(U>O.highWaterMark&&(O.highWaterMark=D(U)),U<=O.length?U:O.ended?O.length:(O.needReadable=!0,0))}M.prototype.read=function(U){u("read",U),U=parseInt(U,10);var O=this._readableState,oe=U;if(U!==0&&(O.emittedReadable=!1),U===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return u("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?de(this):H(this),null;if(U=q(U,O),U===0&&O.ended)return O.length===0&&de(this),null;var ve=O.needReadable;u("need readable",ve),(O.length===0||O.length-U<O.highWaterMark)&&(ve=!0,u("length less than watermark",ve)),O.ended||O.reading?(ve=!1,u("reading or ended",ve)):ve&&(u("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(U=q(oe,O)));var we;return U>0?we=ee(U,O):we=null,we===null?(O.needReadable=O.length<=O.highWaterMark,U=0):(O.length-=U,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),oe!==U&&O.ended&&de(this)),we!==null&&this.emit("data",we),we};function j(U,O){if(u("onEofChunk"),!O.ended){if(O.decoder){var oe=O.decoder.end();oe&&oe.length&&(O.buffer.push(oe),O.length+=O.objectMode?1:oe.length)}O.ended=!0,O.sync?H(U):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,Z(U)))}}function H(U){var O=U._readableState;u("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(u("emitReadable",O.flowing),O.emittedReadable=!0,R.nextTick(Z,U))}function Z(U){var O=U._readableState;u("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(U.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,X(U)}function te(U,O){O.readingMore||(O.readingMore=!0,R.nextTick(B,U,O))}function B(U,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var oe=O.length;if(u("maybeReadMore read 0"),U.read(0),oe===O.length)break}O.readingMore=!1}M.prototype._read=function(U){K(this,new F("_read()"))},M.prototype.pipe=function(U,O){var oe=this,ve=this._readableState;switch(ve.pipesCount){case 0:ve.pipes=U;break;case 1:ve.pipes=[ve.pipes,U];break;default:ve.pipes.push(U);break}ve.pipesCount+=1,u("pipe count=%d opts=%j",ve.pipesCount,O);var we=(!O||O.end!==!1)&&U!==R.stdout&&U!==R.stderr,pe=we?Le:se;ve.endEmitted?R.nextTick(pe):oe.once("end",pe),U.on("unpipe",Pe);function Pe(be,Me){u("onunpipe"),be===oe&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,Ke())}function Le(){u("onend"),U.end()}var He=ae(oe);U.on("drain",He);var kt=!1;function Ke(){u("cleanup"),U.removeListener("close",ce),U.removeListener("finish",ne),U.removeListener("drain",He),U.removeListener("error",yt),U.removeListener("unpipe",Pe),oe.removeListener("end",Le),oe.removeListener("end",se),oe.removeListener("data",Ze),kt=!0,ve.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&He()}oe.on("data",Ze);function Ze(be){u("ondata");var Me=U.write(be);u("dest.write",Me),Me===!1&&((ve.pipesCount===1&&ve.pipes===U||ve.pipesCount>1&&_e(ve.pipes,U)!==-1)&&!kt&&(u("false write response, pause",ve.awaitDrain),ve.awaitDrain++),oe.pause())}function yt(be){u("onerror",be),se(),U.removeListener("error",yt),S(U,"error")===0&&K(U,be)}ie(U,"error",yt);function ce(){U.removeListener("finish",ne),se()}U.once("close",ce);function ne(){u("onfinish"),U.removeListener("close",ce),se()}U.once("finish",ne);function se(){u("unpipe"),oe.unpipe(U)}return U.emit("pipe",oe),ve.flowing||(u("pipe resume"),oe.resume()),U};function ae(U){return function(){var oe=U._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&S(U,"data")&&(oe.flowing=!0,X(U))}}M.prototype.unpipe=function(U){var O=this._readableState,oe={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return U&&U!==O.pipes?this:(U||(U=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,U&&U.emit("unpipe",this,oe),this);if(!U){var ve=O.pipes,we=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var pe=0;pe<we;pe++)ve[pe].emit("unpipe",this,{hasUnpiped:!1});return this}var Pe=_e(O.pipes,U);return Pe===-1?this:(O.pipes.splice(Pe,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),U.emit("unpipe",this,oe),this)},M.prototype.on=function(U,O){var oe=d.prototype.on.call(this,U,O),ve=this._readableState;return U==="data"?(ve.readableListening=this.listenerCount("readable")>0,ve.flowing!==!1&&this.resume()):U==="readable"&&!ve.endEmitted&&!ve.readableListening&&(ve.readableListening=ve.needReadable=!0,ve.flowing=!1,ve.emittedReadable=!1,u("on readable",ve.length,ve.reading),ve.length?H(this):ve.reading||R.nextTick(he,this)),oe},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(U,O){var oe=d.prototype.removeListener.call(this,U,O);return U==="readable"&&R.nextTick(xe,this),oe},M.prototype.removeAllListeners=function(U){var O=d.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&R.nextTick(xe,this),O};function xe(U){var O=U._readableState;O.readableListening=U.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:U.listenerCount("data")>0&&U.resume()}function he(U){u("readable nexttick read 0"),U.read(0)}M.prototype.resume=function(){var U=this._readableState;return U.flowing||(u("resume"),U.flowing=!U.readableListening,Ee(this,U)),U.paused=!1,this};function Ee(U,O){O.resumeScheduled||(O.resumeScheduled=!0,R.nextTick(Ne,U,O))}function Ne(U,O){u("resume",O.reading),O.reading||U.read(0),O.resumeScheduled=!1,U.emit("resume"),X(U),O.flowing&&!O.reading&&U.read(0)}M.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(U){var O=U._readableState;for(u("flow",O.flowing);O.flowing&&U.read()!==null;);}M.prototype.wrap=function(U){var O=this,oe=this._readableState,ve=!1;U.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var Pe=oe.decoder.end();Pe&&Pe.length&&O.push(Pe)}O.push(null)}),U.on("data",function(Pe){if(u("wrapped data"),oe.decoder&&(Pe=oe.decoder.write(Pe)),!(oe.objectMode&&Pe==null)&&!(!oe.objectMode&&(!Pe||!Pe.length))){var Le=O.push(Pe);Le||(ve=!0,U.pause())}});for(var we in U)this[we]===void 0&&typeof U[we]=="function"&&(this[we]=function(Le){return function(){return U[Le].apply(U,arguments)}}(we));for(var pe=0;pe<J.length;pe++)U.on(J[pe],this.emit.bind(this,J[pe]));return this._read=function(Pe){u("wrapped _read",Pe),ve&&(ve=!1,U.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return L===void 0&&(L=T(74743)),L(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),M._fromList=ee,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(U,O){if(O.length===0)return null;var oe;return O.objectMode?oe=O.buffer.shift():!U||U>=O.length?(O.decoder?oe=O.buffer.join(""):O.buffer.length===1?oe=O.buffer.first():oe=O.buffer.concat(O.length),O.buffer.clear()):oe=O.buffer.consume(U,O.decoder),oe}function de(U){var O=U._readableState;u("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,R.nextTick(me,O,U))}function me(U,O){if(u("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,O.readable=!1,O.emit("end"),U.autoDestroy)){var oe=O._writableState;(!oe||oe.autoDestroy&&oe.finished)&&O.destroy()}}typeof Symbol=="function"&&(M.from=function(U,O){return z===void 0&&(z=T(45049)),z(M,U,O)});function _e(U,O){for(var oe=0,ve=U.length;oe<ve;oe++)if(U[oe]===O)return oe;return-1}},13054:(s,V,T)=>{"use strict";s.exports=h;var R=T(92260).F,A=R.ERR_METHOD_NOT_IMPLEMENTED,P=R.ERR_MULTIPLE_CALLBACK,S=R.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=R.ERR_TRANSFORM_WITH_LENGTH_0,c=T(92818);T(56698)(h,c);function f(u,_){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new P);m.writechunk=null,m.writecb=null,_!=null&&this.push(_),g(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function h(u){if(!(this instanceof h))return new h(u);c.call(this,u),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",k)}function k(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(_,m){y(u,_,m)}):y(this,null,null)}h.prototype.push=function(u,_){return this._transformState.needTransform=!1,c.prototype.push.call(this,u,_)},h.prototype._transform=function(u,_,m){m(new A("_transform()"))},h.prototype._write=function(u,_,m){var g=this._transformState;if(g.writecb=m,g.writechunk=u,g.writeencoding=_,!g.transforming){var p=this._readableState;(g.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},h.prototype._read=function(u){var _=this._transformState;_.writechunk!==null&&!_.transforming?(_.transforming=!0,this._transform(_.writechunk,_.writeencoding,_.afterTransform)):_.needTransform=!0},h.prototype._destroy=function(u,_){c.prototype._destroy.call(this,u,function(m){_(m)})};function y(u,_,m){if(_)return u.emit("error",_);if(m!=null&&u.push(m),u._writableState.length)throw new d;if(u._transformState.transforming)throw new S;return u.push(null)}},62192:(s,V,T)=>{"use strict";var R=T(65606);s.exports=Y;function A(X,ee,de){this.chunk=X,this.encoding=ee,this.callback=de,this.next=null}function P(X){var ee=this;this.next=null,this.entry=null,this.finish=function(){Ne(ee,X)}}var S;Y.WritableState=J;var d={deprecate:T(94643)},c=T(71181),f=T(48287).Buffer,h=T.g.Uint8Array||function(){};function k(X){return f.from(X)}function y(X){return f.isBuffer(X)||X instanceof h}var u=T(41468),_=T(8775),m=_.getHighWaterMark,g=T(92260).F,p=g.ERR_INVALID_ARG_TYPE,N=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_MULTIPLE_CALLBACK,x=g.ERR_STREAM_CANNOT_PIPE,F=g.ERR_STREAM_DESTROYED,W=g.ERR_STREAM_NULL_VALUES,b=g.ERR_STREAM_WRITE_AFTER_END,L=g.ERR_UNKNOWN_ENCODING,z=u.errorOrDestroy;T(56698)(Y,c);function K(){}function J(X,ee,de){S=S||T(92818),X=X||{},typeof de!="boolean"&&(de=ee instanceof S),this.objectMode=!!X.objectMode,de&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=m(this,X,"writableHighWaterMark",de),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=X.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){j(ee,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}J.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,de=[];ee;)de.push(ee),ee=ee.next;return de},function(){try{Object.defineProperty(J.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ie;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ie=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(ee){return ie.call(this,ee)?!0:this!==Y?!1:ee&&ee._writableState instanceof J}})):ie=function(ee){return ee instanceof this};function Y(X){S=S||T(92818);var ee=this instanceof S;if(!ee&&!ie.call(Y,this))return new Y(X);this._writableState=new J(X,this,ee),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),c.call(this)}Y.prototype.pipe=function(){z(this,new x)};function M(X,ee){var de=new b;z(X,de),R.nextTick(ee,de)}function $(X,ee,de,me){var _e;return de===null?_e=new W:typeof de!="string"&&!ee.objectMode&&(_e=new p("chunk",["string","Buffer"],de)),_e?(z(X,_e),R.nextTick(me,_e),!1):!0}Y.prototype.write=function(X,ee,de){var me=this._writableState,_e=!1,U=!me.objectMode&&y(X);return U&&!f.isBuffer(X)&&(X=k(X)),typeof ee=="function"&&(de=ee,ee=null),U?ee="buffer":ee||(ee=me.defaultEncoding),typeof de!="function"&&(de=K),me.ending?M(this,de):(U||$(this,me,X,de))&&(me.pendingcb++,_e=l(this,me,U,X,ee,de)),_e},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&te(this,X))},Y.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new L(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(X,ee,de){return!X.objectMode&&X.decodeStrings!==!1&&typeof ee=="string"&&(ee=f.from(ee,de)),ee}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function l(X,ee,de,me,_e,U){if(!de){var O=C(ee,me,_e);me!==O&&(de=!0,_e="buffer",me=O)}var oe=ee.objectMode?1:me.length;ee.length+=oe;var ve=ee.length<ee.highWaterMark;if(ve||(ee.needDrain=!0),ee.writing||ee.corked){var we=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:me,encoding:_e,isBuf:de,callback:U,next:null},we?we.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else w(X,ee,!1,oe,me,_e,U);return ve}function w(X,ee,de,me,_e,U,O){ee.writelen=me,ee.writecb=O,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new F("write")):de?X._writev(_e,ee.onwrite):X._write(_e,U,ee.onwrite),ee.sync=!1}function D(X,ee,de,me,_e){--ee.pendingcb,de?(R.nextTick(_e,me),R.nextTick(he,X,ee),X._writableState.errorEmitted=!0,z(X,me)):(_e(me),X._writableState.errorEmitted=!0,z(X,me),he(X,ee))}function q(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function j(X,ee){var de=X._writableState,me=de.sync,_e=de.writecb;if(typeof _e!="function")throw new E;if(q(de),ee)D(X,de,me,ee,_e);else{var U=B(de)||X.destroyed;!U&&!de.corked&&!de.bufferProcessing&&de.bufferedRequest&&te(X,de),me?R.nextTick(H,X,de,U,_e):H(X,de,U,_e)}}function H(X,ee,de,me){de||Z(X,ee),ee.pendingcb--,me(),he(X,ee)}function Z(X,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,X.emit("drain"))}function te(X,ee){ee.bufferProcessing=!0;var de=ee.bufferedRequest;if(X._writev&&de&&de.next){var me=ee.bufferedRequestCount,_e=new Array(me),U=ee.corkedRequestsFree;U.entry=de;for(var O=0,oe=!0;de;)_e[O]=de,de.isBuf||(oe=!1),de=de.next,O+=1;_e.allBuffers=oe,w(X,ee,!0,ee.length,_e,"",U.finish),ee.pendingcb++,ee.lastBufferedRequest=null,U.next?(ee.corkedRequestsFree=U.next,U.next=null):ee.corkedRequestsFree=new P(ee),ee.bufferedRequestCount=0}else{for(;de;){var ve=de.chunk,we=de.encoding,pe=de.callback,Pe=ee.objectMode?1:ve.length;if(w(X,ee,!1,Pe,ve,we,pe),de=de.next,ee.bufferedRequestCount--,ee.writing)break}de===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=de,ee.bufferProcessing=!1}Y.prototype._write=function(X,ee,de){de(new N("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(X,ee,de){var me=this._writableState;return typeof X=="function"?(de=X,X=null,ee=null):typeof ee=="function"&&(de=ee,ee=null),X!=null&&this.write(X,ee),me.corked&&(me.corked=1,this.uncork()),me.ending||Ee(this,me,de),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function ae(X,ee){X._final(function(de){ee.pendingcb--,de&&z(X,de),ee.prefinished=!0,X.emit("prefinish"),he(X,ee)})}function xe(X,ee){!ee.prefinished&&!ee.finalCalled&&(typeof X._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,R.nextTick(ae,X,ee)):(ee.prefinished=!0,X.emit("prefinish")))}function he(X,ee){var de=B(ee);if(de&&(xe(X,ee),ee.pendingcb===0&&(ee.finished=!0,X.emit("finish"),ee.autoDestroy))){var me=X._readableState;(!me||me.autoDestroy&&me.endEmitted)&&X.destroy()}return de}function Ee(X,ee,de){ee.ending=!0,he(X,ee),de&&(ee.finished?R.nextTick(de):X.once("finish",de)),ee.ended=!0,X.writable=!1}function Ne(X,ee,de){var me=X.entry;for(X.entry=null;me;){var _e=me.callback;ee.pendingcb--,_e(de),me=me.next}ee.corkedRequestsFree.next=X}Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),Y.prototype.destroy=u.destroy,Y.prototype._undestroy=u.undestroy,Y.prototype._destroy=function(X,ee){ee(X)}},74743:(s,V,T)=>{"use strict";var R=T(65606),A;function P(F,W,b){return W in F?Object.defineProperty(F,W,{value:b,enumerable:!0,configurable:!0,writable:!0}):F[W]=b,F}var S=T(45826),d=Symbol("lastResolve"),c=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),k=Symbol("lastPromise"),y=Symbol("handlePromise"),u=Symbol("stream");function _(F,W){return{value:F,done:W}}function m(F){var W=F[d];if(W!==null){var b=F[u].read();b!==null&&(F[k]=null,F[d]=null,F[c]=null,W(_(b,!1)))}}function g(F){R.nextTick(m,F)}function p(F,W){return function(b,L){F.then(function(){if(W[h]){b(_(void 0,!0));return}W[y](b,L)},L)}}var N=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((A={get stream(){return this[u]},next:function(){var W=this,b=this[f];if(b!==null)return Promise.reject(b);if(this[h])return Promise.resolve(_(void 0,!0));if(this[u].destroyed)return new Promise(function(J,ie){R.nextTick(function(){W[f]?ie(W[f]):J(_(void 0,!0))})});var L=this[k],z;if(L)z=new Promise(p(L,this));else{var K=this[u].read();if(K!==null)return Promise.resolve(_(K,!1));z=new Promise(this[y])}return this[k]=z,z}},P(A,Symbol.asyncIterator,function(){return this}),P(A,"return",function(){var W=this;return new Promise(function(b,L){W[u].destroy(null,function(z){if(z){L(z);return}b(_(void 0,!0))})})}),A),N),x=function(W){var b,L=Object.create(E,(b={},P(b,u,{value:W,writable:!0}),P(b,d,{value:null,writable:!0}),P(b,c,{value:null,writable:!0}),P(b,f,{value:null,writable:!0}),P(b,h,{value:W._readableState.endEmitted,writable:!0}),P(b,y,{value:function(K,J){var ie=L[u].read();ie?(L[k]=null,L[d]=null,L[c]=null,K(_(ie,!1))):(L[d]=K,L[c]=J)},writable:!0}),b));return L[k]=null,S(W,function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=L[c];K!==null&&(L[k]=null,L[d]=null,L[c]=null,K(z)),L[f]=z;return}var J=L[d];J!==null&&(L[k]=null,L[d]=null,L[c]=null,J(_(void 0,!0))),L[h]=!0}),W.on("readable",g.bind(null,L)),L};s.exports=x},12389:(s,V,T)=>{"use strict";function R(m,g){var p=Object.keys(m);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(m);g&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(m,E).enumerable})),p.push.apply(p,N)}return p}function A(m){for(var g=1;g<arguments.length;g++){var p=arguments[g]!=null?arguments[g]:{};g%2?R(Object(p),!0).forEach(function(N){P(m,N,p[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(p)):R(Object(p)).forEach(function(N){Object.defineProperty(m,N,Object.getOwnPropertyDescriptor(p,N))})}return m}function P(m,g,p){return g in m?Object.defineProperty(m,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[g]=p,m}function S(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function d(m,g){for(var p=0;p<g.length;p++){var N=g[p];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(m,N.key,N)}}function c(m,g,p){return g&&d(m.prototype,g),p&&d(m,p),m}var f=T(48287),h=f.Buffer,k=T(8460),y=k.inspect,u=y&&y.custom||"inspect";function _(m,g,p){h.prototype.copy.call(m,g,p)}s.exports=function(){function m(){S(this,m),this.head=null,this.tail=null,this.length=0}return c(m,[{key:"push",value:function(p){var N={data:p,next:null};this.length>0?this.tail.next=N:this.head=N,this.tail=N,++this.length}},{key:"unshift",value:function(p){var N={data:p,next:this.head};this.length===0&&(this.tail=N),this.head=N,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var N=this.head,E=""+N.data;N=N.next;)E+=p+N.data;return E}},{key:"concat",value:function(p){if(this.length===0)return h.alloc(0);for(var N=h.allocUnsafe(p>>>0),E=this.head,x=0;E;)_(E.data,N,x),x+=E.data.length,E=E.next;return N}},{key:"consume",value:function(p,N){var E;return p<this.head.data.length?(E=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?E=this.shift():E=N?this._getString(p):this._getBuffer(p),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var N=this.head,E=1,x=N.data;for(p-=x.length;N=N.next;){var F=N.data,W=p>F.length?F.length:p;if(W===F.length?x+=F:x+=F.slice(0,p),p-=W,p===0){W===F.length?(++E,N.next?this.head=N.next:this.head=this.tail=null):(this.head=N,N.data=F.slice(W));break}++E}return this.length-=E,x}},{key:"_getBuffer",value:function(p){var N=h.allocUnsafe(p),E=this.head,x=1;for(E.data.copy(N),p-=E.data.length;E=E.next;){var F=E.data,W=p>F.length?F.length:p;if(F.copy(N,N.length-p,0,W),p-=W,p===0){W===F.length?(++x,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=F.slice(W));break}++x}return this.length-=x,N}},{key:u,value:function(p,N){return y(this,A({},N,{depth:0,customInspect:!1}))}}]),m}()},41468:(s,V,T)=>{"use strict";var R=T(65606);function A(h,k){var y=this,u=this._readableState&&this._readableState.destroyed,_=this._writableState&&this._writableState.destroyed;return u||_?(k?k(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,R.nextTick(c,this,h)):R.nextTick(c,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(m){!k&&m?y._writableState?y._writableState.errorEmitted?R.nextTick(S,y):(y._writableState.errorEmitted=!0,R.nextTick(P,y,m)):R.nextTick(P,y,m):k?(R.nextTick(S,y),k(m)):R.nextTick(S,y)}),this)}function P(h,k){c(h,k),S(h)}function S(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(h,k){h.emit("error",k)}function f(h,k){var y=h._readableState,u=h._writableState;y&&y.autoDestroy||u&&u.autoDestroy?h.destroy(k):h.emit("error",k)}s.exports={destroy:A,undestroy:d,errorOrDestroy:f}},45826:(s,V,T)=>{"use strict";var R=T(92260).F.ERR_STREAM_PREMATURE_CLOSE;function A(c){var f=!1;return function(){if(!f){f=!0;for(var h=arguments.length,k=new Array(h),y=0;y<h;y++)k[y]=arguments[y];c.apply(this,k)}}}function P(){}function S(c){return c.setHeader&&typeof c.abort=="function"}function d(c,f,h){if(typeof f=="function")return d(c,null,f);f||(f={}),h=A(h||P);var k=f.readable||f.readable!==!1&&c.readable,y=f.writable||f.writable!==!1&&c.writable,u=function(){c.writable||m()},_=c._writableState&&c._writableState.finished,m=function(){y=!1,_=!0,k||h.call(c)},g=c._readableState&&c._readableState.endEmitted,p=function(){k=!1,g=!0,y||h.call(c)},N=function(W){h.call(c,W)},E=function(){var W;if(k&&!g)return(!c._readableState||!c._readableState.ended)&&(W=new R),h.call(c,W);if(y&&!_)return(!c._writableState||!c._writableState.ended)&&(W=new R),h.call(c,W)},x=function(){c.req.on("finish",m)};return S(c)?(c.on("complete",m),c.on("abort",E),c.req?x():c.on("request",x)):y&&!c._writableState&&(c.on("end",u),c.on("close",u)),c.on("end",p),c.on("finish",m),f.error!==!1&&c.on("error",N),c.on("close",E),function(){c.removeListener("complete",m),c.removeListener("abort",E),c.removeListener("request",x),c.req&&c.req.removeListener("finish",m),c.removeListener("end",u),c.removeListener("close",u),c.removeListener("finish",m),c.removeListener("end",p),c.removeListener("error",N),c.removeListener("close",E)}}s.exports=d},45049:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},29434:(s,V,T)=>{"use strict";var R;function A(m){var g=!1;return function(){g||(g=!0,m.apply(void 0,arguments))}}var P=T(92260).F,S=P.ERR_MISSING_ARGS,d=P.ERR_STREAM_DESTROYED;function c(m){if(m)throw m}function f(m){return m.setHeader&&typeof m.abort=="function"}function h(m,g,p,N){N=A(N);var E=!1;m.on("close",function(){E=!0}),R===void 0&&(R=T(45826)),R(m,{readable:g,writable:p},function(F){if(F)return N(F);E=!0,N()});var x=!1;return function(F){if(!E&&!x){if(x=!0,f(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();N(F||new d("pipe"))}}}function k(m){m()}function y(m,g){return m.pipe(g)}function u(m){return!m.length||typeof m[m.length-1]!="function"?c:m.pop()}function _(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];var N=u(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new S("streams");var E,x=g.map(function(F,W){var b=W<g.length-1,L=W>0;return h(F,b,L,function(z){E||(E=z),z&&x.forEach(k),!b&&(x.forEach(k),N(E))})});return g.reduce(y)}s.exports=_},8775:(s,V,T)=>{"use strict";var R=T(92260).F.ERR_INVALID_OPT_VALUE;function A(S,d,c){return S.highWaterMark!=null?S.highWaterMark:d?S[c]:null}function P(S,d,c,f){var h=A(d,f,c);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var k=f?c:"highWaterMark";throw new R(k,h)}return Math.floor(h)}return S.objectMode?16:16384}s.exports={getHighWaterMark:P}},71181:(s,V,T)=>{s.exports=T(37007).EventEmitter},61603:(s,V,T)=>{V=s.exports=T(6736),V.Stream=V,V.Readable=V,V.Writable=T(62192),V.Duplex=T(92818),V.Transform=T(13054),V.PassThrough=T(35860),V.finished=T(45826),V.pipeline=T(29434)},77952:(s,V,T)=>{var R=V;R.utils=T(67426),R.common=T(66166),R.sha=T(46229),R.ripemd=T(46784),R.hmac=T(28948),R.sha1=R.sha.sha1,R.sha256=R.sha.sha256,R.sha224=R.sha.sha224,R.sha384=R.sha.sha384,R.sha512=R.sha.sha512,R.ripemd160=R.ripemd.ripemd160},66166:(s,V,T)=>{"use strict";var R=T(67426),A=T(43349);function P(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}V.BlockHash=P,P.prototype.update=function(d,c){if(d=R.toArray(d,c),this.pending?this.pending=this.pending.concat(d):this.pending=d,this.pendingTotal+=d.length,this.pending.length>=this._delta8){d=this.pending;var f=d.length%this._delta8;this.pending=d.slice(d.length-f,d.length),this.pending.length===0&&(this.pending=null),d=R.join32(d,0,d.length-f,this.endian);for(var h=0;h<d.length;h+=this._delta32)this._update(d,h,h+this._delta32)}return this},P.prototype.digest=function(d){return this.update(this._pad()),A(this.pending===null),this._digest(d)},P.prototype._pad=function(){var d=this.pendingTotal,c=this._delta8,f=c-(d+this.padLength)%c,h=new Array(f+this.padLength);h[0]=128;for(var k=1;k<f;k++)h[k]=0;if(d<<=3,this.endian==="big"){for(var y=8;y<this.padLength;y++)h[k++]=0;h[k++]=0,h[k++]=0,h[k++]=0,h[k++]=0,h[k++]=d>>>24&255,h[k++]=d>>>16&255,h[k++]=d>>>8&255,h[k++]=d&255}else for(h[k++]=d&255,h[k++]=d>>>8&255,h[k++]=d>>>16&255,h[k++]=d>>>24&255,h[k++]=0,h[k++]=0,h[k++]=0,h[k++]=0,y=8;y<this.padLength;y++)h[k++]=0;return h}},28948:(s,V,T)=>{"use strict";var R=T(67426),A=T(43349);function P(S,d,c){if(!(this instanceof P))return new P(S,d,c);this.Hash=S,this.blockSize=S.blockSize/8,this.outSize=S.outSize/8,this.inner=null,this.outer=null,this._init(R.toArray(d,c))}s.exports=P,P.prototype._init=function(d){d.length>this.blockSize&&(d=new this.Hash().update(d).digest()),A(d.length<=this.blockSize);for(var c=d.length;c<this.blockSize;c++)d.push(0);for(c=0;c<d.length;c++)d[c]^=54;for(this.inner=new this.Hash().update(d),c=0;c<d.length;c++)d[c]^=106;this.outer=new this.Hash().update(d)},P.prototype.update=function(d,c){return this.inner.update(d,c),this},P.prototype.digest=function(d){return this.outer.update(this.inner.digest()),this.outer.digest(d)}},46784:(s,V,T)=>{"use strict";var R=T(67426),A=T(66166),P=R.rotl32,S=R.sum32,d=R.sum32_3,c=R.sum32_4,f=A.BlockHash;function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}R.inherits(h,f),V.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(E,x){for(var F=this.h[0],W=this.h[1],b=this.h[2],L=this.h[3],z=this.h[4],K=F,J=W,ie=b,Y=L,M=z,$=0;$<80;$++){var C=S(P(c(F,k($,W,b,L),E[_[$]+x],y($)),g[$]),z);F=z,z=L,L=P(b,10),b=W,W=C,C=S(P(c(K,k(79-$,J,ie,Y),E[m[$]+x],u($)),p[$]),M),K=M,M=Y,Y=P(ie,10),ie=J,J=C}C=d(this.h[1],b,Y),this.h[1]=d(this.h[2],L,M),this.h[2]=d(this.h[3],z,K),this.h[3]=d(this.h[4],F,J),this.h[4]=d(this.h[0],W,ie),this.h[0]=C},h.prototype._digest=function(E){return E==="hex"?R.toHex32(this.h,"little"):R.split32(this.h,"little")};function k(N,E,x,F){return N<=15?E^x^F:N<=31?E&x|~E&F:N<=47?(E|~x)^F:N<=63?E&F|x&~F:E^(x|~F)}function y(N){return N<=15?0:N<=31?1518500249:N<=47?1859775393:N<=63?2400959708:2840853838}function u(N){return N<=15?1352829926:N<=31?1548603684:N<=47?1836072691:N<=63?2053994217:0}var _=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},46229:(s,V,T)=>{"use strict";V.sha1=T(43917),V.sha224=T(47714),V.sha256=T(2287),V.sha384=T(21911),V.sha512=T(57766)},43917:(s,V,T)=>{"use strict";var R=T(67426),A=T(66166),P=T(66225),S=R.rotl32,d=R.sum32,c=R.sum32_5,f=P.ft_1,h=A.BlockHash,k=[1518500249,1859775393,2400959708,3395469782];function y(){if(!(this instanceof y))return new y;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}R.inherits(y,h),s.exports=y,y.blockSize=512,y.outSize=160,y.hmacStrength=80,y.padLength=64,y.prototype._update=function(_,m){for(var g=this.W,p=0;p<16;p++)g[p]=_[m+p];for(;p<g.length;p++)g[p]=S(g[p-3]^g[p-8]^g[p-14]^g[p-16],1);var N=this.h[0],E=this.h[1],x=this.h[2],F=this.h[3],W=this.h[4];for(p=0;p<g.length;p++){var b=~~(p/20),L=c(S(N,5),f(b,E,x,F),W,g[p],k[b]);W=F,F=x,x=S(E,30),E=N,N=L}this.h[0]=d(this.h[0],N),this.h[1]=d(this.h[1],E),this.h[2]=d(this.h[2],x),this.h[3]=d(this.h[3],F),this.h[4]=d(this.h[4],W)},y.prototype._digest=function(_){return _==="hex"?R.toHex32(this.h,"big"):R.split32(this.h,"big")}},47714:(s,V,T)=>{"use strict";var R=T(67426),A=T(2287);function P(){if(!(this instanceof P))return new P;A.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}R.inherits(P,A),s.exports=P,P.blockSize=512,P.outSize=224,P.hmacStrength=192,P.padLength=64,P.prototype._digest=function(d){return d==="hex"?R.toHex32(this.h.slice(0,7),"big"):R.split32(this.h.slice(0,7),"big")}},2287:(s,V,T)=>{"use strict";var R=T(67426),A=T(66166),P=T(66225),S=T(43349),d=R.sum32,c=R.sum32_4,f=R.sum32_5,h=P.ch32,k=P.maj32,y=P.s0_256,u=P.s1_256,_=P.g0_256,m=P.g1_256,g=A.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function N(){if(!(this instanceof N))return new N;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}R.inherits(N,g),s.exports=N,N.blockSize=512,N.outSize=256,N.hmacStrength=192,N.padLength=64,N.prototype._update=function(x,F){for(var W=this.W,b=0;b<16;b++)W[b]=x[F+b];for(;b<W.length;b++)W[b]=c(m(W[b-2]),W[b-7],_(W[b-15]),W[b-16]);var L=this.h[0],z=this.h[1],K=this.h[2],J=this.h[3],ie=this.h[4],Y=this.h[5],M=this.h[6],$=this.h[7];for(S(this.k.length===W.length),b=0;b<W.length;b++){var C=f($,u(ie),h(ie,Y,M),this.k[b],W[b]),l=d(y(L),k(L,z,K));$=M,M=Y,Y=ie,ie=d(J,C),J=K,K=z,z=L,L=d(C,l)}this.h[0]=d(this.h[0],L),this.h[1]=d(this.h[1],z),this.h[2]=d(this.h[2],K),this.h[3]=d(this.h[3],J),this.h[4]=d(this.h[4],ie),this.h[5]=d(this.h[5],Y),this.h[6]=d(this.h[6],M),this.h[7]=d(this.h[7],$)},N.prototype._digest=function(x){return x==="hex"?R.toHex32(this.h,"big"):R.split32(this.h,"big")}},21911:(s,V,T)=>{"use strict";var R=T(67426),A=T(57766);function P(){if(!(this instanceof P))return new P;A.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}R.inherits(P,A),s.exports=P,P.blockSize=1024,P.outSize=384,P.hmacStrength=192,P.padLength=128,P.prototype._digest=function(d){return d==="hex"?R.toHex32(this.h.slice(0,12),"big"):R.split32(this.h.slice(0,12),"big")}},57766:(s,V,T)=>{"use strict";var R=T(67426),A=T(66166),P=T(43349),S=R.rotr64_hi,d=R.rotr64_lo,c=R.shr64_hi,f=R.shr64_lo,h=R.sum64,k=R.sum64_hi,y=R.sum64_lo,u=R.sum64_4_hi,_=R.sum64_4_lo,m=R.sum64_5_hi,g=R.sum64_5_lo,p=A.BlockHash,N=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=N,this.W=new Array(160)}R.inherits(E,p),s.exports=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(l,w){for(var D=this.W,q=0;q<32;q++)D[q]=l[w+q];for(;q<D.length;q+=2){var j=M(D[q-4],D[q-3]),H=$(D[q-4],D[q-3]),Z=D[q-14],te=D[q-13],B=ie(D[q-30],D[q-29]),ae=Y(D[q-30],D[q-29]),xe=D[q-32],he=D[q-31];D[q]=u(j,H,Z,te,B,ae,xe,he),D[q+1]=_(j,H,Z,te,B,ae,xe,he)}},E.prototype._update=function(l,w){this._prepareBlock(l,w);var D=this.W,q=this.h[0],j=this.h[1],H=this.h[2],Z=this.h[3],te=this.h[4],B=this.h[5],ae=this.h[6],xe=this.h[7],he=this.h[8],Ee=this.h[9],Ne=this.h[10],X=this.h[11],ee=this.h[12],de=this.h[13],me=this.h[14],_e=this.h[15];P(this.k.length===D.length);for(var U=0;U<D.length;U+=2){var O=me,oe=_e,ve=K(he,Ee),we=J(he,Ee),pe=x(he,Ee,Ne,X,ee,de),Pe=F(he,Ee,Ne,X,ee,de),Le=this.k[U],He=this.k[U+1],kt=D[U],Ke=D[U+1],Ze=m(O,oe,ve,we,pe,Pe,Le,He,kt,Ke),yt=g(O,oe,ve,we,pe,Pe,Le,He,kt,Ke);O=L(q,j),oe=z(q,j),ve=W(q,j,H,Z,te,B),we=b(q,j,H,Z,te,B);var ce=k(O,oe,ve,we),ne=y(O,oe,ve,we);me=ee,_e=de,ee=Ne,de=X,Ne=he,X=Ee,he=k(ae,xe,Ze,yt),Ee=y(xe,xe,Ze,yt),ae=te,xe=B,te=H,B=Z,H=q,Z=j,q=k(Ze,yt,ce,ne),j=y(Ze,yt,ce,ne)}h(this.h,0,q,j),h(this.h,2,H,Z),h(this.h,4,te,B),h(this.h,6,ae,xe),h(this.h,8,he,Ee),h(this.h,10,Ne,X),h(this.h,12,ee,de),h(this.h,14,me,_e)},E.prototype._digest=function(l){return l==="hex"?R.toHex32(this.h,"big"):R.split32(this.h,"big")};function x(C,l,w,D,q){var j=C&w^~C&q;return j<0&&(j+=4294967296),j}function F(C,l,w,D,q,j){var H=l&D^~l&j;return H<0&&(H+=4294967296),H}function W(C,l,w,D,q){var j=C&w^C&q^w&q;return j<0&&(j+=4294967296),j}function b(C,l,w,D,q,j){var H=l&D^l&j^D&j;return H<0&&(H+=4294967296),H}function L(C,l){var w=S(C,l,28),D=S(l,C,2),q=S(l,C,7),j=w^D^q;return j<0&&(j+=4294967296),j}function z(C,l){var w=d(C,l,28),D=d(l,C,2),q=d(l,C,7),j=w^D^q;return j<0&&(j+=4294967296),j}function K(C,l){var w=S(C,l,14),D=S(C,l,18),q=S(l,C,9),j=w^D^q;return j<0&&(j+=4294967296),j}function J(C,l){var w=d(C,l,14),D=d(C,l,18),q=d(l,C,9),j=w^D^q;return j<0&&(j+=4294967296),j}function ie(C,l){var w=S(C,l,1),D=S(C,l,8),q=c(C,l,7),j=w^D^q;return j<0&&(j+=4294967296),j}function Y(C,l){var w=d(C,l,1),D=d(C,l,8),q=f(C,l,7),j=w^D^q;return j<0&&(j+=4294967296),j}function M(C,l){var w=S(C,l,19),D=S(l,C,29),q=c(C,l,6),j=w^D^q;return j<0&&(j+=4294967296),j}function $(C,l){var w=d(C,l,19),D=d(l,C,29),q=f(C,l,6),j=w^D^q;return j<0&&(j+=4294967296),j}},66225:(s,V,T)=>{"use strict";var R=T(67426),A=R.rotr32;function P(u,_,m,g){if(u===0)return S(_,m,g);if(u===1||u===3)return c(_,m,g);if(u===2)return d(_,m,g)}V.ft_1=P;function S(u,_,m){return u&_^~u&m}V.ch32=S;function d(u,_,m){return u&_^u&m^_&m}V.maj32=d;function c(u,_,m){return u^_^m}V.p32=c;function f(u){return A(u,2)^A(u,13)^A(u,22)}V.s0_256=f;function h(u){return A(u,6)^A(u,11)^A(u,25)}V.s1_256=h;function k(u){return A(u,7)^A(u,18)^u>>>3}V.g0_256=k;function y(u){return A(u,17)^A(u,19)^u>>>10}V.g1_256=y},67426:(s,V,T)=>{"use strict";var R=T(43349),A=T(56698);V.inherits=A;function P($,C){return($.charCodeAt(C)&64512)!==55296||C<0||C+1>=$.length?!1:($.charCodeAt(C+1)&64512)===56320}function S($,C){if(Array.isArray($))return $.slice();if(!$)return[];var l=[];if(typeof $=="string")if(C){if(C==="hex")for($=$.replace(/[^a-z0-9]+/ig,""),$.length%2!==0&&($="0"+$),D=0;D<$.length;D+=2)l.push(parseInt($[D]+$[D+1],16))}else for(var w=0,D=0;D<$.length;D++){var q=$.charCodeAt(D);q<128?l[w++]=q:q<2048?(l[w++]=q>>6|192,l[w++]=q&63|128):P($,D)?(q=65536+((q&1023)<<10)+($.charCodeAt(++D)&1023),l[w++]=q>>18|240,l[w++]=q>>12&63|128,l[w++]=q>>6&63|128,l[w++]=q&63|128):(l[w++]=q>>12|224,l[w++]=q>>6&63|128,l[w++]=q&63|128)}else for(D=0;D<$.length;D++)l[D]=$[D]|0;return l}V.toArray=S;function d($){for(var C="",l=0;l<$.length;l++)C+=h($[l].toString(16));return C}V.toHex=d;function c($){var C=$>>>24|$>>>8&65280|$<<8&16711680|($&255)<<24;return C>>>0}V.htonl=c;function f($,C){for(var l="",w=0;w<$.length;w++){var D=$[w];C==="little"&&(D=c(D)),l+=k(D.toString(16))}return l}V.toHex32=f;function h($){return $.length===1?"0"+$:$}V.zero2=h;function k($){return $.length===7?"0"+$:$.length===6?"00"+$:$.length===5?"000"+$:$.length===4?"0000"+$:$.length===3?"00000"+$:$.length===2?"000000"+$:$.length===1?"0000000"+$:$}V.zero8=k;function y($,C,l,w){var D=l-C;R(D%4===0);for(var q=new Array(D/4),j=0,H=C;j<q.length;j++,H+=4){var Z;w==="big"?Z=$[H]<<24|$[H+1]<<16|$[H+2]<<8|$[H+3]:Z=$[H+3]<<24|$[H+2]<<16|$[H+1]<<8|$[H],q[j]=Z>>>0}return q}V.join32=y;function u($,C){for(var l=new Array($.length*4),w=0,D=0;w<$.length;w++,D+=4){var q=$[w];C==="big"?(l[D]=q>>>24,l[D+1]=q>>>16&255,l[D+2]=q>>>8&255,l[D+3]=q&255):(l[D+3]=q>>>24,l[D+2]=q>>>16&255,l[D+1]=q>>>8&255,l[D]=q&255)}return l}V.split32=u;function _($,C){return $>>>C|$<<32-C}V.rotr32=_;function m($,C){return $<<C|$>>>32-C}V.rotl32=m;function g($,C){return $+C>>>0}V.sum32=g;function p($,C,l){return $+C+l>>>0}V.sum32_3=p;function N($,C,l,w){return $+C+l+w>>>0}V.sum32_4=N;function E($,C,l,w,D){return $+C+l+w+D>>>0}V.sum32_5=E;function x($,C,l,w){var D=$[C],q=$[C+1],j=w+q>>>0,H=(j<w?1:0)+l+D;$[C]=H>>>0,$[C+1]=j}V.sum64=x;function F($,C,l,w){var D=C+w>>>0,q=(D<C?1:0)+$+l;return q>>>0}V.sum64_hi=F;function W($,C,l,w){var D=C+w;return D>>>0}V.sum64_lo=W;function b($,C,l,w,D,q,j,H){var Z=0,te=C;te=te+w>>>0,Z+=te<C?1:0,te=te+q>>>0,Z+=te<q?1:0,te=te+H>>>0,Z+=te<H?1:0;var B=$+l+D+j+Z;return B>>>0}V.sum64_4_hi=b;function L($,C,l,w,D,q,j,H){var Z=C+w+q+H;return Z>>>0}V.sum64_4_lo=L;function z($,C,l,w,D,q,j,H,Z,te){var B=0,ae=C;ae=ae+w>>>0,B+=ae<C?1:0,ae=ae+q>>>0,B+=ae<q?1:0,ae=ae+H>>>0,B+=ae<H?1:0,ae=ae+te>>>0,B+=ae<te?1:0;var xe=$+l+D+j+Z+B;return xe>>>0}V.sum64_5_hi=z;function K($,C,l,w,D,q,j,H,Z,te){var B=C+w+q+H+te;return B>>>0}V.sum64_5_lo=K;function J($,C,l){var w=C<<32-l|$>>>l;return w>>>0}V.rotr64_hi=J;function ie($,C,l){var w=$<<32-l|C>>>l;return w>>>0}V.rotr64_lo=ie;function Y($,C,l){return $>>>l}V.shr64_hi=Y;function M($,C,l){var w=$<<32-l|C>>>l;return w>>>0}V.shr64_lo=M},32723:(s,V,T)=>{"use strict";var R=T(77952),A=T(64367),P=T(43349);function S(d){if(!(this instanceof S))return new S(d);this.hash=d.hash,this.predResist=!!d.predResist,this.outLen=this.hash.outSize,this.minEntropy=d.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=A.toArray(d.entropy,d.entropyEnc||"hex"),f=A.toArray(d.nonce,d.nonceEnc||"hex"),h=A.toArray(d.pers,d.persEnc||"hex");P(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,f,h)}s.exports=S,S.prototype._init=function(c,f,h){var k=c.concat(f).concat(h);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var y=0;y<this.V.length;y++)this.K[y]=0,this.V[y]=1;this._update(k),this._reseed=1,this.reseedInterval=281474976710656},S.prototype._hmac=function(){return new R.hmac(this.hash,this.K)},S.prototype._update=function(c){var f=this._hmac().update(this.V).update([0]);c&&(f=f.update(c)),this.K=f.digest(),this.V=this._hmac().update(this.V).digest(),c&&(this.K=this._hmac().update(this.V).update([1]).update(c).digest(),this.V=this._hmac().update(this.V).digest())},S.prototype.reseed=function(c,f,h,k){typeof f!="string"&&(k=h,h=f,f=null),c=A.toArray(c,f),h=A.toArray(h,k),P(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(c.concat(h||[])),this._reseed=1},S.prototype.generate=function(c,f,h,k){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof f!="string"&&(k=h,h=f,f=null),h&&(h=A.toArray(h,k||"hex"),this._update(h));for(var y=[];y.length<c;)this.V=this._hmac().update(this.V).digest(),y=y.concat(this.V);var u=y.slice(0,c);return this._update(h),this._reseed++,A.encode(u,f)}},251:(s,V)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */V.read=function(T,R,A,P,S){var d,c,f=S*8-P-1,h=(1<<f)-1,k=h>>1,y=-7,u=A?S-1:0,_=A?-1:1,m=T[R+u];for(u+=_,d=m&(1<<-y)-1,m>>=-y,y+=f;y>0;d=d*256+T[R+u],u+=_,y-=8);for(c=d&(1<<-y)-1,d>>=-y,y+=P;y>0;c=c*256+T[R+u],u+=_,y-=8);if(d===0)d=1-k;else{if(d===h)return c?NaN:(m?-1:1)*(1/0);c=c+Math.pow(2,P),d=d-k}return(m?-1:1)*c*Math.pow(2,d-P)},V.write=function(T,R,A,P,S,d){var c,f,h,k=d*8-S-1,y=(1<<k)-1,u=y>>1,_=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=P?0:d-1,g=P?1:-1,p=R<0||R===0&&1/R<0?1:0;for(R=Math.abs(R),isNaN(R)||R===1/0?(f=isNaN(R)?1:0,c=y):(c=Math.floor(Math.log(R)/Math.LN2),R*(h=Math.pow(2,-c))<1&&(c--,h*=2),c+u>=1?R+=_/h:R+=_*Math.pow(2,1-u),R*h>=2&&(c++,h/=2),c+u>=y?(f=0,c=y):c+u>=1?(f=(R*h-1)*Math.pow(2,S),c=c+u):(f=R*Math.pow(2,u-1)*Math.pow(2,S),c=0));S>=8;T[A+m]=f&255,m+=g,f/=256,S-=8);for(c=c<<S|f,k+=S;k>0;T[A+m]=c&255,m+=g,c/=256,k-=8);T[A+m-g]|=p*128}},56698:s=>{typeof Object.create=="function"?s.exports=function(T,R){R&&(T.super_=R,T.prototype=Object.create(R.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(T,R){if(R){T.super_=R;var A=function(){};A.prototype=R.prototype,T.prototype=new A,T.prototype.constructor=T}}},69749:(s,V,T)=>{"use strict";const R=T(28799),A=Symbol("max"),P=Symbol("length"),S=Symbol("lengthCalculator"),d=Symbol("allowStale"),c=Symbol("maxAge"),f=Symbol("dispose"),h=Symbol("noDisposeOnSet"),k=Symbol("lruList"),y=Symbol("cache"),u=Symbol("updateAgeOnGet"),_=()=>1;class m{constructor(b){if(typeof b=="number"&&(b={max:b}),b||(b={}),b.max&&(typeof b.max!="number"||b.max<0))throw new TypeError("max must be a non-negative number");const L=this[A]=b.max||1/0,z=b.length||_;if(this[S]=typeof z!="function"?_:z,this[d]=b.stale||!1,b.maxAge&&typeof b.maxAge!="number")throw new TypeError("maxAge must be a number");this[c]=b.maxAge||0,this[f]=b.dispose,this[h]=b.noDisposeOnSet||!1,this[u]=b.updateAgeOnGet||!1,this.reset()}set max(b){if(typeof b!="number"||b<0)throw new TypeError("max must be a non-negative number");this[A]=b||1/0,N(this)}get max(){return this[A]}set allowStale(b){this[d]=!!b}get allowStale(){return this[d]}set maxAge(b){if(typeof b!="number")throw new TypeError("maxAge must be a non-negative number");this[c]=b,N(this)}get maxAge(){return this[c]}set lengthCalculator(b){typeof b!="function"&&(b=_),b!==this[S]&&(this[S]=b,this[P]=0,this[k].forEach(L=>{L.length=this[S](L.value,L.key),this[P]+=L.length})),N(this)}get lengthCalculator(){return this[S]}get length(){return this[P]}get itemCount(){return this[k].length}rforEach(b,L){L=L||this;for(let z=this[k].tail;z!==null;){const K=z.prev;F(this,b,z,L),z=K}}forEach(b,L){L=L||this;for(let z=this[k].head;z!==null;){const K=z.next;F(this,b,z,L),z=K}}keys(){return this[k].toArray().map(b=>b.key)}values(){return this[k].toArray().map(b=>b.value)}reset(){this[f]&&this[k]&&this[k].length&&this[k].forEach(b=>this[f](b.key,b.value)),this[y]=new Map,this[k]=new R,this[P]=0}dump(){return this[k].map(b=>p(this,b)?!1:{k:b.key,v:b.value,e:b.now+(b.maxAge||0)}).toArray().filter(b=>b)}dumpLru(){return this[k]}set(b,L,z){if(z=z||this[c],z&&typeof z!="number")throw new TypeError("maxAge must be a number");const K=z?Date.now():0,J=this[S](L,b);if(this[y].has(b)){if(J>this[A])return E(this,this[y].get(b)),!1;const M=this[y].get(b).value;return this[f]&&(this[h]||this[f](b,M.value)),M.now=K,M.maxAge=z,M.value=L,this[P]+=J-M.length,M.length=J,this.get(b),N(this),!0}const ie=new x(b,L,J,K,z);return ie.length>this[A]?(this[f]&&this[f](b,L),!1):(this[P]+=ie.length,this[k].unshift(ie),this[y].set(b,this[k].head),N(this),!0)}has(b){if(!this[y].has(b))return!1;const L=this[y].get(b).value;return!p(this,L)}get(b){return g(this,b,!0)}peek(b){return g(this,b,!1)}pop(){const b=this[k].tail;return b?(E(this,b),b.value):null}del(b){E(this,this[y].get(b))}load(b){this.reset();const L=Date.now();for(let z=b.length-1;z>=0;z--){const K=b[z],J=K.e||0;if(J===0)this.set(K.k,K.v);else{const ie=J-L;ie>0&&this.set(K.k,K.v,ie)}}}prune(){this[y].forEach((b,L)=>g(this,L,!1))}}const g=(W,b,L)=>{const z=W[y].get(b);if(z){const K=z.value;if(p(W,K)){if(E(W,z),!W[d])return}else L&&(W[u]&&(z.value.now=Date.now()),W[k].unshiftNode(z));return K.value}},p=(W,b)=>{if(!b||!b.maxAge&&!W[c])return!1;const L=Date.now()-b.now;return b.maxAge?L>b.maxAge:W[c]&&L>W[c]},N=W=>{if(W[P]>W[A])for(let b=W[k].tail;W[P]>W[A]&&b!==null;){const L=b.prev;E(W,b),b=L}},E=(W,b)=>{if(b){const L=b.value;W[f]&&W[f](L.key,L.value),W[P]-=L.length,W[y].delete(L.key),W[k].removeNode(b)}};class x{constructor(b,L,z,K,J){this.key=b,this.value=L,this.length=z,this.now=K,this.maxAge=J||0}}const F=(W,b,L,z)=>{let K=L.value;p(W,K)&&(E(W,L),W[d]||(K=void 0)),K&&b.call(z,K.value,K.key,W)};s.exports=m},88276:(s,V,T)=>{"use strict";var R=T(56698),A=T(4729),P=T(92861).Buffer,S=new Array(16);function d(){A.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}R(d,A),d.prototype._update=function(){for(var u=S,_=0;_<16;++_)u[_]=this._block.readInt32LE(_*4);var m=this._a,g=this._b,p=this._c,N=this._d;m=f(m,g,p,N,u[0],3614090360,7),N=f(N,m,g,p,u[1],3905402710,12),p=f(p,N,m,g,u[2],606105819,17),g=f(g,p,N,m,u[3],3250441966,22),m=f(m,g,p,N,u[4],4118548399,7),N=f(N,m,g,p,u[5],1200080426,12),p=f(p,N,m,g,u[6],2821735955,17),g=f(g,p,N,m,u[7],4249261313,22),m=f(m,g,p,N,u[8],1770035416,7),N=f(N,m,g,p,u[9],2336552879,12),p=f(p,N,m,g,u[10],4294925233,17),g=f(g,p,N,m,u[11],2304563134,22),m=f(m,g,p,N,u[12],1804603682,7),N=f(N,m,g,p,u[13],4254626195,12),p=f(p,N,m,g,u[14],2792965006,17),g=f(g,p,N,m,u[15],1236535329,22),m=h(m,g,p,N,u[1],4129170786,5),N=h(N,m,g,p,u[6],3225465664,9),p=h(p,N,m,g,u[11],643717713,14),g=h(g,p,N,m,u[0],3921069994,20),m=h(m,g,p,N,u[5],3593408605,5),N=h(N,m,g,p,u[10],38016083,9),p=h(p,N,m,g,u[15],3634488961,14),g=h(g,p,N,m,u[4],3889429448,20),m=h(m,g,p,N,u[9],568446438,5),N=h(N,m,g,p,u[14],3275163606,9),p=h(p,N,m,g,u[3],4107603335,14),g=h(g,p,N,m,u[8],1163531501,20),m=h(m,g,p,N,u[13],2850285829,5),N=h(N,m,g,p,u[2],4243563512,9),p=h(p,N,m,g,u[7],1735328473,14),g=h(g,p,N,m,u[12],2368359562,20),m=k(m,g,p,N,u[5],4294588738,4),N=k(N,m,g,p,u[8],2272392833,11),p=k(p,N,m,g,u[11],1839030562,16),g=k(g,p,N,m,u[14],4259657740,23),m=k(m,g,p,N,u[1],2763975236,4),N=k(N,m,g,p,u[4],1272893353,11),p=k(p,N,m,g,u[7],4139469664,16),g=k(g,p,N,m,u[10],3200236656,23),m=k(m,g,p,N,u[13],681279174,4),N=k(N,m,g,p,u[0],3936430074,11),p=k(p,N,m,g,u[3],3572445317,16),g=k(g,p,N,m,u[6],76029189,23),m=k(m,g,p,N,u[9],3654602809,4),N=k(N,m,g,p,u[12],3873151461,11),p=k(p,N,m,g,u[15],530742520,16),g=k(g,p,N,m,u[2],3299628645,23),m=y(m,g,p,N,u[0],4096336452,6),N=y(N,m,g,p,u[7],1126891415,10),p=y(p,N,m,g,u[14],2878612391,15),g=y(g,p,N,m,u[5],4237533241,21),m=y(m,g,p,N,u[12],1700485571,6),N=y(N,m,g,p,u[3],2399980690,10),p=y(p,N,m,g,u[10],4293915773,15),g=y(g,p,N,m,u[1],2240044497,21),m=y(m,g,p,N,u[8],1873313359,6),N=y(N,m,g,p,u[15],4264355552,10),p=y(p,N,m,g,u[6],2734768916,15),g=y(g,p,N,m,u[13],1309151649,21),m=y(m,g,p,N,u[4],4149444226,6),N=y(N,m,g,p,u[11],3174756917,10),p=y(p,N,m,g,u[2],718787259,15),g=y(g,p,N,m,u[9],3951481745,21),this._a=this._a+m|0,this._b=this._b+g|0,this._c=this._c+p|0,this._d=this._d+N|0},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var u=P.allocUnsafe(16);return u.writeInt32LE(this._a,0),u.writeInt32LE(this._b,4),u.writeInt32LE(this._c,8),u.writeInt32LE(this._d,12),u};function c(u,_){return u<<_|u>>>32-_}function f(u,_,m,g,p,N,E){return c(u+(_&m|~_&g)+p+N|0,E)+_|0}function h(u,_,m,g,p,N,E){return c(u+(_&g|m&~g)+p+N|0,E)+_|0}function k(u,_,m,g,p,N,E){return c(u+(_^m^g)+p+N|0,E)+_|0}function y(u,_,m,g,p,N,E){return c(u+(m^(_|~g))+p+N|0,E)+_|0}s.exports=d},52244:(s,V,T)=>{var R=T(39404),A=T(15037);function P(S){this.rand=S||new A.Rand}s.exports=P,P.create=function(d){return new P(d)},P.prototype._randbelow=function(d){var c=d.bitLength(),f=Math.ceil(c/8);do var h=new R(this.rand.generate(f));while(h.cmp(d)>=0);return h},P.prototype._randrange=function(d,c){var f=c.sub(d);return d.add(this._randbelow(f))},P.prototype.test=function(d,c,f){var h=d.bitLength(),k=R.mont(d),y=new R(1).toRed(k);c||(c=Math.max(1,h/48|0));for(var u=d.subn(1),_=0;!u.testn(_);_++);for(var m=d.shrn(_),g=u.toRed(k),p=!0;c>0;c--){var N=this._randrange(new R(2),u);f&&f(N);var E=N.toRed(k).redPow(m);if(!(E.cmp(y)===0||E.cmp(g)===0)){for(var x=1;x<_;x++){if(E=E.redSqr(),E.cmp(y)===0)return!1;if(E.cmp(g)===0)break}if(x===_)return!1}}return p},P.prototype.getDivisor=function(d,c){var f=d.bitLength(),h=R.mont(d),k=new R(1).toRed(h);c||(c=Math.max(1,f/48|0));for(var y=d.subn(1),u=0;!y.testn(u);u++);for(var _=d.shrn(u),m=y.toRed(h);c>0;c--){var g=this._randrange(new R(2),y),p=d.gcd(g);if(p.cmpn(1)!==0)return p;var N=g.toRed(h).redPow(_);if(!(N.cmp(k)===0||N.cmp(m)===0)){for(var E=1;E<u;E++){if(N=N.redSqr(),N.cmp(k)===0)return N.fromRed().subn(1).gcd(d);if(N.cmp(m)===0)break}if(E===u)return N=N.redSqr(),N.fromRed().subn(1).gcd(d)}}return!1}},43349:s=>{s.exports=V;function V(T,R){if(!T)throw new Error(R||"Assertion failed")}V.equal=function(R,A,P){if(R!=A)throw new Error(P||"Assertion failed: "+R+" != "+A)}},64367:(s,V)=>{"use strict";var T=V;function R(S,d){if(Array.isArray(S))return S.slice();if(!S)return[];var c=[];if(typeof S!="string"){for(var f=0;f<S.length;f++)c[f]=S[f]|0;return c}if(d==="hex"){S=S.replace(/[^a-z0-9]+/ig,""),S.length%2!==0&&(S="0"+S);for(var f=0;f<S.length;f+=2)c.push(parseInt(S[f]+S[f+1],16))}else for(var f=0;f<S.length;f++){var h=S.charCodeAt(f),k=h>>8,y=h&255;k?c.push(k,y):c.push(y)}return c}T.toArray=R;function A(S){return S.length===1?"0"+S:S}T.zero2=A;function P(S){for(var d="",c=0;c<S.length;c++)d+=A(S[c].toString(16));return d}T.toHex=P,T.encode=function(d,c){return c==="hex"?P(d):d}},83519:(s,V,T)=>{var R=T(86587);s.exports=R(A),s.exports.strict=R(P),A.proto=A(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return A(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return P(this)},configurable:!0})});function A(S){var d=function(){return d.called?d.value:(d.called=!0,d.value=S.apply(this,arguments))};return d.called=!1,d}function P(S){var d=function(){if(d.called)throw new Error(d.onceError);return d.called=!0,d.value=S.apply(this,arguments)},c=S.name||"Function wrapped with `once`";return d.onceError=c+" shouldn't be called more than once",d.called=!1,d}},21137:(s,V,T)=>{"use strict";var R=T(87568);V.certificate=T(36413);var A=R.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});V.RSAPrivateKey=A;var P=R.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});V.RSAPublicKey=P;var S=R.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(d),this.key("subjectPublicKey").bitstr())});V.PublicKey=S;var d=R.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=R.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(d),this.key("subjectPrivateKey").octstr())});V.PrivateKey=c;var f=R.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});V.EncryptedPrivateKey=f;var h=R.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});V.DSAPrivateKey=h,V.DSAparam=R.define("DSAparam",function(){this.int()});var k=R.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(y),this.key("publicKey").optional().explicit(1).bitstr())});V.ECPrivateKey=k;var y=R.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});V.signature=R.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},36413:(s,V,T)=>{"use strict";var R=T(87568),A=R.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),P=R.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),S=R.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),d=R.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(S),this.key("subjectPublicKey").bitstr())}),c=R.define("RelativeDistinguishedName",function(){this.setof(P)}),f=R.define("RDNSequence",function(){this.seqof(c)}),h=R.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),k=R.define("Validity",function(){this.seq().obj(this.key("notBefore").use(A),this.key("notAfter").use(A))}),y=R.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),u=R.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(S),this.key("issuer").use(h),this.key("validity").use(k),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(d),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(y).optional())}),_=R.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(u),this.key("signatureAlgorithm").use(S),this.key("signatureValue").bitstr())});s.exports=_},24101:(s,V,T)=>{var R=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,A=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,P=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,S=T(68078),d=T(1241),c=T(92861).Buffer;s.exports=function(f,h){var k=f.toString(),y=k.match(R),u;if(y){var m="aes"+y[1],g=c.from(y[2],"hex"),p=c.from(y[3].replace(/[\r\n]/g,""),"base64"),N=S(h,g.slice(0,8),parseInt(y[1],10)).key,E=[],x=d.createDecipheriv(m,N,g);E.push(x.update(p)),E.push(x.final()),u=c.concat(E)}else{var _=k.match(P);u=c.from(_[2].replace(/[\r\n]/g,""),"base64")}var F=k.match(A)[1];return{tag:F,data:u}}},78170:(s,V,T)=>{var R=T(21137),A=T(15579),P=T(24101),S=T(1241),d=T(78396),c=T(92861).Buffer;s.exports=f;function f(k){var y;typeof k=="object"&&!c.isBuffer(k)&&(y=k.passphrase,k=k.key),typeof k=="string"&&(k=c.from(k));var u=P(k,y),_=u.tag,m=u.data,g,p;switch(_){case"CERTIFICATE":p=R.certificate.decode(m,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(p||(p=R.PublicKey.decode(m,"der")),g=p.algorithm.algorithm.join("."),g){case"1.2.840.113549.1.1.1":return R.RSAPublicKey.decode(p.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return p.subjectPrivateKey=p.subjectPublicKey,{type:"ec",data:p};case"1.2.840.10040.4.1":return p.algorithm.params.pub_key=R.DSAparam.decode(p.subjectPublicKey.data,"der"),{type:"dsa",data:p.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":m=R.EncryptedPrivateKey.decode(m,"der"),m=h(m,y);case"PRIVATE KEY":switch(p=R.PrivateKey.decode(m,"der"),g=p.algorithm.algorithm.join("."),g){case"1.2.840.113549.1.1.1":return R.RSAPrivateKey.decode(p.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:p.algorithm.curve,privateKey:R.ECPrivateKey.decode(p.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return p.algorithm.params.priv_key=R.DSAparam.decode(p.subjectPrivateKey,"der"),{type:"dsa",params:p.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return R.RSAPublicKey.decode(m,"der");case"RSA PRIVATE KEY":return R.RSAPrivateKey.decode(m,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:R.DSAPrivateKey.decode(m,"der")};case"EC PRIVATE KEY":return m=R.ECPrivateKey.decode(m,"der"),{curve:m.parameters.value,privateKey:m.privateKey};default:throw new Error("unknown key type "+_)}}f.signature=R.signature;function h(k,y){var u=k.algorithm.decrypt.kde.kdeparams.salt,_=parseInt(k.algorithm.decrypt.kde.kdeparams.iters.toString(),10),m=A[k.algorithm.decrypt.cipher.algo.join(".")],g=k.algorithm.decrypt.cipher.iv,p=k.subjectPrivateKey,N=parseInt(m.split("-")[1],10)/8,E=d.pbkdf2Sync(y,u,_,N,"sha1"),x=S.createDecipheriv(m,E,g),F=[];return F.push(x.update(p)),F.push(x.final()),c.concat(F)}},57975:(s,V,T)=>{"use strict";var R=T(65606);function A(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function P(c,f){for(var h="",k=0,y=-1,u=0,_,m=0;m<=c.length;++m){if(m<c.length)_=c.charCodeAt(m);else{if(_===47)break;_=47}if(_===47){if(!(y===m-1||u===1))if(y!==m-1&&u===2){if(h.length<2||k!==2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){var g=h.lastIndexOf("/");if(g!==h.length-1){g===-1?(h="",k=0):(h=h.slice(0,g),k=h.length-1-h.lastIndexOf("/")),y=m,u=0;continue}}else if(h.length===2||h.length===1){h="",k=0,y=m,u=0;continue}}f&&(h.length>0?h+="/..":h="..",k=2)}else h.length>0?h+="/"+c.slice(y+1,m):h=c.slice(y+1,m),k=m-y-1;y=m,u=0}else _===46&&u!==-1?++u:u=-1}return h}function S(c,f){var h=f.dir||f.root,k=f.base||(f.name||"")+(f.ext||"");return h?h===f.root?h+k:h+c+k:k}var d={resolve:function(){for(var f="",h=!1,k,y=arguments.length-1;y>=-1&&!h;y--){var u;y>=0?u=arguments[y]:(k===void 0&&(k=R.cwd()),u=k),A(u),u.length!==0&&(f=u+"/"+f,h=u.charCodeAt(0)===47)}return f=P(f,!h),h?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(f){if(A(f),f.length===0)return".";var h=f.charCodeAt(0)===47,k=f.charCodeAt(f.length-1)===47;return f=P(f,!h),f.length===0&&!h&&(f="."),f.length>0&&k&&(f+="/"),h?"/"+f:f},isAbsolute:function(f){return A(f),f.length>0&&f.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var f,h=0;h<arguments.length;++h){var k=arguments[h];A(k),k.length>0&&(f===void 0?f=k:f+="/"+k)}return f===void 0?".":d.normalize(f)},relative:function(f,h){if(A(f),A(h),f===h||(f=d.resolve(f),h=d.resolve(h),f===h))return"";for(var k=1;k<f.length&&f.charCodeAt(k)===47;++k);for(var y=f.length,u=y-k,_=1;_<h.length&&h.charCodeAt(_)===47;++_);for(var m=h.length,g=m-_,p=u<g?u:g,N=-1,E=0;E<=p;++E){if(E===p){if(g>p){if(h.charCodeAt(_+E)===47)return h.slice(_+E+1);if(E===0)return h.slice(_+E)}else u>p&&(f.charCodeAt(k+E)===47?N=E:E===0&&(N=0));break}var x=f.charCodeAt(k+E),F=h.charCodeAt(_+E);if(x!==F)break;x===47&&(N=E)}var W="";for(E=k+N+1;E<=y;++E)(E===y||f.charCodeAt(E)===47)&&(W.length===0?W+="..":W+="/..");return W.length>0?W+h.slice(_+N):(_+=N,h.charCodeAt(_)===47&&++_,h.slice(_))},_makeLong:function(f){return f},dirname:function(f){if(A(f),f.length===0)return".";for(var h=f.charCodeAt(0),k=h===47,y=-1,u=!0,_=f.length-1;_>=1;--_)if(h=f.charCodeAt(_),h===47){if(!u){y=_;break}}else u=!1;return y===-1?k?"/":".":k&&y===1?"//":f.slice(0,y)},basename:function(f,h){if(h!==void 0&&typeof h!="string")throw new TypeError('"ext" argument must be a string');A(f);var k=0,y=-1,u=!0,_;if(h!==void 0&&h.length>0&&h.length<=f.length){if(h.length===f.length&&h===f)return"";var m=h.length-1,g=-1;for(_=f.length-1;_>=0;--_){var p=f.charCodeAt(_);if(p===47){if(!u){k=_+1;break}}else g===-1&&(u=!1,g=_+1),m>=0&&(p===h.charCodeAt(m)?--m===-1&&(y=_):(m=-1,y=g))}return k===y?y=g:y===-1&&(y=f.length),f.slice(k,y)}else{for(_=f.length-1;_>=0;--_)if(f.charCodeAt(_)===47){if(!u){k=_+1;break}}else y===-1&&(u=!1,y=_+1);return y===-1?"":f.slice(k,y)}},extname:function(f){A(f);for(var h=-1,k=0,y=-1,u=!0,_=0,m=f.length-1;m>=0;--m){var g=f.charCodeAt(m);if(g===47){if(!u){k=m+1;break}continue}y===-1&&(u=!1,y=m+1),g===46?h===-1?h=m:_!==1&&(_=1):h!==-1&&(_=-1)}return h===-1||y===-1||_===0||_===1&&h===y-1&&h===k+1?"":f.slice(h,y)},format:function(f){if(f===null||typeof f!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof f);return S("/",f)},parse:function(f){A(f);var h={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return h;var k=f.charCodeAt(0),y=k===47,u;y?(h.root="/",u=1):u=0;for(var _=-1,m=0,g=-1,p=!0,N=f.length-1,E=0;N>=u;--N){if(k=f.charCodeAt(N),k===47){if(!p){m=N+1;break}continue}g===-1&&(p=!1,g=N+1),k===46?_===-1?_=N:E!==1&&(E=1):_!==-1&&(E=-1)}return _===-1||g===-1||E===0||E===1&&_===g-1&&_===m+1?g!==-1&&(m===0&&y?h.base=h.name=f.slice(1,g):h.base=h.name=f.slice(m,g)):(m===0&&y?(h.name=f.slice(1,_),h.base=f.slice(1,g)):(h.name=f.slice(m,_),h.base=f.slice(m,g)),h.ext=f.slice(_,g)),m>0?h.dir=f.slice(0,m-1):y&&(h.dir="/"),h},sep:"/",delimiter:":",win32:null,posix:null};d.posix=d,s.exports=d},78396:(s,V,T)=>{V.pbkdf2=T(43832),V.pbkdf2Sync=T(21352)},43832:(s,V,T)=>{var R=T(92861).Buffer,A=T(64196),P=T(2455),S=T(21352),d=T(93382),c,f=T.g.crypto&&T.g.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},k=[];function y(p){if(T.g.process&&!T.g.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(k[p]!==void 0)return k[p];c=c||R.alloc(8);var N=m(c,c,10,128,p).then(function(){return!0}).catch(function(){return!1});return k[p]=N,N}var u;function _(){return u||(T.g.process&&T.g.process.nextTick?u=T.g.process.nextTick:T.g.queueMicrotask?u=T.g.queueMicrotask:T.g.setImmediate?u=T.g.setImmediate:u=T.g.setTimeout,u)}function m(p,N,E,x,F){return f.importKey("raw",p,{name:"PBKDF2"},!1,["deriveBits"]).then(function(W){return f.deriveBits({name:"PBKDF2",salt:N,iterations:E,hash:{name:F}},W,x<<3)}).then(function(W){return R.from(W)})}function g(p,N){p.then(function(E){_()(function(){N(null,E)})},function(E){_()(function(){N(E)})})}s.exports=function(p,N,E,x,F,W){typeof F=="function"&&(W=F,F=void 0),F=F||"sha1";var b=h[F.toLowerCase()];if(!b||typeof T.g.Promise!="function"){_()(function(){var L;try{L=S(p,N,E,x,F)}catch(z){return W(z)}W(null,L)});return}if(A(E,x),p=d(p,P,"Password"),N=d(N,P,"Salt"),typeof W!="function")throw new Error("No callback provided to pbkdf2");g(y(b).then(function(L){return L?m(p,N,E,x,b):S(p,N,E,x,F)}),W)}},2455:(s,V,T)=>{var R=T(65606),A;if(T.g.process&&T.g.process.browser)A="utf-8";else if(T.g.process&&T.g.process.version){var P=parseInt(R.version.split(".")[0].slice(1),10);A=P>=6?"utf-8":"binary"}else A="utf-8";s.exports=A},64196:s=>{var V=Math.pow(2,30)-1;s.exports=function(T,R){if(typeof T!="number")throw new TypeError("Iterations not a number");if(T<0)throw new TypeError("Bad iterations");if(typeof R!="number")throw new TypeError("Key length not a number");if(R<0||R>V||R!==R)throw new TypeError("Bad key length")}},21352:(s,V,T)=>{var R=T(20320),A=T(66011),P=T(62802),S=T(92861).Buffer,d=T(64196),c=T(2455),f=T(93382),h=S.alloc(128),k={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function y(m,g,p){var N=u(m),E=m==="sha512"||m==="sha384"?128:64;g.length>E?g=N(g):g.length<E&&(g=S.concat([g,h],E));for(var x=S.allocUnsafe(E+k[m]),F=S.allocUnsafe(E+k[m]),W=0;W<E;W++)x[W]=g[W]^54,F[W]=g[W]^92;var b=S.allocUnsafe(E+p+4);x.copy(b,0,0,E),this.ipad1=b,this.ipad2=x,this.opad=F,this.alg=m,this.blocksize=E,this.hash=N,this.size=k[m]}y.prototype.run=function(m,g){m.copy(g,this.blocksize);var p=this.hash(g);return p.copy(this.opad,this.blocksize),this.hash(this.opad)};function u(m){function g(N){return P(m).update(N).digest()}function p(N){return new A().update(N).digest()}return m==="rmd160"||m==="ripemd160"?p:m==="md5"?R:g}function _(m,g,p,N,E){d(p,N),m=f(m,c,"Password"),g=f(g,c,"Salt"),E=E||"sha1";var x=new y(E,m,g.length),F=S.allocUnsafe(N),W=S.allocUnsafe(g.length+4);g.copy(W,0,0,g.length);for(var b=0,L=k[E],z=Math.ceil(N/L),K=1;K<=z;K++){W.writeUInt32BE(K,g.length);for(var J=x.run(W,x.ipad1),ie=J,Y=1;Y<p;Y++){ie=x.run(ie,x.ipad2);for(var M=0;M<L;M++)J[M]^=ie[M]}J.copy(F,b),b+=L}return F}s.exports=_},93382:(s,V,T)=>{var R=T(92861).Buffer;s.exports=function(A,P,S){if(R.isBuffer(A))return A;if(typeof A=="string")return R.from(A,P);if(ArrayBuffer.isView(A))return R.from(A.buffer);throw new TypeError(S+" must be a string, a Buffer, a typed array or a DataView")}},65606:s=>{var V=s.exports={},T,R;function A(){throw new Error("setTimeout has not been defined")}function P(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?T=setTimeout:T=A}catch{T=A}try{typeof clearTimeout=="function"?R=clearTimeout:R=P}catch{R=P}})();function S(g){if(T===setTimeout)return setTimeout(g,0);if((T===A||!T)&&setTimeout)return T=setTimeout,setTimeout(g,0);try{return T(g,0)}catch{try{return T.call(null,g,0)}catch{return T.call(this,g,0)}}}function d(g){if(R===clearTimeout)return clearTimeout(g);if((R===P||!R)&&clearTimeout)return R=clearTimeout,clearTimeout(g);try{return R(g)}catch{try{return R.call(null,g)}catch{return R.call(this,g)}}}var c=[],f=!1,h,k=-1;function y(){!f||!h||(f=!1,h.length?c=h.concat(c):k=-1,c.length&&u())}function u(){if(!f){var g=S(y);f=!0;for(var p=c.length;p;){for(h=c,c=[];++k<p;)h&&h[k].run();k=-1,p=c.length}h=null,f=!1,d(g)}}V.nextTick=function(g){var p=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)p[N-1]=arguments[N];c.push(new _(g,p)),c.length===1&&!f&&S(u)};function _(g,p){this.fun=g,this.array=p}_.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={};function m(){}V.on=m,V.addListener=m,V.once=m,V.off=m,V.removeListener=m,V.removeAllListeners=m,V.emit=m,V.prependListener=m,V.prependOnceListener=m,V.listeners=function(g){return[]},V.binding=function(g){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(g){throw new Error("process.chdir is not supported")},V.umask=function(){return 0}},97168:(s,V,T)=>{V.publicEncrypt=T(28902),V.privateDecrypt=T(77362),V.privateEncrypt=function(A,P){return V.publicEncrypt(A,P,!0)},V.publicDecrypt=function(A,P){return V.privateDecrypt(A,P,!0)}},48206:(s,V,T)=>{var R=T(47108),A=T(92861).Buffer;s.exports=function(S,d){for(var c=A.alloc(0),f=0,h;c.length<d;)h=P(f++),c=A.concat([c,R("sha1").update(S).update(h).digest()]);return c.slice(0,d)};function P(S){var d=A.allocUnsafe(4);return d.writeUInt32BE(S,0),d}},77362:(s,V,T)=>{var R=T(78170),A=T(48206),P=T(52061),S=T(39404),d=T(67332),c=T(47108),f=T(99247),h=T(92861).Buffer;s.exports=function(m,g,p){var N;m.padding?N=m.padding:p?N=1:N=4;var E=R(m),x=E.modulus.byteLength();if(g.length>x||new S(g).cmp(E.modulus)>=0)throw new Error("decryption error");var F;p?F=f(new S(g),E):F=d(g,E);var W=h.alloc(x-F.length);if(F=h.concat([W,F],x),N===4)return k(E,F);if(N===1)return y(E,F,p);if(N===3)return F;throw new Error("unknown padding")};function k(_,m){var g=_.modulus.byteLength(),p=c("sha1").update(h.alloc(0)).digest(),N=p.length;if(m[0]!==0)throw new Error("decryption error");var E=m.slice(1,N+1),x=m.slice(N+1),F=P(E,A(x,N)),W=P(x,A(F,g-N-1));if(u(p,W.slice(0,N)))throw new Error("decryption error");for(var b=N;W[b]===0;)b++;if(W[b++]!==1)throw new Error("decryption error");return W.slice(b)}function y(_,m,g){for(var p=m.slice(0,2),N=2,E=0;m[N++]!==0;)if(N>=m.length){E++;break}var x=m.slice(2,N-1);if((p.toString("hex")!=="0002"&&!g||p.toString("hex")!=="0001"&&g)&&E++,x.length<8&&E++,E)throw new Error("decryption error");return m.slice(N)}function u(_,m){_=h.from(_),m=h.from(m);var g=0,p=_.length;_.length!==m.length&&(g++,p=Math.min(_.length,m.length));for(var N=-1;++N<p;)g+=_[N]^m[N];return g}},28902:(s,V,T)=>{var R=T(78170),A=T(53209),P=T(47108),S=T(48206),d=T(52061),c=T(39404),f=T(99247),h=T(67332),k=T(92861).Buffer;s.exports=function(g,p,N){var E;g.padding?E=g.padding:N?E=1:E=4;var x=R(g),F;if(E===4)F=y(x,p);else if(E===1)F=u(x,p,N);else if(E===3){if(F=new c(p),F.cmp(x.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return N?h(F,x):f(F,x)};function y(m,g){var p=m.modulus.byteLength(),N=g.length,E=P("sha1").update(k.alloc(0)).digest(),x=E.length,F=2*x;if(N>p-F-2)throw new Error("message too long");var W=k.alloc(p-N-F-2),b=p-x-1,L=A(x),z=d(k.concat([E,W,k.alloc(1,1),g],b),S(L,b)),K=d(L,S(z,x));return new c(k.concat([k.alloc(1),K,z],p))}function u(m,g,p){var N=g.length,E=m.modulus.byteLength();if(N>E-11)throw new Error("message too long");var x;return p?x=k.alloc(E-N-3,255):x=_(E-N-3),new c(k.concat([k.from([0,p?1:2]),x,k.alloc(1),g],E))}function _(m){for(var g=k.allocUnsafe(m),p=0,N=A(m*2),E=0,x;p<m;)E===N.length&&(N=A(m*2),E=0),x=N[E++],x&&(g[p++]=x);return g}},99247:(s,V,T)=>{var R=T(39404),A=T(92861).Buffer;function P(S,d){return A.from(S.toRed(R.mont(d.modulus)).redPow(new R(d.publicExponent)).fromRed().toArray())}s.exports=P},52061:s=>{s.exports=function(T,R){for(var A=T.length,P=-1;++P<A;)T[P]^=R[P];return T}},53209:(s,V,T)=>{"use strict";var R=T(65606),A=65536,P=4294967295;function S(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var d=T(92861).Buffer,c=T.g.crypto||T.g.msCrypto;c&&c.getRandomValues?s.exports=f:s.exports=S;function f(h,k){if(h>P)throw new RangeError("requested too many random bytes");var y=d.allocUnsafe(h);if(h>0)if(h>A)for(var u=0;u<h;u+=A)c.getRandomValues(y.slice(u,u+A));else c.getRandomValues(y);return typeof k=="function"?R.nextTick(function(){k(null,y)}):y}},76983:(s,V,T)=>{"use strict";var R=T(65606);function A(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var P=T(92861),S=T(53209),d=P.Buffer,c=P.kMaxLength,f=T.g.crypto||T.g.msCrypto,h=Math.pow(2,32)-1;function k(g,p){if(typeof g!="number"||g!==g)throw new TypeError("offset must be a number");if(g>h||g<0)throw new TypeError("offset must be a uint32");if(g>c||g>p)throw new RangeError("offset out of range")}function y(g,p,N){if(typeof g!="number"||g!==g)throw new TypeError("size must be a number");if(g>h||g<0)throw new TypeError("size must be a uint32");if(g+p>N||g>c)throw new RangeError("buffer too small")}f&&f.getRandomValues||!R.browser?(V.randomFill=u,V.randomFillSync=m):(V.randomFill=A,V.randomFillSync=A);function u(g,p,N,E){if(!d.isBuffer(g)&&!(g instanceof T.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof p=="function")E=p,p=0,N=g.length;else if(typeof N=="function")E=N,N=g.length-p;else if(typeof E!="function")throw new TypeError('"cb" argument must be a function');return k(p,g.length),y(N,p,g.length),_(g,p,N,E)}function _(g,p,N,E){if(R.browser){var x=g.buffer,F=new Uint8Array(x,p,N);if(f.getRandomValues(F),E){R.nextTick(function(){E(null,g)});return}return g}if(E){S(N,function(b,L){if(b)return E(b);L.copy(g,p),E(null,g)});return}var W=S(N);return W.copy(g,p),g}function m(g,p,N){if(typeof p=="undefined"&&(p=0),!d.isBuffer(g)&&!(g instanceof T.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return k(p,g.length),N===void 0&&(N=g.length-p),y(N,p,g.length),_(g,p,N)}},66011:(s,V,T)=>{"use strict";var R=T(48287).Buffer,A=T(56698),P=T(4729),S=new Array(16),d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],k=[0,1518500249,1859775393,2400959708,2840853838],y=[1352829926,1548603684,1836072691,2053994217,0];function u(){P.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}A(u,P),u.prototype._update=function(){for(var x=S,F=0;F<16;++F)x[F]=this._block.readInt32LE(F*4);for(var W=this._a|0,b=this._b|0,L=this._c|0,z=this._d|0,K=this._e|0,J=this._a|0,ie=this._b|0,Y=this._c|0,M=this._d|0,$=this._e|0,C=0;C<80;C+=1){var l,w;C<16?(l=m(W,b,L,z,K,x[d[C]],k[0],f[C]),w=E(J,ie,Y,M,$,x[c[C]],y[0],h[C])):C<32?(l=g(W,b,L,z,K,x[d[C]],k[1],f[C]),w=N(J,ie,Y,M,$,x[c[C]],y[1],h[C])):C<48?(l=p(W,b,L,z,K,x[d[C]],k[2],f[C]),w=p(J,ie,Y,M,$,x[c[C]],y[2],h[C])):C<64?(l=N(W,b,L,z,K,x[d[C]],k[3],f[C]),w=g(J,ie,Y,M,$,x[c[C]],y[3],h[C])):(l=E(W,b,L,z,K,x[d[C]],k[4],f[C]),w=m(J,ie,Y,M,$,x[c[C]],y[4],h[C])),W=K,K=z,z=_(L,10),L=b,b=l,J=$,$=M,M=_(Y,10),Y=ie,ie=w}var D=this._b+L+M|0;this._b=this._c+z+$|0,this._c=this._d+K+J|0,this._d=this._e+W+ie|0,this._e=this._a+b+Y|0,this._a=D},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var x=R.alloc?R.alloc(20):new R(20);return x.writeInt32LE(this._a,0),x.writeInt32LE(this._b,4),x.writeInt32LE(this._c,8),x.writeInt32LE(this._d,12),x.writeInt32LE(this._e,16),x};function _(x,F){return x<<F|x>>>32-F}function m(x,F,W,b,L,z,K,J){return _(x+(F^W^b)+z+K|0,J)+L|0}function g(x,F,W,b,L,z,K,J){return _(x+(F&W|~F&b)+z+K|0,J)+L|0}function p(x,F,W,b,L,z,K,J){return _(x+((F|~W)^b)+z+K|0,J)+L|0}function N(x,F,W,b,L,z,K,J){return _(x+(F&b|W&~b)+z+K|0,J)+L|0}function E(x,F,W,b,L,z,K,J){return _(x+(F^(W|~b))+z+K|0,J)+L|0}s.exports=u},92861:(s,V,T)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var R=T(48287),A=R.Buffer;function P(d,c){for(var f in d)c[f]=d[f]}A.from&&A.alloc&&A.allocUnsafe&&A.allocUnsafeSlow?s.exports=R:(P(R,V),V.Buffer=S);function S(d,c,f){return A(d,c,f)}S.prototype=Object.create(A.prototype),P(A,S),S.from=function(d,c,f){if(typeof d=="number")throw new TypeError("Argument must not be a number");return A(d,c,f)},S.alloc=function(d,c,f){if(typeof d!="number")throw new TypeError("Argument must be a number");var h=A(d);return c!==void 0?typeof f=="string"?h.fill(c,f):h.fill(c):h.fill(0),h},S.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return A(d)},S.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return R.SlowBuffer(d)}},54774:(s,V,T)=>{"use strict";var R=T(65606),A=T(48287),P=A.Buffer,S={},d;for(d in A)A.hasOwnProperty(d)&&(d==="SlowBuffer"||d==="Buffer"||(S[d]=A[d]));var c=S.Buffer={};for(d in P)P.hasOwnProperty(d)&&(d==="allocUnsafe"||d==="allocUnsafeSlow"||(c[d]=P[d]));if(S.Buffer.prototype=P.prototype,(!c.from||c.from===Uint8Array.from)&&(c.from=function(f,h,k){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&typeof f.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return P(f,h,k)}),c.alloc||(c.alloc=function(f,h,k){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2147483648)throw new RangeError('The value "'+f+'" is invalid for option "size"');var y=P(f);return!h||h.length===0?y.fill(0):typeof k=="string"?y.fill(h,k):y.fill(h),y}),!S.kStringMaxLength)try{S.kStringMaxLength=R.binding("buffer").kStringMaxLength}catch{}S.constants||(S.constants={MAX_LENGTH:S.kMaxLength},S.kStringMaxLength&&(S.constants.MAX_STRING_LENGTH=S.kStringMaxLength)),s.exports=S},90392:(s,V,T)=>{var R=T(92861).Buffer;function A(P,S){this._block=R.alloc(P),this._finalSize=S,this._blockSize=P,this._len=0}A.prototype.update=function(P,S){typeof P=="string"&&(S=S||"utf8",P=R.from(P,S));for(var d=this._block,c=this._blockSize,f=P.length,h=this._len,k=0;k<f;){for(var y=h%c,u=Math.min(f-k,c-y),_=0;_<u;_++)d[y+_]=P[k+_];h+=u,k+=u,h%c===0&&this._update(d)}return this._len+=f,this},A.prototype.digest=function(P){var S=this._len%this._blockSize;this._block[S]=128,this._block.fill(0,S+1),S>=this._finalSize&&(this._update(this._block),this._block.fill(0));var d=this._len*8;if(d<=4294967295)this._block.writeUInt32BE(d,this._blockSize-4);else{var c=(d&4294967295)>>>0,f=(d-c)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var h=this._hash();return P?h.toString(P):h},A.prototype._update=function(){throw new Error("_update must be implemented by subclass")},s.exports=A},62802:(s,V,T)=>{var R=s.exports=function(P){P=P.toLowerCase();var S=R[P];if(!S)throw new Error(P+" is not supported (we accept pull requests)");return new S};R.sha=T(27816),R.sha1=T(63737),R.sha224=T(26710),R.sha256=T(24107),R.sha384=T(32827),R.sha512=T(82890)},27816:(s,V,T)=>{var R=T(56698),A=T(90392),P=T(92861).Buffer,S=[1518500249,1859775393,-1894007588,-899497514],d=new Array(80);function c(){this.init(),this._w=d,A.call(this,64,56)}R(c,A),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function f(y){return y<<5|y>>>27}function h(y){return y<<30|y>>>2}function k(y,u,_,m){return y===0?u&_|~u&m:y===2?u&_|u&m|_&m:u^_^m}c.prototype._update=function(y){for(var u=this._w,_=this._a|0,m=this._b|0,g=this._c|0,p=this._d|0,N=this._e|0,E=0;E<16;++E)u[E]=y.readInt32BE(E*4);for(;E<80;++E)u[E]=u[E-3]^u[E-8]^u[E-14]^u[E-16];for(var x=0;x<80;++x){var F=~~(x/20),W=f(_)+k(F,m,g,p)+N+u[x]+S[F]|0;N=p,p=g,g=h(m),m=_,_=W}this._a=_+this._a|0,this._b=m+this._b|0,this._c=g+this._c|0,this._d=p+this._d|0,this._e=N+this._e|0},c.prototype._hash=function(){var y=P.allocUnsafe(20);return y.writeInt32BE(this._a|0,0),y.writeInt32BE(this._b|0,4),y.writeInt32BE(this._c|0,8),y.writeInt32BE(this._d|0,12),y.writeInt32BE(this._e|0,16),y},s.exports=c},63737:(s,V,T)=>{var R=T(56698),A=T(90392),P=T(92861).Buffer,S=[1518500249,1859775393,-1894007588,-899497514],d=new Array(80);function c(){this.init(),this._w=d,A.call(this,64,56)}R(c,A),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function f(u){return u<<1|u>>>31}function h(u){return u<<5|u>>>27}function k(u){return u<<30|u>>>2}function y(u,_,m,g){return u===0?_&m|~_&g:u===2?_&m|_&g|m&g:_^m^g}c.prototype._update=function(u){for(var _=this._w,m=this._a|0,g=this._b|0,p=this._c|0,N=this._d|0,E=this._e|0,x=0;x<16;++x)_[x]=u.readInt32BE(x*4);for(;x<80;++x)_[x]=f(_[x-3]^_[x-8]^_[x-14]^_[x-16]);for(var F=0;F<80;++F){var W=~~(F/20),b=h(m)+y(W,g,p,N)+E+_[F]+S[W]|0;E=N,N=p,p=k(g),g=m,m=b}this._a=m+this._a|0,this._b=g+this._b|0,this._c=p+this._c|0,this._d=N+this._d|0,this._e=E+this._e|0},c.prototype._hash=function(){var u=P.allocUnsafe(20);return u.writeInt32BE(this._a|0,0),u.writeInt32BE(this._b|0,4),u.writeInt32BE(this._c|0,8),u.writeInt32BE(this._d|0,12),u.writeInt32BE(this._e|0,16),u},s.exports=c},26710:(s,V,T)=>{var R=T(56698),A=T(24107),P=T(90392),S=T(92861).Buffer,d=new Array(64);function c(){this.init(),this._w=d,P.call(this,64,56)}R(c,A),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var f=S.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},s.exports=c},24107:(s,V,T)=>{var R=T(56698),A=T(90392),P=T(92861).Buffer,S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=new Array(64);function c(){this.init(),this._w=d,A.call(this,64,56)}R(c,A),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function f(m,g,p){return p^m&(g^p)}function h(m,g,p){return m&g|p&(m|g)}function k(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function y(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function u(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}function _(m){return(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10}c.prototype._update=function(m){for(var g=this._w,p=this._a|0,N=this._b|0,E=this._c|0,x=this._d|0,F=this._e|0,W=this._f|0,b=this._g|0,L=this._h|0,z=0;z<16;++z)g[z]=m.readInt32BE(z*4);for(;z<64;++z)g[z]=_(g[z-2])+g[z-7]+u(g[z-15])+g[z-16]|0;for(var K=0;K<64;++K){var J=L+y(F)+f(F,W,b)+S[K]+g[K]|0,ie=k(p)+h(p,N,E)|0;L=b,b=W,W=F,F=x+J|0,x=E,E=N,N=p,p=J+ie|0}this._a=p+this._a|0,this._b=N+this._b|0,this._c=E+this._c|0,this._d=x+this._d|0,this._e=F+this._e|0,this._f=W+this._f|0,this._g=b+this._g|0,this._h=L+this._h|0},c.prototype._hash=function(){var m=P.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},s.exports=c},32827:(s,V,T)=>{var R=T(56698),A=T(82890),P=T(90392),S=T(92861).Buffer,d=new Array(160);function c(){this.init(),this._w=d,P.call(this,128,112)}R(c,A),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var f=S.allocUnsafe(48);function h(k,y,u){f.writeInt32BE(k,u),f.writeInt32BE(y,u+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),f},s.exports=c},82890:(s,V,T)=>{var R=T(56698),A=T(90392),P=T(92861).Buffer,S=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],d=new Array(160);function c(){this.init(),this._w=d,A.call(this,128,112)}R(c,A),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function f(N,E,x){return x^N&(E^x)}function h(N,E,x){return N&E|x&(N|E)}function k(N,E){return(N>>>28|E<<4)^(E>>>2|N<<30)^(E>>>7|N<<25)}function y(N,E){return(N>>>14|E<<18)^(N>>>18|E<<14)^(E>>>9|N<<23)}function u(N,E){return(N>>>1|E<<31)^(N>>>8|E<<24)^N>>>7}function _(N,E){return(N>>>1|E<<31)^(N>>>8|E<<24)^(N>>>7|E<<25)}function m(N,E){return(N>>>19|E<<13)^(E>>>29|N<<3)^N>>>6}function g(N,E){return(N>>>19|E<<13)^(E>>>29|N<<3)^(N>>>6|E<<26)}function p(N,E){return N>>>0<E>>>0?1:0}c.prototype._update=function(N){for(var E=this._w,x=this._ah|0,F=this._bh|0,W=this._ch|0,b=this._dh|0,L=this._eh|0,z=this._fh|0,K=this._gh|0,J=this._hh|0,ie=this._al|0,Y=this._bl|0,M=this._cl|0,$=this._dl|0,C=this._el|0,l=this._fl|0,w=this._gl|0,D=this._hl|0,q=0;q<32;q+=2)E[q]=N.readInt32BE(q*4),E[q+1]=N.readInt32BE(q*4+4);for(;q<160;q+=2){var j=E[q-30],H=E[q-15*2+1],Z=u(j,H),te=_(H,j);j=E[q-4],H=E[q-4+1];var B=m(j,H),ae=g(H,j),xe=E[q-7*2],he=E[q-7*2+1],Ee=E[q-16*2],Ne=E[q-16*2+1],X=te+he|0,ee=Z+xe+p(X,te)|0;X=X+ae|0,ee=ee+B+p(X,ae)|0,X=X+Ne|0,ee=ee+Ee+p(X,Ne)|0,E[q]=ee,E[q+1]=X}for(var de=0;de<160;de+=2){ee=E[de],X=E[de+1];var me=h(x,F,W),_e=h(ie,Y,M),U=k(x,ie),O=k(ie,x),oe=y(L,C),ve=y(C,L),we=S[de],pe=S[de+1],Pe=f(L,z,K),Le=f(C,l,w),He=D+ve|0,kt=J+oe+p(He,D)|0;He=He+Le|0,kt=kt+Pe+p(He,Le)|0,He=He+pe|0,kt=kt+we+p(He,pe)|0,He=He+X|0,kt=kt+ee+p(He,X)|0;var Ke=O+_e|0,Ze=U+me+p(Ke,O)|0;J=K,D=w,K=z,w=l,z=L,l=C,C=$+He|0,L=b+kt+p(C,$)|0,b=W,$=M,W=F,M=Y,F=x,Y=ie,ie=He+Ke|0,x=kt+Ze+p(ie,He)|0}this._al=this._al+ie|0,this._bl=this._bl+Y|0,this._cl=this._cl+M|0,this._dl=this._dl+$|0,this._el=this._el+C|0,this._fl=this._fl+l|0,this._gl=this._gl+w|0,this._hl=this._hl+D|0,this._ah=this._ah+x+p(this._al,ie)|0,this._bh=this._bh+F+p(this._bl,Y)|0,this._ch=this._ch+W+p(this._cl,M)|0,this._dh=this._dh+b+p(this._dl,$)|0,this._eh=this._eh+L+p(this._el,C)|0,this._fh=this._fh+z+p(this._fl,l)|0,this._gh=this._gh+K+p(this._gl,w)|0,this._hh=this._hh+J+p(this._hl,D)|0},c.prototype._hash=function(){var N=P.allocUnsafe(64);function E(x,F,W){N.writeInt32BE(x,W),N.writeInt32BE(F,W+4)}return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),N},s.exports=c},1182:(s,V,T)=>{"use strict";const R=T(38601),A=/\s/,P=/\r|\n/,S=/^(Host|Match)$/i,d=/^(GlobalKnownHostsFile|Host|IPQoS|SendEnv|UserKnownHostsFile|ProxyCommand)$/i,c=/^(?:CertificateFile|IdentityFile|User)$/i,f=/^(Include|IdentityFile)$/i,h=1,k=2,y=["IdentityFile","LocalForward","RemoteForward","DynamicForward","CertificateFile"];function u(g,p){return p.hasOwnProperty(g.param)&&p[g.param]===g.value}function _(g){for(const p of g)if(S.test(p.param)){for(const N of p.config)if(N.before)return N.before}return"  "}class m extends Array{compute(p){const N={},E=(x,F)=>{y.includes(x)?(N[x]||(N[x]=[])).push(F):N[x]==null&&(N[x]=F)};for(const x of this)x.type===h&&(x.param==="Host"?R(x.value,p)&&(E(x.param,x.value),x.config.filter(F=>F.type===h).forEach(F=>E(F.param,F.value))):x.param==="Match"||E(x.param,x.value));return N}find(p={}){if(typeof p=="function")return super.find(p);if(!(p&&("Host"in p||"Match"in p)))throw new Error("Can only find by Host or Match");return super.find(N=>u(N,p))}remove(p={}){if(!(p&&("Host"in p||"Match"in p)))throw new Error("Can only remove by Host or Match");const N=typeof p=="function"?super.findIndex(p):super.findIndex(E=>u(E,p));if(N>=0)return this.splice(N,1)}toString(){return this.constructor.stringify(this)}append(p){const N=_(this),E=this.length>0?this[this.length-1]:null;let x=E&&E.config||this,F=this,W=x.length>0?x[x.length-1]:E;W&&!W.after&&(W.after=`
`);for(const b in p){const L={type:h,param:b,separator:" ",value:p[b],before:"",after:`
`};S.test(b)?(x=F,W&&W.after===`
`&&(W.after+=`
`),x.push(L),x=L.config=new m):(L.before=x===F?"":N,x.push(L)),W=L}return F}prepend(p,N=!1){const E=_(this);let x=this,F=0;if(N){for(;F<this.length&&!S.test(this[F].param);)F+=1;if(F>=this.length)return this.append(p)}let W=!1,b=0;for(const L in p){b+=1;const z={type:h,param:L,separator:" ",value:p[L],before:"",after:`
`};if(S.test(L)){x.splice(F,0,z),x=z.config=new m,W=!0;continue}if(b===Object.keys(p).length&&(z.after+=`
`),!W){x.splice(F,0,z),F+=1,f.test(L)&&(z.after+=`
`);continue}z.before=E,x.push(z)}return x}static stringify(p){let N="";function E(W,b){return Array.isArray(W)?W.map(L=>E(L,A.test(L))).join(" "):b?`"${W}"`:W}function x(W){const b=W.quoted||c.test(W.param)&&A.test(W.value),L=E(W.value,b);return`${W.param}${W.separator}${L}`}const F=W=>{N+=W.before,W.type===k?N+=W.content:W.type===h&&y.includes(W.param)?[].concat(W.value).forEach(function(b,L,z){N+=x({...W,value:b}),L<z.length-1&&(N+=`
${W.before}`)}):W.type===h&&(N+=x(W)),N+=W.after,W.config&&W.config.forEach(F)};return p.forEach(F),N}static get DIRECTIVE(){return h}static get COMMENT(){return k}static parse(p){let N=0,E=W(),x=new m,F=x;function W(){return p[N++]}function b(){let C="";for(;A.test(E);)C+=E,E=W();return C}function L(){let C="";for(;P.test(E);)C+=E,E=W();return C}function z(){let C="";for(;E&&/[^ \t=]/.test(E);)C+=E,E=W();return C}function K(){let C=b();return E==="="&&(C+=E,E=W()),C+b()}function J(){let C="",l=!1,w=!1;for(;E&&!P.test(E);)w?(C+=E==='"'?E:`\\${E}`,w=!1):E==='"'&&(!C||l)?l=!l:E==="\\"?w=!0:C+=E,E=W();if(l||w)throw new Error(`Unexpected line break at ${C}`);return C.trim()}function ie(){const C=k;let l="";for(;E&&!P.test(E);)l+=E,E=W();return{type:C,content:l}}function Y(){const C=[];let l="",w=!1,D=!1;for(;E&&!P.test(E);)D?(l+=E==='"'?E:`\\${E}`,D=!1):E==='"'?w=!w:E==="\\"?D=!0:w?l+=E:/[ \t]/.test(E)?l&&(C.push(l),l=""):l+=E,E=W();if(w||D)throw new Error(`Unexpected line break at ${C.concat(l).join(" ")}`);return l&&C.push(l),C.length>1?C:C[0]}function M(){const C=h,l=z(),w=d.test(l),D={type:C,param:l,separator:K(),quoted:!w&&E==='"',value:w?Y():J()};return D.quoted||delete D.quoted,D}function $(){const C=b(),l=E==="#"?ie():M(),w=L();return l.before=C,l.after=w,l}for(;E;){let C=$();C.type===h&&S.test(C.param)?(x=F,x.push(C),x=C.config=new m):x.push(C)}return F}}s.exports=m},38601:s=>{"use strict";function V(A,P){for(let S of P)A=A.replace(new RegExp("\\"+S,"g"),"\\"+S);return A}function T(A,P){return A=V(A,"\\()[]{}.+^$|"),A=A.replace(/\*/g,".*").replace(/\?/g,".?"),new RegExp("^(?:"+A+")$").test(P)}function R(A,P){const S=Array.isArray(A)?A:A.split(/,/);let d=!1;for(const c of S){if(c[0]=="!"&&T(c.slice(1),P))return!1;T(c,P)&&(d=!0)}return d}s.exports=R},88310:(s,V,T)=>{s.exports=P;var R=T(37007).EventEmitter,A=T(56698);A(P,R),P.Readable=T(46891),P.Writable=T(81999),P.Duplex=T(88101),P.Transform=T(59083),P.PassThrough=T(3681),P.finished=T(14257),P.pipeline=T(5267),P.Stream=P;function P(){R.call(this)}P.prototype.pipe=function(S,d){var c=this;function f(g){S.writable&&S.write(g)===!1&&c.pause&&c.pause()}c.on("data",f);function h(){c.readable&&c.resume&&c.resume()}S.on("drain",h),!S._isStdio&&(!d||d.end!==!1)&&(c.on("end",y),c.on("close",u));var k=!1;function y(){k||(k=!0,S.end())}function u(){k||(k=!0,typeof S.destroy=="function"&&S.destroy())}function _(g){if(m(),R.listenerCount(this,"error")===0)throw g}c.on("error",_),S.on("error",_);function m(){c.removeListener("data",f),S.removeListener("drain",h),c.removeListener("end",y),c.removeListener("close",u),c.removeListener("error",_),S.removeListener("error",_),c.removeListener("end",m),c.removeListener("close",m),S.removeListener("close",m)}return c.on("end",m),c.on("close",m),S.on("close",m),S.emit("pipe",c),S}},12463:s=>{"use strict";function V(c,f){c.prototype=Object.create(f.prototype),c.prototype.constructor=c,c.__proto__=f}var T={};function R(c,f,h){h||(h=Error);function k(u,_,m){return typeof f=="string"?f:f(u,_,m)}var y=function(u){V(_,u);function _(m,g,p){return u.call(this,k(m,g,p))||this}return _}(h);y.prototype.name=h.name,y.prototype.code=c,T[c]=y}function A(c,f){if(Array.isArray(c)){var h=c.length;return c=c.map(function(k){return String(k)}),h>2?"one of ".concat(f," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(f," ").concat(c[0]," or ").concat(c[1]):"of ".concat(f," ").concat(c[0])}else return"of ".concat(f," ").concat(String(c))}function P(c,f,h){return c.substr(!h||h<0?0:+h,f.length)===f}function S(c,f,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-f.length,h)===f}function d(c,f,h){return typeof h!="number"&&(h=0),h+f.length>c.length?!1:c.indexOf(f,h)!==-1}R("ERR_INVALID_OPT_VALUE",function(c,f){return'The value "'+f+'" is invalid for option "'+c+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(c,f,h){var k;typeof f=="string"&&P(f,"not ")?(k="must not be",f=f.replace(/^not /,"")):k="must be";var y;if(S(c," argument"))y="The ".concat(c," ").concat(k," ").concat(A(f,"type"));else{var u=d(c,".")?"property":"argument";y='The "'.concat(c,'" ').concat(u," ").concat(k," ").concat(A(f,"type"))}return y+=". Received type ".concat(typeof h),y},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=T},88101:(s,V,T)=>{"use strict";var R=T(65606),A=Object.keys||function(u){var _=[];for(var m in u)_.push(m);return _};s.exports=h;var P=T(46891),S=T(81999);T(56698)(h,P);for(var d=A(S.prototype),c=0;c<d.length;c++){var f=d[c];h.prototype[f]||(h.prototype[f]=S.prototype[f])}function h(u){if(!(this instanceof h))return new h(u);P.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",k)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function k(){this._writableState.ended||R.nextTick(y,this)}function y(u){u.end()}Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(_){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=_,this._writableState.destroyed=_)}})},3681:(s,V,T)=>{"use strict";s.exports=A;var R=T(59083);T(56698)(A,R);function A(P){if(!(this instanceof A))return new A(P);R.call(this,P)}A.prototype._transform=function(P,S,d){d(null,P)}},46891:(s,V,T)=>{"use strict";var R=T(65606);s.exports=M;var A;M.ReadableState=Y;var P=T(37007).EventEmitter,S=function(O,oe){return O.listeners(oe).length},d=T(41396),c=T(48287).Buffer,f=T.g.Uint8Array||function(){};function h(U){return c.from(U)}function k(U){return c.isBuffer(U)||U instanceof f}var y=T(77199),u;y&&y.debuglog?u=y.debuglog("stream"):u=function(){};var _=T(81766),m=T(54347),g=T(66644),p=g.getHighWaterMark,N=T(12463).F,E=N.ERR_INVALID_ARG_TYPE,x=N.ERR_STREAM_PUSH_AFTER_EOF,F=N.ERR_METHOD_NOT_IMPLEMENTED,W=N.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b,L,z;T(56698)(M,d);var K=m.errorOrDestroy,J=["error","close","destroy","pause","resume"];function ie(U,O,oe){if(typeof U.prependListener=="function")return U.prependListener(O,oe);!U._events||!U._events[O]?U.on(O,oe):Array.isArray(U._events[O])?U._events[O].unshift(oe):U._events[O]=[oe,U._events[O]]}function Y(U,O,oe){A=A||T(88101),U=U||{},typeof oe!="boolean"&&(oe=O instanceof A),this.objectMode=!!U.objectMode,oe&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=p(this,U,"readableHighWaterMark",oe),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(b||(b=T(83141).I),this.decoder=new b(U.encoding),this.encoding=U.encoding)}function M(U){if(A=A||T(88101),!(this instanceof M))return new M(U);var O=this instanceof A;this._readableState=new Y(U,this,O),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),d.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),M.prototype.destroy=m.destroy,M.prototype._undestroy=m.undestroy,M.prototype._destroy=function(U,O){O(U)},M.prototype.push=function(U,O){var oe=this._readableState,ve;return oe.objectMode?ve=!0:typeof U=="string"&&(O=O||oe.defaultEncoding,O!==oe.encoding&&(U=c.from(U,O),O=""),ve=!0),$(this,U,O,!1,ve)},M.prototype.unshift=function(U){return $(this,U,null,!0,!1)};function $(U,O,oe,ve,we){u("readableAddChunk",O);var pe=U._readableState;if(O===null)pe.reading=!1,j(U,pe);else{var Pe;if(we||(Pe=l(pe,O)),Pe)K(U,Pe);else if(pe.objectMode||O&&O.length>0)if(typeof O!="string"&&!pe.objectMode&&Object.getPrototypeOf(O)!==c.prototype&&(O=h(O)),ve)pe.endEmitted?K(U,new W):C(U,pe,O,!0);else if(pe.ended)K(U,new x);else{if(pe.destroyed)return!1;pe.reading=!1,pe.decoder&&!oe?(O=pe.decoder.write(O),pe.objectMode||O.length!==0?C(U,pe,O,!1):te(U,pe)):C(U,pe,O,!1)}else ve||(pe.reading=!1,te(U,pe))}return!pe.ended&&(pe.length<pe.highWaterMark||pe.length===0)}function C(U,O,oe,ve){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,U.emit("data",oe)):(O.length+=O.objectMode?1:oe.length,ve?O.buffer.unshift(oe):O.buffer.push(oe),O.needReadable&&H(U)),te(U,O)}function l(U,O){var oe;return!k(O)&&typeof O!="string"&&O!==void 0&&!U.objectMode&&(oe=new E("chunk",["string","Buffer","Uint8Array"],O)),oe}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(U){b||(b=T(83141).I);var O=new b(U);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,ve="";oe!==null;)ve+=O.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),ve!==""&&this._readableState.buffer.push(ve),this._readableState.length=ve.length,this};var w=1073741824;function D(U){return U>=w?U=w:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function q(U,O){return U<=0||O.length===0&&O.ended?0:O.objectMode?1:U!==U?O.flowing&&O.length?O.buffer.head.data.length:O.length:(U>O.highWaterMark&&(O.highWaterMark=D(U)),U<=O.length?U:O.ended?O.length:(O.needReadable=!0,0))}M.prototype.read=function(U){u("read",U),U=parseInt(U,10);var O=this._readableState,oe=U;if(U!==0&&(O.emittedReadable=!1),U===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return u("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?de(this):H(this),null;if(U=q(U,O),U===0&&O.ended)return O.length===0&&de(this),null;var ve=O.needReadable;u("need readable",ve),(O.length===0||O.length-U<O.highWaterMark)&&(ve=!0,u("length less than watermark",ve)),O.ended||O.reading?(ve=!1,u("reading or ended",ve)):ve&&(u("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(U=q(oe,O)));var we;return U>0?we=ee(U,O):we=null,we===null?(O.needReadable=O.length<=O.highWaterMark,U=0):(O.length-=U,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),oe!==U&&O.ended&&de(this)),we!==null&&this.emit("data",we),we};function j(U,O){if(u("onEofChunk"),!O.ended){if(O.decoder){var oe=O.decoder.end();oe&&oe.length&&(O.buffer.push(oe),O.length+=O.objectMode?1:oe.length)}O.ended=!0,O.sync?H(U):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,Z(U)))}}function H(U){var O=U._readableState;u("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(u("emitReadable",O.flowing),O.emittedReadable=!0,R.nextTick(Z,U))}function Z(U){var O=U._readableState;u("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(U.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,X(U)}function te(U,O){O.readingMore||(O.readingMore=!0,R.nextTick(B,U,O))}function B(U,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var oe=O.length;if(u("maybeReadMore read 0"),U.read(0),oe===O.length)break}O.readingMore=!1}M.prototype._read=function(U){K(this,new F("_read()"))},M.prototype.pipe=function(U,O){var oe=this,ve=this._readableState;switch(ve.pipesCount){case 0:ve.pipes=U;break;case 1:ve.pipes=[ve.pipes,U];break;default:ve.pipes.push(U);break}ve.pipesCount+=1,u("pipe count=%d opts=%j",ve.pipesCount,O);var we=(!O||O.end!==!1)&&U!==R.stdout&&U!==R.stderr,pe=we?Le:se;ve.endEmitted?R.nextTick(pe):oe.once("end",pe),U.on("unpipe",Pe);function Pe(be,Me){u("onunpipe"),be===oe&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,Ke())}function Le(){u("onend"),U.end()}var He=ae(oe);U.on("drain",He);var kt=!1;function Ke(){u("cleanup"),U.removeListener("close",ce),U.removeListener("finish",ne),U.removeListener("drain",He),U.removeListener("error",yt),U.removeListener("unpipe",Pe),oe.removeListener("end",Le),oe.removeListener("end",se),oe.removeListener("data",Ze),kt=!0,ve.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&He()}oe.on("data",Ze);function Ze(be){u("ondata");var Me=U.write(be);u("dest.write",Me),Me===!1&&((ve.pipesCount===1&&ve.pipes===U||ve.pipesCount>1&&_e(ve.pipes,U)!==-1)&&!kt&&(u("false write response, pause",ve.awaitDrain),ve.awaitDrain++),oe.pause())}function yt(be){u("onerror",be),se(),U.removeListener("error",yt),S(U,"error")===0&&K(U,be)}ie(U,"error",yt);function ce(){U.removeListener("finish",ne),se()}U.once("close",ce);function ne(){u("onfinish"),U.removeListener("close",ce),se()}U.once("finish",ne);function se(){u("unpipe"),oe.unpipe(U)}return U.emit("pipe",oe),ve.flowing||(u("pipe resume"),oe.resume()),U};function ae(U){return function(){var oe=U._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&S(U,"data")&&(oe.flowing=!0,X(U))}}M.prototype.unpipe=function(U){var O=this._readableState,oe={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return U&&U!==O.pipes?this:(U||(U=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,U&&U.emit("unpipe",this,oe),this);if(!U){var ve=O.pipes,we=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var pe=0;pe<we;pe++)ve[pe].emit("unpipe",this,{hasUnpiped:!1});return this}var Pe=_e(O.pipes,U);return Pe===-1?this:(O.pipes.splice(Pe,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),U.emit("unpipe",this,oe),this)},M.prototype.on=function(U,O){var oe=d.prototype.on.call(this,U,O),ve=this._readableState;return U==="data"?(ve.readableListening=this.listenerCount("readable")>0,ve.flowing!==!1&&this.resume()):U==="readable"&&!ve.endEmitted&&!ve.readableListening&&(ve.readableListening=ve.needReadable=!0,ve.flowing=!1,ve.emittedReadable=!1,u("on readable",ve.length,ve.reading),ve.length?H(this):ve.reading||R.nextTick(he,this)),oe},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(U,O){var oe=d.prototype.removeListener.call(this,U,O);return U==="readable"&&R.nextTick(xe,this),oe},M.prototype.removeAllListeners=function(U){var O=d.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&R.nextTick(xe,this),O};function xe(U){var O=U._readableState;O.readableListening=U.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:U.listenerCount("data")>0&&U.resume()}function he(U){u("readable nexttick read 0"),U.read(0)}M.prototype.resume=function(){var U=this._readableState;return U.flowing||(u("resume"),U.flowing=!U.readableListening,Ee(this,U)),U.paused=!1,this};function Ee(U,O){O.resumeScheduled||(O.resumeScheduled=!0,R.nextTick(Ne,U,O))}function Ne(U,O){u("resume",O.reading),O.reading||U.read(0),O.resumeScheduled=!1,U.emit("resume"),X(U),O.flowing&&!O.reading&&U.read(0)}M.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(U){var O=U._readableState;for(u("flow",O.flowing);O.flowing&&U.read()!==null;);}M.prototype.wrap=function(U){var O=this,oe=this._readableState,ve=!1;U.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var Pe=oe.decoder.end();Pe&&Pe.length&&O.push(Pe)}O.push(null)}),U.on("data",function(Pe){if(u("wrapped data"),oe.decoder&&(Pe=oe.decoder.write(Pe)),!(oe.objectMode&&Pe==null)&&!(!oe.objectMode&&(!Pe||!Pe.length))){var Le=O.push(Pe);Le||(ve=!0,U.pause())}});for(var we in U)this[we]===void 0&&typeof U[we]=="function"&&(this[we]=function(Le){return function(){return U[Le].apply(U,arguments)}}(we));for(var pe=0;pe<J.length;pe++)U.on(J[pe],this.emit.bind(this,J[pe]));return this._read=function(Pe){u("wrapped _read",Pe),ve&&(ve=!1,U.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return L===void 0&&(L=T(65034)),L(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),M._fromList=ee,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(U,O){if(O.length===0)return null;var oe;return O.objectMode?oe=O.buffer.shift():!U||U>=O.length?(O.decoder?oe=O.buffer.join(""):O.buffer.length===1?oe=O.buffer.first():oe=O.buffer.concat(O.length),O.buffer.clear()):oe=O.buffer.consume(U,O.decoder),oe}function de(U){var O=U._readableState;u("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,R.nextTick(me,O,U))}function me(U,O){if(u("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,O.readable=!1,O.emit("end"),U.autoDestroy)){var oe=O._writableState;(!oe||oe.autoDestroy&&oe.finished)&&O.destroy()}}typeof Symbol=="function"&&(M.from=function(U,O){return z===void 0&&(z=T(90968)),z(M,U,O)});function _e(U,O){for(var oe=0,ve=U.length;oe<ve;oe++)if(U[oe]===O)return oe;return-1}},59083:(s,V,T)=>{"use strict";s.exports=h;var R=T(12463).F,A=R.ERR_METHOD_NOT_IMPLEMENTED,P=R.ERR_MULTIPLE_CALLBACK,S=R.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=R.ERR_TRANSFORM_WITH_LENGTH_0,c=T(88101);T(56698)(h,c);function f(u,_){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new P);m.writechunk=null,m.writecb=null,_!=null&&this.push(_),g(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function h(u){if(!(this instanceof h))return new h(u);c.call(this,u),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",k)}function k(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(_,m){y(u,_,m)}):y(this,null,null)}h.prototype.push=function(u,_){return this._transformState.needTransform=!1,c.prototype.push.call(this,u,_)},h.prototype._transform=function(u,_,m){m(new A("_transform()"))},h.prototype._write=function(u,_,m){var g=this._transformState;if(g.writecb=m,g.writechunk=u,g.writeencoding=_,!g.transforming){var p=this._readableState;(g.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},h.prototype._read=function(u){var _=this._transformState;_.writechunk!==null&&!_.transforming?(_.transforming=!0,this._transform(_.writechunk,_.writeencoding,_.afterTransform)):_.needTransform=!0},h.prototype._destroy=function(u,_){c.prototype._destroy.call(this,u,function(m){_(m)})};function y(u,_,m){if(_)return u.emit("error",_);if(m!=null&&u.push(m),u._writableState.length)throw new d;if(u._transformState.transforming)throw new S;return u.push(null)}},81999:(s,V,T)=>{"use strict";var R=T(65606);s.exports=Y;function A(X,ee,de){this.chunk=X,this.encoding=ee,this.callback=de,this.next=null}function P(X){var ee=this;this.next=null,this.entry=null,this.finish=function(){Ne(ee,X)}}var S;Y.WritableState=J;var d={deprecate:T(94643)},c=T(41396),f=T(48287).Buffer,h=T.g.Uint8Array||function(){};function k(X){return f.from(X)}function y(X){return f.isBuffer(X)||X instanceof h}var u=T(54347),_=T(66644),m=_.getHighWaterMark,g=T(12463).F,p=g.ERR_INVALID_ARG_TYPE,N=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_MULTIPLE_CALLBACK,x=g.ERR_STREAM_CANNOT_PIPE,F=g.ERR_STREAM_DESTROYED,W=g.ERR_STREAM_NULL_VALUES,b=g.ERR_STREAM_WRITE_AFTER_END,L=g.ERR_UNKNOWN_ENCODING,z=u.errorOrDestroy;T(56698)(Y,c);function K(){}function J(X,ee,de){S=S||T(88101),X=X||{},typeof de!="boolean"&&(de=ee instanceof S),this.objectMode=!!X.objectMode,de&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=m(this,X,"writableHighWaterMark",de),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=X.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){j(ee,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}J.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,de=[];ee;)de.push(ee),ee=ee.next;return de},function(){try{Object.defineProperty(J.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ie;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ie=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(ee){return ie.call(this,ee)?!0:this!==Y?!1:ee&&ee._writableState instanceof J}})):ie=function(ee){return ee instanceof this};function Y(X){S=S||T(88101);var ee=this instanceof S;if(!ee&&!ie.call(Y,this))return new Y(X);this._writableState=new J(X,this,ee),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),c.call(this)}Y.prototype.pipe=function(){z(this,new x)};function M(X,ee){var de=new b;z(X,de),R.nextTick(ee,de)}function $(X,ee,de,me){var _e;return de===null?_e=new W:typeof de!="string"&&!ee.objectMode&&(_e=new p("chunk",["string","Buffer"],de)),_e?(z(X,_e),R.nextTick(me,_e),!1):!0}Y.prototype.write=function(X,ee,de){var me=this._writableState,_e=!1,U=!me.objectMode&&y(X);return U&&!f.isBuffer(X)&&(X=k(X)),typeof ee=="function"&&(de=ee,ee=null),U?ee="buffer":ee||(ee=me.defaultEncoding),typeof de!="function"&&(de=K),me.ending?M(this,de):(U||$(this,me,X,de))&&(me.pendingcb++,_e=l(this,me,U,X,ee,de)),_e},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&te(this,X))},Y.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new L(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(X,ee,de){return!X.objectMode&&X.decodeStrings!==!1&&typeof ee=="string"&&(ee=f.from(ee,de)),ee}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function l(X,ee,de,me,_e,U){if(!de){var O=C(ee,me,_e);me!==O&&(de=!0,_e="buffer",me=O)}var oe=ee.objectMode?1:me.length;ee.length+=oe;var ve=ee.length<ee.highWaterMark;if(ve||(ee.needDrain=!0),ee.writing||ee.corked){var we=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:me,encoding:_e,isBuf:de,callback:U,next:null},we?we.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else w(X,ee,!1,oe,me,_e,U);return ve}function w(X,ee,de,me,_e,U,O){ee.writelen=me,ee.writecb=O,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new F("write")):de?X._writev(_e,ee.onwrite):X._write(_e,U,ee.onwrite),ee.sync=!1}function D(X,ee,de,me,_e){--ee.pendingcb,de?(R.nextTick(_e,me),R.nextTick(he,X,ee),X._writableState.errorEmitted=!0,z(X,me)):(_e(me),X._writableState.errorEmitted=!0,z(X,me),he(X,ee))}function q(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function j(X,ee){var de=X._writableState,me=de.sync,_e=de.writecb;if(typeof _e!="function")throw new E;if(q(de),ee)D(X,de,me,ee,_e);else{var U=B(de)||X.destroyed;!U&&!de.corked&&!de.bufferProcessing&&de.bufferedRequest&&te(X,de),me?R.nextTick(H,X,de,U,_e):H(X,de,U,_e)}}function H(X,ee,de,me){de||Z(X,ee),ee.pendingcb--,me(),he(X,ee)}function Z(X,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,X.emit("drain"))}function te(X,ee){ee.bufferProcessing=!0;var de=ee.bufferedRequest;if(X._writev&&de&&de.next){var me=ee.bufferedRequestCount,_e=new Array(me),U=ee.corkedRequestsFree;U.entry=de;for(var O=0,oe=!0;de;)_e[O]=de,de.isBuf||(oe=!1),de=de.next,O+=1;_e.allBuffers=oe,w(X,ee,!0,ee.length,_e,"",U.finish),ee.pendingcb++,ee.lastBufferedRequest=null,U.next?(ee.corkedRequestsFree=U.next,U.next=null):ee.corkedRequestsFree=new P(ee),ee.bufferedRequestCount=0}else{for(;de;){var ve=de.chunk,we=de.encoding,pe=de.callback,Pe=ee.objectMode?1:ve.length;if(w(X,ee,!1,Pe,ve,we,pe),de=de.next,ee.bufferedRequestCount--,ee.writing)break}de===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=de,ee.bufferProcessing=!1}Y.prototype._write=function(X,ee,de){de(new N("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(X,ee,de){var me=this._writableState;return typeof X=="function"?(de=X,X=null,ee=null):typeof ee=="function"&&(de=ee,ee=null),X!=null&&this.write(X,ee),me.corked&&(me.corked=1,this.uncork()),me.ending||Ee(this,me,de),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function ae(X,ee){X._final(function(de){ee.pendingcb--,de&&z(X,de),ee.prefinished=!0,X.emit("prefinish"),he(X,ee)})}function xe(X,ee){!ee.prefinished&&!ee.finalCalled&&(typeof X._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,R.nextTick(ae,X,ee)):(ee.prefinished=!0,X.emit("prefinish")))}function he(X,ee){var de=B(ee);if(de&&(xe(X,ee),ee.pendingcb===0&&(ee.finished=!0,X.emit("finish"),ee.autoDestroy))){var me=X._readableState;(!me||me.autoDestroy&&me.endEmitted)&&X.destroy()}return de}function Ee(X,ee,de){ee.ending=!0,he(X,ee),de&&(ee.finished?R.nextTick(de):X.once("finish",de)),ee.ended=!0,X.writable=!1}function Ne(X,ee,de){var me=X.entry;for(X.entry=null;me;){var _e=me.callback;ee.pendingcb--,_e(de),me=me.next}ee.corkedRequestsFree.next=X}Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),Y.prototype.destroy=u.destroy,Y.prototype._undestroy=u.undestroy,Y.prototype._destroy=function(X,ee){ee(X)}},65034:(s,V,T)=>{"use strict";var R=T(65606),A;function P(F,W,b){return W in F?Object.defineProperty(F,W,{value:b,enumerable:!0,configurable:!0,writable:!0}):F[W]=b,F}var S=T(14257),d=Symbol("lastResolve"),c=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),k=Symbol("lastPromise"),y=Symbol("handlePromise"),u=Symbol("stream");function _(F,W){return{value:F,done:W}}function m(F){var W=F[d];if(W!==null){var b=F[u].read();b!==null&&(F[k]=null,F[d]=null,F[c]=null,W(_(b,!1)))}}function g(F){R.nextTick(m,F)}function p(F,W){return function(b,L){F.then(function(){if(W[h]){b(_(void 0,!0));return}W[y](b,L)},L)}}var N=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((A={get stream(){return this[u]},next:function(){var W=this,b=this[f];if(b!==null)return Promise.reject(b);if(this[h])return Promise.resolve(_(void 0,!0));if(this[u].destroyed)return new Promise(function(J,ie){R.nextTick(function(){W[f]?ie(W[f]):J(_(void 0,!0))})});var L=this[k],z;if(L)z=new Promise(p(L,this));else{var K=this[u].read();if(K!==null)return Promise.resolve(_(K,!1));z=new Promise(this[y])}return this[k]=z,z}},P(A,Symbol.asyncIterator,function(){return this}),P(A,"return",function(){var W=this;return new Promise(function(b,L){W[u].destroy(null,function(z){if(z){L(z);return}b(_(void 0,!0))})})}),A),N),x=function(W){var b,L=Object.create(E,(b={},P(b,u,{value:W,writable:!0}),P(b,d,{value:null,writable:!0}),P(b,c,{value:null,writable:!0}),P(b,f,{value:null,writable:!0}),P(b,h,{value:W._readableState.endEmitted,writable:!0}),P(b,y,{value:function(K,J){var ie=L[u].read();ie?(L[k]=null,L[d]=null,L[c]=null,K(_(ie,!1))):(L[d]=K,L[c]=J)},writable:!0}),b));return L[k]=null,S(W,function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=L[c];K!==null&&(L[k]=null,L[d]=null,L[c]=null,K(z)),L[f]=z;return}var J=L[d];J!==null&&(L[k]=null,L[d]=null,L[c]=null,J(_(void 0,!0))),L[h]=!0}),W.on("readable",g.bind(null,L)),L};s.exports=x},81766:(s,V,T)=>{"use strict";function R(m,g){var p=Object.keys(m);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(m);g&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(m,E).enumerable})),p.push.apply(p,N)}return p}function A(m){for(var g=1;g<arguments.length;g++){var p=arguments[g]!=null?arguments[g]:{};g%2?R(Object(p),!0).forEach(function(N){P(m,N,p[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(p)):R(Object(p)).forEach(function(N){Object.defineProperty(m,N,Object.getOwnPropertyDescriptor(p,N))})}return m}function P(m,g,p){return g in m?Object.defineProperty(m,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[g]=p,m}function S(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function d(m,g){for(var p=0;p<g.length;p++){var N=g[p];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(m,N.key,N)}}function c(m,g,p){return g&&d(m.prototype,g),p&&d(m,p),m}var f=T(48287),h=f.Buffer,k=T(63779),y=k.inspect,u=y&&y.custom||"inspect";function _(m,g,p){h.prototype.copy.call(m,g,p)}s.exports=function(){function m(){S(this,m),this.head=null,this.tail=null,this.length=0}return c(m,[{key:"push",value:function(p){var N={data:p,next:null};this.length>0?this.tail.next=N:this.head=N,this.tail=N,++this.length}},{key:"unshift",value:function(p){var N={data:p,next:this.head};this.length===0&&(this.tail=N),this.head=N,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var N=this.head,E=""+N.data;N=N.next;)E+=p+N.data;return E}},{key:"concat",value:function(p){if(this.length===0)return h.alloc(0);for(var N=h.allocUnsafe(p>>>0),E=this.head,x=0;E;)_(E.data,N,x),x+=E.data.length,E=E.next;return N}},{key:"consume",value:function(p,N){var E;return p<this.head.data.length?(E=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?E=this.shift():E=N?this._getString(p):this._getBuffer(p),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var N=this.head,E=1,x=N.data;for(p-=x.length;N=N.next;){var F=N.data,W=p>F.length?F.length:p;if(W===F.length?x+=F:x+=F.slice(0,p),p-=W,p===0){W===F.length?(++E,N.next?this.head=N.next:this.head=this.tail=null):(this.head=N,N.data=F.slice(W));break}++E}return this.length-=E,x}},{key:"_getBuffer",value:function(p){var N=h.allocUnsafe(p),E=this.head,x=1;for(E.data.copy(N),p-=E.data.length;E=E.next;){var F=E.data,W=p>F.length?F.length:p;if(F.copy(N,N.length-p,0,W),p-=W,p===0){W===F.length?(++x,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=F.slice(W));break}++x}return this.length-=x,N}},{key:u,value:function(p,N){return y(this,A({},N,{depth:0,customInspect:!1}))}}]),m}()},54347:(s,V,T)=>{"use strict";var R=T(65606);function A(h,k){var y=this,u=this._readableState&&this._readableState.destroyed,_=this._writableState&&this._writableState.destroyed;return u||_?(k?k(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,R.nextTick(c,this,h)):R.nextTick(c,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(m){!k&&m?y._writableState?y._writableState.errorEmitted?R.nextTick(S,y):(y._writableState.errorEmitted=!0,R.nextTick(P,y,m)):R.nextTick(P,y,m):k?(R.nextTick(S,y),k(m)):R.nextTick(S,y)}),this)}function P(h,k){c(h,k),S(h)}function S(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(h,k){h.emit("error",k)}function f(h,k){var y=h._readableState,u=h._writableState;y&&y.autoDestroy||u&&u.autoDestroy?h.destroy(k):h.emit("error",k)}s.exports={destroy:A,undestroy:d,errorOrDestroy:f}},14257:(s,V,T)=>{"use strict";var R=T(12463).F.ERR_STREAM_PREMATURE_CLOSE;function A(c){var f=!1;return function(){if(!f){f=!0;for(var h=arguments.length,k=new Array(h),y=0;y<h;y++)k[y]=arguments[y];c.apply(this,k)}}}function P(){}function S(c){return c.setHeader&&typeof c.abort=="function"}function d(c,f,h){if(typeof f=="function")return d(c,null,f);f||(f={}),h=A(h||P);var k=f.readable||f.readable!==!1&&c.readable,y=f.writable||f.writable!==!1&&c.writable,u=function(){c.writable||m()},_=c._writableState&&c._writableState.finished,m=function(){y=!1,_=!0,k||h.call(c)},g=c._readableState&&c._readableState.endEmitted,p=function(){k=!1,g=!0,y||h.call(c)},N=function(W){h.call(c,W)},E=function(){var W;if(k&&!g)return(!c._readableState||!c._readableState.ended)&&(W=new R),h.call(c,W);if(y&&!_)return(!c._writableState||!c._writableState.ended)&&(W=new R),h.call(c,W)},x=function(){c.req.on("finish",m)};return S(c)?(c.on("complete",m),c.on("abort",E),c.req?x():c.on("request",x)):y&&!c._writableState&&(c.on("end",u),c.on("close",u)),c.on("end",p),c.on("finish",m),f.error!==!1&&c.on("error",N),c.on("close",E),function(){c.removeListener("complete",m),c.removeListener("abort",E),c.removeListener("request",x),c.req&&c.req.removeListener("finish",m),c.removeListener("end",u),c.removeListener("close",u),c.removeListener("finish",m),c.removeListener("end",p),c.removeListener("error",N),c.removeListener("close",E)}}s.exports=d},90968:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},5267:(s,V,T)=>{"use strict";var R;function A(m){var g=!1;return function(){g||(g=!0,m.apply(void 0,arguments))}}var P=T(12463).F,S=P.ERR_MISSING_ARGS,d=P.ERR_STREAM_DESTROYED;function c(m){if(m)throw m}function f(m){return m.setHeader&&typeof m.abort=="function"}function h(m,g,p,N){N=A(N);var E=!1;m.on("close",function(){E=!0}),R===void 0&&(R=T(14257)),R(m,{readable:g,writable:p},function(F){if(F)return N(F);E=!0,N()});var x=!1;return function(F){if(!E&&!x){if(x=!0,f(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();N(F||new d("pipe"))}}}function k(m){m()}function y(m,g){return m.pipe(g)}function u(m){return!m.length||typeof m[m.length-1]!="function"?c:m.pop()}function _(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];var N=u(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new S("streams");var E,x=g.map(function(F,W){var b=W<g.length-1,L=W>0;return h(F,b,L,function(z){E||(E=z),z&&x.forEach(k),!b&&(x.forEach(k),N(E))})});return g.reduce(y)}s.exports=_},66644:(s,V,T)=>{"use strict";var R=T(12463).F.ERR_INVALID_OPT_VALUE;function A(S,d,c){return S.highWaterMark!=null?S.highWaterMark:d?S[c]:null}function P(S,d,c,f){var h=A(d,f,c);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var k=f?c:"highWaterMark";throw new R(k,h)}return Math.floor(h)}return S.objectMode?16:16384}s.exports={getHighWaterMark:P}},41396:(s,V,T)=>{s.exports=T(37007).EventEmitter},11568:(s,V,T)=>{var R=T(55537),A=T(6917),P=T(57510),S=T(86866),d=T(59817),c=V;c.request=function(f,h){typeof f=="string"?f=d.parse(f):f=P(f);var k=T.g.location.protocol.search(/^https?:$/)===-1?"http:":"",y=f.protocol||k,u=f.hostname||f.host,_=f.port,m=f.path||"/";u&&u.indexOf(":")!==-1&&(u="["+u+"]"),f.url=(u?y+"//"+u:"")+(_?":"+_:"")+m,f.method=(f.method||"GET").toUpperCase(),f.headers=f.headers||{};var g=new R(f);return h&&g.on("response",h),g},c.get=function(h,k){var y=c.request(h,k);return y.end(),y},c.ClientRequest=R,c.IncomingMessage=A.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=S,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},6688:(s,V,T)=>{V.fetch=S(T.g.fetch)&&S(T.g.ReadableStream),V.writableStream=S(T.g.WritableStream),V.abortController=S(T.g.AbortController);var R;function A(){if(R!==void 0)return R;if(T.g.XMLHttpRequest){R=new T.g.XMLHttpRequest;try{R.open("GET",T.g.XDomainRequest?"/":"https://example.com")}catch{R=null}}else R=null;return R}function P(d){var c=A();if(!c)return!1;try{return c.responseType=d,c.responseType===d}catch{}return!1}V.arraybuffer=V.fetch||P("arraybuffer"),V.msstream=!V.fetch&&P("ms-stream"),V.mozchunkedarraybuffer=!V.fetch&&P("moz-chunked-arraybuffer"),V.overrideMimeType=V.fetch||(A()?S(A().overrideMimeType):!1);function S(d){return typeof d=="function"}R=null},55537:(s,V,T)=>{var R=T(65606),A=T(6688),P=T(56698),S=T(6917),d=T(63242),c=S.IncomingMessage,f=S.readyStates;function h(_,m){return A.fetch&&m?"fetch":A.mozchunkedarraybuffer?"moz-chunked-arraybuffer":A.msstream?"ms-stream":A.arraybuffer&&_?"arraybuffer":"text"}var k=s.exports=function(_){var m=this;d.Writable.call(m),m._opts=_,m._body=[],m._headers={},_.auth&&m.setHeader("Authorization","Basic "+Buffer.from(_.auth).toString("base64")),Object.keys(_.headers).forEach(function(N){m.setHeader(N,_.headers[N])});var g,p=!0;if(_.mode==="disable-fetch"||"requestTimeout"in _&&!A.abortController)p=!1,g=!0;else if(_.mode==="prefer-streaming")g=!1;else if(_.mode==="allow-wrong-content-type")g=!A.overrideMimeType;else if(!_.mode||_.mode==="default"||_.mode==="prefer-fast")g=!0;else throw new Error("Invalid value for opts.mode");m._mode=h(g,p),m._fetchTimer=null,m._socketTimeout=null,m._socketTimer=null,m.on("finish",function(){m._onFinish()})};P(k,d.Writable),k.prototype.setHeader=function(_,m){var g=this,p=_.toLowerCase();u.indexOf(p)===-1&&(g._headers[p]={name:_,value:m})},k.prototype.getHeader=function(_){var m=this._headers[_.toLowerCase()];return m?m.value:null},k.prototype.removeHeader=function(_){var m=this;delete m._headers[_.toLowerCase()]},k.prototype._onFinish=function(){var _=this;if(!_._destroyed){var m=_._opts;"timeout"in m&&m.timeout!==0&&_.setTimeout(m.timeout);var g=_._headers,p=null;m.method!=="GET"&&m.method!=="HEAD"&&(p=new Blob(_._body,{type:(g["content-type"]||{}).value||""}));var N=[];if(Object.keys(g).forEach(function(W){var b=g[W].name,L=g[W].value;Array.isArray(L)?L.forEach(function(z){N.push([b,z])}):N.push([b,L])}),_._mode==="fetch"){var E=null;if(A.abortController){var x=new AbortController;E=x.signal,_._fetchAbortController=x,"requestTimeout"in m&&m.requestTimeout!==0&&(_._fetchTimer=T.g.setTimeout(function(){_.emit("requestTimeout"),_._fetchAbortController&&_._fetchAbortController.abort()},m.requestTimeout))}T.g.fetch(_._opts.url,{method:_._opts.method,headers:N,body:p||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:E}).then(function(W){_._fetchResponse=W,_._resetTimers(!1),_._connect()},function(W){_._resetTimers(!0),_._destroyed||_.emit("error",W)})}else{var F=_._xhr=new T.g.XMLHttpRequest;try{F.open(_._opts.method,_._opts.url,!0)}catch(W){R.nextTick(function(){_.emit("error",W)});return}"responseType"in F&&(F.responseType=_._mode),"withCredentials"in F&&(F.withCredentials=!!m.withCredentials),_._mode==="text"&&"overrideMimeType"in F&&F.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(F.timeout=m.requestTimeout,F.ontimeout=function(){_.emit("requestTimeout")}),N.forEach(function(W){F.setRequestHeader(W[0],W[1])}),_._response=null,F.onreadystatechange=function(){switch(F.readyState){case f.LOADING:case f.DONE:_._onXHRProgress();break}},_._mode==="moz-chunked-arraybuffer"&&(F.onprogress=function(){_._onXHRProgress()}),F.onerror=function(){_._destroyed||(_._resetTimers(!0),_.emit("error",new Error("XHR error")))};try{F.send(p)}catch(W){R.nextTick(function(){_.emit("error",W)});return}}}};function y(_){try{var m=_.status;return m!==null&&m!==0}catch{return!1}}k.prototype._onXHRProgress=function(){var _=this;_._resetTimers(!1),!(!y(_._xhr)||_._destroyed)&&(_._response||_._connect(),_._response._onXHRProgress(_._resetTimers.bind(_)))},k.prototype._connect=function(){var _=this;_._destroyed||(_._response=new c(_._xhr,_._fetchResponse,_._mode,_._resetTimers.bind(_)),_._response.on("error",function(m){_.emit("error",m)}),_.emit("response",_._response))},k.prototype._write=function(_,m,g){var p=this;p._body.push(_),g()},k.prototype._resetTimers=function(_){var m=this;T.g.clearTimeout(m._socketTimer),m._socketTimer=null,_?(T.g.clearTimeout(m._fetchTimer),m._fetchTimer=null):m._socketTimeout&&(m._socketTimer=T.g.setTimeout(function(){m.emit("timeout")},m._socketTimeout))},k.prototype.abort=k.prototype.destroy=function(_){var m=this;m._destroyed=!0,m._resetTimers(!0),m._response&&(m._response._destroyed=!0),m._xhr?m._xhr.abort():m._fetchAbortController&&m._fetchAbortController.abort(),_&&m.emit("error",_)},k.prototype.end=function(_,m,g){var p=this;typeof _=="function"&&(g=_,_=void 0),d.Writable.prototype.end.call(p,_,m,g)},k.prototype.setTimeout=function(_,m){var g=this;m&&g.once("timeout",m),g._socketTimeout=_,g._resetTimers(!1)},k.prototype.flushHeaders=function(){},k.prototype.setNoDelay=function(){},k.prototype.setSocketKeepAlive=function(){};var u=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},6917:(s,V,T)=>{var R=T(65606),A=T(6688),P=T(56698),S=T(63242),d=V.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=V.IncomingMessage=function(f,h,k,y){var u=this;if(S.Readable.call(u),u._mode=k,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){R.nextTick(function(){u.emit("close")})}),k==="fetch"){let x=function(){m.read().then(function(F){if(!u._destroyed){if(y(F.done),F.done){u.push(null);return}u.push(Buffer.from(F.value)),x()}}).catch(function(F){y(!0),u._destroyed||u.emit("error",F)})};var E=x;if(u._fetchResponse=h,u.url=h.url,u.statusCode=h.status,u.statusMessage=h.statusText,h.headers.forEach(function(F,W){u.headers[W.toLowerCase()]=F,u.rawHeaders.push(W,F)}),A.writableStream){var _=new WritableStream({write:function(F){return y(!1),new Promise(function(W,b){u._destroyed?b():u.push(Buffer.from(F))?W():u._resumeFetch=W})},close:function(){y(!0),u._destroyed||u.push(null)},abort:function(F){y(!0),u._destroyed||u.emit("error",F)}});try{h.body.pipeTo(_).catch(function(F){y(!0),u._destroyed||u.emit("error",F)});return}catch{}}var m=h.body.getReader();x()}else{u._xhr=f,u._pos=0,u.url=f.responseURL,u.statusCode=f.status,u.statusMessage=f.statusText;var g=f.getAllResponseHeaders().split(/\r?\n/);if(g.forEach(function(x){var F=x.match(/^([^:]+):\s*(.*)/);if(F){var W=F[1].toLowerCase();W==="set-cookie"?(u.headers[W]===void 0&&(u.headers[W]=[]),u.headers[W].push(F[2])):u.headers[W]!==void 0?u.headers[W]+=", "+F[2]:u.headers[W]=F[2],u.rawHeaders.push(F[1],F[2])}}),u._charset="x-user-defined",!A.overrideMimeType){var p=u.rawHeaders["mime-type"];if(p){var N=p.match(/;\s*charset=([^;])(;|$)/);N&&(u._charset=N[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};P(c,S.Readable),c.prototype._read=function(){var f=this,h=f._resumeFetch;h&&(f._resumeFetch=null,h())},c.prototype._onXHRProgress=function(f){var h=this,k=h._xhr,y=null;switch(h._mode){case"text":if(y=k.responseText,y.length>h._pos){var u=y.substr(h._pos);if(h._charset==="x-user-defined"){for(var _=Buffer.alloc(u.length),m=0;m<u.length;m++)_[m]=u.charCodeAt(m)&255;h.push(_)}else h.push(u,h._charset);h._pos=y.length}break;case"arraybuffer":if(k.readyState!==d.DONE||!k.response)break;y=k.response,h.push(Buffer.from(new Uint8Array(y)));break;case"moz-chunked-arraybuffer":if(y=k.response,k.readyState!==d.LOADING||!y)break;h.push(Buffer.from(new Uint8Array(y)));break;case"ms-stream":if(y=k.response,k.readyState!==d.LOADING)break;var g=new T.g.MSStreamReader;g.onprogress=function(){g.result.byteLength>h._pos&&(h.push(Buffer.from(new Uint8Array(g.result.slice(h._pos)))),h._pos=g.result.byteLength)},g.onload=function(){f(!0),h.push(null)},g.readAsArrayBuffer(y);break}h._xhr.readyState===d.DONE&&h._mode!=="ms-stream"&&(f(!0),h.push(null))}},73157:s=>{"use strict";function V(c,f){c.prototype=Object.create(f.prototype),c.prototype.constructor=c,c.__proto__=f}var T={};function R(c,f,h){h||(h=Error);function k(u,_,m){return typeof f=="string"?f:f(u,_,m)}var y=function(u){V(_,u);function _(m,g,p){return u.call(this,k(m,g,p))||this}return _}(h);y.prototype.name=h.name,y.prototype.code=c,T[c]=y}function A(c,f){if(Array.isArray(c)){var h=c.length;return c=c.map(function(k){return String(k)}),h>2?"one of ".concat(f," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(f," ").concat(c[0]," or ").concat(c[1]):"of ".concat(f," ").concat(c[0])}else return"of ".concat(f," ").concat(String(c))}function P(c,f,h){return c.substr(!h||h<0?0:+h,f.length)===f}function S(c,f,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-f.length,h)===f}function d(c,f,h){return typeof h!="number"&&(h=0),h+f.length>c.length?!1:c.indexOf(f,h)!==-1}R("ERR_INVALID_OPT_VALUE",function(c,f){return'The value "'+f+'" is invalid for option "'+c+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(c,f,h){var k;typeof f=="string"&&P(f,"not ")?(k="must not be",f=f.replace(/^not /,"")):k="must be";var y;if(S(c," argument"))y="The ".concat(c," ").concat(k," ").concat(A(f,"type"));else{var u=d(c,".")?"property":"argument";y='The "'.concat(c,'" ').concat(u," ").concat(k," ").concat(A(f,"type"))}return y+=". Received type ".concat(typeof h),y},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=T},63527:(s,V,T)=>{"use strict";var R=T(65606),A=Object.keys||function(u){var _=[];for(var m in u)_.push(m);return _};s.exports=h;var P=T(52341),S=T(9573);T(56698)(h,P);for(var d=A(S.prototype),c=0;c<d.length;c++){var f=d[c];h.prototype[f]||(h.prototype[f]=S.prototype[f])}function h(u){if(!(this instanceof h))return new h(u);P.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",k)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function k(){this._writableState.ended||R.nextTick(y,this)}function y(u){u.end()}Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(_){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=_,this._writableState.destroyed=_)}})},82571:(s,V,T)=>{"use strict";s.exports=A;var R=T(95689);T(56698)(A,R);function A(P){if(!(this instanceof A))return new A(P);R.call(this,P)}A.prototype._transform=function(P,S,d){d(null,P)}},52341:(s,V,T)=>{"use strict";var R=T(65606);s.exports=M;var A;M.ReadableState=Y;var P=T(37007).EventEmitter,S=function(O,oe){return O.listeners(oe).length},d=T(81914),c=T(48287).Buffer,f=T.g.Uint8Array||function(){};function h(U){return c.from(U)}function k(U){return c.isBuffer(U)||U instanceof f}var y=T(86833),u;y&&y.debuglog?u=y.debuglog("stream"):u=function(){};var _=T(10272),m=T(16057),g=T(11922),p=g.getHighWaterMark,N=T(73157).F,E=N.ERR_INVALID_ARG_TYPE,x=N.ERR_STREAM_PUSH_AFTER_EOF,F=N.ERR_METHOD_NOT_IMPLEMENTED,W=N.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b,L,z;T(56698)(M,d);var K=m.errorOrDestroy,J=["error","close","destroy","pause","resume"];function ie(U,O,oe){if(typeof U.prependListener=="function")return U.prependListener(O,oe);!U._events||!U._events[O]?U.on(O,oe):Array.isArray(U._events[O])?U._events[O].unshift(oe):U._events[O]=[oe,U._events[O]]}function Y(U,O,oe){A=A||T(63527),U=U||{},typeof oe!="boolean"&&(oe=O instanceof A),this.objectMode=!!U.objectMode,oe&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=p(this,U,"readableHighWaterMark",oe),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(b||(b=T(83141).I),this.decoder=new b(U.encoding),this.encoding=U.encoding)}function M(U){if(A=A||T(63527),!(this instanceof M))return new M(U);var O=this instanceof A;this._readableState=new Y(U,this,O),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),d.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),M.prototype.destroy=m.destroy,M.prototype._undestroy=m.undestroy,M.prototype._destroy=function(U,O){O(U)},M.prototype.push=function(U,O){var oe=this._readableState,ve;return oe.objectMode?ve=!0:typeof U=="string"&&(O=O||oe.defaultEncoding,O!==oe.encoding&&(U=c.from(U,O),O=""),ve=!0),$(this,U,O,!1,ve)},M.prototype.unshift=function(U){return $(this,U,null,!0,!1)};function $(U,O,oe,ve,we){u("readableAddChunk",O);var pe=U._readableState;if(O===null)pe.reading=!1,j(U,pe);else{var Pe;if(we||(Pe=l(pe,O)),Pe)K(U,Pe);else if(pe.objectMode||O&&O.length>0)if(typeof O!="string"&&!pe.objectMode&&Object.getPrototypeOf(O)!==c.prototype&&(O=h(O)),ve)pe.endEmitted?K(U,new W):C(U,pe,O,!0);else if(pe.ended)K(U,new x);else{if(pe.destroyed)return!1;pe.reading=!1,pe.decoder&&!oe?(O=pe.decoder.write(O),pe.objectMode||O.length!==0?C(U,pe,O,!1):te(U,pe)):C(U,pe,O,!1)}else ve||(pe.reading=!1,te(U,pe))}return!pe.ended&&(pe.length<pe.highWaterMark||pe.length===0)}function C(U,O,oe,ve){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,U.emit("data",oe)):(O.length+=O.objectMode?1:oe.length,ve?O.buffer.unshift(oe):O.buffer.push(oe),O.needReadable&&H(U)),te(U,O)}function l(U,O){var oe;return!k(O)&&typeof O!="string"&&O!==void 0&&!U.objectMode&&(oe=new E("chunk",["string","Buffer","Uint8Array"],O)),oe}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(U){b||(b=T(83141).I);var O=new b(U);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,ve="";oe!==null;)ve+=O.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),ve!==""&&this._readableState.buffer.push(ve),this._readableState.length=ve.length,this};var w=1073741824;function D(U){return U>=w?U=w:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function q(U,O){return U<=0||O.length===0&&O.ended?0:O.objectMode?1:U!==U?O.flowing&&O.length?O.buffer.head.data.length:O.length:(U>O.highWaterMark&&(O.highWaterMark=D(U)),U<=O.length?U:O.ended?O.length:(O.needReadable=!0,0))}M.prototype.read=function(U){u("read",U),U=parseInt(U,10);var O=this._readableState,oe=U;if(U!==0&&(O.emittedReadable=!1),U===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return u("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?de(this):H(this),null;if(U=q(U,O),U===0&&O.ended)return O.length===0&&de(this),null;var ve=O.needReadable;u("need readable",ve),(O.length===0||O.length-U<O.highWaterMark)&&(ve=!0,u("length less than watermark",ve)),O.ended||O.reading?(ve=!1,u("reading or ended",ve)):ve&&(u("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(U=q(oe,O)));var we;return U>0?we=ee(U,O):we=null,we===null?(O.needReadable=O.length<=O.highWaterMark,U=0):(O.length-=U,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),oe!==U&&O.ended&&de(this)),we!==null&&this.emit("data",we),we};function j(U,O){if(u("onEofChunk"),!O.ended){if(O.decoder){var oe=O.decoder.end();oe&&oe.length&&(O.buffer.push(oe),O.length+=O.objectMode?1:oe.length)}O.ended=!0,O.sync?H(U):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,Z(U)))}}function H(U){var O=U._readableState;u("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(u("emitReadable",O.flowing),O.emittedReadable=!0,R.nextTick(Z,U))}function Z(U){var O=U._readableState;u("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(U.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,X(U)}function te(U,O){O.readingMore||(O.readingMore=!0,R.nextTick(B,U,O))}function B(U,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var oe=O.length;if(u("maybeReadMore read 0"),U.read(0),oe===O.length)break}O.readingMore=!1}M.prototype._read=function(U){K(this,new F("_read()"))},M.prototype.pipe=function(U,O){var oe=this,ve=this._readableState;switch(ve.pipesCount){case 0:ve.pipes=U;break;case 1:ve.pipes=[ve.pipes,U];break;default:ve.pipes.push(U);break}ve.pipesCount+=1,u("pipe count=%d opts=%j",ve.pipesCount,O);var we=(!O||O.end!==!1)&&U!==R.stdout&&U!==R.stderr,pe=we?Le:se;ve.endEmitted?R.nextTick(pe):oe.once("end",pe),U.on("unpipe",Pe);function Pe(be,Me){u("onunpipe"),be===oe&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,Ke())}function Le(){u("onend"),U.end()}var He=ae(oe);U.on("drain",He);var kt=!1;function Ke(){u("cleanup"),U.removeListener("close",ce),U.removeListener("finish",ne),U.removeListener("drain",He),U.removeListener("error",yt),U.removeListener("unpipe",Pe),oe.removeListener("end",Le),oe.removeListener("end",se),oe.removeListener("data",Ze),kt=!0,ve.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&He()}oe.on("data",Ze);function Ze(be){u("ondata");var Me=U.write(be);u("dest.write",Me),Me===!1&&((ve.pipesCount===1&&ve.pipes===U||ve.pipesCount>1&&_e(ve.pipes,U)!==-1)&&!kt&&(u("false write response, pause",ve.awaitDrain),ve.awaitDrain++),oe.pause())}function yt(be){u("onerror",be),se(),U.removeListener("error",yt),S(U,"error")===0&&K(U,be)}ie(U,"error",yt);function ce(){U.removeListener("finish",ne),se()}U.once("close",ce);function ne(){u("onfinish"),U.removeListener("close",ce),se()}U.once("finish",ne);function se(){u("unpipe"),oe.unpipe(U)}return U.emit("pipe",oe),ve.flowing||(u("pipe resume"),oe.resume()),U};function ae(U){return function(){var oe=U._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&S(U,"data")&&(oe.flowing=!0,X(U))}}M.prototype.unpipe=function(U){var O=this._readableState,oe={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return U&&U!==O.pipes?this:(U||(U=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,U&&U.emit("unpipe",this,oe),this);if(!U){var ve=O.pipes,we=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var pe=0;pe<we;pe++)ve[pe].emit("unpipe",this,{hasUnpiped:!1});return this}var Pe=_e(O.pipes,U);return Pe===-1?this:(O.pipes.splice(Pe,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),U.emit("unpipe",this,oe),this)},M.prototype.on=function(U,O){var oe=d.prototype.on.call(this,U,O),ve=this._readableState;return U==="data"?(ve.readableListening=this.listenerCount("readable")>0,ve.flowing!==!1&&this.resume()):U==="readable"&&!ve.endEmitted&&!ve.readableListening&&(ve.readableListening=ve.needReadable=!0,ve.flowing=!1,ve.emittedReadable=!1,u("on readable",ve.length,ve.reading),ve.length?H(this):ve.reading||R.nextTick(he,this)),oe},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(U,O){var oe=d.prototype.removeListener.call(this,U,O);return U==="readable"&&R.nextTick(xe,this),oe},M.prototype.removeAllListeners=function(U){var O=d.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&R.nextTick(xe,this),O};function xe(U){var O=U._readableState;O.readableListening=U.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:U.listenerCount("data")>0&&U.resume()}function he(U){u("readable nexttick read 0"),U.read(0)}M.prototype.resume=function(){var U=this._readableState;return U.flowing||(u("resume"),U.flowing=!U.readableListening,Ee(this,U)),U.paused=!1,this};function Ee(U,O){O.resumeScheduled||(O.resumeScheduled=!0,R.nextTick(Ne,U,O))}function Ne(U,O){u("resume",O.reading),O.reading||U.read(0),O.resumeScheduled=!1,U.emit("resume"),X(U),O.flowing&&!O.reading&&U.read(0)}M.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(U){var O=U._readableState;for(u("flow",O.flowing);O.flowing&&U.read()!==null;);}M.prototype.wrap=function(U){var O=this,oe=this._readableState,ve=!1;U.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var Pe=oe.decoder.end();Pe&&Pe.length&&O.push(Pe)}O.push(null)}),U.on("data",function(Pe){if(u("wrapped data"),oe.decoder&&(Pe=oe.decoder.write(Pe)),!(oe.objectMode&&Pe==null)&&!(!oe.objectMode&&(!Pe||!Pe.length))){var Le=O.push(Pe);Le||(ve=!0,U.pause())}});for(var we in U)this[we]===void 0&&typeof U[we]=="function"&&(this[we]=function(Le){return function(){return U[Le].apply(U,arguments)}}(we));for(var pe=0;pe<J.length;pe++)U.on(J[pe],this.emit.bind(this,J[pe]));return this._read=function(Pe){u("wrapped _read",Pe),ve&&(ve=!1,U.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return L===void 0&&(L=T(17356)),L(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),M._fromList=ee,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(U,O){if(O.length===0)return null;var oe;return O.objectMode?oe=O.buffer.shift():!U||U>=O.length?(O.decoder?oe=O.buffer.join(""):O.buffer.length===1?oe=O.buffer.first():oe=O.buffer.concat(O.length),O.buffer.clear()):oe=O.buffer.consume(U,O.decoder),oe}function de(U){var O=U._readableState;u("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,R.nextTick(me,O,U))}function me(U,O){if(u("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,O.readable=!1,O.emit("end"),U.autoDestroy)){var oe=O._writableState;(!oe||oe.autoDestroy&&oe.finished)&&O.destroy()}}typeof Symbol=="function"&&(M.from=function(U,O){return z===void 0&&(z=T(6314)),z(M,U,O)});function _e(U,O){for(var oe=0,ve=U.length;oe<ve;oe++)if(U[oe]===O)return oe;return-1}},95689:(s,V,T)=>{"use strict";s.exports=h;var R=T(73157).F,A=R.ERR_METHOD_NOT_IMPLEMENTED,P=R.ERR_MULTIPLE_CALLBACK,S=R.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=R.ERR_TRANSFORM_WITH_LENGTH_0,c=T(63527);T(56698)(h,c);function f(u,_){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new P);m.writechunk=null,m.writecb=null,_!=null&&this.push(_),g(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function h(u){if(!(this instanceof h))return new h(u);c.call(this,u),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",k)}function k(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(_,m){y(u,_,m)}):y(this,null,null)}h.prototype.push=function(u,_){return this._transformState.needTransform=!1,c.prototype.push.call(this,u,_)},h.prototype._transform=function(u,_,m){m(new A("_transform()"))},h.prototype._write=function(u,_,m){var g=this._transformState;if(g.writecb=m,g.writechunk=u,g.writeencoding=_,!g.transforming){var p=this._readableState;(g.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},h.prototype._read=function(u){var _=this._transformState;_.writechunk!==null&&!_.transforming?(_.transforming=!0,this._transform(_.writechunk,_.writeencoding,_.afterTransform)):_.needTransform=!0},h.prototype._destroy=function(u,_){c.prototype._destroy.call(this,u,function(m){_(m)})};function y(u,_,m){if(_)return u.emit("error",_);if(m!=null&&u.push(m),u._writableState.length)throw new d;if(u._transformState.transforming)throw new S;return u.push(null)}},9573:(s,V,T)=>{"use strict";var R=T(65606);s.exports=Y;function A(X,ee,de){this.chunk=X,this.encoding=ee,this.callback=de,this.next=null}function P(X){var ee=this;this.next=null,this.entry=null,this.finish=function(){Ne(ee,X)}}var S;Y.WritableState=J;var d={deprecate:T(94643)},c=T(81914),f=T(48287).Buffer,h=T.g.Uint8Array||function(){};function k(X){return f.from(X)}function y(X){return f.isBuffer(X)||X instanceof h}var u=T(16057),_=T(11922),m=_.getHighWaterMark,g=T(73157).F,p=g.ERR_INVALID_ARG_TYPE,N=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_MULTIPLE_CALLBACK,x=g.ERR_STREAM_CANNOT_PIPE,F=g.ERR_STREAM_DESTROYED,W=g.ERR_STREAM_NULL_VALUES,b=g.ERR_STREAM_WRITE_AFTER_END,L=g.ERR_UNKNOWN_ENCODING,z=u.errorOrDestroy;T(56698)(Y,c);function K(){}function J(X,ee,de){S=S||T(63527),X=X||{},typeof de!="boolean"&&(de=ee instanceof S),this.objectMode=!!X.objectMode,de&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=m(this,X,"writableHighWaterMark",de),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=X.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){j(ee,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}J.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,de=[];ee;)de.push(ee),ee=ee.next;return de},function(){try{Object.defineProperty(J.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ie;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ie=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(ee){return ie.call(this,ee)?!0:this!==Y?!1:ee&&ee._writableState instanceof J}})):ie=function(ee){return ee instanceof this};function Y(X){S=S||T(63527);var ee=this instanceof S;if(!ee&&!ie.call(Y,this))return new Y(X);this._writableState=new J(X,this,ee),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),c.call(this)}Y.prototype.pipe=function(){z(this,new x)};function M(X,ee){var de=new b;z(X,de),R.nextTick(ee,de)}function $(X,ee,de,me){var _e;return de===null?_e=new W:typeof de!="string"&&!ee.objectMode&&(_e=new p("chunk",["string","Buffer"],de)),_e?(z(X,_e),R.nextTick(me,_e),!1):!0}Y.prototype.write=function(X,ee,de){var me=this._writableState,_e=!1,U=!me.objectMode&&y(X);return U&&!f.isBuffer(X)&&(X=k(X)),typeof ee=="function"&&(de=ee,ee=null),U?ee="buffer":ee||(ee=me.defaultEncoding),typeof de!="function"&&(de=K),me.ending?M(this,de):(U||$(this,me,X,de))&&(me.pendingcb++,_e=l(this,me,U,X,ee,de)),_e},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&te(this,X))},Y.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new L(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(X,ee,de){return!X.objectMode&&X.decodeStrings!==!1&&typeof ee=="string"&&(ee=f.from(ee,de)),ee}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function l(X,ee,de,me,_e,U){if(!de){var O=C(ee,me,_e);me!==O&&(de=!0,_e="buffer",me=O)}var oe=ee.objectMode?1:me.length;ee.length+=oe;var ve=ee.length<ee.highWaterMark;if(ve||(ee.needDrain=!0),ee.writing||ee.corked){var we=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:me,encoding:_e,isBuf:de,callback:U,next:null},we?we.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else w(X,ee,!1,oe,me,_e,U);return ve}function w(X,ee,de,me,_e,U,O){ee.writelen=me,ee.writecb=O,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new F("write")):de?X._writev(_e,ee.onwrite):X._write(_e,U,ee.onwrite),ee.sync=!1}function D(X,ee,de,me,_e){--ee.pendingcb,de?(R.nextTick(_e,me),R.nextTick(he,X,ee),X._writableState.errorEmitted=!0,z(X,me)):(_e(me),X._writableState.errorEmitted=!0,z(X,me),he(X,ee))}function q(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function j(X,ee){var de=X._writableState,me=de.sync,_e=de.writecb;if(typeof _e!="function")throw new E;if(q(de),ee)D(X,de,me,ee,_e);else{var U=B(de)||X.destroyed;!U&&!de.corked&&!de.bufferProcessing&&de.bufferedRequest&&te(X,de),me?R.nextTick(H,X,de,U,_e):H(X,de,U,_e)}}function H(X,ee,de,me){de||Z(X,ee),ee.pendingcb--,me(),he(X,ee)}function Z(X,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,X.emit("drain"))}function te(X,ee){ee.bufferProcessing=!0;var de=ee.bufferedRequest;if(X._writev&&de&&de.next){var me=ee.bufferedRequestCount,_e=new Array(me),U=ee.corkedRequestsFree;U.entry=de;for(var O=0,oe=!0;de;)_e[O]=de,de.isBuf||(oe=!1),de=de.next,O+=1;_e.allBuffers=oe,w(X,ee,!0,ee.length,_e,"",U.finish),ee.pendingcb++,ee.lastBufferedRequest=null,U.next?(ee.corkedRequestsFree=U.next,U.next=null):ee.corkedRequestsFree=new P(ee),ee.bufferedRequestCount=0}else{for(;de;){var ve=de.chunk,we=de.encoding,pe=de.callback,Pe=ee.objectMode?1:ve.length;if(w(X,ee,!1,Pe,ve,we,pe),de=de.next,ee.bufferedRequestCount--,ee.writing)break}de===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=de,ee.bufferProcessing=!1}Y.prototype._write=function(X,ee,de){de(new N("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(X,ee,de){var me=this._writableState;return typeof X=="function"?(de=X,X=null,ee=null):typeof ee=="function"&&(de=ee,ee=null),X!=null&&this.write(X,ee),me.corked&&(me.corked=1,this.uncork()),me.ending||Ee(this,me,de),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function ae(X,ee){X._final(function(de){ee.pendingcb--,de&&z(X,de),ee.prefinished=!0,X.emit("prefinish"),he(X,ee)})}function xe(X,ee){!ee.prefinished&&!ee.finalCalled&&(typeof X._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,R.nextTick(ae,X,ee)):(ee.prefinished=!0,X.emit("prefinish")))}function he(X,ee){var de=B(ee);if(de&&(xe(X,ee),ee.pendingcb===0&&(ee.finished=!0,X.emit("finish"),ee.autoDestroy))){var me=X._readableState;(!me||me.autoDestroy&&me.endEmitted)&&X.destroy()}return de}function Ee(X,ee,de){ee.ending=!0,he(X,ee),de&&(ee.finished?R.nextTick(de):X.once("finish",de)),ee.ended=!0,X.writable=!1}function Ne(X,ee,de){var me=X.entry;for(X.entry=null;me;){var _e=me.callback;ee.pendingcb--,_e(de),me=me.next}ee.corkedRequestsFree.next=X}Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),Y.prototype.destroy=u.destroy,Y.prototype._undestroy=u.undestroy,Y.prototype._destroy=function(X,ee){ee(X)}},17356:(s,V,T)=>{"use strict";var R=T(65606),A;function P(F,W,b){return W in F?Object.defineProperty(F,W,{value:b,enumerable:!0,configurable:!0,writable:!0}):F[W]=b,F}var S=T(19959),d=Symbol("lastResolve"),c=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),k=Symbol("lastPromise"),y=Symbol("handlePromise"),u=Symbol("stream");function _(F,W){return{value:F,done:W}}function m(F){var W=F[d];if(W!==null){var b=F[u].read();b!==null&&(F[k]=null,F[d]=null,F[c]=null,W(_(b,!1)))}}function g(F){R.nextTick(m,F)}function p(F,W){return function(b,L){F.then(function(){if(W[h]){b(_(void 0,!0));return}W[y](b,L)},L)}}var N=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((A={get stream(){return this[u]},next:function(){var W=this,b=this[f];if(b!==null)return Promise.reject(b);if(this[h])return Promise.resolve(_(void 0,!0));if(this[u].destroyed)return new Promise(function(J,ie){R.nextTick(function(){W[f]?ie(W[f]):J(_(void 0,!0))})});var L=this[k],z;if(L)z=new Promise(p(L,this));else{var K=this[u].read();if(K!==null)return Promise.resolve(_(K,!1));z=new Promise(this[y])}return this[k]=z,z}},P(A,Symbol.asyncIterator,function(){return this}),P(A,"return",function(){var W=this;return new Promise(function(b,L){W[u].destroy(null,function(z){if(z){L(z);return}b(_(void 0,!0))})})}),A),N),x=function(W){var b,L=Object.create(E,(b={},P(b,u,{value:W,writable:!0}),P(b,d,{value:null,writable:!0}),P(b,c,{value:null,writable:!0}),P(b,f,{value:null,writable:!0}),P(b,h,{value:W._readableState.endEmitted,writable:!0}),P(b,y,{value:function(K,J){var ie=L[u].read();ie?(L[k]=null,L[d]=null,L[c]=null,K(_(ie,!1))):(L[d]=K,L[c]=J)},writable:!0}),b));return L[k]=null,S(W,function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=L[c];K!==null&&(L[k]=null,L[d]=null,L[c]=null,K(z)),L[f]=z;return}var J=L[d];J!==null&&(L[k]=null,L[d]=null,L[c]=null,J(_(void 0,!0))),L[h]=!0}),W.on("readable",g.bind(null,L)),L};s.exports=x},10272:(s,V,T)=>{"use strict";function R(m,g){var p=Object.keys(m);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(m);g&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(m,E).enumerable})),p.push.apply(p,N)}return p}function A(m){for(var g=1;g<arguments.length;g++){var p=arguments[g]!=null?arguments[g]:{};g%2?R(Object(p),!0).forEach(function(N){P(m,N,p[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(p)):R(Object(p)).forEach(function(N){Object.defineProperty(m,N,Object.getOwnPropertyDescriptor(p,N))})}return m}function P(m,g,p){return g in m?Object.defineProperty(m,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[g]=p,m}function S(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function d(m,g){for(var p=0;p<g.length;p++){var N=g[p];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(m,N.key,N)}}function c(m,g,p){return g&&d(m.prototype,g),p&&d(m,p),m}var f=T(48287),h=f.Buffer,k=T(59169),y=k.inspect,u=y&&y.custom||"inspect";function _(m,g,p){h.prototype.copy.call(m,g,p)}s.exports=function(){function m(){S(this,m),this.head=null,this.tail=null,this.length=0}return c(m,[{key:"push",value:function(p){var N={data:p,next:null};this.length>0?this.tail.next=N:this.head=N,this.tail=N,++this.length}},{key:"unshift",value:function(p){var N={data:p,next:this.head};this.length===0&&(this.tail=N),this.head=N,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var N=this.head,E=""+N.data;N=N.next;)E+=p+N.data;return E}},{key:"concat",value:function(p){if(this.length===0)return h.alloc(0);for(var N=h.allocUnsafe(p>>>0),E=this.head,x=0;E;)_(E.data,N,x),x+=E.data.length,E=E.next;return N}},{key:"consume",value:function(p,N){var E;return p<this.head.data.length?(E=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?E=this.shift():E=N?this._getString(p):this._getBuffer(p),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var N=this.head,E=1,x=N.data;for(p-=x.length;N=N.next;){var F=N.data,W=p>F.length?F.length:p;if(W===F.length?x+=F:x+=F.slice(0,p),p-=W,p===0){W===F.length?(++E,N.next?this.head=N.next:this.head=this.tail=null):(this.head=N,N.data=F.slice(W));break}++E}return this.length-=E,x}},{key:"_getBuffer",value:function(p){var N=h.allocUnsafe(p),E=this.head,x=1;for(E.data.copy(N),p-=E.data.length;E=E.next;){var F=E.data,W=p>F.length?F.length:p;if(F.copy(N,N.length-p,0,W),p-=W,p===0){W===F.length?(++x,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=F.slice(W));break}++x}return this.length-=x,N}},{key:u,value:function(p,N){return y(this,A({},N,{depth:0,customInspect:!1}))}}]),m}()},16057:(s,V,T)=>{"use strict";var R=T(65606);function A(h,k){var y=this,u=this._readableState&&this._readableState.destroyed,_=this._writableState&&this._writableState.destroyed;return u||_?(k?k(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,R.nextTick(c,this,h)):R.nextTick(c,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(m){!k&&m?y._writableState?y._writableState.errorEmitted?R.nextTick(S,y):(y._writableState.errorEmitted=!0,R.nextTick(P,y,m)):R.nextTick(P,y,m):k?(R.nextTick(S,y),k(m)):R.nextTick(S,y)}),this)}function P(h,k){c(h,k),S(h)}function S(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(h,k){h.emit("error",k)}function f(h,k){var y=h._readableState,u=h._writableState;y&&y.autoDestroy||u&&u.autoDestroy?h.destroy(k):h.emit("error",k)}s.exports={destroy:A,undestroy:d,errorOrDestroy:f}},19959:(s,V,T)=>{"use strict";var R=T(73157).F.ERR_STREAM_PREMATURE_CLOSE;function A(c){var f=!1;return function(){if(!f){f=!0;for(var h=arguments.length,k=new Array(h),y=0;y<h;y++)k[y]=arguments[y];c.apply(this,k)}}}function P(){}function S(c){return c.setHeader&&typeof c.abort=="function"}function d(c,f,h){if(typeof f=="function")return d(c,null,f);f||(f={}),h=A(h||P);var k=f.readable||f.readable!==!1&&c.readable,y=f.writable||f.writable!==!1&&c.writable,u=function(){c.writable||m()},_=c._writableState&&c._writableState.finished,m=function(){y=!1,_=!0,k||h.call(c)},g=c._readableState&&c._readableState.endEmitted,p=function(){k=!1,g=!0,y||h.call(c)},N=function(W){h.call(c,W)},E=function(){var W;if(k&&!g)return(!c._readableState||!c._readableState.ended)&&(W=new R),h.call(c,W);if(y&&!_)return(!c._writableState||!c._writableState.ended)&&(W=new R),h.call(c,W)},x=function(){c.req.on("finish",m)};return S(c)?(c.on("complete",m),c.on("abort",E),c.req?x():c.on("request",x)):y&&!c._writableState&&(c.on("end",u),c.on("close",u)),c.on("end",p),c.on("finish",m),f.error!==!1&&c.on("error",N),c.on("close",E),function(){c.removeListener("complete",m),c.removeListener("abort",E),c.removeListener("request",x),c.req&&c.req.removeListener("finish",m),c.removeListener("end",u),c.removeListener("close",u),c.removeListener("finish",m),c.removeListener("end",p),c.removeListener("error",N),c.removeListener("close",E)}}s.exports=d},6314:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},37413:(s,V,T)=>{"use strict";var R;function A(m){var g=!1;return function(){g||(g=!0,m.apply(void 0,arguments))}}var P=T(73157).F,S=P.ERR_MISSING_ARGS,d=P.ERR_STREAM_DESTROYED;function c(m){if(m)throw m}function f(m){return m.setHeader&&typeof m.abort=="function"}function h(m,g,p,N){N=A(N);var E=!1;m.on("close",function(){E=!0}),R===void 0&&(R=T(19959)),R(m,{readable:g,writable:p},function(F){if(F)return N(F);E=!0,N()});var x=!1;return function(F){if(!E&&!x){if(x=!0,f(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();N(F||new d("pipe"))}}}function k(m){m()}function y(m,g){return m.pipe(g)}function u(m){return!m.length||typeof m[m.length-1]!="function"?c:m.pop()}function _(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];var N=u(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new S("streams");var E,x=g.map(function(F,W){var b=W<g.length-1,L=W>0;return h(F,b,L,function(z){E||(E=z),z&&x.forEach(k),!b&&(x.forEach(k),N(E))})});return g.reduce(y)}s.exports=_},11922:(s,V,T)=>{"use strict";var R=T(73157).F.ERR_INVALID_OPT_VALUE;function A(S,d,c){return S.highWaterMark!=null?S.highWaterMark:d?S[c]:null}function P(S,d,c,f){var h=A(d,f,c);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var k=f?c:"highWaterMark";throw new R(k,h)}return Math.floor(h)}return S.objectMode?16:16384}s.exports={getHighWaterMark:P}},81914:(s,V,T)=>{s.exports=T(37007).EventEmitter},63242:(s,V,T)=>{V=s.exports=T(52341),V.Stream=V,V.Readable=V,V.Writable=T(9573),V.Duplex=T(63527),V.Transform=T(95689),V.PassThrough=T(82571),V.finished=T(19959),V.pipeline=T(37413)},83141:(s,V,T)=>{"use strict";var R=T(92861).Buffer,A=R.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function P(x){if(!x)return"utf8";for(var F;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(F)return;x=(""+x).toLowerCase(),F=!0}}function S(x){var F=P(x);if(typeof F!="string"&&(R.isEncoding===A||!A(x)))throw new Error("Unknown encoding: "+x);return F||x}V.I=d;function d(x){this.encoding=S(x);var F;switch(this.encoding){case"utf16le":this.text=_,this.end=m,F=4;break;case"utf8":this.fillLast=k,F=4;break;case"base64":this.text=g,this.end=p,F=3;break;default:this.write=N,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=R.allocUnsafe(F)}d.prototype.write=function(x){if(x.length===0)return"";var F,W;if(this.lastNeed){if(F=this.fillLast(x),F===void 0)return"";W=this.lastNeed,this.lastNeed=0}else W=0;return W<x.length?F?F+this.text(x,W):this.text(x,W):F||""},d.prototype.end=u,d.prototype.text=y,d.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function c(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function f(x,F,W){var b=F.length-1;if(b<W)return 0;var L=c(F[b]);return L>=0?(L>0&&(x.lastNeed=L-1),L):--b<W||L===-2?0:(L=c(F[b]),L>=0?(L>0&&(x.lastNeed=L-2),L):--b<W||L===-2?0:(L=c(F[b]),L>=0?(L>0&&(L===2?L=0:x.lastNeed=L-3),L):0))}function h(x,F,W){if((F[0]&192)!==128)return x.lastNeed=0,"\uFFFD";if(x.lastNeed>1&&F.length>1){if((F[1]&192)!==128)return x.lastNeed=1,"\uFFFD";if(x.lastNeed>2&&F.length>2&&(F[2]&192)!==128)return x.lastNeed=2,"\uFFFD"}}function k(x){var F=this.lastTotal-this.lastNeed,W=h(this,x,F);if(W!==void 0)return W;if(this.lastNeed<=x.length)return x.copy(this.lastChar,F,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,F,0,x.length),this.lastNeed-=x.length}function y(x,F){var W=f(this,x,F);if(!this.lastNeed)return x.toString("utf8",F);this.lastTotal=W;var b=x.length-(W-this.lastNeed);return x.copy(this.lastChar,0,b),x.toString("utf8",F,b)}function u(x){var F=x&&x.length?this.write(x):"";return this.lastNeed?F+"\uFFFD":F}function _(x,F){if((x.length-F)%2===0){var W=x.toString("utf16le",F);if(W){var b=W.charCodeAt(W.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],W.slice(0,-1)}return W}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",F,x.length-1)}function m(x){var F=x&&x.length?this.write(x):"";if(this.lastNeed){var W=this.lastTotal-this.lastNeed;return F+this.lastChar.toString("utf16le",0,W)}return F}function g(x,F){var W=(x.length-F)%3;return W===0?x.toString("base64",F):(this.lastNeed=3-W,this.lastTotal=3,W===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",F,x.length-W))}function p(x){var F=x&&x.length?this.write(x):"";return this.lastNeed?F+this.lastChar.toString("base64",0,3-this.lastNeed):F}function N(x){return x.toString(this.encoding)}function E(x){return x&&x.length?this.write(x):""}},9423:(s,V,T)=>{"use strict";T.d(V,{A:()=>S});function R(d){var c,f=d.Symbol;return typeof f=="function"?f.observable?c=f.observable:(c=f("observable"),f.observable=c):c="@@observable",c}s=T.hmd(s);var A;typeof self!="undefined"?A=self:typeof window!="undefined"?A=window:typeof T.g!="undefined"?A=T.g:A=s;var P=R(A);const S=P},32909:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.ExperimentationService=void 0;var R=T(67291);Object.defineProperty(V,"ExperimentationService",{enumerable:!0,get:function(){return R.ExperimentationService}})},67291:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.ExperimentationService=void 0;const R=T(32845),A=T(51924),P=T(45761);class S extends P.ExperimentationServiceAutoPolling{constructor(c){super(c.telemetry,c.filterProviders||[],c.refetchInterval!=null?c.refetchInterval:0,c.assignmentContextTelemetryPropertyName,c.telemetryEventName,c.storageKey,c.keyValueStorage),this.options=c,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new R.TasApiFeatureProvider(new A.HttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}V.ExperimentationService=S,S.REFRESH_RATE_IN_MINUTES=30},45761:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.ExperimentationServiceAutoPolling=void 0;const R=T(1714),A=T(23257);class P extends R.ExperimentationServiceBase{constructor(d,c,f,h,k,y,u){if(super(d,h,k,y,u),this.telemetry=d,this.filterProviders=c,this.refreshRateMs=f,this.assignmentContextTelemetryPropertyName=h,this.telemetryEventName=k,this.storageKey=y,this.storage=u,f<1e3&&f!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");f>0&&(this.pollingService=new A.PollingService(f),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(d=!1){if(this.pollingService){this.pollingService.StopPolling();let c=await super.getFeaturesAsync(d);return this.pollingService.StartPolling(),c}else return await super.getFeaturesAsync(d)}}V.ExperimentationServiceAutoPolling=P},1714:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.ExperimentationServiceBase=void 0;const R=T(48823);class A{get features(){return this._features}set features(S){this._features=S,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(S,d,c,f,h){this.telemetry=S,this.assignmentContextTelemetryPropertyName=d,this.telemetryEventName=c,this.storageKey=f,this.storage=h,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(h=new R.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((k,y)=>{this.resolveInitialFetchPromise=k})}async getFeaturesAsync(S=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async c=>await c.getFeatures()));const d=await this.fetchPromise;this.updateFeatures(d,S)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(S,d=!1){let c={features:[],assignmentContext:"",configs:[]};for(let f of S){for(let h of f.features)c.features.includes(h)||c.features.push(h);for(let h of f.configs){const k=c.configs.find(y=>y.Id===h.Id);k?k.Parameters=Object.assign(Object.assign({},k.Parameters),h.Parameters):c.configs.push(h)}c.assignmentContext+=f.assignmentContext}(d||!this.featuresConsumed)&&(this.features=c),this.storage&&this.storage.setValue(this.storageKey,c)}async loadCachedFeatureData(){let S;this.storage&&(S=await this.storage.getValue(this.storageKey),S!==void 0&&S.configs===void 0&&(S.configs=[])),this.features.features.length===0&&(this.features=S||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(S){return this.featuresConsumed=!0,this.PostEventToTelemetry(S),this.features.features.includes(S)}async isCachedFlightEnabled(S){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(S),this.features.features.includes(S)}async isFlightEnabledAsync(S){const d=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(S),d.features.includes(S)}getTreatmentVariable(S,d){this.featuresConsumed=!0,this.PostEventToTelemetry(`${S}.${d}`);const c=this.features.configs.find(f=>f.Id===S);return c==null?void 0:c.Parameters[d]}async getTreatmentVariableAsync(S,d,c){if(c){const f=this.featuresConsumed,h=this.getTreatmentVariable(S,d);if(h===void 0)this.featuresConsumed=f;else return h}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(S,d)}PostEventToTelemetry(S){this.cachedTelemetryEvents.includes(S)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",S]])),this.cachedTelemetryEvents.push(S))}invokeInit(){this.init()}addFeatureProvider(...S){if(!(S==null||this.featureProviders==null))for(let d of S)this.featureProviders.push(d)}}V.ExperimentationServiceBase=A},96790:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.BaseFeatureProvider=void 0;class T{constructor(A){this.telemetry=A,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let A=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,A}}V.BaseFeatureProvider=T},76492:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.FilteredFeatureProvider=void 0;const R=T(96790);class A extends R.BaseFeatureProvider{constructor(S,d){super(S),this.telemetry=S,this.filterProviders=d,this.cachedTelemetryEvents=[]}getFilters(){let S=new Map;for(let d of this.filterProviders){let c=d.getFilters();for(let f of c.keys()){let h=c.get(f);S.set(f,h)}}return S}PostEventToTelemetry(S){if(this.cachedTelemetryEvents.includes(S))return;const d=JSON.stringify(S);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",d]])),this.cachedTelemetryEvents.push(S)}}V.FilteredFeatureProvider=A},32845:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.TasApiFeatureProvider=V.TASAPI_FETCHERROR_EVENTNAME=void 0;const R=T(76492);V.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";const A="ErrorType";class P extends R.FilteredFeatureProvider{constructor(d,c,f){super(c,f),this.httpClient=d,this.telemetry=c,this.filterProviders=f}async fetch(){let d=this.getFilters(),c={};for(let u of d.keys()){const _=d.get(u);c[u]=_}let f;try{f=await this.httpClient.get({headers:c})}catch(u){const _=u,m=new Map;_.responseReceived&&!_.responseOk?m.set(A,"ServerError"):_.responseReceived===!1?m.set(A,"NoResponse"):m.set(A,"GenericError"),this.telemetry.postEvent(V.TASAPI_FETCHERROR_EVENTNAME,m)}if(!f)throw Error(V.TASAPI_FETCHERROR_EVENTNAME);d.keys.length>0&&this.PostEventToTelemetry(c);const h=f.data;let k=h.Configs,y=[];for(let u of k)if(u.Parameters)for(let _ of Object.keys(u.Parameters)){const m=_+(u.Parameters[_]?"":"cf");y.includes(m)||y.push(m)}return{features:y,assignmentContext:h.AssignmentContext,configs:k}}}V.TasApiFeatureProvider=P},51924:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.HttpClient=V.FetchError=void 0;class T extends Error{constructor(P,S,d){super(P),this.responseReceived=S,this.responseOk=d}}V.FetchError=T;class R{constructor(P){this.endpoint=P}async get(P){const S=await fetch(this.endpoint,{method:"GET",headers:P==null?void 0:P.headers});if(!S)throw new T("No response received",!1);if(!S.ok)throw new T("Response not ok",!0,!1);const d=await S.json();if(!d)throw new T("No data received",!1);return{data:d}}}V.HttpClient=R},48823:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.MemoryKeyValueStorage=void 0;class T{constructor(){this.storage=new Map}async getValue(A,P){return this.storage.has(A)?await Promise.resolve(this.storage.get(A)):await Promise.resolve(P||void 0)}setValue(A,P){this.storage.set(A,P)}}V.MemoryKeyValueStorage=T},23257:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.PollingService=void 0;class T{constructor(A){this.fetchInterval=A}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(A){this.onTick=A}StartPolling(A=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(A&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}V.PollingService=T},48318:function(s,V,T){(function(R){"use strict";var A=function(){try{if(R.URLSearchParams&&new R.URLSearchParams("foo=bar").get("foo")==="bar")return R.URLSearchParams}catch{}return null}(),P=A&&new A({a:1}).toString()==="a=1",S=A&&new A("s=%2B").get("s")==="+",d="__URLSearchParams__",c=A?function(){var b=new A;return b.append("s"," &"),b.toString()==="s=+%26"}():!0,f=k.prototype,h=!!(R.Symbol&&R.Symbol.iterator);if(A&&P&&S&&c)return;function k(b){b=b||"",(b instanceof URLSearchParams||b instanceof k)&&(b=b.toString()),this[d]=E(b)}f.append=function(b,L){x(this[d],b,L)},f.delete=function(b){delete this[d][b]},f.get=function(b){var L=this[d];return this.has(b)?L[b][0]:null},f.getAll=function(b){var L=this[d];return this.has(b)?L[b].slice(0):[]},f.has=function(b){return W(this[d],b)},f.set=function(L,z){this[d][L]=[""+z]},f.toString=function(){var b=this[d],L=[],z,K,J,ie;for(K in b)for(J=g(K),z=0,ie=b[K];z<ie.length;z++)L.push(J+"="+g(ie[z]));return L.join("&")};var y=!S,u=!y&&A&&!P&&R.Proxy,_;u?(_=new Proxy(A,{construct:function(b,L){return new b(new k(L[0]).toString())}}),_.toString=Function.prototype.toString.bind(k)):_=k,Object.defineProperty(R,"URLSearchParams",{value:_});var m=R.URLSearchParams.prototype;m.polyfill=!0,m.forEach=m.forEach||function(b,L){var z=E(this.toString());Object.getOwnPropertyNames(z).forEach(function(K){z[K].forEach(function(J){b.call(L,J,K,this)},this)},this)},m.sort=m.sort||function(){var b=E(this.toString()),L=[],z,K,J;for(z in b)L.push(z);for(L.sort(),K=0;K<L.length;K++)this.delete(L[K]);for(K=0;K<L.length;K++){var ie=L[K],Y=b[ie];for(J=0;J<Y.length;J++)this.append(ie,Y[J])}},m.keys=m.keys||function(){var b=[];return this.forEach(function(L,z){b.push(z)}),N(b)},m.values=m.values||function(){var b=[];return this.forEach(function(L){b.push(L)}),N(b)},m.entries=m.entries||function(){var b=[];return this.forEach(function(L,z){b.push([z,L])}),N(b)},h&&(m[R.Symbol.iterator]=m[R.Symbol.iterator]||m.entries);function g(b){var L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(b).replace(/[!'\(\)~]|%20|%00/g,function(z){return L[z]})}function p(b){return b.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/ig,function(L){return decodeURIComponent(L)})}function N(b){var L={next:function(){var z=b.shift();return{done:z===void 0,value:z}}};return h&&(L[R.Symbol.iterator]=function(){return L}),L}function E(b){var L={};if(typeof b=="object")if(F(b))for(var z=0;z<b.length;z++){var K=b[z];if(F(K)&&K.length===2)x(L,K[0],K[1]);else throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements")}else for(var J in b)b.hasOwnProperty(J)&&x(L,J,b[J]);else{b.indexOf("?")===0&&(b=b.slice(1));for(var ie=b.split("&"),Y=0;Y<ie.length;Y++){var M=ie[Y],$=M.indexOf("=");-1<$?x(L,p(M.slice(0,$)),p(M.slice($+1))):M&&x(L,p(M),"")}}return L}function x(b,L,z){var K=typeof z=="string"?z:z!=null&&typeof z.toString=="function"?z.toString():JSON.stringify(z);W(b,L)?b[L].push(K):b[L]=[K]}function F(b){return!!b&&Object.prototype.toString.call(b)==="[object Array]"}function W(b,L){return Object.prototype.hasOwnProperty.call(b,L)}})(typeof T.g!="undefined"?T.g:typeof window!="undefined"?window:this)},94643:(s,V,T)=>{s.exports=R;function R(P,S){if(A("noDeprecation"))return P;var d=!1;function c(){if(!d){if(A("throwDeprecation"))throw new Error(S);A("traceDeprecation")?console.trace(S):console.warn(S),d=!0}return P.apply(this,arguments)}return c}function A(P){try{if(!T.g.localStorage)return!1}catch{return!1}var S=T.g.localStorage[P];return S==null?!1:String(S).toLowerCase()==="true"}},41566:(s,V,T)=>{"use strict";var R;R={value:!0},V.Z7=R=V.M$=void 0;var A=T(12493);Object.defineProperty(V,"M$",{enumerable:!0,get:function(){return A.getExperimentationService}}),R={enumerable:!0,get:function(){return A.getExperimentationServiceAsync}};var P=T(8967);Object.defineProperty(V,"Z7",{enumerable:!0,get:function(){return P.TargetPopulation}})},98142:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.MementoKeyValueStorage=void 0;class T{constructor(A){this.mementoGlobalStorage=A}async getValue(A,P){return await this.mementoGlobalStorage.get(A)||P}setValue(A,P){this.mementoGlobalStorage.update(A,P)}}V.MementoKeyValueStorage=T},59052:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});class T{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(A){return!1}isCachedFlightEnabled(A){return Promise.resolve(!1)}isFlightEnabledAsync(A){return Promise.resolve(!1)}getTreatmentVariable(A,P){}getTreatmentVariableAsync(A,P){return Promise.resolve(void 0)}}V.default=T},8967:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.TargetPopulation=V.Filters=V.VSCodeFilterProvider=void 0;const R=T(91398);class A{constructor(c,f,h){this.extensionName=c,this.extensionVersion=f,this.targetPopulation=h}static trimVersionSuffix(c){const f=/\-[a-zA-Z0-9]+$/;return c.split(f)[0]}getFilterValue(c){switch(c){case P.ApplicationVersion:return A.trimVersionSuffix(R.version);case P.Build:return R.env.appName;case P.ClientId:return R.env.machineId;case P.ExtensionName:return this.extensionName;case P.ExtensionVersion:return A.trimVersionSuffix(this.extensionVersion);case P.Language:return R.env.language;case P.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let c=new Map,f=Object.values(P);for(let h of f)c.set(h,this.getFilterValue(h));return c}}V.VSCodeFilterProvider=A;var P;(function(d){d.Market="X-MSEdge-Market",d.CorpNet="X-FD-Corpnet",d.ApplicationVersion="X-VSCode-AppVersion",d.Build="X-VSCode-Build",d.ClientId="X-MSEdge-ClientId",d.ExtensionName="X-VSCode-ExtensionName",d.ExtensionVersion="X-VSCode-ExtensionVersion",d.Language="X-VSCode-Language",d.TargetPopulation="X-VSCode-TargetPopulation"})(P||(V.Filters=P={}));var S;(function(d){d.Team="team",d.Internal="internal",d.Insiders="insider",d.Public="public"})(S||(V.TargetPopulation=S={}))},12493:(s,V,T)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.getExperimentationServiceAsync=V.getExperimentationService=void 0;const R=T(8967),A=T(32909),P=T(91398),S=T(98142),d=T(59052),c="https://default.exp-tas.com/vscode/ab",f="query-expfeature",h="abexp.assignmentcontext",k="VSCode.ABExp.FeatureData",y=1e3*60*30;function u(m,g,p,N,E,...x){if(!E)throw new Error("Memento storage was not provided.");const F=P.workspace.getConfiguration("telemetry");if(!(P.env.isTelemetryEnabled===void 0?F.get("enableTelemetry",!0):P.env.isTelemetryEnabled))return new d.default;const L=[new R.VSCodeFilterProvider(m,g,p),...x],z=new S.MementoKeyValueStorage(E);return new A.ExperimentationService({filterProviders:L,telemetry:N,storageKey:k,keyValueStorage:z,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:h,telemetryEventName:f,endpoint:c,refetchInterval:y})}V.getExperimentationService=u;async function _(m,g,p,N,E,...x){const F=u(m,g,p,N,E,...x);return await F.initializePromise,F}V.getExperimentationServiceAsync=_},86587:s=>{s.exports=V;function V(T,R){if(T&&R)return V(T)(R);if(typeof T!="function")throw new TypeError("need wrapper function");return Object.keys(T).forEach(function(P){A[P]=T[P]}),A;function A(){for(var P=new Array(arguments.length),S=0;S<P.length;S++)P[S]=arguments[S];var d=T.apply(this,P),c=P[P.length-1];return typeof d=="function"&&d!==c&&Object.keys(c).forEach(function(f){d[f]=c[f]}),d}}},57510:s=>{s.exports=T;var V=Object.prototype.hasOwnProperty;function T(){for(var R={},A=0;A<arguments.length;A++){var P=arguments[A];for(var S in P)V.call(P,S)&&(R[S]=P[S])}return R}},40259:s=>{"use strict";s.exports=function(V){V.prototype[Symbol.iterator]=function*(){for(let T=this.head;T;T=T.next)yield T.value}}},28799:(s,V,T)=>{"use strict";s.exports=R,R.Node=d,R.create=R;function R(c){var f=this;if(f instanceof R||(f=new R),f.tail=null,f.head=null,f.length=0,c&&typeof c.forEach=="function")c.forEach(function(y){f.push(y)});else if(arguments.length>0)for(var h=0,k=arguments.length;h<k;h++)f.push(arguments[h]);return f}R.prototype.removeNode=function(c){if(c.list!==this)throw new Error("removing node which does not belong to this list");var f=c.next,h=c.prev;return f&&(f.prev=h),h&&(h.next=f),c===this.head&&(this.head=f),c===this.tail&&(this.tail=h),c.list.length--,c.next=null,c.prev=null,c.list=null,f},R.prototype.unshiftNode=function(c){if(c!==this.head){c.list&&c.list.removeNode(c);var f=this.head;c.list=this,c.next=f,f&&(f.prev=c),this.head=c,this.tail||(this.tail=c),this.length++}},R.prototype.pushNode=function(c){if(c!==this.tail){c.list&&c.list.removeNode(c);var f=this.tail;c.list=this,c.prev=f,f&&(f.next=c),this.tail=c,this.head||(this.head=c),this.length++}},R.prototype.push=function(){for(var c=0,f=arguments.length;c<f;c++)P(this,arguments[c]);return this.length},R.prototype.unshift=function(){for(var c=0,f=arguments.length;c<f;c++)S(this,arguments[c]);return this.length},R.prototype.pop=function(){if(this.tail){var c=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,c}},R.prototype.shift=function(){if(this.head){var c=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,c}},R.prototype.forEach=function(c,f){f=f||this;for(var h=this.head,k=0;h!==null;k++)c.call(f,h.value,k,this),h=h.next},R.prototype.forEachReverse=function(c,f){f=f||this;for(var h=this.tail,k=this.length-1;h!==null;k--)c.call(f,h.value,k,this),h=h.prev},R.prototype.get=function(c){for(var f=0,h=this.head;h!==null&&f<c;f++)h=h.next;if(f===c&&h!==null)return h.value},R.prototype.getReverse=function(c){for(var f=0,h=this.tail;h!==null&&f<c;f++)h=h.prev;if(f===c&&h!==null)return h.value},R.prototype.map=function(c,f){f=f||this;for(var h=new R,k=this.head;k!==null;)h.push(c.call(f,k.value,this)),k=k.next;return h},R.prototype.mapReverse=function(c,f){f=f||this;for(var h=new R,k=this.tail;k!==null;)h.push(c.call(f,k.value,this)),k=k.prev;return h},R.prototype.reduce=function(c,f){var h,k=this.head;if(arguments.length>1)h=f;else if(this.head)k=this.head.next,h=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var y=0;k!==null;y++)h=c(h,k.value,y),k=k.next;return h},R.prototype.reduceReverse=function(c,f){var h,k=this.tail;if(arguments.length>1)h=f;else if(this.tail)k=this.tail.prev,h=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var y=this.length-1;k!==null;y--)h=c(h,k.value,y),k=k.prev;return h},R.prototype.toArray=function(){for(var c=new Array(this.length),f=0,h=this.head;h!==null;f++)c[f]=h.value,h=h.next;return c},R.prototype.toArrayReverse=function(){for(var c=new Array(this.length),f=0,h=this.tail;h!==null;f++)c[f]=h.value,h=h.prev;return c},R.prototype.slice=function(c,f){f=f||this.length,f<0&&(f+=this.length),c=c||0,c<0&&(c+=this.length);var h=new R;if(f<c||f<0)return h;c<0&&(c=0),f>this.length&&(f=this.length);for(var k=0,y=this.head;y!==null&&k<c;k++)y=y.next;for(;y!==null&&k<f;k++,y=y.next)h.push(y.value);return h},R.prototype.sliceReverse=function(c,f){f=f||this.length,f<0&&(f+=this.length),c=c||0,c<0&&(c+=this.length);var h=new R;if(f<c||f<0)return h;c<0&&(c=0),f>this.length&&(f=this.length);for(var k=this.length,y=this.tail;y!==null&&k>f;k--)y=y.prev;for(;y!==null&&k>c;k--,y=y.prev)h.push(y.value);return h},R.prototype.splice=function(c,f,...h){c>this.length&&(c=this.length-1),c<0&&(c=this.length+c);for(var k=0,y=this.head;y!==null&&k<c;k++)y=y.next;for(var u=[],k=0;y&&k<f;k++)u.push(y.value),y=this.removeNode(y);y===null&&(y=this.tail),y!==this.head&&y!==this.tail&&(y=y.prev);for(var k=0;k<h.length;k++)y=A(this,y,h[k]);return u},R.prototype.reverse=function(){for(var c=this.head,f=this.tail,h=c;h!==null;h=h.prev){var k=h.prev;h.prev=h.next,h.next=k}return this.head=f,this.tail=c,this};function A(c,f,h){var k=f===c.head?new d(h,null,f,c):new d(h,f,f.next,c);return k.next===null&&(c.tail=k),k.prev===null&&(c.head=k),c.length++,k}function P(c,f){c.tail=new d(f,c.tail,null,c),c.head||(c.head=c.tail),c.length++}function S(c,f){c.head=new d(f,null,c.head,c),c.tail||(c.tail=c.head),c.length++}function d(c,f,h,k){if(!(this instanceof d))return new d(c,f,h,k);this.list=k,this.value=c,f?(f.next=this,this.prev=f):this.prev=null,h?(h.prev=this,this.next=h):this.next=null}try{T(40259)(R)}catch{}},16064:(s,V,T)=>{s.exports=T(43619).Observable},43619:(s,V)=>{"use strict";var T;T={value:!0},V.Observable=void 0;function R(z,K){if(!(z instanceof K))throw new TypeError("Cannot call a class as a function")}function A(z,K){for(var J=0;J<K.length;J++){var ie=K[J];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(z,ie.key,ie)}}function P(z,K,J){return K&&A(z.prototype,K),J&&A(z,J),z}var S=function(){return typeof Symbol=="function"},d=function(z){return S()&&!!Symbol[z]},c=function(z){return d(z)?Symbol[z]:"@@"+z};S()&&!d("observable")&&(Symbol.observable=Symbol("observable"));var f=c("iterator"),h=c("observable"),k=c("species");function y(z,K){var J=z[K];if(J!=null){if(typeof J!="function")throw new TypeError(J+" is not a function");return J}}function u(z){var K=z.constructor;return K!==void 0&&(K=K[k],K===null&&(K=void 0)),K!==void 0?K:L}function _(z){return z instanceof L}function m(z){m.log?m.log(z):setTimeout(function(){throw z})}function g(z){Promise.resolve().then(function(){try{z()}catch(K){m(K)}})}function p(z){var K=z._cleanup;if(K!==void 0&&(z._cleanup=void 0,!!K))try{if(typeof K=="function")K();else{var J=y(K,"unsubscribe");J&&J.call(K)}}catch(ie){m(ie)}}function N(z){z._observer=void 0,z._queue=void 0,z._state="closed"}function E(z){var K=z._queue;if(K){z._queue=void 0,z._state="ready";for(var J=0;J<K.length&&(x(z,K[J].type,K[J].value),z._state!=="closed");++J);}}function x(z,K,J){z._state="running";var ie=z._observer;try{var Y=y(ie,K);switch(K){case"next":Y&&Y.call(ie,J);break;case"error":if(N(z),Y)Y.call(ie,J);else throw J;break;case"complete":N(z),Y&&Y.call(ie);break}}catch(M){m(M)}z._state==="closed"?p(z):z._state==="running"&&(z._state="ready")}function F(z,K,J){if(z._state!=="closed"){if(z._state==="buffering"){z._queue.push({type:K,value:J});return}if(z._state!=="ready"){z._state="buffering",z._queue=[{type:K,value:J}],g(function(){return E(z)});return}x(z,K,J)}}var W=function(){function z(K,J){R(this,z),this._cleanup=void 0,this._observer=K,this._queue=void 0,this._state="initializing";var ie=new b(this);try{this._cleanup=J.call(void 0,ie)}catch(Y){ie.error(Y)}this._state==="initializing"&&(this._state="ready")}return P(z,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(N(this),p(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),z}(),b=function(){function z(K){R(this,z),this._subscription=K}return P(z,[{key:"next",value:function(J){F(this._subscription,"next",J)}},{key:"error",value:function(J){F(this._subscription,"error",J)}},{key:"complete",value:function(){F(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),z}(),L=function(){function z(K){if(R(this,z),!(this instanceof z))throw new TypeError("Observable cannot be called as a function");if(typeof K!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=K}return P(z,[{key:"subscribe",value:function(J){return(typeof J!="object"||J===null)&&(J={next:J,error:arguments[1],complete:arguments[2]}),new W(J,this._subscriber)}},{key:"forEach",value:function(J){var ie=this;return new Promise(function(Y,M){if(typeof J!="function"){M(new TypeError(J+" is not a function"));return}function $(){C.unsubscribe(),Y()}var C=ie.subscribe({next:function(l){try{J(l,$)}catch(w){M(w),C.unsubscribe()}},error:M,complete:Y})})}},{key:"map",value:function(J){var ie=this;if(typeof J!="function")throw new TypeError(J+" is not a function");var Y=u(this);return new Y(function(M){return ie.subscribe({next:function($){try{$=J($)}catch(C){return M.error(C)}M.next($)},error:function($){M.error($)},complete:function(){M.complete()}})})}},{key:"filter",value:function(J){var ie=this;if(typeof J!="function")throw new TypeError(J+" is not a function");var Y=u(this);return new Y(function(M){return ie.subscribe({next:function($){try{if(!J($))return}catch(C){return M.error(C)}M.next($)},error:function($){M.error($)},complete:function(){M.complete()}})})}},{key:"reduce",value:function(J){var ie=this;if(typeof J!="function")throw new TypeError(J+" is not a function");var Y=u(this),M=arguments.length>1,$=!1,C=arguments[1],l=C;return new Y(function(w){return ie.subscribe({next:function(D){var q=!$;if($=!0,!q||M)try{l=J(l,D)}catch(j){return w.error(j)}else l=D},error:function(D){w.error(D)},complete:function(){if(!$&&!M)return w.error(new TypeError("Cannot reduce an empty sequence"));w.next(l),w.complete()}})})}},{key:"concat",value:function(){for(var J=this,ie=arguments.length,Y=new Array(ie),M=0;M<ie;M++)Y[M]=arguments[M];var $=u(this);return new $(function(C){var l,w=0;function D(q){l=q.subscribe({next:function(j){C.next(j)},error:function(j){C.error(j)},complete:function(){w===Y.length?(l=void 0,C.complete()):D($.from(Y[w++]))}})}return D(J),function(){l&&(l.unsubscribe(),l=void 0)}})}},{key:"flatMap",value:function(J){var ie=this;if(typeof J!="function")throw new TypeError(J+" is not a function");var Y=u(this);return new Y(function(M){var $=[],C=ie.subscribe({next:function(w){if(J)try{w=J(w)}catch(q){return M.error(q)}var D=Y.from(w).subscribe({next:function(q){M.next(q)},error:function(q){M.error(q)},complete:function(){var q=$.indexOf(D);q>=0&&$.splice(q,1),l()}});$.push(D)},error:function(w){M.error(w)},complete:function(){l()}});function l(){C.closed&&$.length===0&&M.complete()}return function(){$.forEach(function(w){return w.unsubscribe()}),C.unsubscribe()}})}},{key:h,value:function(){return this}}],[{key:"from",value:function(J){var ie=typeof this=="function"?this:z;if(J==null)throw new TypeError(J+" is not an object");var Y=y(J,h);if(Y){var M=Y.call(J);if(Object(M)!==M)throw new TypeError(M+" is not an object");return _(M)&&M.constructor===ie?M:new ie(function($){return M.subscribe($)})}if(d("iterator")&&(Y=y(J,f),Y))return new ie(function($){g(function(){if(!$.closed){var C=!0,l=!1,w=void 0;try{for(var D=Y.call(J)[Symbol.iterator](),q;!(C=(q=D.next()).done);C=!0){var j=q.value;if($.next(j),$.closed)return}}catch(H){l=!0,w=H}finally{try{!C&&D.return!=null&&D.return()}finally{if(l)throw w}}$.complete()}})});if(Array.isArray(J))return new ie(function($){g(function(){if(!$.closed){for(var C=0;C<J.length;++C)if($.next(J[C]),$.closed)return;$.complete()}})});throw new TypeError(J+" is not observable")}},{key:"of",value:function(){for(var J=arguments.length,ie=new Array(J),Y=0;Y<J;Y++)ie[Y]=arguments[Y];var M=typeof this=="function"?this:z;return new M(function($){g(function(){if(!$.closed){for(var C=0;C<ie.length;++C)if($.next(ie[C]),$.closed)return;$.complete()}})})}},{key:k,get:function(){return this}}]),z}();V.Observable=L,S()&&Object.defineProperty(L,Symbol("extensions"),{value:{symbol:h,hostReportError:m},configurable:!0})},91398:s=>{"use strict";s.exports=require("vscode")},47790:()=>{},73776:()=>{},98285:()=>{},38664:()=>{},21638:()=>{},92668:()=>{},8460:()=>{},92382:()=>{},63779:()=>{},77199:()=>{},59169:()=>{},86833:()=>{},59817:()=>{},11138:()=>{},3219:s=>{"use strict";s.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:s=>{"use strict";s.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:s=>{"use strict";s.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:s=>{"use strict";s.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:s=>{"use strict";s.exports={rE:"6.6.1"}},15579:s=>{"use strict";s.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},$r={};function Kt(s){var V=$r[s];if(V!==void 0)return V.exports;var T=$r[s]={id:s,loaded:!1,exports:{}};return Va[s].call(T.exports,T,T.exports,Kt),T.loaded=!0,T.exports}Kt.n=s=>{var V=s&&s.__esModule?()=>s.default:()=>s;return Kt.d(V,{a:V}),V},Kt.d=(s,V)=>{for(var T in V)Kt.o(V,T)&&!Kt.o(s,T)&&Object.defineProperty(s,T,{enumerable:!0,get:V[T]})},Kt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Kt.hmd=s=>(s=Object.create(s),s.children||(s.children=[]),Object.defineProperty(s,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+s.id)}}),s),Kt.o=(s,V)=>Object.prototype.hasOwnProperty.call(s,V),Kt.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},Kt.nmd=s=>(s.paths=[],s.children||(s.children=[]),s);var qu={};(()=>{"use strict";var vs;Kt.r(qu),Kt.d(qu,{activate:()=>DR,deactivate:()=>UR});var s=Kt(91398);const V=async(n,e,t)=>{const i=await Promise.resolve().then(Kt.bind(Kt,14523)),r=await Promise.resolve().then(Kt.bind(Kt,28643)),a=new i.AppInsightsCore,o=new r.PostChannel,v={instrumentationKey:n,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[o]]};if(t){v.extensionConfig={};const Q={alwaysUseXhrOverride:!0,httpXHROverride:t};v.extensionConfig[o.identifier]=Q}const G=e.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(v,[]),a.addTelemetryInitializer(Q=>{var re,le;G&&(Q.ext=(re=Q.ext)!=null?re:{},Q.ext.utc=(le=Q.ext.utc)!=null?le:{},Q.ext.utc.flags=8462029)}),a},T=async(n,e,t)=>{const i=await V(n,e,t);return{logEvent:(a,o)=>{try{i==null||i.track({name:a,baseData:{name:a,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}})}catch(v){throw new Error(`Failed to log event to app insights!
`+v.message)}},flush:async()=>{try{i==null||i.unload()}catch(a){throw new Error(`Failed to flush app insights!
`+a.message)}}}};var R;(function(n){n[n.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",n[n.INSTANTIATING=1]="INSTANTIATING",n[n.INSTANTIATED=2]="INSTANTIATED"})(R||(R={}));class A{constructor(e,t){this._instantiationStatus=R.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==R.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==R.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===R.NOT_INSTANTIATED&&(this._instantiationStatus=R.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=R.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=R.INSTANTIATED}))}}class P{constructor(e,t,i){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,i),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender()}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,i,r){r?this.telemetrySender.sendEventData(e,{properties:t,measurements:i}):this.telemetryLogger.logUsage(e,{properties:t,measurements:i})}sendTelemetryEvent(e,t,i){this.internalSendTelemetryEvent(e,t,i,!1)}sendDangerousTelemetryEvent(e,t,i){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,i,!0)}internalSendTelemetryErrorEvent(e,t,i,r){r?this.telemetrySender.sendEventData(e,{properties:t,measurements:i}):this.telemetryLogger.logError(e,{properties:t,measurements:i})}sendTelemetryErrorEvent(e,t,i){this.internalSendTelemetryErrorEvent(e,t,i,!1)}sendDangerousTelemetryErrorEvent(e,t,i){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,i,!0)}internalSendTelemetryException(e,t,i,r){r?this.telemetrySender.sendErrorData(e,{properties:t,measurements:i}):this.telemetryLogger.logError(e,{properties:t,measurements:i})}sendTelemetryException(e,t,i){this.internalSendTelemetryException(e,t,i,!1)}sendDangerousTelemetryException(e,t,i){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,t,i,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}class S{static applyReplacements(e,t){for(const i of Object.keys(e))for(const r of t)r.lookup.test(i)&&(r.replacementString!==void 0?e[i]=r.replacementString:delete e[i])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.5"}}static getInstance(){return S._instance||(S._instance=new S),S._instance}}const d=async(n,e)=>{let t;try{const r=await Promise.resolve().then(Kt.bind(Kt,94731));t=new r.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),t.initialize()}catch(r){return Promise.reject(r)}return{logEvent:(r,a)=>{const o={...a==null?void 0:a.properties,...a==null?void 0:a.measurements};e!=null&&e.length&&S.applyReplacements(o,e),t==null||t.track({name:r,data:o})},flush:async()=>{t==null||t.flush()}}};class c extends P{constructor(e,t){let i=o=>d(o,t);S.shouldUseOneDataSystemSDK(e)&&(i=o=>T(o,s));const r={release:navigator.appVersion,platform:"web",architecture:"web"},a=new A(e,i);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(a,s,{additionalCommonProperties:S.getAdditionalCommonProperties(r)})}}var f=Object.defineProperty,h=(n,e,t)=>e in n?f(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e,t)=>h(n,typeof e!="symbol"?e+"":e,t);function y(n){return{dispose:n}}function u(n){return y(()=>_(n))}function _(n){for(;n.length;){const e=n.pop();e==null||e.dispose()}}function m(n,e){return e.push(n),n}class g{constructor(){k(this,"_isDisposed",!1),k(this,"_disposables",[])}dispose(){this._isDisposed||(this._isDisposed=!0,_(this._disposables),this._disposables=[])}_register(e){return this._isDisposed?e.dispose():this._disposables.push(e),e}get isDisposed(){return this._isDisposed}}var p=Object.defineProperty,N=(n,e,t)=>e in n?p(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,E=(n,e,t)=>N(n,typeof e!="symbol"?e+"":e,t);const x="PullRequestTree";class F extends g{constructor(){super(),E(this,"_outputChannel"),E(this,"_activePerfMarkers",new Map),this._outputChannel=this._register(s.window.createOutputChannel("GitHub Pull Request",{log:!0}))}startPerfMarker(e){const t=performance.now();this._outputChannel.appendLine(`[PERF_MARKER] Start ${e}`),this._activePerfMarkers.set(e,t)}endPerfMarker(e){const t=performance.now();this._outputChannel.appendLine(`[PERF_MARKER] End ${e}: ${t-this._activePerfMarkers.get(e)} ms`),this._activePerfMarkers.delete(e)}logString(e,t){return typeof e!="string"&&(e instanceof Error?e=e.message:"toString"in e?e=e.toString():e=JSON.stringify(e)),t?`[${t}] ${e}`:e}trace(e,t){this._outputChannel.trace(this.logString(e,t))}debug(e,t){this._outputChannel.debug(this.logString(e,t))}appendLine(e,t){this._outputChannel.info(this.logString(e,t))}warn(e,t){this._outputChannel.warn(this.logString(e,t))}error(e,t){this._outputChannel.error(this.logString(e,t))}}const b=new F;var L=Kt(57975),z=Kt(74353),K=Kt.n(z),J=Kt(6279),ie=Kt.n(J),Y=Kt(53581),M=Kt.n(Y),$=Object.defineProperty,C=(n,e,t)=>e in n?$(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,l=(n,e,t)=>C(n,typeof e!="symbol"?e+"":e,t);K().extend(ie(),{thresholds:[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:6,d:"day"},{l:"w",r:7},{l:"ww",r:3,d:"week"},{l:"M",r:4},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}]}),K().extend(M()),K().updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}});function w(n,e){const t=Object.create(null);return n.filter(i=>{const r=e(i);return t[r]?!1:(t[r]=!0,!0)})}function D(...n){return(e,t=null,i)=>{const r=combinedDisposable(n.map(a=>a(o=>e.call(t,o))));return i&&i.push(r),r}}function q(n,e){return(t,i=null,r)=>n(a=>e(a)&&t.call(i,a),null,r)}function j(n){return(e,t=null,i)=>{const r=n(a=>(r.dispose(),e.call(t,a)),null,i);return r}}function H(n){return/^[a-zA-Z]:\\/.test(n)}function Z(n,e,t=L.sep){return n===e?!0:(n.charAt(n.length-1)!==t&&(n+=t),H(n)&&(n=n.toLowerCase(),e=e.toLowerCase()),e.startsWith(n))}function te(n,e){return n.reduce((t,i)=>{const r=e(i);return t[r]=[...t[r]||[],i],t},Object.create(null))}class B extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function ae(n){return!!n.errors}function xe(n){let e=!0;if(n.errors&&Array.isArray(n.errors)){for(const t of n.errors)if(!t.field||!t.value||!t.status){e=!1;break}}else e=!1;return e}function he(n){if(!(n instanceof Error))return typeof n=="string"?n:n.gitErrorCode?`${n.message}. Please check git output for more details`:n.stderr?`${n.stderr}. Please check git output for more details`:"Error";let e=n.message,t;if(n.message==="Validation Failed"&&xe(n))t=n.errors.map(i=>`Value "${i.value}" cannot be set for field ${i.field} (code: ${i.status})`).join(", ");else{if(n.message.startsWith("Validation Failed:"))return n.message;if(ae(n)&&n.errors)return n.errors.map(i=>typeof i=="string"?i:i.message).join(", ")}return t&&(e=`${e}: ${t}`),e}async function Ee(n){return new Promise(e=>{const t=n(i=>{t.dispose(),e(i)})})}async function Ne(n,e){return Promise.race([n,new Promise(t=>{setTimeout(()=>t(void 0),e)})])}function X(n){const e=K()(n),t=Date.now();return e.diff(t,"month"),e.diff(t,"month")<1?e.fromNow():e.diff(t,"year")<1?`on ${e.format("MMM D")}`:`on ${e.format("MMM D, YYYY")}`}function ee(n,e,t=!1){n.startsWith("#")&&(n=n.substring(1));const i=me(n);if(e){const r=_e(i.r,i.g,i.b),a=.6,o=.18,v=.3,I=(i.r*.2126+i.g*.7152+i.b*.0722)/255,G=Math.max(0,Math.min((I-a)*-1e3,1)),Q=(a-I)*100*G,re=me(U(r.h,r.s,r.l+Q)),le=`#${U(r.h,r.s,r.l+Q)}`,ge=t?`#${de({...i,a:o})}`:`rgba(${i.r},${i.g},${i.b},${o})`,Re=t?`#${de({...re,a:v})}`:`rgba(${re.r},${re.g},${re.b},${v})`;return{textColor:le,backgroundColor:ge,borderColor:Re}}else return{textColor:`#${O(i)}`,backgroundColor:`#${n}`,borderColor:`#${n}`}}const de=n=>{const e=[n.r,n.g,n.b];return n.a&&e.push(Math.floor(n.a*255)),e.map(t=>t.toString(16).padStart(2,"0")).join("")};function me(n){const e=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:0,g:0,b:0}}function _e(n,e,t){n/=255,e/=255,t/=255;let i=Math.min(n,e,t),r=Math.max(n,e,t),a=r-i,o=0,v=0,I=0;return a==0?o=0:r==n?o=(e-t)/a%6:r==e?o=(t-n)/a+2:o=(n-e)/a+4,o=Math.round(o*60),o<0&&(o+=360),I=(r+i)/2,v=a==0?0:a/(1-Math.abs(2*I-1)),v=+(v*100).toFixed(1),I=+(I*100).toFixed(1),{h:o,s:v,l:I}}function U(n,e,t){const i=t/100,r=e*Math.min(i,1-i)/100,a=o=>{const v=(o+n/30)%12,I=i-r*Math.max(Math.min(v-3,9-v,1),-1);return Math.round(255*I).toString(16).padStart(2,"0")};return`${a(0)}${a(8)}${a(4)}`}function O(n){return(.299*n.r+.587*n.g+.114*n.b)/255>.5?"000000":"ffffff"}var oe=(n=>(n[n.Period=46]="Period",n[n.Slash=47]="Slash",n[n.A=65]="A",n[n.Z=90]="Z",n[n.Backslash=92]="Backslash",n[n.a=97]="a",n[n.z=122]="z",n))(oe||{});function ve(n,e){return n<e?-1:n>e?1:0}function we(n,e,t=0,i=n.length,r=0,a=e.length){for(;t<i&&r<a;t++,r++){const I=n.charCodeAt(t),G=e.charCodeAt(r);if(I<G)return-1;if(I>G)return 1}const o=i-t,v=a-r;return o<v?-1:o>v?1:0}function pe(n,e){return Pe(n,e,0,n.length,0,e.length)}function Pe(n,e,t=0,i=n.length,r=0,a=e.length){for(;t<i&&r<a;t++,r++){let I=n.charCodeAt(t),G=e.charCodeAt(r);if(I===G)continue;const Q=I-G;if(!(Q===32&&He(G))&&!(Q===-32&&He(I)))return Le(I)&&Le(G)?Q:we(n.toLowerCase(),e.toLowerCase(),t,i,r,a)}const o=i-t,v=a-r;return o<v?-1:o>v?1:0}function Le(n){return n>=97&&n<=122}function He(n){return n>=65&&n<=90}class kt{constructor(){l(this,"_value",""),l(this,"_pos",0)}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}class Ke{constructor(e=!0){this._caseSensitive=e,l(this,"_value"),l(this,"_from"),l(this,"_to")}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?we(e,this._value,0,e.length,this._from,this._to):Pe(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Ze{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t,l(this,"_value"),l(this,"_from"),l(this,"_to")}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?we(e,this._value,0,e.length,this._from,this._to):Pe(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}var yt=(n=>(n[n.Scheme=1]="Scheme",n[n.Authority=2]="Authority",n[n.Path=3]="Path",n[n.Query=4]="Query",n[n.Fragment=5]="Fragment",n))(yt||{});class ce{constructor(e){this._ignorePathCasing=e,l(this,"_pathIterator"),l(this,"_value"),l(this,"_states",[]),l(this,"_stateIdx",0)}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Ze(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return pe(e,this._value.scheme);if(this._states[this._stateIdx]===2)return pe(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return ve(e,this._value.query);if(this._states[this._stateIdx]===5)return ve(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}function ne(n){const t=n.extensionUri.path,i=t.lastIndexOf(".");return i===-1?!1:t.substr(i+1).length>1}class se{constructor(){l(this,"segment"),l(this,"value"),l(this,"key"),l(this,"left"),l(this,"mid"),l(this,"right")}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class be{constructor(e){l(this,"_iter"),l(this,"_root"),this._iter=e}static forUris(e=()=>!1){return new be(new ce(e))}static forPaths(){return new be(new Ze)}static forStrings(){return new be(new kt)}static forConfigKeys(){return new be(new Ke)}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let r;for(this._root||(this._root=new se,this._root.segment=i.value()),r=this._root;;){const o=i.cmp(r.segment);if(o>0)r.left||(r.left=new se,r.left.segment=i.value()),r=r.left;else if(o<0)r.right||(r.right=new se,r.right.segment=i.value()),r=r.right;else if(i.hasNext())i.next(),r.mid||(r.mid=new se,r.mid.segment=i.value()),r=r.mid;else break}const a=r.value;return r.value=t,r.key=e,a}get(e){var t;return(t=this._getNode(e))==null?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){const i=this._iter.reset(e),r=[];let a=this._root;for(;a;){const o=i.cmp(a.segment);if(o>0)r.push([1,a]),a=a.left;else if(o<0)r.push([-1,a]),a=a.right;else if(i.hasNext())i.next(),r.push([0,a]),a=a.mid;else{for(t?(a.left=void 0,a.mid=void 0,a.right=void 0):a.value=void 0;r.length>0&&a.isEmpty();){let[v,I]=r.pop();switch(v){case 1:I.left=void 0;break;case 0:I.mid=void 0;break;case-1:I.right=void 0;break}a=I}break}}}findSubstr(e){const t=this._iter.reset(e);let i=this._root,r;for(;i;){const a=t.cmp(i.segment);if(a>0)i=i.left;else if(a<0)i=i.right;else if(t.hasNext())t.next(),r=i.value||r,i=i.mid;else break}return i&&i.value||r}findSuperstr(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(yield*this._entries(e.left),e.value&&(yield[e.key,e.value]),yield*this._entries(e.mid),yield*this._entries(e.right))}}async function Me(n,e,t){const i=[];n.replace(e,(o,...v)=>{const I=t(o,...v);return i.push(I),""});const r=await Promise.all(i);let a=0;return n.replace(e,()=>r[a++])}async function Ve(n,e,t){const i=Math.ceil(n.length/e);for(let r=0;r<i;r++){const a=n.slice(r*e,(r+1)*e);await Promise.all(a.map(t))}}var Fe=Object.defineProperty,Ye=(n,e,t)=>e in n?Fe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Tt=(n,e,t)=>Ye(n,typeof e!="symbol"?e+"":e,t),et=(n=>(n[n.Head=0]="Head",n[n.RemoteHead=1]="RemoteHead",n[n.Tag=2]="Tag",n))(et||{}),rt=(n=>(n.BadConfigFile="BadConfigFile",n.AuthenticationFailed="AuthenticationFailed",n.NoUserNameConfigured="NoUserNameConfigured",n.NoUserEmailConfigured="NoUserEmailConfigured",n.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",n.NotAGitRepository="NotAGitRepository",n.NotAtRepositoryRoot="NotAtRepositoryRoot",n.Conflict="Conflict",n.StashConflict="StashConflict",n.UnmergedChanges="UnmergedChanges",n.PushRejected="PushRejected",n.RemoteConnectionError="RemoteConnectionError",n.DirtyWorkTree="DirtyWorkTree",n.CantOpenResource="CantOpenResource",n.GitNotFound="GitNotFound",n.CantCreatePipe="CantCreatePipe",n.CantAccessRemote="CantAccessRemote",n.RepositoryNotFound="RepositoryNotFound",n.RepositoryIsLocked="RepositoryIsLocked",n.BranchNotFullyMerged="BranchNotFullyMerged",n.NoRemoteReference="NoRemoteReference",n.InvalidBranchName="InvalidBranchName",n.BranchAlreadyExists="BranchAlreadyExists",n.NoLocalChanges="NoLocalChanges",n.NoStashFound="NoStashFound",n.LocalChangesOverwritten="LocalChangesOverwritten",n.NoUpstreamBranch="NoUpstreamBranch",n.IsInSubmodule="IsInSubmodule",n.WrongCase="WrongCase",n.CantLockRef="CantLockRef",n.CantRebaseMultipleBranches="CantRebaseMultipleBranches",n.PatchDoesNotApply="PatchDoesNotApply",n))(rt||{}),ut=(n=>(n[n.INDEX_MODIFIED=0]="INDEX_MODIFIED",n[n.INDEX_ADDED=1]="INDEX_ADDED",n[n.INDEX_DELETED=2]="INDEX_DELETED",n[n.INDEX_RENAMED=3]="INDEX_RENAMED",n[n.INDEX_COPIED=4]="INDEX_COPIED",n[n.MODIFIED=5]="MODIFIED",n[n.DELETED=6]="DELETED",n[n.UNTRACKED=7]="UNTRACKED",n[n.IGNORED=8]="IGNORED",n[n.INTENT_TO_ADD=9]="INTENT_TO_ADD",n[n.ADDED_BY_US=10]="ADDED_BY_US",n[n.ADDED_BY_THEM=11]="ADDED_BY_THEM",n[n.DELETED_BY_US=12]="DELETED_BY_US",n[n.DELETED_BY_THEM=13]="DELETED_BY_THEM",n[n.BOTH_ADDED=14]="BOTH_ADDED",n[n.BOTH_DELETED=15]="BOTH_DELETED",n[n.BOTH_MODIFIED=16]="BOTH_MODIFIED",n))(ut||{});const mt=class Ou extends g{constructor(){super(...arguments),Tt(this,"_providers",new Map),Tt(this,"_onDidOpenRepository",new s.EventEmitter),Tt(this,"onDidOpenRepository",this._onDidOpenRepository.event),Tt(this,"_onDidCloseRepository",new s.EventEmitter),Tt(this,"onDidCloseRepository",this._onDidCloseRepository.event),Tt(this,"_onDidChangeState",new s.EventEmitter),Tt(this,"onDidChangeState",this._onDidChangeState.event),Tt(this,"_onDidPublish",new s.EventEmitter),Tt(this,"onDidPublish",this._onDidPublish.event),Tt(this,"_titleAndDescriptionProviders",new Set),Tt(this,"_reviewerCommentsProviders",new Set)}get repositories(){const e=[];return this._providers.forEach(({repositories:t})=>{t&&e.push(...t)}),e}get state(){if(this._providers.size!==0){for(const[,{state:e}]of this._providers)if(e!=="initialized")return"uninitialized";return"initialized"}}_updateReposContext(){const e=Array.from(this._providers.values()).reduce((t,i)=>t+i.repositories.length,0);s.commands.executeCommand("setContext","gitHubOpenRepositoryCount",e)}registerGitProvider(e){b.appendLine("Registering git provider",Ou.ID);const t=this._nextHandle();return this._providers.set(t,e),this._register(e.onDidCloseRepository(i=>this._onDidCloseRepository.fire(i))),this._register(e.onDidOpenRepository(i=>{b.appendLine(`Repository ${i.rootUri} has been opened`,Ou.ID),this._updateReposContext(),this._onDidOpenRepository.fire(i)})),e.onDidChangeState&&this._register(e.onDidChangeState(i=>this._onDidChangeState.fire(i))),e.onDidPublish&&this._register(e.onDidPublish(i=>this._onDidPublish.fire(i))),this._updateReposContext(),e.repositories.forEach(i=>{this._onDidOpenRepository.fire(i)}),{dispose:()=>{const i=e==null?void 0:e.repositories;i&&i.length>0&&i.forEach(r=>this._onDidCloseRepository.fire(r)),this._providers.delete(t)}}}getGitProvider(e){const t=be.forUris();return this._providers.forEach(i=>{const r=i.repositories;if(r&&r.length>0)for(const a of r)t.set(a.rootUri,i)}),t.findSubstr(e)}registerPostCommitCommandsProvider(e){const t=Array.from(this._providers.values()).map(i=>i.registerPostCommitCommandsProvider?i.registerPostCommitCommandsProvider(e):{dispose:()=>{}});return{dispose:()=>t.forEach(i=>i.dispose())}}_nextHandle(){return Ou._handlePool++}registerTitleAndDescriptionProvider(e,t){const i={title:e,provider:t};return this._titleAndDescriptionProviders.add(i),this._register({dispose:()=>this._titleAndDescriptionProviders.delete(i)})}getTitleAndDescriptionProvider(e){if(e){for(const t of this._titleAndDescriptionProviders)if(t.title.toLowerCase().includes(e.toLowerCase()))return t}else return this._titleAndDescriptionProviders.size>0?this._titleAndDescriptionProviders.values().next().value:void 0}registerReviewerCommentsProvider(e,t){const i={title:e,provider:t};return this._reviewerCommentsProviders.add(i),this._register({dispose:()=>this._reviewerCommentsProviders.delete(i)})}getReviewerCommentsProvider(){return this._reviewerCommentsProviders.size>0?this._reviewerCommentsProviders.values().next().value:void 0}};Tt(mt,"ID","GitAPI"),Tt(mt,"_handlePool",0);let vt=mt;var ai;(n=>{function e(t){return t&&t.thread&&t.text!==void 0}n.is=e})(ai||(ai={}));const ht=new Map;function Pt(n,e,t){ht.set(n,{handler:e,repoRootUri:t.rootUri.toString()})}function Fi(n){ht.delete(n)}function Rt(n){const e=[];for(const t of ht.values())t.handler.hasCommentThread(n)&&e.push(t);if(e.length>0)return e.sort((t,i)=>i.repoRootUri.length-t.repoRootUri.length),e[0].handler;b.warn(`Unable to find handler for comment thread ${n.gitHubThreadId}`)}function qt(){for(const n of ht.values())if(n.handler.commentController.activeCommentThread)return n.handler}var Ri;(n=>{n.VIEWED_FILES="github:viewedFiles",n.UNVIEWED_FILES="github:unviewedFiles",n.IN_REVIEW_MODE="github:inReviewMode",n.REPOS_NOT_IN_REVIEW_MODE="github:reposNotInReviewMode",n.REPOS_IN_REVIEW_MODE="github:reposInReviewMode",n.ACTIVE_PR_COUNT="github:activePRCount",n.LOADING_PRS_TREE="github:loadingPrsTree",n.LOADING_ISSUES_TREE="github:loadingIssuesTree",n.CREATE_PR_PERMISSIONS="github:createPrPermissions",n.RESOLVING_CONFLICTS="github:resolvingConflicts",n.PULL_REQUEST_DESCRIPTION_VISIBLE="github:pullRequestDescriptionVisible",n.ACTIVE_COMMENT_HAS_SUGGESTION="github:activeCommentHasSuggestion",n.CREATING="pr:creating",n.NOTIFICATION_COUNT="github:notificationCount"})(Ri||(Ri={}));var lt;(n=>{n.OPEN_CHAT="workbench.action.chat.open",n.QUICK_CHAT_OPEN="workbench.action.quickchat.toggle";function e(r,a,o){return s.commands.executeCommand(r,a,o)}n.executeCommand=e;function t(r){return e(`${r}.focus`)}n.focusView=t;function i(r,a){return e("setContext",r,a)}n.setContext=i})(lt||(lt={}));const it="githubPullRequests",_n="terminalLinksHandler",Vt="createOnPublishBranch",Yt="useReviewMode",Ji="fileListLayout",De="assignCreated",$e="pushBranch",gt="ignoredPullRequestBranches",at="neverIgnoreDefaultBranch",ct="overrideDefaultBranch",Jt="pullBranch",Nt="pullRequestDescription",Dt="notifications",At="postCreate",st="queries",wt="labelCreated",St="focusedMode",si="createDraft",ei="quickDiff",Ft="setAutoMerge",mi="showPullRequestNumberInTree",ii="defaultMergeMethod",bi="defaultDeletionMethod",_i="selectLocalBranch",Hi="selectRemote",Ti="remotes",Ci="pullPullRequestBranchBeforeCheckout",Pi="upstreamRemote",Ht="defaultCreateOption",ti="createDefaultBaseBranch",Xt="githubIssues",Mi="assignWhenWorking",oi="issueCompletions",yi="userCompletions",Oi="enabled",Yi="ignoreUserCompletionTrigger",Ai="createInsertFormat",rn="issueBranchTitle",dn="useBranchForIssues",ji="workingIssueFormatScm",fn="ignoreCompletionTrigger",an="issueCompletionFormatScm",tn="createIssueTriggers",gi="default",ci="ignoreMilestones",vn="allowFetch",Ar="alwaysPromptForNewIssueRepo",gn="experimental.chat",dr="experimental.useQuickChat",In="experimental.notificationsView",Ir="experimental.notificationsViewPageSize",fr="experimental.notificationsScore",sn="webviewRefreshInterval",nr="git",rr="pullBeforeCheckout",zn="openDiffOnClick",Vr="showInlineOpenFileAction",Dr="autoStash",jr="github-enterprise",hr="uri",pa="editor",ho="wordWrap",ja="comments",kr="openView",Wa="explorer",va="autoReveal";function za(){const n={merged:!1,closed:!1},e=s.workspace.getConfiguration(it).get(Yt,n);return e!=="auto"?e:s.env.appHost==="vscode.dev"||s.env.appHost==="github.dev"?{merged:!0,closed:!0}:n}function xr(n,e,t,i,r){const a=s.workspace.onDidChangeConfiguration(o=>{o.affectsConfiguration(`${n}.${e}`)&&t()&&(i(),a.dispose())});r.push(a)}function Wr(n,e){var t,i;const r=s.workspace.getConfiguration(n),a=r.inspect(st),o=(i=(t=r.get(st))==null?void 0:t.find(I=>I.label===e))==null?void 0:i.query,v=s.window.createQuickPick();v.title=s.l10n.t('Edit Query "{0}"',e!=null?e:""),v.value=o!=null?o:"",v.items=[{iconPath:new s.ThemeIcon("pencil"),label:s.l10n.t("Save edits"),alwaysShow:!0},{iconPath:new s.ThemeIcon("add"),label:s.l10n.t("Add new query"),alwaysShow:!0},{iconPath:new s.ThemeIcon("settings"),label:s.l10n.t("Edit in settings.json"),alwaysShow:!0}],v.activeItems=[],v.selectedItems=[],v.onDidAccept(async()=>{var I;if(v.busy=!0,v.selectedItems[0]===v.items[0]){const G=v.value;if(G!==o){let Q,re;a!=null&&a.workspaceFolderValue?(re=s.ConfigurationTarget.WorkspaceFolder,Q=a.workspaceFolderValue):a!=null&&a.workspaceValue?(re=s.ConfigurationTarget.Workspace,Q=a.workspaceValue):(re=s.ConfigurationTarget.Global,Q=(I=r.get(st))!=null?I:[]),Q.find(le=>le.label===e).query=G,await r.update(st,Q,re)}}else v.selectedItems[0]===v.items[1]?ln(r,a,v.value):v.selectedItems[0]===v.items[2]&&mr(r,a,e);v.dispose()}),v.onDidHide(()=>v.dispose()),v.show()}function ln(n,e,t){const i=s.window.createInputBox();i.title=s.l10n.t("Enter the title of the new query"),i.placeholder=s.l10n.t("Title"),i.step=1,i.totalSteps=2,i.show();let r;i.onDidAccept(async()=>{if(i.validationMessage="",i.step===1){if(!i.value){i.validationMessage=s.l10n.t("Title is required");return}r=i.value,i.value=t,i.title=s.l10n.t("Enter the GitHub search query"),i.step++}else{if(!i.value){i.validationMessage=s.l10n.t("Query is required");return}if(i.busy=!0,i.value&&r)if(e!=null&&e.workspaceValue)e.workspaceValue.push({label:r,query:i.value}),await n.update(st,e.workspaceValue,s.ConfigurationTarget.Workspace);else{const a=n.get(st);a==null||a.push({label:r,query:i.value}),await n.update(st,a,s.ConfigurationTarget.Global)}i.dispose()}}),i.onDidHide(()=>i.dispose())}async function mr(n,e,t){let i;if(e!=null&&e.workspaceValue)i="workbench.action.openWorkspaceSettingsFile";else{const a=n.get(st);e!=null&&e.defaultValue&&JSON.stringify(e==null?void 0:e.defaultValue)===JSON.stringify(a)&&await n.update(st,e.defaultValue,s.ConfigurationTarget.Global),i="workbench.action.openSettingsJson"}await s.commands.executeCommand(i);const r=s.window.activeTextEditor;if(r){const o=r.document.getText().search(t);if(o>=0){const v=r.document.positionAt(o);r.revealRange(new s.Range(v,v)),r.selection=new s.Selection(v,v)}}}var qe=Kt(48287),pt=Kt(74945),ft=Kt.n(pt),dt=(n=>(n[n.Query=0]="Query",n[n.All=1]="All",n[n.LocalPullRequest=2]="LocalPullRequest",n))(dt||{}),Mt=(n=>(n.Approve="APPROVE",n.RequestChanges="REQUEST_CHANGES",n.Comment="COMMENT",n))(Mt||{}),Gt=(n=>(n.Open="OPEN",n.Merged="MERGED",n.Closed="CLOSED",n))(Gt||{}),zt=(n=>(n[n.Mergeable=0]="Mergeable",n[n.NotMergeable=1]="NotMergeable",n[n.Conflict=2]="Conflict",n[n.Unknown=3]="Unknown",n[n.Behind=4]="Behind",n))(zt||{}),Ge=(n=>(n[n.AwaitingChecks=0]="AwaitingChecks",n[n.Locked=1]="Locked",n[n.Mergeable=2]="Mergeable",n[n.Queued=3]="Queued",n[n.Unmergeable=4]="Unmergeable",n))(Ge||{}),nt=(n=>(n.User="User",n.Organization="Organization",n.Mannequin="Mannequin",n.Bot="Bot",n))(nt||{});function Xe(n){switch(n){case"Organization":return"Organization";case"Mannequin":return"Mannequin";case"Bot":return"Bot";default:return"User"}}function Et(n){var e;return jt(n)?n.id:(e=n.specialDisplayName)!=null?e:n.login}function Bt(n){var e,t,i;return jt(n)?(t=(e=n.name)!=null?e:n.slug)!=null?t:n.id:(i=n.specialDisplayName)!=null?i:n.login}function jt(n){return"org"in n}function di(n){return"isAuthor"in n&&"isCommenter"in n}var Ni=(n=>(n.Issue="Issue",n.PullRequest="PullRequest",n))(Ni||{}),ri=(n=>(n.Success="success",n.Failure="failure",n.Neutral="neutral",n.Pending="pending",n.Unknown="unknown",n))(ri||{}),Un=Kt(32017),Sr=Kt.n(Un),wi=Kt(77358),Dn=Kt.n(wi);const pr=["copilot-pull-request-reviewer","copilot-swe-agent","Copilot"];var Ui=(n=>(n.LEFT="LEFT",n.RIGHT="RIGHT",n))(Ui||{}),kn=(n=>(n.DISMISSED="DISMISSED",n.VIEWED="VIEWED",n.UNVIEWED="UNVIEWED",n))(kn||{}),xn=(n=>(n.LINE="LINE",n.FILE="FILE",n))(xn||{});const ws={name:"Copilot",postComment:s.l10n.t("Copilot is powered by AI, so mistakes are possible. Review output carefully before use."),url:"https://github.com/apps/copilot-swe-agent"},Tn=Object.fromEntries(pr.map(n=>[n,ws]));var Ot=(n=>(n[n.ADD=0]="ADD",n[n.COPY=1]="COPY",n[n.DELETE=2]="DELETE",n[n.MODIFY=3]="MODIFY",n[n.RENAME=4]="RENAME",n[n.TYPE=5]="TYPE",n[n.UNKNOWN=6]="UNKNOWN",n[n.UNMERGED=7]="UNMERGED",n))(Ot||{});class lr{constructor(e,t,i,r,a,o,v){this.baseCommit=e,this.status=t,this.fileName=i,this.previousFileName=r,this.patch=a,this.diffHunks=o,this.blobUrl=v}}class zr{constructor(e,t,i,r,a){this.baseCommit=e,this.blobUrl=t,this.status=i,this.fileName=r,this.previousFileName=a}}var Ta=Object.defineProperty,Ka=(n,e,t)=>e in n?Ta(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Na=(n,e,t)=>Ka(n,typeof e!="symbol"?e+"":e,t),Xi=(n=>(n[n.Context=0]="Context",n[n.Add=1]="Add",n[n.Delete=2]="Delete",n[n.Control=3]="Control",n))(Xi||{});class Ca{constructor(e,t,i,r,a,o=!0){this.type=e,this.oldLineNumber=t,this.newLineNumber=i,this.positionInHunk=r,this._raw=a,this.endwithLineBreak=o}get raw(){return this._raw}get text(){return this._raw.substr(1)}}function ga(n){switch(n[0]){case" ":return 0;case"+":return 1;case"-":return 2;default:return 3}}class Qa{constructor(e,t,i,r,a){this.oldLineNumber=e,this.oldLength=t,this.newLineNumber=i,this.newLength=r,this.positionInHunk=a,Na(this,"diffLines",[])}}const Kr=/^@@ \-(\d+)(,(\d+))?( \+(\d+)(,(\d+)?)?)? @@/;function mo(n){let e=0,t=0;for(;(t=n.indexOf("\r",t))!==-1;)t++,e++;return e}function*Pa(n){let e=0;for(;e!==-1&&e<n.length;){const t=e;e=n.indexOf(`
`,e);let r=(e!==-1?e:n.length)-t;e!==-1&&(e>0&&n[e-1]==="\r"&&r--,e++),yield n.substr(t,r)}}function*bn(n){const e=Pa(n);let t=e.next(),i,r=-1,a=-1,o=-1;for(;!t.done;){const v=t.value;if(Kr.test(v)){i&&(yield i,i=void 0),r===-1&&(r=0);const I=Kr.exec(v),G=a=Number(I[1]),Q=Number(I[3])||1,re=o=Number(I[5]),le=Number(I[7])||1;i=new Qa(G,Q,re,le,r),i.diffLines.push(new Ca(3,-1,-1,r,v))}else if(i){const I=ga(v);if(I===3)i.diffLines&&i.diffLines.length&&(i.diffLines[i.diffLines.length-1].endwithLineBreak=!1);else{i.diffLines.push(new Ca(I,I!==1?a:-1,I!==2?o:-1,r,v));const G=1+mo(v);switch(I){case 0:a+=G,o+=G;break;case 2:a+=G;break;case 1:o+=G;break}}}r!==-1&&++r,t=e.next()}i&&(yield i)}function _s(n){const e=bn(n);let t=e.next();const i=[];for(;!t.done;){const r=t.value;i.push(r),t=e.next()}return i}function po(n){const e=[],t=I=>({diffLines:[],newLength:0,oldLength:0,oldLineNumber:I.oldLineNumber,newLineNumber:I.newLineNumber,positionInHunk:0});let i,r;const a=(I,G)=>{I.diffLines.push(G),G.type===2?I.oldLength++:G.type===1?I.newLength++:G.type===0&&(I.oldLength++,I.newLength++)},o=I=>I.diffLines.some(G=>G.type!==0),v=I=>o(I)&&I.diffLines[I.diffLines.length-1].type===0;for(const I of n.diffLines)I.type===0?(i||(i=t(I)),a(i,I),v(i)&&(r||(r=t(I)),a(r,I))):(i||n.oldLineNumber===1&&(I.type===2||I.type===1))&&(i||(i=t(I)),v(i)&&(e.push(i),i=r,r=void 0),(I.type===2||I.type===1)&&a(i,I));return i&&e.push(i),e}function Ma(n,e){const t=n.split(/\r?\n/),i=bn(e);let r=i.next();const a=[],o=[];let v=0,I=!0;for(;!r.done;){const G=r.value;a.push(G);const Q=G.oldLineNumber;for(let re=v+1;re<Q;re++)o.push(t[re-1]);v=Q+G.oldLength-1;for(let re=0;re<G.diffLines.length;re++){const le=G.diffLines[re];if(!(le.type===2||le.type===3))if(le.type===1)o.push(le.text);else{const ge=le.text;o.push(ge)}}if(r=i.next(),r.done){for(let re=G.diffLines.length-1;re>=0;re--)if(G.diffLines[re].type!==2){I=G.diffLines[re].endwithLineBreak;break}}}if(I)if(v<t.length)for(let G=v+1;G<=t.length;G++)o.push(t[G-1]);else o.push("");return o.join(`
`)}function zi(n){switch(n){case"removed":return Ot.DELETE;case"added":return Ot.ADD;case"renamed":return Ot.RENAME;case"modified":return Ot.MODIFY;default:return Ot.UNKNOWN}}async function Aa(n,e){var t;const i=[];for(let r=0;r<n.length;r++){const a=n[r],o=zi(a.status);if(!a.patch&&o!==Ot.RENAME&&o!==Ot.MODIFY&&!(o===Ot.ADD&&a.additions===0)){i.push(new zr(e,a.blob_url,o,a.filename,a.previous_filename));continue}const v=a.patch?_s(a.patch):void 0;i.push(new lr(e,o,a.filename,a.previous_filename,(t=a.patch)!=null?t:"",v,a.blob_url))}return i}var cl=Kt(1182),dl=Object.defineProperty,ks=(n,e,t)=>e in n?dl(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Qr=(n,e,t)=>ks(n,typeof e!="symbol"?e+"":e,t);const fl=/^(?:([^@:]+)@)?([^:/]+):?(.+)$/,Ya=/^([a-z-+]+):\/\//,hl=n=>{const e=Ya.exec(n);if(e){const[o,v]=e;if(v.includes("ssh"))n=n.slice(o.length);else return}const t=fl.exec(n);if(!t)return;const[,i,r,a]=t;return{User:i,Host:r,path:a}},vo=(n,e=vr.current)=>{const t=hl(n);return t&&e(t)};function Ss(n){return{...n,Hostname:n.Host}}function Rs(...n){const e=n.filter(t=>!!t);return t=>e.reduce((i,r)=>{try{return{...i,...r(i)}}catch{return b.warn(`Failed to parse config for '${t.Host}, this can occur when the extension configurations is invalid or system ssh config files are malformed. Skipping erroneous resolver for now.'`),i}},t)}function ml(n){const e=(0,cl.parse)(n);return t=>e.compute(t.Host)}const Es=class{static fromConfig(e){return Rs(Ss,ml(e))}};Qr(Es,"default",Ss),Qr(Es,"current",Es.default);let vr=Es;var go=Object.defineProperty,Ts=(n,e,t)=>e in n?go(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Fr=(n,e,t)=>Ts(n,typeof e!="symbol"?e+"":e,t),pl=(n=>(n[n.Local=0]="Local",n[n.HTTP=1]="HTTP",n[n.SSH=2]="SSH",n[n.GIT=3]="GIT",n[n.OTHER=4]="OTHER",n))(pl||{});const Ia=class vv{constructor(e){if(Fr(this,"type",4),Fr(this,"host",""),Fr(this,"owner",""),Fr(this,"repositoryName",""),Fr(this,"url"),!this.parseSshProtocol(e))try{this.url=s.Uri.parse(e),this.type=this.getType(this.url.scheme),this.host=this.getHostName(this.url.authority),this.host&&(this.repositoryName=this.getRepositoryName(this.url.path)||"",this.owner=this.getOwnerName(this.url.path)||"")}catch{b.error(`Failed to parse '${e}'`,vv.ID),s.window.showWarningMessage(s.l10n.t("Unable to parse remote '{0}'. Please check that it is correctly formatted.",e))}}get nameWithOwner(){return this.owner?`${this.owner}/${this.repositoryName}`:this.repositoryName}getType(e){switch(e){case"file":return 0;case"http":case"https":return 1;case"git":return 3;case"ssh":return 2;default:return 4}}parseSshProtocol(e){const t=vo(e);if(!t)return!1;const{Hostname:i,HostName:r,path:a}=t;return this.host=r||i,this.owner=this.getOwnerName(a)||"",this.repositoryName=this.getRepositoryName(a)||"",this.type=2,!0}getHostName(e){const t=/^(?:.*:?@)?([^:]*)(?::.*)?$/.exec(e);return t&&t.length>=2?t[1].toLocaleLowerCase()==="www.github.com"?"github.com":t[1]:""}getRepositoryName(e){let t=e.replace(/\\/g,"/");t.endsWith("/")&&(t=t.substr(0,t.length-1));const i=t.lastIndexOf("/"),r=t.substr(i+1);if(!(r===""||r==="/"))return r.replace(/\/$/,"").replace(/\.git$/,"")}getOwnerName(e){let t=e.replace(/\\/g,"/");t.endsWith("/")&&(t=t.substr(0,t.length-1));const i=t.split("/");if(i.length>1)return i[i.length-2]}normalizeUri(){if(this.type===4&&!this.url)return;if(this.type===0)return this.url;let e="https";this.url&&(this.url.scheme==="http"||this.url.scheme==="https")&&(e=this.url.scheme);try{return s.Uri.parse(`${e}://${this.host.toLocaleLowerCase()}/${this.nameWithOwner.toLocaleLowerCase()}`)}catch{return}}toString(){if(this.type===2)return`git@${this.host}:${this.owner}/${this.repositoryName}`;if(this.type===3)return`git://git@${this.host}:${this.owner}/${this.repositoryName}`;const e=this.normalizeUri();if(e)return e.toString()}update(e){return e.type&&(this.type=e.type),e.host&&(this.host=e.host),e.owner&&(this.owner=e.owner),e.repositoryName&&(this.repositoryName=e.repositoryName),this}equals(e){const t=this.normalizeUri();if(!t)return!1;const i=e.normalizeUri();return i?t.toString().toLocaleLowerCase()===i.toString().toLocaleLowerCase():!1}};Fr(Ia,"ID","Protocol");let Kn=Ia;var vl=Kt(91565),Zi=(n=>(n[n.None=0]="None",n[n.GitHubDotCom=1]="GitHubDotCom",n[n.Enterprise=2]="Enterprise",n))(Zi||{}),li=(n=>(n.github="github",n.githubEnterprise="github-enterprise",n))(li||{});class Xa extends Error{constructor(){super(s.l10n.t("Not authenticated"))}}function bo(n){var e;return!!((e=n.message)!=null&&e.includes("Resource protected by organization SAML enforcement."))}var yo=Object.defineProperty,nn=(n,e,t)=>e in n?yo(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Sn=(n,e,t)=>nn(n,typeof e!="symbol"?e+"":e,t);const wo=class gv{static initialize(e){gv.icons={reactions:{THUMBS_UP:e.asAbsolutePath(L.join("resources","icons","reactions","thumbs_up.png")),THUMBS_DOWN:e.asAbsolutePath(L.join("resources","icons","reactions","thumbs_down.png")),CONFUSED:e.asAbsolutePath(L.join("resources","icons","reactions","confused.png")),EYES:e.asAbsolutePath(L.join("resources","icons","reactions","eyes.png")),HEART:e.asAbsolutePath(L.join("resources","icons","reactions","heart.png")),HOORAY:e.asAbsolutePath(L.join("resources","icons","reactions","hooray.png")),LAUGH:e.asAbsolutePath(L.join("resources","icons","reactions","laugh.png")),ROCKET:e.asAbsolutePath(L.join("resources","icons","reactions","rocket.png"))}}}};Sn(wo,"icons");let Ki=wo;var Bi=(n=>(n[n.Committed=0]="Committed",n[n.Mentioned=1]="Mentioned",n[n.Subscribed=2]="Subscribed",n[n.Commented=3]="Commented",n[n.Reviewed=4]="Reviewed",n[n.NewCommitsSinceReview=5]="NewCommitsSinceReview",n[n.Labeled=6]="Labeled",n[n.Milestoned=7]="Milestoned",n[n.Assigned=8]="Assigned",n[n.HeadRefDeleted=9]="HeadRefDeleted",n[n.Merged=10]="Merged",n[n.CrossReferenced=11]="CrossReferenced",n[n.Other=12]="Other",n))(Bi||{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rr=function(n,e){return Rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},Rr(n,e)};function Bn(n,e){Rr(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var _t=function(){return _t=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_t.apply(this,arguments)};function Yr(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function Bd(n,e,t,i){var r=arguments.length,a=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var v=n.length-1;v>=0;v--)(o=n[v])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);return r>3&&a&&Object.defineProperty(e,t,a),a}function qd(n,e){return function(t,i){e(t,i,n)}}function Hu(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function Xr(n,e,t,i){function r(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function v(Q){try{G(i.next(Q))}catch(re){o(re)}}function I(Q){try{G(i.throw(Q))}catch(re){o(re)}}function G(Q){Q.done?a(Q.value):r(Q.value).then(v,I)}G((i=i.apply(n,e||[])).next())})}function Jr(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,o;return o={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function v(G){return function(Q){return I([G,Q])}}function I(G){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(a=G[0]&2?r.return:G[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,G[1])).done)return a;switch(r=0,a&&(G=[G[0]&2,a.value]),G[0]){case 0:case 1:a=G;break;case 4:return t.label++,{value:G[1],done:!1};case 5:t.label++,r=G[1],G=[0];continue;case 7:G=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(G[0]===6||G[0]===2)){t=0;continue}if(G[0]===3&&(!a||G[1]>a[0]&&G[1]<a[3])){t.label=G[1];break}if(G[0]===6&&t.label<a[1]){t.label=a[1],a=G;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(G);break}a[2]&&t.ops.pop(),t.trys.pop();continue}G=e.call(n,t)}catch(Q){G=[6,Q],r=0}finally{i=a=0}if(G[0]&5)throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}}function Hd(n,e,t,i){i===void 0&&(i=t),n[i]=e[t]}function Gd(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function gl(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bl(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,a=[],o;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(v){o={error:v}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a}function $d(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(bl(arguments[e]));return n}function Ns(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var a=arguments[e],o=0,v=a.length;o<v;o++,r++)i[r]=a[o];return i}function Cs(n){return this instanceof Cs?(this.v=n,this):new Cs(n)}function Vd(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(le){i[le]&&(r[le]=function(ge){return new Promise(function(Re,Ie){a.push([le,ge,Re,Ie])>1||v(le,ge)})})}function v(le,ge){try{I(i[le](ge))}catch(Re){re(a[0][3],Re)}}function I(le){le.value instanceof Cs?Promise.resolve(le.value.v).then(G,Q):re(a[0][2],le)}function G(le){v("next",le)}function Q(le){v("throw",le)}function re(le,ge){le(ge),a.shift(),a.length&&v(a[0][0],a[0][1])}}function jd(n){var e,t;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,a){e[r]=n[r]?function(o){return(t=!t)?{value:Cs(n[r](o)),done:r==="return"}:a?a(o):o}:a}}function Wd(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof gl=="function"?gl(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(a){t[a]=n[a]&&function(o){return new Promise(function(v,I){o=n[a](o),r(v,I,o.done,o.value)})}}function r(a,o,v,I){Promise.resolve(I).then(function(G){a({value:G,done:v})},o)}}function zd(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function Kd(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function Qd(n){return n&&n.__esModule?n:{default:n}}function Zr(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function Yd(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}var ur=Kt(9111),_o=Kt(65606),ko="Invariant Violation",So=Object.setPrototypeOf,Gu=So===void 0?function(n,e){return n.__proto__=e,n}:So,Nn=function(n){Bn(e,n);function e(t){t===void 0&&(t=ko);var i=n.call(this,typeof t=="number"?ko+": "+t+" (see https://github.com/apollographql/invariant-packages)":t)||this;return i.framesToPop=1,i.name=ko,Gu(i,e.prototype),i}return e}(Error);function xi(n,e){if(!n)throw new Nn(e)}function $u(n){return function(){return console[n].apply(console,arguments)}}(function(n){n.warn=$u("warn"),n.error=$u("error")})(xi||(xi={}));var Ro={env:{}};if(typeof _o=="object")Ro=_o;else try{Function("stub","process = stub")(Ro)}catch{}var yl=null;const wl=null;var Ps=Kt(72492),Vu=Kt.n(Ps),_l=Object.prototype,kl=_l.toString,ke=_l.hasOwnProperty,fe=new Map;function Se(n,e){try{return Ce(n,e)}finally{fe.clear()}}function Ce(n,e){if(n===e)return!0;var t=kl.call(n),i=kl.call(e);if(t!==i)return!1;switch(t){case"[object Array]":if(n.length!==e.length)return!1;case"[object Object]":{if(Be(n,e))return!0;var r=Object.keys(n),a=Object.keys(e),o=r.length;if(o!==a.length)return!1;for(var v=0;v<o;++v)if(!ke.call(e,r[v]))return!1;for(var v=0;v<o;++v){var I=r[v];if(!Ce(n[I],e[I]))return!1}return!0}case"[object Error]":return n.name===e.name&&n.message===e.message;case"[object Number]":if(n!==n)return e!==e;case"[object Boolean]":case"[object Date]":return+n==+e;case"[object RegExp]":case"[object String]":return n==""+e;case"[object Map]":case"[object Set]":{if(n.size!==e.size)return!1;if(Be(n,e))return!0;for(var G=n.entries(),Q=t==="[object Map]";;){var re=G.next();if(re.done)break;var le=re.value,ge=le[0],Re=le[1];if(!e.has(ge)||Q&&!Ce(Re,e.get(ge)))return!1}return!0}}return!1}function Be(n,e){var t=fe.get(n);if(t){if(t.has(e))return!0}else fe.set(n,t=new Set);return t.add(e),!1}const je=null;var Je=Kt(65606);function ot(n){return["StringValue","BooleanValue","EnumValue"].indexOf(n.kind)>-1}function Lt(n){return["IntValue","FloatValue"].indexOf(n.kind)>-1}function Ut(n){return n.kind==="StringValue"}function Qt(n){return n.kind==="BooleanValue"}function hi(n){return n.kind==="IntValue"}function ki(n){return n.kind==="FloatValue"}function pi(n){return n.kind==="Variable"}function Ii(n){return n.kind==="ObjectValue"}function Di(n){return n.kind==="ListValue"}function tt(n){return n.kind==="EnumValue"}function on(n){return n.kind==="NullValue"}function Fn(n,e,t,i){if(hi(t)||ki(t))n[e.value]=Number(t.value);else if(Qt(t)||Ut(t))n[e.value]=t.value;else if(Ii(t)){var r={};t.fields.map(function(o){return Fn(r,o.name,o.value,i)}),n[e.value]=r}else if(pi(t)){var a=(i||{})[t.name.value];n[e.value]=a}else if(Di(t))n[e.value]=t.values.map(function(o){var v={};return Fn(v,e,o,i),v[e.value]});else if(tt(t))n[e.value]=t.value;else if(on(t))n[e.value]=null;else throw new Nn(17)}function Da(n,e){var t=null;n.directives&&(t={},n.directives.forEach(function(r){t[r.name.value]={},r.arguments&&r.arguments.forEach(function(a){var o=a.name,v=a.value;return Fn(t[r.name.value],o,v,e)})}));var i=null;return n.arguments&&n.arguments.length&&(i={},n.arguments.forEach(function(r){var a=r.name,o=r.value;return Fn(i,a,o,e)})),Sl(n.name.value,i,t)}var xa=["connection","include","skip","client","rest","export"];function Sl(n,e,t){if(t&&t.connection&&t.connection.key)if(t.connection.filter&&t.connection.filter.length>0){var i=t.connection.filter?t.connection.filter:[];i.sort();var r=e,a={};return i.forEach(function(I){a[I]=r[I]}),t.connection.key+"("+JSON.stringify(a)+")"}else return t.connection.key;var o=n;if(e){var v=Vu()(e);o+="("+v+")"}return t&&Object.keys(t).forEach(function(I){xa.indexOf(I)===-1&&(t[I]&&Object.keys(t[I]).length?o+="@"+I+"("+JSON.stringify(t[I])+")":o+="@"+I)}),o}function Ms(n,e){if(n.arguments&&n.arguments.length){var t={};return n.arguments.forEach(function(i){var r=i.name,a=i.value;return Fn(t,r,a,e)}),t}return null}function ea(n){return n.alias?n.alias.value:n.name.value}function gr(n){return n.kind==="Field"}function As(n){return n.kind==="InlineFragment"}function Is(n){return n&&n.type==="id"&&typeof n.generated=="boolean"}function Ja(n,e){return e===void 0&&(e=!1),_t({type:"id",generated:e},typeof n=="string"?{id:n,typename:void 0}:n)}function Eo(n){return n!=null&&typeof n=="object"&&n.type==="json"}function To(n){throw new InvariantError(18)}function Rl(n,e){switch(e===void 0&&(e=To),n.kind){case"Variable":return e(n);case"NullValue":return null;case"IntValue":return parseInt(n.value,10);case"FloatValue":return parseFloat(n.value);case"ListValue":return n.values.map(function(o){return Rl(o,e)});case"ObjectValue":{for(var t={},i=0,r=n.fields;i<r.length;i++){var a=r[i];t[a.name.value]=Rl(a.value,e)}return t}default:return n.value}}function No(n,e){if(n.directives&&n.directives.length){var t={};return n.directives.forEach(function(i){t[i.name.value]=Ms(i,e)}),t}return null}function Za(n,e){return e===void 0&&(e={}),ju(n.directives).every(function(t){var i=t.directive,r=t.ifArgument,a=!1;return r.value.kind==="Variable"?(a=e[r.value.name.value],xi(a!==void 0,13)):a=r.value.value,i.name.value==="skip"?!a:a})}function El(n){var e=[];return(0,ur.visit)(n,{Directive:function(t){e.push(t.name.value)}}),e}function Fa(n,e){return El(e).some(function(t){return n.indexOf(t)>-1})}function Tl(n){return n&&Fa(["client"],n)&&Fa(["export"],n)}function Nl(n){var e=n.name.value;return e==="skip"||e==="include"}function ju(n){return n?n.filter(Nl).map(function(e){var t=e.arguments,i=e.name.value;xi(t&&t.length===1,14);var r=t[0];xi(r.name&&r.name.value==="if",15);var a=r.value;return xi(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),16),{directive:e,ifArgument:r}}):[]}function Cl(n,e){var t=e,i=[];n.definitions.forEach(function(a){if(a.kind==="OperationDefinition")throw new Nn(11);a.kind==="FragmentDefinition"&&i.push(a)}),typeof t=="undefined"&&(xi(i.length===1,12),t=i[0].name.value);var r=_t(_t({},n),{definitions:Ns([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}}],n.definitions)});return r}function Co(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(i){typeof i=="undefined"||i===null||Object.keys(i).forEach(function(r){n[r]=i[r]})}),n}function Wu(n){Qe(n);var e=n.definitions.filter(function(t){return t.kind==="OperationDefinition"&&t.operation==="mutation"})[0];return invariant(e,1),e}function Qe(n){xi(n&&n.kind==="Document",2);var e=n.definitions.filter(function(t){return t.kind!=="FragmentDefinition"}).map(function(t){if(t.kind!=="OperationDefinition")throw new Nn(3);return t});return xi(e.length<=1,4),n}function Ct(n){return Qe(n),n.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function Wt(n){var e=Ct(n);return invariant(e,5),e}function ni(n){return n.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function Ei(n){return n.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function Gi(n){var e=Ct(n);return xi(e&&e.operation==="query",6),e}function $i(n){xi(n.kind==="Document",7),xi(n.definitions.length<=1,8);var e=n.definitions[0];return xi(e.kind==="FragmentDefinition",9),e}function yn(n){Qe(n);for(var e,t=0,i=n.definitions;t<i.length;t++){var r=i[t];if(r.kind==="OperationDefinition"){var a=r.operation;if(a==="query"||a==="mutation"||a==="subscription")return r}r.kind==="FragmentDefinition"&&!e&&(e=r)}if(e)return e;throw new Nn(10)}function hn(n){n===void 0&&(n=[]);var e={};return n.forEach(function(t){e[t.name.value]=t}),e}function wn(n){if(n&&n.variableDefinitions&&n.variableDefinitions.length){var e=n.variableDefinitions.filter(function(t){var i=t.defaultValue;return i}).map(function(t){var i=t.variable,r=t.defaultValue,a={};return Fn(a,i.name,r),a});return Co.apply(void 0,Ns([{}],e))}return{}}function Qn(n){var e=new Set;if(n.variableDefinitions)for(var t=0,i=n.variableDefinitions;t<i.length;t++){var r=i[t];e.add(r.variable.name.value)}return e}function Or(n,e,t){var i=0;return n.forEach(function(r,a){e.call(this,r,a,n)&&(n[i++]=r)},t),n.length=i,n}var Rn={kind:"Field",name:{kind:"Name",value:"__typename"}};function Pl(n,e){return n.selectionSet.selections.every(function(t){return t.kind==="FragmentSpread"&&Pl(e[t.name.value],e)})}function Ml(n){return Pl(Ct(n)||$i(n),hn(Ei(n)))?null:n}function zu(n){return function(t){return n.some(function(i){return i.name&&i.name===t.name.value||i.test&&i.test(t)})}}function Xd(n,e){var t=Object.create(null),i=[],r=Object.create(null),a=[],o=Ml((0,ur.visit)(e,{Variable:{enter:function(v,I,G){G.kind!=="VariableDefinition"&&(t[v.name.value]=!0)}},Field:{enter:function(v){if(n&&v.directives){var I=n.some(function(G){return G.remove});if(I&&v.directives&&v.directives.some(zu(n)))return v.arguments&&v.arguments.forEach(function(G){G.value.kind==="Variable"&&i.push({name:G.value.name.value})}),v.selectionSet&&ef(v.selectionSet).forEach(function(G){a.push({name:G.name.value})}),null}}},FragmentSpread:{enter:function(v){r[v.name.value]=!0}},Directive:{enter:function(v){if(zu(n)(v))return null}}}));return o&&Or(i,function(v){return!t[v.name]}).length&&(o=xv(i,o)),o&&Or(a,function(v){return!r[v.name]}).length&&(o=Fv(a,o)),o}function Mv(n){return(0,ur.visit)(Qe(n),{SelectionSet:{enter:function(e,t,i){if(!(i&&i.kind==="OperationDefinition")){var r=e.selections;if(r){var a=r.some(function(v){return gr(v)&&(v.name.value==="__typename"||v.name.value.lastIndexOf("__",0)===0)});if(!a){var o=i;if(!(gr(o)&&o.directives&&o.directives.some(function(v){return v.name.value==="export"})))return _t(_t({},e),{selections:Ns(r,[Rn])})}}}}}})}var Av={test:function(n){var e=n.name.value==="connection";return e&&(!n.arguments||n.arguments.some(function(t){return t.name.value==="key"})),e}};function Iv(n){return Xd([Av],Qe(n))}function Jd(n,e,t){return t===void 0&&(t=!0),e&&e.selections&&e.selections.some(function(i){return Zd(n,i,t)})}function Zd(n,e,t){return t===void 0&&(t=!0),gr(e)?e.directives?e.directives.some(zu(n))||t&&Jd(n,e.selectionSet,t):!1:!0}function GR(n,e){Qe(e);var t;return Ml(visit(e,{SelectionSet:{enter:function(i,r,a,o){var v=o.join("-");if(!t||v===t||!v.startsWith(t))if(i.selections){var I=i.selections.filter(function(G){return Zd(n,G)});return Jd(n,i,!1)&&(t=v),__assign(__assign({},i),{selections:I})}else return null}}}))}function Dv(n){return function(t){return n.some(function(i){return t.value&&t.value.kind==="Variable"&&t.value.name&&(i.name===t.value.name.value||i.test&&i.test(t))})}}function xv(n,e){var t=Dv(n);return Ml((0,ur.visit)(e,{OperationDefinition:{enter:function(i){return _t(_t({},i),{variableDefinitions:i.variableDefinitions.filter(function(r){return!n.some(function(a){return a.name===r.variable.name.value})})})}},Field:{enter:function(i){var r=n.some(function(o){return o.remove});if(r){var a=0;if(i.arguments.forEach(function(o){t(o)&&(a+=1)}),a===1)return null}}},Argument:{enter:function(i){if(t(i))return null}}}))}function Fv(n,e){function t(i){if(n.some(function(r){return r.name===i.name.value}))return null}return Ml((0,ur.visit)(e,{FragmentSpread:{enter:t},FragmentDefinition:{enter:t}}))}function ef(n){var e=[];return n.selections.forEach(function(t){(gr(t)||As(t))&&t.selectionSet?ef(t.selectionSet).forEach(function(i){return e.push(i)}):t.kind==="FragmentSpread"&&e.push(t)}),e}function Ov(n){var e=yn(n),t=e.operation;if(t==="query")return n;var i=(0,ur.visit)(n,{OperationDefinition:{enter:function(r){return _t(_t({},r),{operation:"query"})}}});return i}function Lv(n){Qe(n);var e=Xd([{test:function(t){return t.name.value==="client"},remove:!0}],n);return e&&(e=(0,ur.visit)(e,{FragmentDefinition:{enter:function(t){if(t.selectionSet){var i=t.selectionSet.selections.every(function(r){return gr(r)&&r.name.value==="__typename"});if(i)return null}}}})),e}var Ku=typeof WeakMap=="function"&&!(typeof navigator=="object"&&navigator.product==="ReactNative"),Uv=Object.prototype.toString;function Bv(n){return Qu(n,new Map)}function Qu(n,e){switch(Uv.call(n)){case"[object Array]":{if(e.has(n))return e.get(n);var t=n.slice(0);return e.set(n,t),t.forEach(function(r,a){t[a]=Qu(r,e)}),t}case"[object Object]":{if(e.has(n))return e.get(n);var i=Object.create(Object.getPrototypeOf(n));return e.set(n,i),Object.keys(n).forEach(function(r){i[r]=Qu(n[r],e)}),i}default:return n}}function qv(){return typeof Je!="undefined"?"production":"development"}function Yu(n){return qv()===n}function tf(){return Yu("production")===!0}function Hv(){return Yu("development")===!0}function Xu(){return Yu("test")===!0}function Ju(n){try{return n()}catch(e){console.error&&console.error(e)}}function es(n){return n.errors&&n.errors.length}function nf(n){return Object.freeze(n),Object.getOwnPropertyNames(n).forEach(function(e){n[e]!==null&&(typeof n[e]=="object"||typeof n[e]=="function")&&!Object.isFrozen(n[e])&&nf(n[e])}),n}function $R(n){if(Hv()||Xu()){var e=typeof Symbol=="function"&&typeof Symbol("")=="string";if(!e)return nf(n)}return n}var Gv=Object.prototype.hasOwnProperty;function rf(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return Zu(n)}function Zu(n){var e=n[0]||{},t=n.length;if(t>1){var i=[];e=ec(e,i);for(var r=1;r<t;++r)e=sf(e,n[r],i)}return e}function af(n){return n!==null&&typeof n=="object"}function sf(n,e,t){return af(e)&&af(n)?(Object.isExtensible&&!Object.isExtensible(n)&&(n=ec(n,t)),Object.keys(e).forEach(function(i){var r=e[i];if(Gv.call(n,i)){var a=n[i];r!==a&&(n[i]=sf(ec(a,t),r,t))}else n[i]=r}),n):e}function ec(n,e){return n!==null&&typeof n=="object"&&e.indexOf(n)<0&&(Array.isArray(n)?n=n.slice(0):n=_t({__proto__:Object.getPrototypeOf(n)},n),e.push(n)),n}var of=Object.create({});function VR(n,e){e===void 0&&(e="warn"),!tf()&&!of[n]&&(Xu()||(of[n]=!0),e==="error"?console.error(n):console.warn(n))}function jR(n){return JSON.parse(JSON.stringify(n))}var $v=Kt(16064),Vv=Kt.n($v),jv=Vv();const ar=jv;function Wv(n){for(var e=["query","operationName","variables","extensions","context"],t=0,i=Object.keys(n);t<i.length;t++){var r=i[t];if(e.indexOf(r)<0)throw new Nn(2)}return n}var WR=function(n){Bn(e,n);function e(t,i){var r=n.call(this,t)||this;return r.link=i,r}return e}(Error);function Al(n){return n.request.length<=1}function zR(n){var e=!1;return new Promise(function(t,i){n.subscribe({next:function(r){e||(e=!0,t(r))},error:i})})}var KR=null;function QR(n){return new Observable(function(e){n.then(function(t){e.next(t),e.complete()}).catch(e.error.bind(e))})}function lf(n){return new ar(function(e){e.error(n)})}function zv(n){var e={variables:n.variables||{},extensions:n.extensions||{},operationName:n.operationName,query:n.query};return e.operationName||(e.operationName=typeof e.query!="string"?ni(e.query):""),e}function Kv(n,e){var t=_t({},n),i=function(a){typeof a=="function"?t=_t({},t,a(t)):t=_t({},t,a)},r=function(){return _t({},t)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:i}),Object.defineProperty(e,"getContext",{enumerable:!1,value:r}),Object.defineProperty(e,"toKey",{enumerable:!1,value:function(){return Qv(e)}}),e}function Qv(n){var e=n.query,t=n.variables,i=n.operationName;return JSON.stringify([i,e,t])}function uf(n,e){return e?e(n):ar.of()}function Po(n){return typeof n=="function"?new Lr(n):n}function cf(){return new Lr(function(){return ar.of()})}function Yv(n){return n.length===0?cf():n.map(Po).reduce(function(e,t){return e.concat(t)})}function df(n,e,t){var i=Po(e),r=Po(t||new Lr(uf));return Al(i)&&Al(r)?new Lr(function(a){return n(a)?i.request(a)||ar.of():r.request(a)||ar.of()}):new Lr(function(a,o){return n(a)?i.request(a,o)||ar.of():r.request(a,o)||ar.of()})}var Xv=function(n,e){var t=Po(n);if(Al(t))return t;var i=Po(e);return Al(i)?new Lr(function(r){return t.request(r,function(a){return i.request(a)||ar.of()})||ar.of()}):new Lr(function(r,a){return t.request(r,function(o){return i.request(o,a)||ar.of()})||ar.of()})},Lr=function(){function n(e){e&&(this.request=e)}return n.prototype.split=function(e,t,i){return this.concat(df(e,t,i||new n(uf)))},n.prototype.concat=function(e){return Xv(this,e)},n.prototype.request=function(e,t){throw new Nn(1)},n.empty=cf,n.from=Yv,n.split=df,n.execute=Il,n}();function Il(n,e){return n.request(Kv(e.context,zv(Wv(e))))||ar.of()}var Jv=Kt(9423),mn;(function(n){n[n.loading=1]="loading",n[n.setVariables=2]="setVariables",n[n.fetchMore=3]="fetchMore",n[n.refetch=4]="refetch",n[n.poll=6]="poll",n[n.ready=7]="ready",n[n.error=8]="error"})(mn||(mn={}));function ff(n){return n<7}var Mo=function(n){Bn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype[Jv.A]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(ar);function Ds(n){return Array.isArray(n)&&n.length>0}function Zv(n){return n.hasOwnProperty("graphQLErrors")}var eg=function(n){var e="";return Ds(n.graphQLErrors)&&n.graphQLErrors.forEach(function(t){var i=t?t.message:"Error message not found.";e+="GraphQL error: "+i+`
`}),n.networkError&&(e+="Network error: "+n.networkError.message+`
`),e=e.replace(/\n$/,""),e},Oa=function(n){Bn(e,n);function e(t){var i=t.graphQLErrors,r=t.networkError,a=t.errorMessage,o=t.extraInfo,v=n.call(this,a)||this;return v.graphQLErrors=i||[],v.networkError=r||null,a?v.message=a:v.message=eg(v),v.extraInfo=o,v.__proto__=e.prototype,v}return e}(Error),ts;(function(n){n[n.normal=1]="normal",n[n.refetch=2]="refetch",n[n.poll=3]="poll"})(ts||(ts={}));var tg=function(n,e){return e===void 0&&(e="none"),n&&(n.networkError||e==="none"&&Ds(n.graphQLErrors))},ig=function(n){Bn(e,n);function e(t){var i=t.queryManager,r=t.options,a=t.shouldSubscribe,o=a===void 0?!0:a,v=n.call(this,function(G){return v.onSubscribe(G)})||this;v.observers=new Set,v.subscriptions=new Set,v.isTornDown=!1,v.options=r,v.variables=r.variables||{},v.queryId=i.generateQueryId(),v.shouldSubscribe=o;var I=Ct(r.query);return v.queryName=I&&I.name&&I.name.value,v.queryManager=i,v}return e.prototype.result=function(){var t=this;return new Promise(function(i,r){var a={next:function(v){i(v),t.observers.delete(a),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout(function(){o.unsubscribe()},0)},error:r},o=t.subscribe(a)})},e.prototype.currentResult=function(){var t=this.getCurrentResult();return t.data===void 0&&(t.data={}),t},e.prototype.getCurrentResult=function(){if(this.isTornDown){var t=this.lastResult;return{data:!this.lastError&&t&&t.data||void 0,error:this.lastError,loading:!1,networkStatus:mn.error}}var i=this.queryManager.getCurrentQueryResult(this),r=i.data,a=i.partial,o=this.queryManager.queryStore.get(this.queryId),v,I=this.options.fetchPolicy,G=I==="network-only"||I==="no-cache";if(o){var Q=o.networkStatus;if(tg(o,this.options.errorPolicy))return{data:void 0,loading:!1,networkStatus:Q,error:new Oa({graphQLErrors:o.graphQLErrors,networkError:o.networkError})};o.variables&&(this.options.variables=_t(_t({},this.options.variables),o.variables),this.variables=this.options.variables),v={data:r,loading:ff(Q),networkStatus:Q},o.graphQLErrors&&this.options.errorPolicy==="all"&&(v.errors=o.graphQLErrors)}else{var re=G||a&&I!=="cache-only";v={data:r,loading:re,networkStatus:re?mn.loading:mn.ready}}return a||this.updateLastResult(_t(_t({},v),{stale:!1})),_t(_t({},v),{partial:a})},e.prototype.isDifferentFromLastResult=function(t){var i=this.lastResultSnapshot;return!(i&&t&&i.networkStatus===t.networkStatus&&i.stale===t.stale&&Se(i.data,t.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var t=this.queryManager.queryStore.get(this.queryId);t&&(t.networkError=null,t.graphQLErrors=[])},e.prototype.refetch=function(t){var i=this.options.fetchPolicy;return i==="cache-only"?Promise.reject(new Nn(1)):(i!=="no-cache"&&i!=="cache-and-network"&&(i="network-only"),Se(this.variables,t)||(this.variables=_t(_t({},this.variables),t)),Se(this.options.variables,this.variables)||(this.options.variables=_t(_t({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,_t(_t({},this.options),{fetchPolicy:i}),ts.refetch))},e.prototype.fetchMore=function(t){var i=this;xi(t.updateQuery,2);var r=_t(_t({},t.query?t:_t(_t(_t({},this.options),t),{variables:_t(_t({},this.variables),t.variables)})),{fetchPolicy:"network-only"}),a=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(a,r,ts.normal,this.queryId).then(function(o){return i.updateQuery(function(v){return t.updateQuery(v,{fetchMoreResult:o.data,variables:r.variables})}),i.queryManager.stopQuery(a),o},function(o){throw i.queryManager.stopQuery(a),o})},e.prototype.subscribeToMore=function(t){var i=this,r=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables}).subscribe({next:function(a){var o=t.updateQuery;o&&i.updateQuery(function(v,I){var G=I.variables;return o(v,{subscriptionData:a,variables:G})})},error:function(a){if(t.onError){t.onError(a);return}}});return this.subscriptions.add(r),function(){i.subscriptions.delete(r)&&r.unsubscribe()}},e.prototype.setOptions=function(t){var i=this.options.fetchPolicy;this.options=_t(_t({},this.options),t),t.pollInterval?this.startPolling(t.pollInterval):t.pollInterval===0&&this.stopPolling();var r=t.fetchPolicy;return this.setVariables(this.options.variables,i!==r&&(i==="cache-only"||i==="standby"||r==="network-only"),t.fetchResults)},e.prototype.setVariables=function(t,i,r){return i===void 0&&(i=!1),r===void 0&&(r=!0),this.isTornDown=!1,t=t||this.variables,!i&&Se(t,this.variables)?this.observers.size&&r?this.result():Promise.resolve():(this.variables=this.options.variables=t,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(t){var i=this.queryManager,r=i.getQueryWithPreviousResult(this.queryId),a=r.previousResult,o=r.variables,v=r.document,I=Ju(function(){return t(a,{variables:o})});I&&(i.dataStore.markUpdateQueryResult(v,o,I),i.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(t){hf(this),this.options.pollInterval=t,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(t){var i=this.lastResult;return this.lastResult=t,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?t:Bv(t),i},e.prototype.onSubscribe=function(t){var i=this;try{var r=t._subscription._observer;r&&!r.error&&(r.error=ng)}catch{}var a=!this.observers.size;return this.observers.add(t),t.next&&this.lastResult&&t.next(this.lastResult),t.error&&this.lastError&&t.error(this.lastError),a&&this.setUpQuery(),function(){i.observers.delete(t)&&!i.observers.size&&i.tearDownQuery()}},e.prototype.setUpQuery=function(){var t=this,i=this,r=i.queryManager,a=i.queryId;this.shouldSubscribe&&r.addObservableQuery(a,this),this.options.pollInterval&&(hf(this),r.startPollingQuery(this.options,a));var o=function(v){t.updateLastResult(_t(_t({},t.lastResult),{errors:v.graphQLErrors,networkStatus:mn.error,loading:!1})),tc(t.observers,"error",t.lastError=v)};r.observeQuery(a,this.options,{next:function(v){if(t.lastError||t.isDifferentFromLastResult(v)){var I=t.updateLastResult(v),G=t.options,Q=G.query,re=G.variables,le=G.fetchPolicy;r.transform(Q).hasClientExports?r.getLocalState().addExportedVariables(Q,re).then(function(ge){var Re=t.variables;t.variables=t.options.variables=ge,!v.loading&&I&&le!=="cache-only"&&r.transform(Q).serverQuery&&!Se(Re,ge)?t.refetch():tc(t.observers,"next",v)}):tc(t.observers,"next",v)}},error:o}).catch(o)},e.prototype.tearDownQuery=function(){var t=this.queryManager;this.isTornDown=!0,t.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(i){return i.unsubscribe()}),this.subscriptions.clear(),t.removeObservableQuery(this.queryId),t.stopQuery(this.queryId),this.observers.clear()},e}(Mo);function ng(n){}function tc(n,e,t){var i=[];n.forEach(function(r){return r[e]&&i.push(r)}),i.forEach(function(r){return r[e](t)})}function hf(n){var e=n.options.fetchPolicy;xi(e!=="cache-first"&&e!=="cache-only",3)}var rg=function(){function n(){this.store={}}return n.prototype.getStore=function(){return this.store},n.prototype.get=function(e){return this.store[e]},n.prototype.initMutation=function(e,t,i){this.store[e]={mutation:t,variables:i||{},loading:!0,error:null}},n.prototype.markMutationError=function(e,t){var i=this.store[e];i&&(i.loading=!1,i.error=t)},n.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},n.prototype.reset=function(){this.store={}},n}(),ag=function(){function n(){this.store={}}return n.prototype.getStore=function(){return this.store},n.prototype.get=function(e){return this.store[e]},n.prototype.initQuery=function(e){var t=this.store[e.queryId];xi(!t||t.document===e.document||Se(t.document,e.document),19);var i=!1,r=null;e.storePreviousVariables&&t&&t.networkStatus!==mn.loading&&(Se(t.variables,e.variables)||(i=!0,r=t.variables));var a;i?a=mn.setVariables:e.isPoll?a=mn.poll:e.isRefetch?a=mn.refetch:a=mn.loading;var o=[];t&&t.graphQLErrors&&(o=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:r,networkError:null,graphQLErrors:o,networkStatus:a,metadata:e.metadata},typeof e.fetchMoreForQueryId=="string"&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=mn.fetchMore)},n.prototype.markQueryResult=function(e,t,i){!this.store||!this.store[e]||(this.store[e].networkError=null,this.store[e].graphQLErrors=Ds(t.errors)?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=mn.ready,typeof i=="string"&&this.store[i]&&(this.store[i].networkStatus=mn.ready))},n.prototype.markQueryError=function(e,t,i){!this.store||!this.store[e]||(this.store[e].networkError=t,this.store[e].networkStatus=mn.error,typeof i=="string"&&this.markQueryResultClient(i,!0))},n.prototype.markQueryResultClient=function(e,t){var i=this.store&&this.store[e];i&&(i.networkError=null,i.previousVariables=null,t&&(i.networkStatus=mn.ready))},n.prototype.stopQuery=function(e){delete this.store[e]},n.prototype.reset=function(e){var t=this;Object.keys(this.store).forEach(function(i){e.indexOf(i)<0?t.stopQuery(i):t.store[i].networkStatus=mn.loading})},n}();function sg(n){return n.charAt(0).toUpperCase()+n.slice(1)}var mf=function(){function n(e){var t=e.cache,i=e.client,r=e.resolvers,a=e.fragmentMatcher;this.cache=t,i&&(this.client=i),r&&this.addResolvers(r),a&&this.setFragmentMatcher(a)}return n.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(i){t.resolvers=rf(t.resolvers,i)}):this.resolvers=rf(this.resolvers,e)},n.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},n.prototype.getResolvers=function(){return this.resolvers||{}},n.prototype.runResolvers=function(e){var t=e.document,i=e.remoteResult,r=e.context,a=e.variables,o=e.onlyRunForcedResolvers,v=o===void 0?!1:o;return Xr(this,void 0,void 0,function(){return Jr(this,function(I){return t?[2,this.resolveDocument(t,i.data,r,a,this.fragmentMatcher,v).then(function(G){return _t(_t({},i),{data:G.result})})]:[2,i]})})},n.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},n.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},n.prototype.clientQuery=function(e){return Fa(["client"],e)&&this.resolvers?e:null},n.prototype.serverQuery=function(e){return this.resolvers?Lv(e):e},n.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.cache,i=_t(_t({},e),{cache:t,getCacheKey:function(r){if(t.config)return t.config.dataIdFromObject(r);xi(!1,6)}});return i},n.prototype.addExportedVariables=function(e,t,i){return t===void 0&&(t={}),i===void 0&&(i={}),Xr(this,void 0,void 0,function(){return Jr(this,function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(i),t).then(function(a){return _t(_t({},t),a.exportedVariables)})]:[2,_t({},t)]})})},n.prototype.shouldForceResolvers=function(e){var t=!1;return(0,ur.visit)(e,{Directive:{enter:function(i){if(i.name.value==="client"&&i.arguments&&(t=i.arguments.some(function(r){return r.name.value==="always"&&r.value.kind==="BooleanValue"&&r.value.value===!0}),t))return ur.BREAK}}}),t},n.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Ov(e),variables:t,returnPartialData:!0,optimistic:!1}).result},n.prototype.resolveDocument=function(e,t,i,r,a,o){return i===void 0&&(i={}),r===void 0&&(r={}),a===void 0&&(a=function(){return!0}),o===void 0&&(o=!1),Xr(this,void 0,void 0,function(){var v,I,G,Q,re,le,ge,Re,Ie;return Jr(this,function(Oe){return v=yn(e),I=Ei(e),G=hn(I),Q=v.operation,re=Q?sg(Q):"Query",le=this,ge=le.cache,Re=le.client,Ie={fragmentMap:G,context:_t(_t({},i),{cache:ge,client:Re}),variables:r,fragmentMatcher:a,defaultOperationType:re,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(v.selectionSet,t,Ie).then(function(ue){return{result:ue,exportedVariables:Ie.exportedVariables}})]})})},n.prototype.resolveSelectionSet=function(e,t,i){return Xr(this,void 0,void 0,function(){var r,a,o,v,I,G=this;return Jr(this,function(Q){return r=i.fragmentMap,a=i.context,o=i.variables,v=[t],I=function(re){return Xr(G,void 0,void 0,function(){var le,ge;return Jr(this,function(Re){return Za(re,o)?gr(re)?[2,this.resolveField(re,t,i).then(function(Ie){var Oe;typeof Ie!="undefined"&&v.push((Oe={},Oe[ea(re)]=Ie,Oe))})]:(As(re)?le=re:(le=r[re.name.value],xi(le,7)),le&&le.typeCondition&&(ge=le.typeCondition.name.value,i.fragmentMatcher(t,ge,a))?[2,this.resolveSelectionSet(le.selectionSet,t,i).then(function(Ie){v.push(Ie)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(I)).then(function(){return Zu(v)})]})})},n.prototype.resolveField=function(e,t,i){return Xr(this,void 0,void 0,function(){var r,a,o,v,I,G,Q,re,le,ge=this;return Jr(this,function(Re){return r=i.variables,a=e.name.value,o=ea(e),v=a!==o,I=t[o]||t[a],G=Promise.resolve(I),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(Q=t.__typename||i.defaultOperationType,re=this.resolvers&&this.resolvers[Q],re&&(le=re[v?a:o],le&&(G=Promise.resolve(le(t,Ms(e,r),i.context,{field:e,fragmentMap:i.fragmentMap}))))),[2,G.then(function(Ie){if(Ie===void 0&&(Ie=I),e.directives&&e.directives.forEach(function(Oe){Oe.name.value==="export"&&Oe.arguments&&Oe.arguments.forEach(function(ue){ue.name.value==="as"&&ue.value.kind==="StringValue"&&(i.exportedVariables[ue.value.value]=Ie)})}),!e.selectionSet||Ie==null)return Ie;if(Array.isArray(Ie))return ge.resolveSubSelectedArray(e,Ie,i);if(e.selectionSet)return ge.resolveSelectionSet(e.selectionSet,Ie,i)})]})})},n.prototype.resolveSubSelectedArray=function(e,t,i){var r=this;return Promise.all(t.map(function(a){if(a===null)return null;if(Array.isArray(a))return r.resolveSubSelectedArray(e,a,i);if(e.selectionSet)return r.resolveSelectionSet(e.selectionSet,a,i)}))},n}();function pf(n){var e=new Set,t=null;return new Mo(function(i){return e.add(i),t=t||n.subscribe({next:function(r){e.forEach(function(a){return a.next&&a.next(r)})},error:function(r){e.forEach(function(a){return a.error&&a.error(r)})},complete:function(){e.forEach(function(r){return r.complete&&r.complete()})}}),function(){e.delete(i)&&!e.size&&t&&(t.unsubscribe(),t=null)}})}function og(n,e){return new Mo(function(t){var i=t.next,r=t.error,a=t.complete,o=0,v=!1,I={next:function(Q){++o,new Promise(function(re){re(e(Q))}).then(function(re){--o,i&&i.call(t,re),v&&I.complete()},function(re){--o,r&&r.call(t,re)})},error:function(Q){r&&r.call(t,Q)},complete:function(){v=!0,o||a&&a.call(t)}},G=n.subscribe(I);return function(){return G.unsubscribe()}})}var lg=Object.prototype.hasOwnProperty,ug=function(){function n(e){var t=e.link,i=e.queryDeduplication,r=i===void 0?!1:i,a=e.store,o=e.onBroadcast,v=o===void 0?function(){}:o,I=e.ssrMode,G=I===void 0?!1:I,Q=e.clientAwareness,re=Q===void 0?{}:Q,le=e.localState,ge=e.assumeImmutableResults;this.mutationStore=new rg,this.queryStore=new ag,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(Ku?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=t,this.queryDeduplication=r,this.dataStore=a,this.onBroadcast=v,this.clientAwareness=re,this.localState=le||new mf({cache:a.getCache()}),this.ssrMode=G,this.assumeImmutableResults=!!ge}return n.prototype.stop=function(){var e=this;this.queries.forEach(function(t,i){e.stopQueryNoBroadcast(i)}),this.fetchQueryRejectFns.forEach(function(t){t(new Nn(8))})},n.prototype.mutate=function(e){var t=e.mutation,i=e.variables,r=e.optimisticResponse,a=e.updateQueries,o=e.refetchQueries,v=o===void 0?[]:o,I=e.awaitRefetchQueries,G=I===void 0?!1:I,Q=e.update,re=e.errorPolicy,le=re===void 0?"none":re,ge=e.fetchPolicy,Re=e.context,Ie=Re===void 0?{}:Re;return Xr(this,void 0,void 0,function(){var Oe,ue,ye,Te=this;return Jr(this,function(Ae){switch(Ae.label){case 0:return xi(t,9),xi(!ge||ge==="no-cache",10),Oe=this.generateQueryId(),t=this.transform(t).document,this.setQuery(Oe,function(){return{document:t}}),i=this.getVariables(t,i),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,i,Ie)]:[3,2];case 1:i=Ae.sent(),Ae.label=2;case 2:return ue=function(){var Ue={};return a&&Te.queries.forEach(function(We,ze){var bt=We.observableQuery;if(bt){var It=bt.queryName;It&&lg.call(a,It)&&(Ue[ze]={updater:a[It],query:Te.queryStore.get(ze)})}}),Ue},this.mutationStore.initMutation(Oe,t,i),this.dataStore.markMutationInit({mutationId:Oe,document:t,variables:i,updateQueries:ue(),update:Q,optimisticResponse:r}),this.broadcastQueries(),ye=this,[2,new Promise(function(Ue,We){var ze,bt;ye.getObservableFromLink(t,_t(_t({},Ie),{optimisticResponse:r}),i,!1).subscribe({next:function(It){if(es(It)&&le==="none"){bt=new Oa({graphQLErrors:It.errors});return}ye.mutationStore.markMutationResult(Oe),ge!=="no-cache"&&ye.dataStore.markMutationResult({mutationId:Oe,result:It,document:t,variables:i,updateQueries:ue(),update:Q}),ze=It},error:function(It){ye.mutationStore.markMutationError(Oe,It),ye.dataStore.markMutationComplete({mutationId:Oe,optimisticResponse:r}),ye.broadcastQueries(),ye.setQuery(Oe,function(){return{document:null}}),We(new Oa({networkError:It}))},complete:function(){if(bt&&ye.mutationStore.markMutationError(Oe,bt),ye.dataStore.markMutationComplete({mutationId:Oe,optimisticResponse:r}),ye.broadcastQueries(),bt){We(bt);return}typeof v=="function"&&(v=v(ze));var It=[];Ds(v)&&v.forEach(function(ui){if(typeof ui=="string")ye.queries.forEach(function(Si){var Vi=Si.observableQuery;Vi&&Vi.queryName===ui&&It.push(Vi.refetch())});else{var pn={query:ui.query,variables:ui.variables,fetchPolicy:"network-only"};ui.context&&(pn.context=ui.context),It.push(ye.query(pn))}}),Promise.all(G?It:[]).then(function(){ye.setQuery(Oe,function(){return{document:null}}),le==="ignore"&&ze&&es(ze)&&delete ze.errors,Ue(ze)})}})})]}})})},n.prototype.fetchQuery=function(e,t,i,r){return Xr(this,void 0,void 0,function(){var a,o,v,I,G,Q,re,le,ge,Re,Ie,Oe,ue,ye,Te,Ae,Ue,We,ze=this;return Jr(this,function(bt){switch(bt.label){case 0:return a=t.metadata,o=a===void 0?null:a,v=t.fetchPolicy,I=v===void 0?"cache-first":v,G=t.context,Q=G===void 0?{}:G,re=this.transform(t.query).document,le=this.getVariables(re,t.variables),this.transform(re).hasClientExports?[4,this.localState.addExportedVariables(re,le,Q)]:[3,2];case 1:le=bt.sent(),bt.label=2;case 2:if(t=_t(_t({},t),{variables:le}),Re=I==="network-only"||I==="no-cache",Ie=Re,Re||(Oe=this.dataStore.getCache().diff({query:re,variables:le,returnPartialData:!0,optimistic:!1}),ue=Oe.complete,ye=Oe.result,Ie=!ue||I==="cache-and-network",ge=ye),Te=Ie&&I!=="cache-only"&&I!=="standby",Fa(["live"],re)&&(Te=!0),Ae=this.idCounter++,Ue=I!=="no-cache"?this.updateQueryWatch(e,re,t):void 0,this.setQuery(e,function(){return{document:re,lastRequestId:Ae,invalidated:!0,cancel:Ue}}),this.invalidate(r),this.queryStore.initQuery({queryId:e,document:re,storePreviousVariables:Te,variables:le,isPoll:i===ts.poll,isRefetch:i===ts.refetch,metadata:o,fetchMoreForQueryId:r}),this.broadcastQueries(),Te){if(We=this.fetchRequest({requestId:Ae,queryId:e,document:re,options:t,fetchMoreForQueryId:r}).catch(function(It){throw Zv(It)?It:(Ae>=ze.getQuery(e).lastRequestId&&(ze.queryStore.markQueryError(e,It,r),ze.invalidate(e),ze.invalidate(r),ze.broadcastQueries()),new Oa({networkError:It}))}),I!=="cache-and-network")return[2,We];We.catch(function(){})}return this.queryStore.markQueryResultClient(e,!Te),this.invalidate(e),this.invalidate(r),this.transform(re).hasForcedResolvers?[2,this.localState.runResolvers({document:re,remoteResult:{data:ge},context:Q,variables:le,onlyRunForcedResolvers:!0}).then(function(It){return ze.markQueryResult(e,It,t,r),ze.broadcastQueries(),It})]:(this.broadcastQueries(),[2,{data:ge}])}})})},n.prototype.markQueryResult=function(e,t,i,r){var a=i.fetchPolicy,o=i.variables,v=i.errorPolicy;a==="no-cache"?this.setQuery(e,function(){return{newData:{result:t.data,complete:!0}}}):this.dataStore.markQueryResult(t,this.getQuery(e).document,o,r,v==="ignore"||v==="all")},n.prototype.queryListenerForObserver=function(e,t,i){var r=this;function a(o,v){if(i[o])try{i[o](v)}catch{}}return function(o,v){if(r.invalidate(e,!1),!!o){var I=r.getQuery(e),G=I.observableQuery,Q=I.document,re=G?G.options.fetchPolicy:t.fetchPolicy;if(re!=="standby"){var le=ff(o.networkStatus),ge=G&&G.getLastResult(),Re=!!(ge&&ge.networkStatus!==o.networkStatus),Ie=t.returnPartialData||!v&&o.previousVariables||Re&&t.notifyOnNetworkStatusChange||re==="cache-only"||re==="cache-and-network";if(!(le&&!Ie)){var Oe=Ds(o.graphQLErrors),ue=G&&G.options.errorPolicy||t.errorPolicy||"none";if(ue==="none"&&Oe||o.networkError)return a("error",new Oa({graphQLErrors:o.graphQLErrors,networkError:o.networkError}));try{var ye=void 0,Te=void 0;if(v)re!=="no-cache"&&re!=="network-only"&&r.setQuery(e,function(){return{newData:null}}),ye=v.result,Te=!v.complete;else{var Ae=G&&G.getLastError(),Ue=ue!=="none"&&(Ae&&Ae.graphQLErrors)!==o.graphQLErrors;if(ge&&ge.data&&!Ue)ye=ge.data,Te=!1;else{var We=r.dataStore.getCache().diff({query:Q,variables:o.previousVariables||o.variables,returnPartialData:!0,optimistic:!0});ye=We.result,Te=!We.complete}}var ze=Te&&!(t.returnPartialData||re==="cache-only"),bt={data:ze?ge&&ge.data:ye,loading:le,networkStatus:o.networkStatus,stale:ze};ue==="all"&&Oe&&(bt.errors=o.graphQLErrors),a("next",bt)}catch(It){a("error",new Oa({networkError:It}))}}}}}},n.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var i=this.dataStore.getCache(),r=i.transformDocument(e),a=Iv(i.transformForLink(r)),o=this.localState.clientQuery(r),v=this.localState.serverQuery(a),I={document:r,hasClientExports:Tl(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:o,serverQuery:v,defaultVars:wn(Ct(r))},G=function(Q){Q&&!t.has(Q)&&t.set(Q,I)};G(e),G(r),G(o),G(v)}return t.get(e)},n.prototype.getVariables=function(e,t){return _t(_t({},this.transform(e).defaultVars),t)},n.prototype.watchQuery=function(e,t){t===void 0&&(t=!0),xi(e.fetchPolicy!=="standby",11),e.variables=this.getVariables(e.query,e.variables),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var i=_t({},e);return new ig({queryManager:this,options:i,shouldSubscribe:t})},n.prototype.query=function(e){var t=this;return xi(e.query,12),xi(e.query.kind==="Document",13),xi(!e.returnPartialData,14),xi(!e.pollInterval,15),new Promise(function(i,r){var a=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+a.queryId,r),a.result().then(i,r).then(function(){return t.fetchQueryRejectFns.delete("query:"+a.queryId)})})},n.prototype.generateQueryId=function(){return String(this.idCounter++)},n.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},n.prototype.addQueryListener=function(e,t){this.setQuery(e,function(i){var r=i.listeners;return r.add(t),{invalidated:!1}})},n.prototype.updateQueryWatch=function(e,t,i){var r=this,a=this.getQuery(e).cancel;a&&a();var o=function(){var v=null,I=r.getQuery(e).observableQuery;if(I){var G=I.getLastResult();G&&(v=G.data)}return v};return this.dataStore.getCache().watch({query:t,variables:i.variables,optimistic:!0,previousResult:o,callback:function(v){r.setQuery(e,function(){return{invalidated:!0,newData:v}})}})},n.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}})},n.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),t&&t()},n.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(t){t(new Nn(16))});var e=[];return this.queries.forEach(function(t,i){var r=t.observableQuery;r&&e.push(i)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},n.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},n.prototype.reFetchObservableQueries=function(e){var t=this;e===void 0&&(e=!1);var i=[];return this.queries.forEach(function(r,a){var o=r.observableQuery;if(o){var v=o.options.fetchPolicy;o.resetLastResults(),v!=="cache-only"&&(e||v!=="standby")&&i.push(o.refetch()),t.setQuery(a,function(){return{newData:null}}),t.invalidate(a)}}),this.broadcastQueries(),Promise.all(i)},n.prototype.observeQuery=function(e,t,i){return this.addQueryListener(e,this.queryListenerForObserver(e,t,i)),this.fetchQuery(e,t)},n.prototype.startQuery=function(e,t,i){return this.addQueryListener(e,i),this.fetchQuery(e,t).catch(function(){}),e},n.prototype.startGraphQLSubscription=function(e){var t=this,i=e.query,r=e.fetchPolicy,a=e.variables;i=this.transform(i).document,a=this.getVariables(i,a);var o=function(I){return t.getObservableFromLink(i,{},I,!1).map(function(G){if((!r||r!=="no-cache")&&(t.dataStore.markSubscriptionResult(G,i,I),t.broadcastQueries()),es(G))throw new Oa({graphQLErrors:G.errors});return G})};if(this.transform(i).hasClientExports){var v=this.localState.addExportedVariables(i,a).then(o);return new Mo(function(I){var G=null;return v.then(function(Q){return G=Q.subscribe(I)},I.error),function(){return G&&G.unsubscribe()}})}return o(a)},n.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},n.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(t){return t.unsubscribe()}),this.queries.delete(e)},n.prototype.getCurrentQueryResult=function(e,t){t===void 0&&(t=!0);var i=e.options,r=i.variables,a=i.query,o=i.fetchPolicy,v=i.returnPartialData,I=e.getLastResult(),G=this.getQuery(e.queryId).newData;if(G&&G.complete)return{data:G.result,partial:!1};if(o==="no-cache"||o==="network-only")return{data:void 0,partial:!1};var Q=this.dataStore.getCache().diff({query:a,variables:r,previousResult:I?I.data:void 0,returnPartialData:!0,optimistic:t}),re=Q.result,le=Q.complete;return{data:le||v?re:void 0,partial:!le}},n.prototype.getQueryWithPreviousResult=function(e){var t;if(typeof e=="string"){var i=this.getQuery(e).observableQuery;xi(i,17),t=i}else t=e;var r=t.options,a=r.variables,o=r.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:a,document:o}},n.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(t,i){t.invalidated&&t.listeners.forEach(function(r){r&&r(e.queryStore.get(i),t.newData)})})},n.prototype.getLocalState=function(){return this.localState},n.prototype.getObservableFromLink=function(e,t,i,r){var a=this;r===void 0&&(r=this.queryDeduplication);var o,v=this.transform(e).serverQuery;if(v){var I=this,G=I.inFlightLinkObservables,Q=I.link,re={query:v,variables:i,operationName:ni(v)||void 0,context:this.prepareContext(_t(_t({},t),{forceFetch:!r}))};if(t=re.context,r){var le=G.get(v)||new Map;G.set(v,le);var ge=JSON.stringify(i);if(o=le.get(ge),!o){le.set(ge,o=pf(Il(Q,re)));var Re=function(){le.delete(ge),le.size||G.delete(v),Ie.unsubscribe()},Ie=o.subscribe({next:Re,error:Re,complete:Re})}}else o=pf(Il(Q,re))}else o=Mo.of({data:{}}),t=this.prepareContext(t);var Oe=this.transform(e).clientQuery;return Oe&&(o=og(o,function(ue){return a.localState.runResolvers({document:Oe,remoteResult:ue,context:t,variables:i})})),o},n.prototype.fetchRequest=function(e){var t=this,i=e.requestId,r=e.queryId,a=e.document,o=e.options,v=e.fetchMoreForQueryId,I=o.variables,G=o.errorPolicy,Q=G===void 0?"none":G,re=o.fetchPolicy,le,ge;return new Promise(function(Re,Ie){var Oe=t.getObservableFromLink(a,o.context,I),ue="fetchRequest:"+r;t.fetchQueryRejectFns.set(ue,Ie);var ye=function(){t.fetchQueryRejectFns.delete(ue),t.setQuery(r,function(Ae){var Ue=Ae.subscriptions;Ue.delete(Te)})},Te=Oe.map(function(Ae){if(i>=t.getQuery(r).lastRequestId&&(t.markQueryResult(r,Ae,o,v),t.queryStore.markQueryResult(r,Ae,v),t.invalidate(r),t.invalidate(v),t.broadcastQueries()),Q==="none"&&Ds(Ae.errors))return Ie(new Oa({graphQLErrors:Ae.errors}));if(Q==="all"&&(ge=Ae.errors),v||re==="no-cache")le=Ae.data;else{var Ue=t.dataStore.getCache().diff({variables:I,query:a,optimistic:!1,returnPartialData:!0}),We=Ue.result,ze=Ue.complete;(ze||o.returnPartialData)&&(le=We)}}).subscribe({error:function(Ae){ye(),Ie(Ae)},complete:function(){ye(),Re({data:le,errors:ge,loading:!1,networkStatus:mn.ready,stale:!1})}});t.setQuery(r,function(Ae){var Ue=Ae.subscriptions;Ue.add(Te)})})},n.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},n.prototype.setQuery=function(e,t){var i=this.getQuery(e),r=_t(_t({},i),t(i));this.queries.set(e,r)},n.prototype.invalidate=function(e,t){t===void 0&&(t=!0),e&&this.setQuery(e,function(){return{invalidated:t}})},n.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.localState.prepareContext(e);return _t(_t({},t),{clientAwareness:this.clientAwareness})},n.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==mn.ready&&t.networkStatus!==mn.error},n.prototype.startPollingQuery=function(e,t,i){var r=this,a=e.pollInterval;if(xi(a,18),!this.ssrMode){var o=this.pollingInfoByQueryId.get(t);o||this.pollingInfoByQueryId.set(t,o={}),o.interval=a,o.options=_t(_t({},e),{fetchPolicy:"network-only"});var v=function(){var G=r.pollingInfoByQueryId.get(t);G&&(r.checkInFlight(t)?I():r.fetchQuery(t,G.options,ts.poll).then(I,I))},I=function(){var G=r.pollingInfoByQueryId.get(t);G&&(clearTimeout(G.timeout),G.timeout=setTimeout(v,G.interval))};i&&this.addQueryListener(t,i),I()}return t},n.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},n}(),cg=function(){function n(e){this.cache=e}return n.prototype.getCache=function(){return this.cache},n.prototype.markQueryResult=function(e,t,i,r,a){a===void 0&&(a=!1);var o=!es(e);a&&es(e)&&e.data&&(o=!0),!r&&o&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:i})},n.prototype.markSubscriptionResult=function(e,t,i){es(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:i})},n.prototype.markMutationInit=function(e){var t=this;if(e.optimisticResponse){var i;typeof e.optimisticResponse=="function"?i=e.optimisticResponse(e.variables):i=e.optimisticResponse,this.cache.recordOptimisticTransaction(function(r){var a=t.cache;t.cache=r;try{t.markMutationResult({mutationId:e.mutationId,result:{data:i},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{t.cache=a}},e.mutationId)}},n.prototype.markMutationResult=function(e){var t=this;if(!es(e.result)){var i=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],r=e.updateQueries;r&&Object.keys(r).forEach(function(a){var o=r[a],v=o.query,I=o.updater,G=t.cache.diff({query:v.document,variables:v.variables,returnPartialData:!0,optimistic:!1}),Q=G.result,re=G.complete;if(re){var le=Ju(function(){return I(Q,{mutationResult:e.result,queryName:ni(v.document)||void 0,queryVariables:v.variables})});le&&i.push({result:le,dataId:"ROOT_QUERY",query:v.document,variables:v.variables})}}),this.cache.performTransaction(function(a){i.forEach(function(v){return a.write(v)});var o=e.update;o&&Ju(function(){return o(a,e.result)})})}},n.prototype.markMutationComplete=function(e){var t=e.mutationId,i=e.optimisticResponse;i&&this.cache.removeOptimistic(t)},n.prototype.markUpdateQueryResult=function(e,t,i){this.cache.write({result:i,dataId:"ROOT_QUERY",variables:t,query:e})},n.prototype.reset=function(){return this.cache.reset()},n}(),dg="2.6.10",fg=!1,hg=function(){function n(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var i=e.cache,r=e.ssrMode,a=r===void 0?!1:r,o=e.ssrForceFetchDelay,v=o===void 0?0:o,I=e.connectToDevTools,G=e.queryDeduplication,Q=G===void 0?!0:G,re=e.defaultOptions,le=e.assumeImmutableResults,ge=le===void 0?!1:le,Re=e.resolvers,Ie=e.typeDefs,Oe=e.fragmentMatcher,ue=e.name,ye=e.version,Te=e.link;if(!Te&&Re&&(Te=Lr.empty()),!Te||!i)throw new Nn(4);this.link=Te,this.cache=i,this.store=new cg(i),this.disableNetworkFetches=a||v>0,this.queryDeduplication=Q,this.defaultOptions=re||{},this.typeDefs=Ie,v&&setTimeout(function(){return t.disableNetworkFetches=!1},v),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var Ae=!1;(typeof I=="undefined"?Ae:I&&typeof window!="undefined")&&(window.__APOLLO_CLIENT__=this),this.version=dg,this.localState=new mf({cache:i,client:this,resolvers:Re,fragmentMatcher:Oe}),this.queryManager=new ug({link:this.link,store:this.store,queryDeduplication:Q,ssrMode:a,clientAwareness:{name:ue,version:ye},localState:this.localState,assumeImmutableResults:ge,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return n.prototype.stop=function(){this.queryManager.stop()},n.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=_t(_t({},this.defaultOptions.watchQuery),e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=_t(_t({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},n.prototype.query=function(e){return this.defaultOptions.query&&(e=_t(_t({},this.defaultOptions.query),e)),xi(e.fetchPolicy!=="cache-and-network",5),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=_t(_t({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},n.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=_t(_t({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},n.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},n.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.cache.readQuery(e,t)},n.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.cache.readFragment(e,t)},n.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),t},n.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),t},n.prototype.writeData=function(e){var t=this.cache.writeData(e);return this.queryManager.broadcastQueries(),t},n.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},n.prototype.__requestRaw=function(e){return Il(this.link,e)},n.prototype.initQueryManager=function(){return this.queryManager},n.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return e.reFetchObservableQueries()})},n.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(t){return t()}))})},n.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(i){return i!==e})}},n.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(i){return i!==e})}},n.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},n.prototype.extract=function(e){return this.cache.extract(e)},n.prototype.restore=function(e){return this.cache.restore(e)},n.prototype.addResolvers=function(e){this.localState.addResolvers(e)},n.prototype.setResolvers=function(e){this.localState.setResolvers(e)},n.prototype.getResolvers=function(){return this.localState.getResolvers()},n.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},n}();const YR=null;var Dl,mg=new Uint8Array(16);function pg(){if(!Dl&&(Dl=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Dl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dl(mg)}const vg=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function gg(n){return typeof n=="string"&&vg.test(n)}const bg=gg;for(var qn=[],ic=0;ic<256;++ic)qn.push((ic+256).toString(16).substr(1));function yg(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(qn[n[e+0]]+qn[n[e+1]]+qn[n[e+2]]+qn[n[e+3]]+"-"+qn[n[e+4]]+qn[n[e+5]]+"-"+qn[n[e+6]]+qn[n[e+7]]+"-"+qn[n[e+8]]+qn[n[e+9]]+"-"+qn[n[e+10]]+qn[n[e+11]]+qn[n[e+12]]+qn[n[e+13]]+qn[n[e+14]]+qn[n[e+15]]).toLowerCase();if(!bg(t))throw TypeError("Stringified UUID is invalid");return t}const wg=yg;function _g(n,e,t){n=n||{};var i=n.random||(n.rng||pg)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=i[r];return e}return wg(i)}const vf=_g;var kg=Object.defineProperty,Sg=(n,e,t)=>e in n?kg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,xs=(n,e,t)=>Sg(n,typeof e!="symbol"?e+"":e,t);const nc="PullRequestOverview";function rc(){let n="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let t=0;t<32;t++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}class gf extends g{constructor(){super(),xs(this,"_webview"),xs(this,"_waitForReady"),xs(this,"_onIsReady",this._register(new s.EventEmitter)),xs(this,"MESSAGE_UNHANDLED","message not handled"),this._waitForReady=new Promise(e=>{const t=this._onIsReady.event(()=>{t.dispose(),e()})})}initialize(){var e;const t=(e=this._webview)==null?void 0:e.onDidReceiveMessage(async i=>{await this._onDidReceiveMessage(i)});t&&this._register(t)}async _onDidReceiveMessage(e){switch(e.command){case"ready":this._onIsReady.fire();return;default:return this.MESSAGE_UNHANDLED}}async _postMessage(e){var t;await this._waitForReady,(t=this._webview)==null||t.postMessage({res:e})}async _replyMessage(e,t){var i;const r={seq:e.req,res:t};(i=this._webview)==null||i.postMessage(r)}async _throwError(e,t){var i;const r={seq:e==null?void 0:e.req,err:t};(i=this._webview)==null||i.postMessage(r)}}class bf extends gf{constructor(e){super(),this._extensionUri=e,xs(this,"viewType"),xs(this,"_view")}resolveWebviewView(e,t,i){this._view=e,this._webview=e.webview,super.initialize(),e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},this._register(this._view.onDidDispose(()=>{this._webview=void 0,this._view=void 0}))}show(){this._view?this._view.show():lt.focusView(this.viewType)}}const Rg=/:([-+_a-z0-9]+):/g;let Ao,ac;async function Eg(n){Ao===void 0&&(ac===void 0&&(ac=Tg(n)),await ac)}async function Tg(n){const e=s.Uri.joinPath(n.extensionUri,"resources","emojis.json");Ao=JSON.parse(new TextDecoder("utf8").decode(await s.workspace.fs.readFile(e)))}function Ng(n){return Ao===void 0?n:n.replace(Rg,(e,t)=>(Ao==null?void 0:Ao[t])||e)}const Cg="[a-zA-Z0-9-]+",yf=["abstract","virtual","access","alias","async","augments","extends","author","borrows","callback","class","constructor","classdesc","constant","const","constructs","copyright","default","defaultvalue","deprecated","description","desc","enum","event","example","exports","external","host","file","fileoverview","overview","fires","emits","function","func","method","generator","global","hideconstructor","ignore","implements","inheritdoc","inner","instance","interface","kind","lends","license","listens","member","var","memberof","mixes","mixin","module","name","namespace","override","package","param","arg","argument","private","property","prop","protected","public","readonly","requires","returns","return","see","since","static","summary","this","throws","exception","todo","tutorial","type","typedef","variation","version","yields","yield","link"],wf=["api","author","copyright","deprecated","generated","internal","link","method","package","param","property","return","see","since","throws","todo","uses","var","version"],Pg=["a","addindex","addtogroup","anchor","arg","attention","author","authors","b","brief","bug","c","callergraph","callgraph","category","cite","class","code","collaborationgraph","concept","cond","copybrief","copydetails","copydoc","copyright","date","def","defgroup","deprecated","details","diafile","dir","directorygraph","docbookinclude","docbookonly","dontinclude","dot","dotfile","doxyconfig","e","else","elseif","em","emoji","endcode","endcond","enddocbookonly","enddot","endhtmlonly","endif","endinternal","endlatexonly","endlink","endmanonly","endmsc","endparblock","endrtfonly","endsecreflist","endverbatim","enduml","endxmlonly","enum","example","exception","extends","f(","f)","f$","f[","f]","f{","f}","file","fileinfo","fn","groupgraph","headerfile","hidecallergraph","hidecallgraph","hidecollaborationgraph","hidedirectorygraph","hidegroupgraph","hideincludedbygraph","hideincludegraph","hideinheritancegraph","hideinlinesource","hiderefby","hiderefs","hideinitializer","htmlinclude","htmlonly","idlexcept","if","ifnot","image","implements","important","include","includedoc","includedbygraph","includegraph","includelineno","ingroup","inheritancegraph","internal","invariant","interface","latexinclude","latexonly","li","line","lineinfo","link","mainpage","maninclude","manonly","memberof","module","msc","mscfile","n","name","namespace","noop","nosubgrouping","note","overload","p","package","page","par","paragraph","param","parblock","post","pre","private","privatesection","property","protected","protectedsection","protocol","public","publicsection","pure","qualifier","raisewarning","ref","refitem","related","relates","relatedalso","relatesalso","remark","remarks","result","return","returns","retval","rtfinclude","rtfonly","sa","secreflist","section","see","short","showdate","showinitializer","showinlinesource","showrefby","showrefs","since","skip","skipline","snippet","snippetdoc","snippetlineno","static","startuml","struct","subpage","subparagraph","subsection","subsubparagraph","subsubsection","tableofcontents","test","throw","throws","todo","tparam","typedef","union","until","var","verbatim","verbinclude","version","vhdlflow","warning","weakgroup","xmlinclude","xmlonly","xrefitem"];var Mg=Object.defineProperty,Ag=(n,e,t)=>e in n?Mg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Yn=(n,e,t)=>Ag(n,typeof e!="symbol"?e+"":e,t),sc;(n=>{function e(t){return t&&typeof t.gitHubThreadId=="string"}n.is=e})(sc||(sc={}));class Io{constructor(e){Yn(this,"parent"),Yn(this,"mode"),Yn(this,"originalAuthor"),Yn(this,"label"),Yn(this,"reactions"),Yn(this,"contextValue"),this.parent=e}startEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Io&&e.commentEditId()===this.commentEditId()&&(e.mode=s.CommentMode.Editing),e))}cancelEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Io&&e.commentEditId()===this.commentEditId()&&(e.mode=s.CommentMode.Preview,this.doSetBody(this.getCancelEditBody(),!0)),e))}}const _f=class bv extends Io{constructor(e,t,i,r,a){var o;super(e),this.input=t,Yn(this,"commentId"),Yn(this,"id"),Yn(this,"originalBody"),this.mode=s.CommentMode.Preview,this.originalAuthor={name:(o=r.specialDisplayName)!=null?o:r.login,iconPath:r.avatarUrl?s.Uri.parse(`${r.avatarUrl}&s=64`):void 0},this.label=i?s.l10n.t("Pending"):void 0,this.contextValue="temporary,canEdit,canDelete",this.originalBody=a?a.rawComment.body:void 0,this.reactions=a?a.reactions:void 0,this.id=bv.idPool++}async doSetBody(e){typeof e=="string"&&(this.input=e)}set body(e){this.doSetBody(e)}get body(){return new s.MarkdownString(this.input)}get author(){return this.originalAuthor}commentEditId(){return this.id}getCancelEditBody(){return this.originalBody||this.body}};Yn(_f,"idPool",0);let Er=_f;const kf=/```suggestion(\u0020*(\r\n|\n))((?<suggestion>[\s\S]*?)(\r\n|\n))?```/,Ig=/<img .*src=['"](?<src>.+?)['"].*?>/g,Sf=class yv extends Io{constructor(e,t,i,r){var a,o;super(i),this.context=e,this.githubRepositories=r,Yn(this,"commentId"),Yn(this,"timestamp"),Yn(this,"rawComment"),Yn(this,"_rawBody"),Yn(this,"replacedBody"),this.rawComment=t,this.originalAuthor={name:(o=(a=t.user)==null?void 0:a.specialDisplayName)!=null?o:t.user.login,iconPath:t.user&&t.user.avatarUrl?s.Uri.parse(t.user.avatarUrl):void 0};const v=t.user?na.avatarCirclesAsImageDataUris(e,[t.user],28,28):Promise.resolve([]);this.doSetBody(t.body,!t.user).then(async()=>{const G=await v;G.length>0&&(this.author.iconPath=G[0]),this.refresh()}),this.commentId=t.id.toString(),Gf(this,t.reactions),this.label=t.isDraft?s.l10n.t("Pending"):void 0;const I=[];t.canEdit&&I.push("canEdit"),t.canDelete&&I.push("canDelete"),this.suggestion!==void 0&&I.push("hasSuggestion"),this.contextValue=I.join(","),this.timestamp=new Date(t.createdAt)}get author(){var e;return(e=this.rawComment.user)!=null&&e.specialDisplayName?{name:this.rawComment.user.specialDisplayName,iconPath:this.originalAuthor.iconPath}:this.originalAuthor}update(e){const t=this.rawComment;this.rawComment=e;let i=!1;Gf(this,e.reactions)&&(i=!0);const r=this.label;this.label=e.isDraft?s.l10n.t("Pending"):void 0,this.label!==r&&(i=!0);const a=[];e.canEdit&&a.push("canEdit"),e.canDelete&&a.push("canDelete"),this.suggestion!==void 0&&a.push("hasSuggestion");const o=this.contextValue;this.contextValue=a.join(","),o!==this.contextValue&&(i=!0),t.body!==e.body&&(this.doSetBody(e.body,!0),i=!1),i&&this.refresh()}refresh(){this.parent.comments=this.parent.comments}get suggestion(){var e;const t=this.rawComment.body.match(kf),i=(e=t==null?void 0:t.groups)==null?void 0:e.suggestion;if(t)return i||""}commentEditId(){return this.commentId}replaceImg(e){return e.replace(Ig,(t,i,r,a,{src:o})=>`![image](${o})`)}replaceSuggestion(e){return e.replace(new RegExp(kf,"g"),(t,...i)=>{var r;return`***
Suggested change:
\`\`\`
${(r=i[3])!=null?r:""}
\`\`\`
***`})}async createLocalFilePath(e,t,i,r){const a=s.Uri.joinPath(e,t);try{if((await s.workspace.fs.stat(a)).type===s.FileType.File)return`${a.with({fragment:`${i}-${r}`}).toString()}`}catch{return}}async replacePermalink(e){const t=this.githubRepositories;if(!t||t.length===0)return e;const i=new RegExp(`https://github.com/(.+)/${t[0].remote.repositoryName}/blob/([0-9a-f]{40})/(.*)#L([0-9]+)(-L([0-9]+))?`,"g");return Me(e,i,async(r,a,o,v,I,G,Q,re)=>{if(re&&re>0&&e.charAt(re-1)==="(")return r;const le=t.find(ye=>ye.remote.owner.toLocaleLowerCase()===a.toLocaleLowerCase());if(!le)return r;const ge=parseInt(I),Re=Q?parseInt(Q):ge+1,Ie=await le.getLines(o,v,ge,Re);if(!Ie)return r;const Oe=await this.createLocalFilePath(le.rootUri,v,ge,Re),ue=Q?`Lines ${ge} to ${Re} in \`${o.substring(0,7)}\``:`Line ${ge} in \`${o.substring(0,7)}\``;return`
***
[${v}](${Oe!=null?Oe:r})${Oe?` ([view on GitHub](${r}))`:""}

${ue}
\`\`\`
${Ie}
\`\`\`
***`})}replaceNewlines(e){return e.replace(/(?<!\s)(\r\n|\n)/g,`  
`)}postpendSpecialAuthorComment(e){return this.rawComment.specialDisplayBodyPostfix?`${e}  

_${this.rawComment.specialDisplayBodyPostfix}_`:e}async replaceBody(e){const t=Eg(this.context);if(b.trace("Replace comment body",yv.ID),e instanceof s.MarkdownString){const I=await this.replacePermalink(e.value);return this.replaceImg(this.replaceSuggestion(I))}const i=this.replaceNewlines(e),r=(await s.workspace.openTextDocument(this.parent.uri)).languageId,a=new RegExp(`([^/[\`]|^)@(${Cg})`,"g"),o=i.replace(a,(I,G,Q,re)=>{var le,ge,Re,Ie;if(((ge=(le=i.substring(0,re).match(/```/g))==null?void 0:le.length)!=null?ge:0)%2===1||I.includes("]")||I.includes(")"))return I;const Oe=I.substring(I.startsWith("@")?1:2);if((r==="javascript"||r==="typescript")&&yf.includes(Oe)||r==="php"&&wf.includes(Oe))return I;const ue=(Ie=(Re=Tn[Oe])==null?void 0:Re.url)!=null?Ie:`${L.dirname(this.rawComment.user.url)}/${Oe}`;return`${I.startsWith("@")?"":I.charAt(0)}[@${Oe}](${ue})`}),v=await this.replacePermalink(o);return await t,this.postpendSpecialAuthorComment(Ng(this.replaceImg(this.replaceSuggestion(v))))}async doSetBody(e,t){this._rawBody=e;const i=await this.replaceBody(e);i!==this.replacedBody&&(this.replacedBody=i,t&&this.refresh())}set body(e){this.doSetBody(e,!1)}get body(){return this.mode===s.CommentMode.Editing?this._rawBody:new s.MarkdownString(this.replacedBody)}getCancelEditBody(){return new s.MarkdownString(this.rawComment.body)}};Yn(Sf,"ID","GHPRComment");let En=Sf;async function is(n,e,t,i,r=!1){var a;const o=[],v=[];for(const G of t){const Q=Et(G);e.has(Q)||(v.push(G),e.add(Q))}const I=await na.avatarCirclesAsImageDataUris(n,v,16,16,r);for(let G=0;G<v.length;G++){const Q=v[G];let re;di(Q)&&(re=Q.isAuthor&&Q.isCommenter?s.l10n.t("Recently edited and reviewed changes to these files"):Q.isAuthor?s.l10n.t("Recently edited these files"):Q.isCommenter?s.l10n.t("Recently reviewed changes to these files"):s.l10n.t("Suggested reviewer")),o.push({label:jt(Q)?`${Q.org}/${Q.slug}`:Tn[Q.login]?Tn[Q.login].name:Q.login,description:Q.name,user:Q,picked:i,detail:re,iconPath:(a=I[G])!=null?a:Dg(Q)})}return o}async function Rf(n,e,t,i,r,a){var o;const[v,I]=await Promise.all([n.getAssignableUsers(),r?n.getPullRequestParticipants(r.githubRepository,r.number):void 0]),G=I==null?void 0:I.viewer,Q=(o=I==null?void 0:I.participants)!=null?o:[];let re=v[t];re=re!=null?re:[];const le=new Set,ge=[];if(i.length&&ge.push(is(n.context,le,i!=null?i:[],!0)),G&&!le.has(G.login)&&re.findIndex(Ie=>Ie.login===G.login)!==-1&&ge.push(is(n.context,le,[G],!1)),Q.length&&ge.push(is(n.context,le,Q,!1)),ge.length!==0&&ge.unshift(Promise.resolve([{kind:s.QuickPickItemKind.Separator,label:s.l10n.t("Suggestions")}])),re.length){const Ie=re.length>80;ge.push(is(n.context,le,re,!1,Ie))}const Re=(await Promise.all(ge)).flat();if(Re.length===0&&Re.push({label:s.l10n.t("No assignees available for this repository")}),a){const Ie=G!=null?G:await n.getCurrentUser(e);Re.length!==0&&Re.unshift({kind:s.QuickPickItemKind.Separator,label:s.l10n.t("Users")}),Re.unshift({label:s.l10n.t("Assign yourself"),user:Ie})}return Re}function Dg(n){return jt(n)?new s.ThemeIcon("organization"):new s.ThemeIcon("account")}async function xg(n,e,t,i,r,a,o){var v;if(r=r.filter(Oe=>jt(Oe.reviewer)||Oe.reviewer.accountType!==nt.Bot),!a)return[];const I=await n.getAssignableUsers(),re=[...(v=(t?await n.getTeamReviewers(o):[])[e])!=null?v:[]];I[e]&&re.push(...I[e]);const le=new Set([i.login]),ge=[];r.length&&ge.push(is(n.context,le,r.map(Oe=>Oe.reviewer),!0)),ge.push(is(n.context,le,a,!1));const Re=re.length>60;ge.push(is(n.context,le,re,!1,Re));const Ie=(await Promise.all(ge)).flat();return Ie.length===0&&Ie.push({label:s.l10n.t("No reviewers available for this repository")}),Ie}async function Ef(n,e,t,i,r,a,o){const v=s.window.createQuickPick(),I=100,G=s.l10n.t("Add reviewers");v.busy=!0,v.canSelectMany=!0,v.matchOnDescription=!0,v.placeholder=G,t&&(v.buttons=[{iconPath:new s.ThemeIcon("organization"),tooltip:s.l10n.t("Show or refresh team reviewers")}]),v.show();const Q=async re=>{const le=setTimeout(()=>{v.placeholder=s.l10n.t("Getting team reviewers can take several minutes. Results will be cached.")},3e3),ge=performance.now();v.items=await xg(n,e,t,r,a,o,re),b.appendLine(`Setting quick pick reviewers took ${performance.now()-ge}ms`,"QuickPicks"),clearTimeout(le),v.selectedItems=v.items.filter(Re=>Re.picked),v.placeholder=G};return await Q(i!==0&&i<=I?Os.Try:Os.None),v.onDidTriggerButton(()=>{v.busy=!0,v.ignoreFocusOut=!0,Q(Os.Force).then(()=>{v.ignoreFocusOut=!1,v.busy=!1})}),v}function Fg(n){return!!n.id&&!!n.project}async function Tf(n,e,t,i){try{let r=[];async function a(){const v=await n.getAllProjects(e);return!v||!v.length?[{label:s.l10n.t("No projects created for this repository.")}]:v.map(G=>{const Q={iconPath:new s.ThemeIcon("github-project"),label:G.title,id:G.id,project:G};return t&&t.find(re=>re.id===G.id)&&r.push(Q),Q})}const o=s.window.createQuickPick();o.busy=!0,o.canSelectMany=!0,o.title=s.l10n.t("Set projects"),o.ignoreFocusOut=!0,o.show(),o.items=await a(),o.ignoreFocusOut=!1,o.items.length===1&&(o.canSelectMany=!1),o.selectedItems=r,o.busy=!1,n.getOrgProjects(!0),o.onDidAccept(async()=>{o.hide();const v=o.selectedItems.map(I=>Fg(I)?I.project:void 0).filter(I=>I!==void 0);v&&await i(v)})}catch(r){s.window.showErrorMessage(`Failed to add project: ${he(r)}`)}}function Og(n){return!!n.id&&!!n.milestone}async function Nf(n,e,t,i){try{const r={label:s.l10n.t("Remove Milestone")};let a;async function o(){var I;const G=(I=await e.getMilestones())==null?void 0:I.sort((re,le)=>re.dueOn&&le.dueOn?new Date(re.dueOn).getTime()-new Date(le.dueOn).getTime():re.dueOn?-1:le.dueOn?1:re.title.localeCompare(le.title));if(!G||!G.length)return[{label:s.l10n.t("No milestones created for this repository.")}];const Q=G.map(re=>{const le={iconPath:new s.ThemeIcon("milestone"),label:re.title,id:re.id,milestone:re};return t&&t.id===re.id&&(a=le),le});return t&&(Q.unshift({label:"Milestones",kind:s.QuickPickItemKind.Separator}),Q.unshift(r)),Q}const v=s.window.createQuickPick();v.busy=!0,v.canSelectMany=!1,v.title=s.l10n.t("Set milestone"),v.buttons=[{iconPath:new s.ThemeIcon("add"),tooltip:"Create"}],v.onDidTriggerButton(I=>{v.hide();const G=s.window.createInputBox();G.title=s.l10n.t("Create new milestone"),G.placeholder=s.l10n.t("New milestone title"),v.value!==""&&(G.value=v.value),G.show(),G.onDidAccept(async()=>{if(G.hide(),G.value!==""){if(G.value.length>255){s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The title can contain a maximum of 255 characters"));return}for(const Q of v.items)if(Q.label===G.value){s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The milestone '{0}' already exists",G.value));return}try{const Q=await n.createMilestone(e,G.value);Q!==void 0&&await i(Q)}catch(Q){s.window.showErrorMessage(`Failed to create milestone: ${he(Q)}`)}}})}),v.show(),v.items=await o(),v.activeItems=a?[a]:t?[v.items[1]]:[v.items[0]],v.busy=!1,v.onDidAccept(async()=>{v.hide();const I=v.selectedItems[0];I&&Og(I)?await i(I.milestone):I&&I===r&&await i(void 0)})}catch(r){s.window.showErrorMessage(`Failed to add milestone: ${he(r)}`)}}async function Cf(n,e,t,i){const r=await n.getLabels(void 0,{owner:t,repo:i}),a=r.map(o=>{var v;return{label:o.name,description:(v=o.description)!=null?v:void 0,picked:e.some(I=>I.name===o.name),iconPath:na.asImageDataURI(qe.Buffer.from(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect x="2" y="2" width="12" height="12" rx="6" fill="#${o.color}"/>
				</svg>`,"utf8"))}}).sort((o,v)=>o.picked===v.picked?o.label.localeCompare(v.label):o.picked?-1:1);return{newLabels:r,labelPicks:a}}async function Lg(n,e){async function t(){return(await n.getAuthenticatedUserEmails()).map(a=>({label:a,picked:a.toLowerCase()===e.toLowerCase()}))}const i=await s.window.showQuickPick(t(),{canPickMany:!1,title:s.l10n.t("Choose an email")});return i?i.label:void 0}var Ug=Kt(65606),Bg=Object.defineProperty,qg=(n,e,t)=>e in n?Bg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,La=(n,e,t)=>qg(n,typeof e!="symbol"?e+"":e,t);const xl=class ha extends gf{constructor(e,t,i,r,a,o=ha._viewType,v){super(),this._telemetry=e,this._extensionUri=t,this.type=o,La(this,"_panel"),La(this,"_item"),La(this,"_folderRepositoryManager"),La(this,"_scrollPosition",{x:0,y:0}),La(this,"refreshIntervalSetting"),this._folderRepositoryManager=a,this._panel=this._register(s.window.createWebviewPanel(o,r,i,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[s.Uri.joinPath(t,"dist")],enableFindWidget:!0})),v&&(this._panel.iconPath={dark:s.Uri.joinPath(t,v.dark),light:s.Uri.joinPath(t,v.light)}),this._webview=this._panel.webview,super.initialize(),this._register(this._panel.onDidDispose(()=>this.dispose())),this._register(this._folderRepositoryManager.onDidChangeActiveIssue(I=>{if(this._folderRepositoryManager&&this._item){const G=this._item.equals(this._folderRepositoryManager.activeIssue);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:G})}})),this.pollForUpdates(!0)}static async createOrShow(e,t,i,r,a=!1){const o=a?s.ViewColumn.Beside:s.window.activeTextEditor?s.window.activeTextEditor.viewColumn:s.ViewColumn.One;if(ha.currentPanel)ha.currentPanel._panel.reveal(o,!0);else{const v=`Issue #${r.number.toString()}`;ha.currentPanel=new ha(e,t,o||s.ViewColumn.Active,v,i)}await ha.currentPanel.update(i,r)}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}setPanelTitle(e){try{this._panel.title=e}catch{}}getRefreshInterval(){return s.workspace.getConfiguration().get(`githubPullRequests.${sn}`)||60}pollForUpdates(e=!1){const i=1e3*(e||s.window.tabGroups.all.find(a=>{var o;return((o=a.activeTab)==null?void 0:o.input)instanceof s.TabInputWebview&&a.activeTab.input.viewType.endsWith(this.type)})?this.getRefreshInterval():5*60),r=setTimeout(async()=>{await this.refreshPanel(),this.pollForUpdates()},i);this.refreshIntervalSetting||(this.refreshIntervalSetting=s.workspace.onDidChangeConfiguration(a=>{a.affectsConfiguration(`githubPullRequests.${sn}`)&&(clearTimeout(r),this.pollForUpdates(!0))}))}async refreshPanel(){this._panel&&this._panel.visible&&this.update(this._folderRepositoryManager,this._item)}continueOnGitHub(){return Wl()}getInitializeContext(e,t,i,r,a,o,v){var I;const G=a.hasWritePermission,Q=G||o;return{number:t.number,title:t.title,titleHTML:t.titleHTML,url:t.html_url,createdAt:t.createdAt,body:t.body,bodyHTML:t.bodyHTML,labels:t.item.labels,author:t.author,state:t.state,events:r,continueOnGitHub:this.continueOnGitHub(),canEdit:Q,hasWritePermission:G,isIssue:!0,projectItems:t.item.projectItems,milestone:t.milestone,assignees:(I=t.assignees)!=null?I:[],isEnterprise:t.githubRepository.remote.isEnterprise,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,canAssignCopilot:v.find(le=>Tn[le.login])!==void 0,reactions:t.item.reactions,isAuthor:[t.author,...i].find(le=>le.login===e.login)!==void 0}}async updateIssue(e){var t;try{const[i,r,a,o,v,I]=await Promise.all([this._folderRepositoryManager.resolveIssue(e.remote.owner,e.remote.repositoryName,e.number),e.getIssueTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.canEdit(),this._folderRepositoryManager.getAssignableUsers(),this._folderRepositoryManager.getCurrentUser()]);if(!i)throw new Error(`Fail to resolve issue #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);this._item=i,this.setPanelTitle(`Issue #${e.number.toString()}`),b.debug("pr.initialize",ha.ID),this._postMessage({command:"pr.initialize",pullrequest:this.getInitializeContext(I,i,[],r,a,o,(t=v[this._item.remote.remoteName])!=null?t:[])})}catch(i){s.window.showErrorMessage(`Error updating issue description: ${he(i)}`)}}async update(e,t){return this._folderRepositoryManager=e,this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),this._panel.webview.html=this.getHtmlForWebview(),this.updateIssue(t)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":s.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.submit":return this.submitReviewMessage(e);case"scroll":this._scrollPosition=e.args.scrollPosition;return;case"pr.edit-comment":return this.editComment(e);case"pr.delete-comment":return this.deleteComment(e);case"pr.edit-description":return this.editDescription(e);case"pr.edit-title":return this.editTitle(e);case"pr.refresh":this.refreshPanel();return;case"pr.add-labels":return this.addLabels(e);case"pr.remove-label":return this.removeLabel(e);case"pr.change-assignees":return this.changeAssignees(e);case"pr.remove-milestone":return this.removeMilestone(e);case"pr.add-milestone":return this.addMilestone(e);case"pr.change-projects":return this.changeProjects(e);case"pr.remove-project":return this.removeProject(e);case"pr.add-assignee-yourself":return this.addAssigneeYourself(e);case"pr.add-assignee-copilot":return this.addAssigneeCopilot(e);case"pr.copy-prlink":return this.copyItemLink();case"pr.copy-vscodedevlink":return this.copyVscodeDevLink();case"pr.openOnGitHub":return la(this._item,this._item._telemetry);case"pr.debug":return this.webviewDebug(e);default:return this.MESSAGE_UNHANDLED}}submitReviewMessage(e){return this.createComment(e)}async addLabels(e){const t=s.window.createQuickPick();try{let i=[];t.busy=!0,t.canSelectMany=!0,t.show(),t.items=await Cf(this._folderRepositoryManager,this._item.item.labels,this._item.remote.owner,this._item.remote.repositoryName).then(v=>(i=v.newLabels,v.labelPicks)),t.selectedItems=t.items.filter(v=>v.picked),t.busy=!1;const r=Ee(t.onDidAccept).then(()=>t.selectedItems),a=Ee(t.onDidHide),o=await Promise.race([r,a]);if(t.busy=!0,t.enabled=!1,o){await this._item.setLabels(o.map(I=>I.label));const v=o.map(I=>i.find(G=>G.name===I.label));this._item.item.labels=v,await this._replyMessage(e,{added:v})}}catch(i){s.window.showErrorMessage(he(i))}finally{t.hide(),t.dispose()}}async removeLabel(e){try{await this._item.removeLabel(e.args);const t=this._item.item.labels.findIndex(i=>i.name===e.args);this._item.item.labels.splice(t,1),this._replyMessage(e,{})}catch(t){s.window.showErrorMessage(he(t))}}webviewDebug(e){b.debug(e.args,ha.ID)}editDescription(e){this._item.edit({body:e.args.text}).then(t=>{this._replyMessage(e,{body:t.body,bodyHTML:t.bodyHTML})}).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(`Editing description failed: ${he(t)}`)})}editTitle(e){return this._item.edit({title:e.args.text}).then(t=>this._replyMessage(e,{titleHTML:t.titleHTML})).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(`Editing title failed: ${he(t)}`)})}async changeAssignees(e){var t;const i=s.window.createQuickPick();try{i.busy=!0,i.canSelectMany=!0,i.matchOnDescription=!0,i.show(),i.items=await Rf(this._folderRepositoryManager,void 0,this._item.remote.remoteName,(t=this._item.assignees)!=null?t:[],this._item),i.selectedItems=i.items.filter(v=>v.picked),i.busy=!1;const r=Ee(i.onDidAccept).then(()=>i.selectedItems.filter(v=>v.user)),a=Ee(i.onDidHide),o=await Promise.race([r,a]);if(i.busy=!0,i.enabled=!1,o){const v=o.map(Q=>Q.user);await this._item.replaceAssignees(v);const I=await this._item.getIssueTimelineEvents(),G={assignees:v,events:I};await this._replyMessage(e,G)}}catch(r){s.window.showErrorMessage(he(r))}finally{i.hide(),i.dispose()}}async addMilestone(e){return Nf(this._folderRepositoryManager,this._item.githubRepository,this._item.milestone,t=>this.updateMilestone(t,e))}async updateMilestone(e,t){if(!e)return this.removeMilestone(t);await this._item.updateMilestone(e.id),this._replyMessage(t,{added:e})}async removeMilestone(e){try{await this._item.updateMilestone("null"),this._replyMessage(e,{})}catch(t){s.window.showErrorMessage(he(t))}}async changeProjects(e){var t;return Tf(this._folderRepositoryManager,this._item.githubRepository,(t=this._item.item.projectItems)==null?void 0:t.map(i=>i.project),i=>this.updateProjects(i,e))}async updateProjects(e,t){var i;let r=[];e&&(r=(i=await this._item.updateProjects(e))!=null?i:[]);const a={projectItems:r};return this._replyMessage(t,a)}async removeProject(e){return await this._item.removeProjects([e.args]),this._replyMessage(e,{})}async addAssigneeYourself(e){var t,i,r;try{const a=await this._folderRepositoryManager.getCurrentUser();if(!((t=this._item.assignees)==null?void 0:t.find(G=>G.login===a.login))){const G=((i=this._item.assignees)!=null?i:[]).concat(a);await this._item.replaceAssignees(G)}const v=await this._item.getIssueTimelineEvents(),I={assignees:(r=this._item.assignees)!=null?r:[],events:v};this._replyMessage(e,I)}catch(a){s.window.showErrorMessage(he(a))}}async addAssigneeCopilot(e){var t,i;try{const r=(await this._folderRepositoryManager.getAssignableUsers())[this._item.remote.remoteName].find(v=>Tn[v.login]);if(r){const v=((t=this._item.assignees)!=null?t:[]).concat(r);await this._item.replaceAssignees(v)}const a=await this._item.getIssueTimelineEvents(),o={assignees:(i=this._item.assignees)!=null?i:[],events:a};this._replyMessage(e,o)}catch(r){s.window.showErrorMessage(he(r))}}async copyItemLink(){return s.env.clipboard.writeText(this._item.html_url)}async copyVscodeDevLink(){return s.env.clipboard.writeText(pc(this._item))}editCommentPromise(e,t){return this._item.editIssueComment(e,t)}editComment(e){this.editCommentPromise(e.args.comment,e.args.text).then(t=>{this._replyMessage(e,{body:t.body,bodyHTML:t.bodyHTML})}).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(he(t))})}deleteCommentPromise(e){return this._item.deleteIssueComment(e.id.toString())}deleteComment(e){s.window.showWarningMessage(s.l10n.t("Are you sure you want to delete this comment?"),{modal:!0},"Delete").then(t=>{t==="Delete"&&this.deleteCommentPromise(e.args).then(i=>{this._replyMessage(e,{})}).catch(i=>{this._throwError(e,i),s.window.showErrorMessage(he(i))})})}close(e){s.commands.executeCommand("pr.close",this._item,e.args).then(t=>{t?this._replyMessage(e,{value:t}):this._throwError(e,"Close cancelled")})}createComment(e){return this._item.createIssueComment(e.args).then(t=>{const i={...t,event:Bi.Commented};return this._replyMessage(e,{event:i})})}set _currentPanel(e){ha.currentPanel=e}dispose(){super.dispose(),this._currentPanel=void 0,this._webview=void 0}getHtmlForWebview(){const e=rc(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-pr-description.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; media-src https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body class="${Ug.platform}">
		<div id=app></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}getCurrentTitle(){return this._panel.title}getCurrentItem(){return this._item}};La(xl,"ID","IssueOverviewPanel"),La(xl,"currentPanel"),La(xl,"_viewType","IssueOverview");let Pf=xl;var Fl;(n=>{async function e(t,i){var r;const a=await t.getBranchNameForPullRequest(i),o=[],v=await t.getPullRequestRepositoryDefaultBranch(i);if(i.isResolved()){const Q=i.head.ref,re=t.findRepo(ge=>ge.remote.owner===i.head.owner&&ge.remote.repositoryName===i.remote.repositoryName);!(v===i.head.ref)&&!i.isRemoteHeadDeleted&&o.push({label:s.l10n.t("Delete remote branch {0}",`${re==null?void 0:re.remote.remoteName}/${Q}`),description:`${i.remote.normalizedHost}/${i.head.repositoryCloneUrl.owner}/${i.remote.repositoryName}`,type:"remoteHead",picked:!0})}if(a){const Q=s.workspace.getConfiguration(it).get(`${bi}.${_i}`);o.push({label:s.l10n.t("Delete local branch {0}",a.branch),type:"local",picked:!!Q});const re=s.workspace.getConfiguration(it).get(`${bi}.${Hi}`);a.remote&&a.createdForPullRequest&&!a.remoteInUse&&o.push({label:s.l10n.t("Delete remote {0}, which is no longer used by any other branch",a.remote),type:"remote",picked:!!re})}if(s.env.remoteName==="codespaces"&&o.push({label:s.l10n.t("Suspend Codespace"),type:"suspend"}),!o.length)return s.window.showWarningMessage(s.l10n.t("There is no longer an upstream or local branch for Pull Request #{0}",i.number)),{isReply:!0,message:{cancelled:!0}};const I=await s.window.showQuickPick(o,{canPickMany:!0,ignoreFocusOut:!0}),G=[];if(I){const Q=i.equals(t.activePullRequest)||((r=t.repository.state.HEAD)==null?void 0:r.name)&&t.repository.state.HEAD.name===(a==null?void 0:a.branch),re=I.map(async le=>{switch(le.type){case"remoteHead":await t.deleteBranch(i),G.push(le.type),await t.repository.fetch({prune:!0}),t.repository.rootUri.scheme===$t.VscodeVfs&&await t.repository.checkout(v);return;case"local":if(Q){if(t.repository.state.workingTreeChanges.length){const ge=s.l10n.t("Yes");if(await s.window.showWarningMessage(s.l10n.t("Your local changes will be lost, do you want to continue?"),{modal:!0},ge)===ge)await s.commands.executeCommand("git.cleanAll");else return}await t.repository.checkout(v)}return await t.repository.deleteBranch(a.branch,!0),G.push(le.type);case"remote":return G.push(le.type),t.repository.removeRemote(a.remote);case"suspend":return G.push(le.type),s.commands.executeCommand("github.codespaces.disconnectSuspend")}});return await Promise.all(re),s.commands.executeCommand("pr.refreshList"),{isReply:!1,message:{command:"pr.deleteBranch",branchTypes:G}}}else return{isReply:!0,message:{cancelled:!0}}}n.deleteBranch=e})(Fl||(Fl={}));var ns=(n=>(n.Comment="comment",n.Approve="approve",n.RequestChanges="requestChanges",n))(ns||{}),Ol=(n=>(n[n.None=0]="None",n[n.Available=1]="Available",n[n.ReviewedWithComments=2]="ReviewedWithComments",n[n.ReviewedWithoutComments=3]="ReviewedWithoutComments",n))(Ol||{}),Hg=Object.defineProperty,Gg=(n,e,t)=>e in n?Hg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rs=(n,e,t)=>Gg(n,typeof e!="symbol"?e+"":e,t);const oc=class Gr extends Pf{constructor(e,t,i,r,a){super(e,t,i,r,a,nc,{light:"resources/icons/pr_webview.svg",dark:"resources/icons/dark/pr_webview.svg"}),rs(this,"_repositoryDefaultBranch"),rs(this,"_existingReviewers",[]),rs(this,"_teamsCount",0),rs(this,"_prListeners",[]),rs(this,"_isUpdating",!1),this.registerPrListeners(),this._register(Xh(o=>{o&&this._item.update(o),this._postMessage({command:"update-state",state:this._item.state})})),this.setVisibilityContext(),this._register(this._panel.onDidChangeViewState(()=>this.setVisibilityContext())),this._register(a.onDidMergePullRequest(o=>{this._postMessage({command:"update-state",state:Gt.Merged})})),this._register(a.credentialStore.onDidUpgradeSession(()=>{this.updatePullRequest(this._item)})),this._register(s.commands.registerCommand("review.approveDescription",o=>this.approvePullRequestCommand(o))),this._register(s.commands.registerCommand("review.commentDescription",o=>this.submitReviewCommand(o))),this._register(s.commands.registerCommand("review.requestChangesDescription",o=>this.requestChangesCommand(o))),this._register(s.commands.registerCommand("review.approveOnDotComDescription",()=>la(this._item,this._item._telemetry))),this._register(s.commands.registerCommand("review.requestChangesOnDotComDescription",()=>la(this._item,this._item._telemetry)))}static async createOrShow(e,t,i,r,a=!1,o=!0){const v=a?s.ViewColumn.Beside:s.window.activeTextEditor?s.window.activeTextEditor.viewColumn:s.ViewColumn.One;if(Gr.currentPanel)Gr.currentPanel._panel.reveal(v,o);else{const I=`Pull Request #${r.number.toString()}`;Gr.currentPanel=new Gr(e,t,v||s.ViewColumn.Active,I,i)}await Gr.currentPanel.update(i,r)}set _currentPanel(e){Gr.currentPanel=e}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}static scrollToReview(){this.currentPanel&&this.currentPanel._postMessage({command:"pr.scrollToPendingReview"})}registerPrListeners(){_(this._prListeners),this._prListeners.push(this._folderRepositoryManager.onDidChangeActivePullRequest(e=>{if(this._folderRepositoryManager&&this._item){const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:t})}})),this._item&&this._prListeners.push(this._item.onDidChangeComments(()=>{this._isUpdating||this.refreshPanel()}))}setVisibilityContext(){return lt.setContext(Ri.PULL_REQUEST_DESCRIPTION_VISIBLE,this._panel.visible)}getCurrentUserReviewState(e,t){const i=e.find(r=>Et(r.reviewer)===t.login);return i==null?void 0:i.state}isUpdateBranchWithGitHubEnabled(){return this._item.isActive||s.workspace.getConfiguration(it).get("experimentalUpdateBranchWithGitHub",!1)}continueOnGitHub(){const e=!!this._item.base&&!!this._item.head&&!this._item.base.repositoryCloneUrl.equals(this._item.head.repositoryCloneUrl);return super.continueOnGitHub()&&e}async updatePullRequest(e){var t,i;try{const[r,a,o,v,I,G,Q,re,le,ge,Re,Ie,Oe,ue,ye]=await Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),e.getTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(e),e.getStatusChecks(),e.getReviewRequests(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),this._folderRepositoryManager.getBranchNameForPullRequest(e),this._folderRepositoryManager.getCurrentUser(e.githubRepository),e.canEdit(),this._folderRepositoryManager.getOrgTeamsCount(e.githubRepository),this._folderRepositoryManager.mergeQueueMethodForBranch(e.base.ref,e.remote.owner,e.remote.repositoryName),this._folderRepositoryManager.isHeadUpToDateWithBase(e),e.getMergeability(),this._folderRepositoryManager.getPreferredEmail(e),e.getCoAuthors()]);if(!r)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);this._item=r,this.registerPrListeners(),this._repositoryDefaultBranch=o,this._teamsCount=ge,this.setPanelTitle(`Pull Request #${e.number.toString()}`);const Te=e.equals(this._folderRepositoryManager.activePullRequest),Ae=G.mergeMethodsAvailability,Ue=Ll(Ae);this._existingReviewers=eh(I,a,r.author);const We=this.isUpdateBranchWithGitHubEnabled(),ze=this.getCurrentUserReviewState(this._existingReviewers,re);b.debug("pr.initialize",Gr.ID);const It={...this.getInitializeContext(re,r,ye,a,G,le,[]),isCurrentlyCheckedOut:Te,isRemoteBaseDeleted:r.isRemoteBaseDeleted,base:r.base.label,isRemoteHeadDeleted:r.isRemoteHeadDeleted,isLocalHeadDeleted:!Q,head:(i=(t=r.head)==null?void 0:t.label)!=null?i:"",repositoryDefaultBranch:o,status:v[0],reviewRequirement:v[1],canUpdateBranch:r.item.viewerCanUpdate&&!Ie&&We,mergeable:Oe.mergeability,reviewers:this._existingReviewers,isDraft:r.isDraft,mergeMethodsAvailability:Ae,defaultMergeMethod:Ue,autoMerge:r.autoMerge,allowAutoMerge:r.allowAutoMerge,autoMergeMethod:r.autoMergeMethod,mergeQueueMethod:Re,mergeQueueEntry:r.mergeQueueEntry,mergeCommitMeta:r.mergeCommitMeta,squashCommitMeta:r.squashCommitMeta,isIssue:!1,emailForCommit:ue,currentUserReviewState:ze,revertable:r.state===Gt.Merged};this._postMessage({command:"pr.initialize",pullrequest:It}),r.isResolved()&&this._folderRepositoryManager.checkBranchUpToDate(r,!0)}catch(r){s.window.showErrorMessage(`Error updating pull request description: ${he(r)}`)}}async update(e,t){return this._folderRepositoryManager!==e&&(this._folderRepositoryManager=e,this.registerPrListeners()),this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),(!this._item||this._item.number!==t.number||!this._panel.webview.html)&&(this._panel.webview.html=this.getHtmlForWebview()),s.window.withProgress({location:{viewId:"pr:github"}},()=>this.updatePullRequest(t))}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.checkout":return this.checkoutPullRequest(e);case"pr.merge":return this.mergePullRequest(e);case"pr.change-email":return this.changeEmail(e);case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequestMessage(e);case"pr.request-changes":return this.requestChangesMessage(e);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e);case"pr.apply-patch":return this.applyPatch(e);case"pr.open-diff":return this.openDiff(e);case"pr.resolve-comment-thread":return this.resolveCommentThread(e);case"pr.checkMergeability":return this._replyMessage(e,await this._item.getMergeability());case"pr.change-reviewers":return this.changeReviewers(e);case"pr.update-automerge":return this.updateAutoMerge(e);case"pr.dequeue":return this.dequeue(e);case"pr.enqueue":return this.enqueue(e);case"pr.update-branch":return this.updateBranch(e);case"pr.gotoChangesSinceReview":return this.gotoChangesSinceReview();case"pr.re-request-review":return this.reRequestReview(e);case"pr.revert":return this.revert(e)}}gotoChangesSinceReview(){this._item.showChangesSinceReview=!0}async changeReviewers(e){let t;try{t=await Ef(this._folderRepositoryManager,this._item.remote.remoteName,this._item.base.isInOrganization,this._teamsCount,this._item.author,this._existingReviewers,this._item.suggestedReviewers),t.busy=!1;const i=Ee(t.onDidAccept).then(()=>{const o=t==null?void 0:t.selectedItems.filter(I=>I.user).map(I=>I.user),v=this._existingReviewers.filter(I=>!jt(I.reviewer)&&I.reviewer.accountType==="Bot").map(I=>I.reviewer);return o.concat(v)}),r=Ee(t.onDidHide),a=await Promise.race([i,r]);if(t.busy=!0,t.enabled=!1,a){const o=[],v=[];a.forEach(re=>{(jt(re)?v:o).push(re)});const I=[],G=[];this._existingReviewers.forEach(re=>{let le=jt(re.reviewer)?v:o,ge=jt(re.reviewer)?G:I;le.find(Re=>Re.id===re.reviewer.id)||ge.push(re.reviewer)}),await this._item.requestReview(o,v),await this._item.deleteReviewRequest(I,G);const Q=a.map(re=>({reviewer:re,state:"REQUESTED"}));this._existingReviewers=Q,await this._replyMessage(e,{reviewers:Q})}}catch(i){b.error(he(i),Gr.ID),s.window.showErrorMessage(he(i))}finally{t==null||t.hide(),t==null||t.dispose()}}async applyPatch(e){try{const t=e.args.comment,r=/```diff\n([\s\S]*)\n```/g.exec(t.body),a=s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,".git",`${t.id}.diff`),o=new TextEncoder;await s.workspace.fs.writeFile(a,o.encode(r[1])),await this._folderRepositoryManager.repository.apply(a.fsPath),await s.workspace.fs.delete(a),s.window.showInformationMessage("Patch applied!")}catch(t){b.error(`Applying patch failed: ${t}`,Gr.ID),s.window.showErrorMessage(`Applying patch failed: ${he(t)}`)}}async openDiff(e){try{const t=e.args.comment;return Mn.openDiffFromComment(this._folderRepositoryManager,this._item,t)}catch(t){b.error(`Open diff view failed: ${he(t)}`,Gr.ID)}}async resolveCommentThread(e){try{e.args.toResolve?await this._item.resolveReviewThread(e.args.threadId):await this._item.unresolveReviewThread(e.args.threadId);const t=await this._item.getTimelineEvents();this._replyMessage(e,t)}catch(t){s.window.showErrorMessage(t),this._replyMessage(e,void 0)}}checkoutPullRequest(e){s.commands.executeCommand("pr.pick",this._item).then(()=>{const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(e,{isCurrentlyCheckedOut:t})},()=>{const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(e,{isCurrentlyCheckedOut:t})})}mergePullRequest(e){const{title:t,description:i,method:r,email:a}=e.args;this._folderRepositoryManager.mergePullRequest(this._item,t,i,r,a).then(o=>{s.commands.executeCommand("pr.refreshList"),o.merged||s.window.showErrorMessage(`Merging PR failed: ${o.message}`);const v={state:o.merged?Gt.Merged:Gt.Open,revertable:o.merged,events:o.timeline};this._replyMessage(e,v)}).catch(o=>{s.window.showErrorMessage(`Unable to merge pull request. ${he(o)}`),this._throwError(e,{})})}async changeEmail(e){const t=await Lg(this._item.githubRepository,e.args);return t&&this._folderRepositoryManager.saveLastUsedEmail(t),this._replyMessage(e,t!=null?t:e.args)}async deleteBranch(e){const t=await Fl.deleteBranch(this._folderRepositoryManager,this._item);t.isReply?this._replyMessage(e,t.message):(this.refreshPanel(),this._postMessage(t.message))}setReadyForReview(e){this._item.setReadyForReview().then(t=>{s.commands.executeCommand("pr.refreshList"),this._replyMessage(e,t)}).catch(t=>{s.window.showErrorMessage(`Unable to set PR ready for review. ${he(t)}`),this._throwError(e,{})})}async checkoutDefaultBranch(e){var t;try{const i=(t=this._folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name;await this._folderRepositoryManager.checkoutDefaultBranch(e.args),i&&await this._folderRepositoryManager.cleanupAfterPullRequest(i,this._item)}finally{this._replyMessage(e,{})}}updateReviewers(e){if(e&&e.state){const t=this._existingReviewers.find(i=>e.user.login===i.reviewer.login);t?t.state=e.state:this._existingReviewers.push({reviewer:e.user,state:e.state})}}async doReviewCommand(e,t,i){const r={command:"pr.submitting-review",lastReviewType:t};this._postMessage(r);try{const a=await i(e.body);this.updateReviewers(a);const o={command:"pr.append-review",event:a,reviewers:this._existingReviewers};await this._postMessage(o)}catch(a){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",he(a))),this._throwError(void 0,`${he(a)}`)}finally{this._postMessage({command:"pr.append-review"})}}async doReviewMessage(e,t){try{const i=await t(e.args);this.updateReviewers(i),this._replyMessage(e,{review:i,reviewers:this._existingReviewers})}catch(i){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",he(i))),this._throwError(e,`${he(i)}`)}}approvePullRequest(e){return this._item.approve(this._folderRepositoryManager.repository,e)}approvePullRequestMessage(e){return this.doReviewMessage(e,t=>this.approvePullRequest(t))}approvePullRequestCommand(e){return this.doReviewCommand(e,ns.Approve,t=>this.approvePullRequest(t))}requestChanges(e){return this._item.requestChanges(e)}requestChangesCommand(e){return this.doReviewCommand(e,ns.RequestChanges,t=>this.requestChanges(t))}requestChangesMessage(e){return this.doReviewMessage(e,t=>this.requestChanges(t))}submitReview(e){return this._item.submitReview(Mt.Comment,e)}submitReviewCommand(e){return this.doReviewCommand(e,ns.Comment,t=>this.submitReview(t))}submitReviewMessage(e){return this.doReviewMessage(e,t=>this.submitReview(t))}reRequestReview(e){let t;const i=[],r=[];for(const a of this._existingReviewers){let o=a.reviewer.id;o&&(a.state==="REQUESTED"||o===e.args)&&o===e.args&&(t=a)}t&&jt(t.reviewer)?r.push(t.reviewer):t&&!jt(t.reviewer)&&i.push(t.reviewer),this._item.requestReview(i,r,!0).then(()=>{t&&(t.state="REQUESTED"),this._replyMessage(e,{reviewers:this._existingReviewers})})}async revert(e){await this._folderRepositoryManager.createPullRequestHelper.revert(this._telemetry,this._extensionUri,this._folderRepositoryManager,this._item,async t=>{const i={revertable:!t};return this._replyMessage(e,i)})}async updateAutoMerge(e){let t;!e.args.autoMerge&&!this._item.autoMerge?t={autoMerge:!1}:e.args.autoMerge===!1&&this._item.autoMerge?(await this._item.disableAutoMerge(),t={autoMerge:this._item.autoMerge}):(this._item.autoMerge&&e.args.autoMergeMethod!==this._item.autoMergeMethod&&await this._item.disableAutoMerge(),await this._item.enableAutoMerge(e.args.autoMergeMethod),t={autoMerge:this._item.autoMerge,autoMergeMethod:this._item.autoMergeMethod}),this._replyMessage(e,t)}async dequeue(e){const t=await this._item.dequeuePullRequest();this._replyMessage(e,t)}async enqueue(e){const t=await this._item.enqueuePullRequest();this._replyMessage(e,{mergeQueueEntry:t})}async updateBranch(e){if(!this.isUpdateBranchWithGitHubEnabled())return await s.window.showErrorMessage(s.l10n.t("The pull request branch must be checked out to be updated."),{modal:!0}),this._replyMessage(e,{});if(this._folderRepositoryManager.repository.state.workingTreeChanges.length>0||this._folderRepositoryManager.repository.state.indexChanges.length>0)return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),this._replyMessage(e,{});await this._folderRepositoryManager.tryMergeBaseIntoHead(this._item,!0)||this._replyMessage(e,{});let i=zt.Unknown,r=5;do i=(await this._item.getMergeability()).mergeability,r--,await new Promise(o=>setTimeout(o,1e3));while(r>0&&i===zt.Unknown);const a={events:await this._item.getTimelineEvents(),mergeable:i};await this.refreshPanel(),this._replyMessage(e,a)}editCommentPromise(e,t){return this._item.editReviewComment(e,t)}deleteCommentPromise(e){return this._item.deleteReviewComment(e.id.toString())}dispose(){super.dispose(),_(this._prListeners)}};rs(oc,"ID","PullRequestOverviewPanel"),rs(oc,"currentPanel");let Tr=oc;function Ll(n){const e=s.workspace.getConfiguration(it).get(ii);return e&&n.hasOwnProperty(e)&&n[e]?e:["merge","squash","rebase"].find(i=>n[i])}var $g=Object.defineProperty,Vg=(n,e,t)=>e in n?$g(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jg=(n,e,t)=>Vg(n,typeof e!="symbol"?e+"":e,t);class Mf extends g{constructor(e,t){super(),this._folderRepoManager=e,this._telemetry=t,jg(this,"_commentController")}get commentController(){return this._commentController}githubReposForPullRequest(e){const t=e?[e.githubRepository]:void 0;if(t&&(e!=null&&e.head)){const i=this._folderRepoManager.findExistingGitHubRepository({owner:e.head.owner,repositoryName:e.remote.repositoryName});i&&t.push(i)}return t}}var Wg=Object.defineProperty,zg=(n,e,t)=>e in n?Wg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Fs=(n,e,t)=>zg(n,typeof e!="symbol"?e+"":e,t);const Af=class wv extends Mf{constructor(e,t,i,r){if(super(t,r),this.pullRequestModel=e,Fs(this,"_pendingCommentThreadAdds",[]),Fs(this,"_commentHandlerId"),Fs(this,"_commentThreadCache",{}),Fs(this,"_context"),Fs(this,"_githubRepositories"),this._commentController=i,this._context=t.context,this._commentHandlerId=vf(),Pt(this._commentHandlerId,this,t.repository),this.pullRequestModel.reviewThreadsCacheReady)this.initializeThreadsInOpenEditors().then(()=>{this.registerListeners()});else{const a=this.pullRequestModel.onDidChangeReviewThreads(async()=>{a.dispose(),await this.initializeThreadsInOpenEditors(),this.registerListeners()})}this._githubRepositories=this.githubReposForPullRequest(e)}registerListeners(){this._register(this.pullRequestModel.onDidChangeReviewThreads(e=>this.onDidChangeReviewThreads(e))),this._register(s.window.tabGroups.onDidChangeTabs(async e=>this.onDidChangeOpenTabs(e))),this._register(this.pullRequestModel.onDidChangePendingReviewState(e=>{for(const t in this._commentThreadCache)this._commentThreadCache[t].forEach(i=>{$f(i,e)})})),this._register(s.window.onDidChangeActiveTextEditor(e=>{this.refreshContextKey(e)}))}refreshContextKey(e){if(!e)return;const t=e.document.uri;if(t.scheme!==$t.Pr)return;const i=cn(t);!i||i.prNumber!==this.pullRequestModel.number||this.setContextKey(this.pullRequestModel.hasPendingReview)}async getPREditors(e){const t=[],i=r=>{const a=cn(r.uri);if(a&&a.prNumber===this.pullRequestModel.number)return r.editor?Promise.resolve(r.editor.document):(b.trace(`Opening text document for PR editor ${r.uri.toString()}`,wv.ID),s.workspace.openTextDocument(r.uri))};for(const r of e){const a=[];r instanceof s.TabInputText?a.push({uri:r.uri}):r instanceof s.TabInputTextDiff?a.push({uri:r.original},{uri:r.modified}):a.push({uri:r.document.uri,editor:r}),t.push(...a.map(i).filter(o=>!!o))}return Promise.all(t)}getCommentThreadCacheKey(e,t){return`${e}-${t?"original":"modified"}`}async addThreadsForEditors(e){const t=this.pullRequestModel.reviewThreadsCache,i=te(t,a=>a.path),r=await this._folderRepoManager.getCurrentUser();for(const a of e){const{fileName:o,isBase:v}=cn(a.uri),I=this.getCommentThreadCacheKey(o,v);this._commentThreadCache[I]||i[o]&&(this._commentThreadCache[I]=i[o].filter(G=>(G.diffSide===Ui.LEFT&&v||G.diffSide===Ui.RIGHT&&!v)&&G.endLine!==null).map(G=>{const Q=G.endLine-1,re=G.subjectType===xn.FILE?void 0:Oo(G.startLine-1,Q,a.lineAt(Q).range.end.character);return Lo(this._context,a.uri,re,G,this._commentController,r,this._githubRepositories)}))}}async initializeThreadsInOpenEditors(){const e=await this.getPREditors(s.window.visibleTextEditors);return this.addThreadsForEditors(e)}allTabs(){return this.filterTabsToPrTabs(s.window.tabGroups.all.map(e=>e.tabs).flat())}filterTabsToPrTabs(e){return e.filter(t=>t.input instanceof s.TabInputText||t.input instanceof s.TabInputTextDiff).map(t=>t.input)}prDescriptionOpened(e){return e.some(t=>t.input instanceof s.TabInputWebview&&t.label.includes(`#${this.pullRequestModel.number}`)&&t.input.viewType.includes(nc))}async cleanClosedPrs(){const e=await this.getPREditors(this.allTabs()),t=this.prDescriptionOpened(s.window.tabGroups.all.map(i=>i.tabs).flat());e.length===0&&!t&&this.removeAllCommentsThreads()}async openAllTextDocuments(){const e=await Mn.getChangeModels(this._folderRepoManager,this.pullRequestModel),t=[];for(const i of e)t.push(await s.workspace.openTextDocument(i.filePath));return t}async onDidChangeOpenTabs(e){const t=await this.getPREditors(this.filterTabsToPrTabs(e.opened));if(t.length)await this.addThreadsForEditors(t);else if(this.prDescriptionOpened(e.opened)){const i=await this.openAllTextDocuments();await this.addThreadsForEditors(i)}e.closed.length>0&&(await new Promise(i=>setTimeout(i,100)),await this.cleanClosedPrs())}onDidChangeReviewThreads(e){e.added.forEach(async t=>{const i=t.path,r=this._pendingCommentThreadAdds.findIndex(v=>{const I=this._folderRepoManager.gitRelativeRootPath(v.uri.path)===t.path,G=v.range===void 0&&t.subjectType===xn.FILE||v.range&&v.range.end.line+1===t.endLine;return I&&G});let a;if(r>-1)a=this._pendingCommentThreadAdds[r],a.gitHubThreadId=t.id,a.comments=t.comments.map(v=>new En(this._context,v,a,this._githubRepositories)),Hf(this._context,a,t,this._githubRepositories),this._pendingCommentThreadAdds.splice(r,1);else{const I=(await this.getPREditors(s.window.visibleTextEditors)).find(G=>{const Q=cn(G.uri),re=t.diffSide===Ui.RIGHT&&!(Q!=null&&Q.isBase)||t.diffSide===Ui.LEFT&&(Q==null?void 0:Q.isBase);return(Q==null?void 0:Q.fileName)===i&&re});if(I){const G=t.endLine-1,Q=t.subjectType===xn.FILE?void 0:Oo(t.startLine-1,G,I.lineAt(G).range.end.character);a=Lo(this._context,I.uri,Q,t,this._commentController,await this._folderRepoManager.getCurrentUser(),this._githubRepositories)}}if(!a)return;const o=this.getCommentThreadCacheKey(t.path,t.diffSide===Ui.LEFT);this._commentThreadCache[o]?this._commentThreadCache[o].push(a):this._commentThreadCache[o]=[a]}),e.changed.forEach(t=>{const i=this.getCommentThreadCacheKey(t.path,t.diffSide===Ui.LEFT),r=this._commentThreadCache[i]?this._commentThreadCache[i].findIndex(a=>a.gitHubThreadId===t.id):-1;if(r>-1){const a=this._commentThreadCache[i][r];Hl(this._context,a,t,this._githubRepositories)}}),e.removed.forEach(async t=>{const i=this.getCommentThreadCacheKey(t.path,t.diffSide===Ui.LEFT),r=this._commentThreadCache[i].findIndex(a=>a.gitHubThreadId===t.id);if(r>-1){const a=this._commentThreadCache[i][r];this._commentThreadCache[i].splice(r,1),a.dispose()}})}hasCommentThread(e){if(e.uri.scheme!==$t.Pr)return!1;const t=cn(e.uri);return!(!t||t.prNumber!==this.pullRequestModel.number)}getCommentSide(e){const t=cn(e.uri);return t!=null&&t.isBase?Ui.LEFT:Ui.RIGHT}async createOrReplyComment(e,t,i,r){var a;const o=e.comments.length,v=i?!1:r!==void 0?r:this.pullRequestModel.hasPendingReview,I=await this.optimisticallyAddComment(e,t,v);try{if(o)await this.reply(e,t,i);else{const G=this._folderRepoManager.gitRelativeRootPath(e.uri.path),Q=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await Promise.all([this.pullRequestModel.createReviewThread(t,G,e.range?e.range.start.line+1:void 0,e.range?e.range.end.line+1:void 0,Q,i),ql(e,await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),this._context)])}i&&await this.pullRequestModel.submitReview()}catch(G){(a=G.graphQLErrors)!=null&&a.length&&G.graphQLErrors[0].type==="NOT_FOUND"?s.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then(Q=>{Q==="Refresh"&&this.pullRequestModel.invalidate()}):s.window.showErrorMessage(`Creating comment failed: ${G}`),e.comments=e.comments.map(Q=>(Q instanceof Er&&Q.id===I&&(Q.mode=s.CommentMode.Editing),Q))}}reply(e,t,i){const r=e.comments[0];if(r instanceof En)return this.pullRequestModel.createCommentReply(t,r.rawComment.graphNodeId,i);throw new Error("Cannot respond to temporary comment")}async optimisticallyEditComment(e,t){const i=await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),r=new Er(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!!t.label,i,t);return e.comments=e.comments.map(a=>a instanceof En&&a.commentId===t.commentId?r:a),r.id}async editComment(e,t){if(t instanceof En){const i=await this.optimisticallyEditComment(e,t);try{await this.pullRequestModel.editReviewComment(t.rawComment,t.body instanceof s.MarkdownString?t.body.value:t.body)}catch(r){s.window.showErrorMessage(`Editing comment failed ${r}`),e.comments=e.comments.map(a=>a instanceof Er&&a.id===i?new En(this._context,t.rawComment,e):a)}}else this.createOrReplyComment(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!1)}async deleteComment(e,t){t instanceof En?await this.pullRequestModel.deleteReviewComment(t.commentId):e.comments=e.comments.filter(i=>!(i instanceof Er&&i.id===t.id)),await this.pullRequestModel.validateDraftMode()}async startReview(e,t){var i;const r=e.comments.length;let a;try{if(a=await this.optimisticallyAddComment(e,t,!0),r)await this.reply(e,t,!1);else{const o=this._folderRepoManager.gitRelativeRootPath(e.uri.path),v=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(t,o,e.range?e.range.start.line+1:void 0,e.range?e.range.end.line+1:void 0,v)}this.setContextKey(!0)}catch(o){s.window.showErrorMessage("Starting review failed. Any review comments may be lost.",{modal:!0,detail:(i=o==null?void 0:o.message)!=null?i:o}),e.comments=e.comments.map(v=>(v instanceof Er&&v.id===a&&(v.mode=s.CommentMode.Editing),v))}}async openReview(){await Tr.createOrShow(this._telemetry,this._folderRepoManager.context.extensionUri,this._folderRepoManager,this.pullRequestModel),Tr.scrollToReview(),this._folderRepoManager.telemetry.sendTelemetryEvent("pr.openDescription")}async optimisticallyAddComment(e,t,i){const r=await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),a=new Er(e,t,i,r);return this.updateCommentThreadComments(e,[...e.comments,a]),a.id}updateCommentThreadComments(e,t){e.comments=t,Us(e)}async createCommentOnResolve(e,t){const i=await this.pullRequestModel.getPendingReviewId();await this.createOrReplyComment(e,t,!i)}async resolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this.pullRequestModel.resolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this.pullRequestModel.unresolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async toggleReaction(e,t){e.parent.uri.scheme===$t.Pr&&(e.reactions&&!e.reactions.find(i=>i.label===t.label&&!!i.authorHasReacted)?await this.pullRequestModel.addCommentReaction(e.rawComment.graphNodeId,t):await this.pullRequestModel.deleteCommentReaction(e.rawComment.graphNodeId,t))}setContextKey(e){s.commands.executeCommand("setContext","prInDraft",e)}removeAllCommentsThreads(){Object.keys(this._commentThreadCache).forEach(e=>{_(this._commentThreadCache[e]),delete this._commentThreadCache[e]})}dispose(){super.dispose(),this.removeAllCommentsThreads(),Fi(this._commentHandlerId)}};Fs(Af,"ID","PullRequestCommentController");let Kg=Af;var Qg=Object.defineProperty,Yg=(n,e,t)=>e in n?Qg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ul=(n,e,t)=>Yg(n,typeof e!="symbol"?e+"":e,t);class Xg extends g{constructor(e,t){super(),this.commentsController=e,this._telemetry=t,Ul(this,"_prCommentHandlers",{}),Ul(this,"_prCommentingRangeProviders",{}),Ul(this,"_activeChangeListeners",new Map),Ul(this,"resourceHints",{schemes:[$t.Pr]}),this.commentsController.commentingRangeProvider=this,this.commentsController.reactionHandler=this.toggleReaction.bind(this)}async provideCommentingRanges(e,t){const i=e.uri,r=cn(i);return!r||!this._prCommentingRangeProviders[r.prNumber]?void 0:this._prCommentingRangeProviders[r.prNumber].provideCommentingRanges.bind(this._prCommentingRangeProviders[r.prNumber])(e,t)}async toggleReaction(e,t){const i=e.parent.uri,r=cn(i);return!r||!this._prCommentHandlers[r.prNumber]||!this._prCommentHandlers[r.prNumber].handler.toggleReaction?void 0:this._prCommentHandlers[r.prNumber].handler.toggleReaction.bind(this._prCommentHandlers[r.prNumber].handler)(e,t)}unregisterCommentController(e){this._prCommentHandlers[e]&&(this._prCommentHandlers[e].dispose(),delete this._prCommentHandlers[e])}registerCommentController(e,t,i){if(this._prCommentHandlers[e])return this._prCommentHandlers[e].refCount+=1,this._prCommentHandlers[e];this._activeChangeListeners.has(i)||this._activeChangeListeners.set(i,i.onDidChangeActivePullRequest(a=>{var o;a.old&&((o=this._prCommentHandlers[a.old])==null||o.dispose())}));const r=new Kg(t,i,this.commentsController,this._telemetry);return this._prCommentHandlers[e]={handler:r,refCount:1,dispose:()=>{this._prCommentHandlers[e]&&(this._prCommentHandlers[e].refCount-=1,this._prCommentHandlers[e].refCount===0&&(this._prCommentHandlers[e].handler.dispose(),delete this._prCommentHandlers[e]))}},this._prCommentHandlers[e]}registerCommentingRangeProvider(e,t){return this._prCommentingRangeProviders[e]=t,{dispose:()=>{delete this._prCommentingRangeProviders[e]}}}dispose(){super.dispose(),Object.keys(this._prCommentHandlers).forEach(e=>{this._prCommentHandlers[e].handler.dispose()}),this._prCommentingRangeProviders={},this._prCommentHandlers={}}}function Do(n,e){const t=n.definitions,r=e.definitions.concat(t);return{...e,...n,definitions:r}}function XR(n){return!!n&&"name"in n&&"email"in n}function Jg(n){return!!n&&"slug"in n}var xo=(n=>(n.prTitle="PR_TITLE",n.commitOrPrTitle="COMMIT_OR_PR_TITLE",n.mergeMessage="MERGE_MESSAGE",n))(xo||{}),Bl=(n=>(n.prBody="PR_BODY",n.commitMessages="COMMIT_MESSAGES",n.blank="BLANK",n.prTitle="PR_TITLE",n))(Bl||{});function Zg(n){return n.__typename==="CheckRun"}var e0=Object.defineProperty,t0=(n,e,t)=>e in n?e0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Cn=(n,e,t)=>t0(n,typeof e!="symbol"?e+"":e,t);const If=class ma{constructor(e,t,i,r=!1){Cn(this,"id"),Cn(this,"graphNodeId"),Cn(this,"number"),Cn(this,"title"),Cn(this,"titleHTML"),Cn(this,"html_url"),Cn(this,"state",Gt.Open),Cn(this,"author"),Cn(this,"assignees"),Cn(this,"createdAt"),Cn(this,"updatedAt"),Cn(this,"milestone"),Cn(this,"githubRepository"),Cn(this,"remote"),Cn(this,"item"),Cn(this,"bodyHTML"),Cn(this,"_onDidInvalidate",new s.EventEmitter),Cn(this,"onDidInvalidate",this._onDidInvalidate.event),this.githubRepository=e,this.remote=t,this.item=i,r||this.update(i)}invalidate(){this._onDidInvalidate.fire()}get isOpen(){return this.state===Gt.Open}get isClosed(){return this.state===Gt.Closed}get isMerged(){return this.state===Gt.Merged}get userAvatar(){if(this.item)return this.item.user.avatarUrl}get userAvatarUri(){if(this.item){const e=this.userAvatar;if(e){const t=s.Uri.parse(`${e}&s=64`),i=t.toString;return t.toString=function(r){return i.call(t,!0)},t}}}get body(){return this.item?this.item.body:""}updateState(e){e.toLowerCase()==="open"?this.state=Gt.Open:this.state=Gt.Closed}update(e){this.id=e.id,this.graphNodeId=e.graphNodeId,this.number=e.number,this.title=e.title,e.titleHTML&&(this.titleHTML=e.titleHTML),(!this.bodyHTML||e.body!==this.body)&&(this.bodyHTML=e.bodyHTML),this.html_url=e.url,this.author=e.user,this.milestone=e.milestone,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.updateState(e.state),e.assignees&&(this.assignees=e.assignees),this.item=e}equals(e){return!(!e||this.number!==e.number||this.html_url!==e.html_url)}updateIssueInput(e){return{id:e}}updateIssueSchema(e){return e.UpdateIssue}async edit(e){try{const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:this.updateIssueSchema(i),variables:{input:{...this.updateIssueInput(this.graphNodeId),body:e.body,title:e.title}}});return r!=null&&r.updateIssue.issue&&(this.item.body=r.updateIssue.issue.body,this.bodyHTML=r.updateIssue.issue.bodyHTML,this.title=r.updateIssue.issue.title,this.titleHTML=r.updateIssue.issue.titleHTML,this.invalidate()),r.updateIssue.issue}catch(t){throw new Error(he(t))}}canEdit(){const e=this.author&&this.author.login;return this.githubRepository.isCurrentUser(e)}async createIssueComment(e){const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:i.AddIssueComment,variables:{input:{subjectId:this.graphNodeId,body:e}}});return jf(r.addComment.commentEdge.node,this.githubRepository)}async editIssueComment(e,t){try{const{mutate:i,schema:r}=await this.githubRepository.ensure(),{data:a}=await i({mutation:r.EditIssueComment,variables:{input:{id:e.graphNodeId,body:t}}});return jf(a.updateIssueComment.issueComment,this.githubRepository)}catch(i){throw new Error(he(i))}}async deleteIssueComment(e){try{const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.deleteComment,{owner:i.owner,repo:i.repositoryName,comment_id:Number(e)})}catch(t){throw new Error(he(t))}}async setLabels(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();try{await t.call(t.api.issues.setLabels,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,labels:e})}catch{b.error(`Failed to add labels to PR #${this.number}`,ma.ID),s.window.showWarningMessage(s.l10n.t("Some, or all, labels could not be added to the pull request."))}}async removeLabel(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.removeLabel,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,name:e})}async removeProjects(e){var t;const{mutate:i,schema:r}=await this.githubRepository.ensure();try{await Promise.all(e.map(a=>i({mutation:r.RemovePullRequestFromProject,variables:{input:{itemId:a.id,projectId:a.project.id}}}))),this.item.projectItems=(t=this.item.projectItems)==null?void 0:t.filter(a=>!e.find(o=>o.project.id===a.project.id))}catch(a){b.error(a,ma.ID)}}async addProjects(e){const{mutate:t,schema:i}=await this.githubRepository.ensure();try{const r=await Promise.all(e.map(a=>t({mutation:i.AddPullRequestToProject,variables:{input:{contentId:this.item.graphNodeId,projectId:a.id}}})));this.item.projectItems||(this.item.projectItems=[]),this.item.projectItems.push(...e.map((a,o)=>({project:a,id:r[o].data.addProjectV2ItemById.item.id})))}catch(r){b.error(r,ma.ID)}}async updateProjects(e){var t,i;const r=e.filter(o=>{var v;return!((v=this.item.projectItems)!=null&&v.find(I=>I.project.id===o.id))}),a=(i=(t=this.item.projectItems)==null?void 0:t.filter(o=>!e.find(v=>v.id===o.project.id)))!=null?i:[];return await this.removeProjects(a),await this.addProjects(r),this.item.projectItems}async getIssueTimelineEvents(){b.debug(`Fetch timeline events of issue #${this.number} - enter`,ma.ID);const e=this.githubRepository,{query:t,remote:i,schema:r}=await e.ensure();try{const{data:a}=await t({query:r.IssueTimelineEvents,variables:{owner:i.owner,name:i.repositoryName,number:this.number}});if(a.repository===null)return b.error("Unexpected null repository when getting issue timeline events",ma.ID),[];const o=a.repository.pullRequest.timelineItems.nodes;return cc(o,e)}catch(a){return console.log(a),[]}}async updateMilestone(e){const{mutate:t,schema:i}=await this.githubRepository.ensure(),r=e==="null"?null:e;try{await t({mutation:this.updateIssueSchema(i),variables:{input:{...this.updateIssueInput(this.graphNodeId),milestoneId:r}}})}catch(a){b.error(a,ma.ID)}}async replaceAssignees(e){var t,i;b.debug(`Replace assignees of issue #${this.number} - enter`,ma.ID);const{mutate:r,schema:a}=await this.githubRepository.ensure();try{if(a.ReplaceActorsForAssignable){const o=e.map(v=>v.id);await r({mutation:a.ReplaceActorsForAssignable,variables:{input:{actorIds:o,assignableId:this.graphNodeId}}})}else{const o=e.map(I=>I.login),v=((i=(t=this.assignees)==null?void 0:t.filter(I=>!e.find(G=>G.login===I.login)))!=null?i:[]).map(I=>I.login);await this.addAssignees(o),await this.deleteAssignees(v)}this.assignees=e}catch(o){b.error(o,ma.ID)}b.debug(`Replace assignees of issue #${this.number} - done`,ma.ID)}async addAssignees(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.addAssignees,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,assignees:e})}async deleteAssignees(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.removeAssignees,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,assignees:e})}};Cn(If,"ID","IssueModel");let Pn=If;var i0=Kt(58667),Df=Kt.n(i0),n0=Kt(8575),r0=Kt.n(n0),a0=Kt(87831),xf=Kt.n(a0),s0=Kt(72256),Fo=Kt.n(s0),o0=Object.defineProperty,l0=(n,e,t)=>e in n?o0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xn=(n,e,t)=>l0(n,typeof e!="symbol"?e+"":e,t);const Ff=20,Of="GraphQL";var Nr=(n=>(n.Unknown="unknown",n.Admin="ADMIN",n.Maintain="MAINTAIN",n.Read="READ",n.Triage="TRIAGE",n.Write="WRITE",n))(Nr||{}),Os=(n=>(n[n.None=0]="None",n[n.Try=1]="Try",n[n.Force=2]="Force",n))(Os||{}),Lf=(n=>(n.Unprocessable="UNPROCESSABLE",n))(Lf||{});const Uf=class _v extends g{constructor(e,t,i,r,a,o=!1){super(),this._id=e,this.remote=t,this.rootUri=i,this._credentialStore=r,this._telemetry=a,Xn(this,"_initialized",!1),Xn(this,"_hub"),Xn(this,"_metadata"),Xn(this,"commentsController"),Xn(this,"commentsHandler"),Xn(this,"_pullRequestModels",new Map),Xn(this,"_queriesSchema"),Xn(this,"_areQueriesLimited",!1),Xn(this,"_onDidAddPullRequest",this._register(new s.EventEmitter)),Xn(this,"onDidAddPullRequest",this._onDidAddPullRequest.event),Xn(this,"query",async(v,I=!1,G)=>{var Q,re,le;const ge=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!ge){const Ie=(Q=v.query.definitions[0].name)==null?void 0:Q.value;return b.debug(`Not available for query: ${Ie!=null?Ie:"unknown"}`,Of),{data:null,loading:!1,networkStatus:mn.error,stale:!1}}let Re;try{Re=await ge.query(v)}catch(Ie){const Oe=(re=v.query.definitions[0].name)==null?void 0:re.value,ue=Ie.graphQLErrors?Ie.graphQLErrors:void 0;if(b.error(`Error querying GraphQL API (${Oe}): ${Ie.message}${ue?`. ${ue.map(ye=>{var Te;return(Te=ye.extensions)==null?void 0:Te.code}).join(",")}`:""}`,this.id),G)return v.query=G.query,this.query(v,I);if(ue&&ue.length&&ue.some(ye=>{var Te;return((Te=ye.extensions)==null?void 0:Te.code)==="undefinedField"})&&!this._areQueriesLimited)this._areQueriesLimited=!0,this._queriesSchema=Do(Fo(),xf()),v.query=this.schema[v.query.definitions[0].name.value],Re=await ge.query(v);else if(!(I&&bo(Ie)))if((le=Ie.message)!=null&&le.includes("401 Unauthorized"))await this._credentialStore.recreate(s.l10n.t("Your authentication session has lost authorization. You need to sign in again to regain authorization.")),Re=await ge.query(v);else throw Ie.graphQLErrors&&Ie.graphQLErrors.length&&Ie.graphQLErrors[0].message==="Resource not accessible by integration"&&await this.codespacesTokenError(v),Ie}return Re}),Xn(this,"mutate",async(v,I)=>{var G;const Q=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!Q)return b.debug(`Not available for query: ${v.context}`,Of),{data:null,loading:!1,networkStatus:mn.error,stale:!1};let re;try{re=await Q.mutate(v)}catch(le){if(I){if(v.mutation=I.mutation,(G=v.variables)!=null&&G.input)for(const ge of I.deleteProps)delete v.variables.input[ge];return this.mutate(v)}else le.graphQLErrors&&le.graphQLErrors.length&&le.graphQLErrors[0].message==="Resource not accessible by integration"&&await this.codespacesTokenError(v);throw le}return re}),Xn(this,"_repoAccessAndMergeMethods"),Xn(this,"_branchHasMergeQueue",new Map),Xn(this,"_useFallbackChecks",!1),this._queriesSchema=Do(Fo(),Df()),o||this.ensureCommentsController()}get hub(){if(!this._hub)throw this._initialized?new Xa:new Error("Call ensure() before accessing this property.");return this._hub}equals(e){return this.remote.equals(e.remote)}get pullRequestModels(){return this._pullRequestModels}async ensureCommentsController(){try{if(this.commentsController)return;await this.ensure(),this.commentsController=s.comments.createCommentController(`github-browse-${this.remote.normalizedHost}-${this.remote.owner}-${this.remote.repositoryName}`,`Pull Request (${this.remote.owner}/${this.remote.repositoryName})`),this.commentsHandler=new Xg(this.commentsController,this._telemetry),this._register(this.commentsHandler),this._register(this.commentsController)}catch(e){console.log(e)}}dispose(){super.dispose(),this.commentsController=void 0,this.commentsHandler=void 0}get octokit(){return this.hub&&this.hub.octokit}get id(){return`${_v.ID}+${this._id}`}get authMatchesServer(){return this.remote.githubServerType===Zi.GitHubDotCom&&this._credentialStore.isAuthenticated(li.github)?!0:!!(this.remote.githubServerType===Zi.Enterprise&&this._credentialStore.isAuthenticated(li.githubEnterprise))}async codespacesTokenError(e){var t;if(Wl()&&((t=await this._metadata)!=null&&t.fork))throw this._telemetry.sendTelemetryErrorEvent("pr.codespacesTokenError",{action:e.context}),new Error(s.l10n.t("This action cannot be completed in a GitHub Codespace on a fork."))}get schema(){return this._queriesSchema}async getMetadataForRepo(e,t){if(this._metadata&&this.remote.owner===e&&this.remote.repositoryName===t)return b.debug(`Using cached metadata for repo ${e}/${t}`,this.id),this._metadata;b.debug("Fetch metadata for repo - enter",this.id);const{octokit:i}=await this.ensure(),r=await i.call(i.api.repos.get,{owner:e,repo:t});return b.debug(`Fetch metadata for repo ${e}/${t} - done`,this.id),{...r.data,currentUser:i.currentUser}}async getMetadata(){var e;if(this._metadata){const i=await this._metadata;return b.debug(`Using cached metadata ${(e=i.owner)==null?void 0:e.login}/${i.name}`,this.id),i}b.debug("Fetch metadata - enter",this.id);const{remote:t}=await this.ensure();return this._metadata=this.getMetadataForRepo(t.owner,t.repositoryName),b.debug(`Fetch metadata ${t.owner}/${t.repositoryName} - done`,this.id),this._metadata}async resolveRemote(){try{const{clone_url:e}=await this.getMetadata();this.remote=os.remoteAsGitHub(qo(this.remote.remoteName,e,this.remote.gitProtocol),this.remote.githubServerType)}catch(e){if(b.warn(`Unable to resolve remote: ${e}`),bo(e))return!1}return!0}async ensure(e=!1){this._initialized=!0;const t=this._hub;return this._credentialStore.isAuthenticated(this.remote.authProviderId)?e?this._hub=await this._credentialStore.getHubEnsureAdditionalScopes(this.remote.authProviderId):this._hub=this._credentialStore.getHub(this.remote.authProviderId):(await this._credentialStore.create(void 0,e),this._credentialStore.isAuthenticated(this.remote.authProviderId)||(this._hub=await this._credentialStore.showSignInNotification(this.remote.authProviderId))),t!==this._hub&&(this._areQueriesLimited||this._credentialStore.areScopesOld(this.remote.authProviderId)?(this._areQueriesLimited=!0,this._queriesSchema=Do(Fo(),xf())):this._credentialStore.areScopesExtra(this.remote.authProviderId)?this._queriesSchema=Do(Fo(),r0()):this._queriesSchema=Do(Fo(),Df())),this}async ensureAdditionalScopes(){return this.ensure(!0)}async getDefaultBranch(){const e=nh();if(e)return e;try{return(await this.getMetadata()).default_branch}catch(t){b.warn(`Fetching default branch failed: ${t}`,this.id)}return"master"}async getPullRequestTemplates(){try{b.debug("Fetch pull request templates - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),r=await e({query:i.PullRequestTemplates,variables:{owner:t.owner,name:t.repositoryName}});return b.debug("Fetch pull request templates - done",this.id),r.data.repository.pullRequestTemplates.map(a=>a.body)}catch{}}async getRepoAccessAndMergeMethods(e=!1){var t,i,r,a,o,v;try{if(!this._repoAccessAndMergeMethods||e){b.debug("Fetch repo permissions and available merge methods - enter",this.id);const I=await this.getMetadata();b.debug("Fetch repo permissions and available merge methods - done",this.id);const G=(i=(t=I.permissions)==null?void 0:t.push)!=null?i:!1;this._repoAccessAndMergeMethods={hasWritePermission:G,mergeMethodsAvailability:{merge:(r=I.allow_merge_commit)!=null?r:!1,squash:(a=I.allow_squash_merge)!=null?a:!1,rebase:(o=I.allow_rebase_merge)!=null?o:!1},viewerCanAutoMerge:(v=I.allow_auto_merge&&G)!=null?v:!1}}return this._repoAccessAndMergeMethods}catch(I){b.warn(`GitHubRepository> Fetching repo permissions and available merge methods failed: ${I}`)}return{hasWritePermission:!0,mergeMethodsAvailability:{merge:!0,squash:!0,rebase:!0},viewerCanAutoMerge:!1}}async mergeQueueMethodForBranch(e){var t,i;if(this._branchHasMergeQueue.has(e))return this._branchHasMergeQueue.get(e);try{b.debug("Fetch branch has merge queue - enter",this.id);const{query:r,remote:a,schema:o}=await this.ensure();if(!o.MergeQueueForBranch)return;const v=await r({query:o.MergeQueueForBranch,variables:{owner:a.owner,name:a.repositoryName,branch:e}});b.debug("Fetch branch has merge queue - done",this.id);const I=Qf((i=(t=v.data.repository.mergeQueue)==null?void 0:t.configuration)==null?void 0:i.mergeMethod);return I&&this._branchHasMergeQueue.set(e,I),I}catch(r){b.error(`Fetching branch has merge queue failed: ${r}`,this.id)}}async commit(e,t,i){b.debug(`Committing files to branch ${e} - enter`,this.id);let r=!1;try{const{octokit:a,remote:o}=await this.ensure(),v=(await a.call(a.api.repos.getBranch,{owner:o.owner,repo:o.repositoryName,branch:e})).data.commit.sha,I=(await a.call(a.api.repos.getCommit,{owner:o.owner,repo:o.repositoryName,ref:v})).data.commit.tree.sha,G=[];for(const[le,ge]of i)G.push({path:le.substring(1),mode:"100644",content:ge.toString()});const Q=(await a.call(a.api.git.createTree,{owner:o.owner,repo:o.repositoryName,base_tree:I,tree:G})).data.sha,re=(await a.call(a.api.git.createCommit,{owner:o.owner,repo:o.repositoryName,message:t,tree:Q,parents:[v]})).data.sha;await a.call(a.api.git.updateRef,{owner:o.owner,repo:o.repositoryName,ref:`heads/${e}`,sha:re}),r=!0}catch(a){b.error(`Committing files to branch ${e} failed: ${a}`,this.id)}return b.debug(`Committing files to branch ${e} - done`,this.id),r}async getAllPullRequests(e){let t;try{b.debug("Fetch all pull requests - enter",this.id);const i=await this.ensure();t=i.remote;const r=i.octokit,a=await r.call(r.api.pulls.list,{owner:t.owner,repo:t.repositoryName,per_page:Ff,page:e||1}),o=!!a.headers.link&&a.headers.link.indexOf('rel="next"')>-1;if(!a.data)return b.warn(`No result data for ${t.owner}/${t.repositoryName} Status: ${a.status}`),{items:[],hasMorePages:!1,totalCount:0};const v=a.data.map(I=>I.head.repo?this.createOrUpdatePullRequestModel(Gl(I,this)):(b.appendLine("The remote branch for this PR was already deleted.",this.id),null)).filter(I=>I!==null);return b.debug("Fetch all pull requests - done",this.id),{items:v,hasMorePages:o}}catch(i){if(b.error(`Fetching all pull requests failed: ${i}`,this.id),i.status===404)s.window.showWarningMessage(`Fetching all pull requests for remote '${t==null?void 0:t.remoteName}' failed, please check if the repository ${t==null?void 0:t.owner}/${t==null?void 0:t.repositoryName} is valid.`);else throw i}}async getPullRequestForBranch(e,t){var i;let r;try{b.debug("Fetch pull requests for branch - enter",this.id);const a=await this.ensure();r=a.remote;const{query:o,schema:v}=a,{data:I}=await o({query:v.PullRequestForHead,variables:{owner:r.owner,name:r.repositoryName,headRefName:e}});if(b.debug("Fetch pull requests for branch - done",this.id),I!=null&&I.repository&&I.repository.pullRequests.nodes.length>0){const G=I.repository.pullRequests.nodes.map(re=>Uo(re,this)).filter(re=>{var le;return((le=re.head)==null?void 0:le.repo.owner)===t});if(G.length===0)return;const Q=(i=G.find(re=>re.state.toLowerCase()==="open"))!=null?i:G[0];return this.createOrUpdatePullRequestModel(Q)}}catch(a){b.error(`Fetching pull request for branch failed: ${a}`,this.id),a.status===404&&s.window.showWarningMessage(`Fetching pull request for branch for remote '${r==null?void 0:r.remoteName}' failed, please check if the repository ${r==null?void 0:r.owner}/${r==null?void 0:r.repositoryName} is valid.`)}}async canGetProjectsNow(){let{schema:e}=await this.ensure();return!!(e.GetRepoProjects&&e.GetOrgProjects)}async getOrgProjects(){b.debug("Fetch org projects - enter",this.id);let{query:e,remote:t,schema:i}=await this.ensure();const r=[];try{const{data:a}=await e({query:i.GetOrgProjects,variables:{owner:t.owner,after:null}});a&&a.organization.projectsV2&&a.organization.projectsV2.nodes&&a.organization.projectsV2.nodes.forEach(o=>{r.push(o)})}catch(a){return b.error(`Unable to fetch org projects: ${a}`,this.id),r}return b.debug("Fetch org projects - done",this.id),r}async getProjects(){var e;try{b.debug("Fetch projects - enter",this.id);let{query:t,remote:i,schema:r}=await this.ensure();if(!r.GetRepoProjects){const v=await this.ensureAdditionalScopes();t=v.query,i=v.remote,r=v.schema}const{data:a}=await t({query:r.GetRepoProjects,variables:{owner:i.owner,name:i.repositoryName}});b.debug("Fetch projects - done",this.id);const o=[];return a&&((e=a.repository)!=null&&e.projectsV2)&&a.repository.projectsV2.nodes&&a.repository.projectsV2.nodes.forEach(v=>{o.push(v)}),o}catch(t){b.error(`Unable to fetch projects: ${t}`,this.id);return}}async getMilestones(e=!1){var t;try{b.debug("Fetch milestones - enter",this.id);const{query:i,remote:r,schema:a}=await this.ensure(),o=["OPEN"];e&&o.push("CLOSED");const{data:v}=await i({query:a.GetMilestones,variables:{owner:r.owner,name:r.repositoryName,states:o}});b.debug("Fetch milestones - done",this.id);const I=[];return v&&((t=v.repository)!=null&&t.milestones)&&v.repository.milestones.nodes&&v.repository.milestones.nodes.forEach(G=>{const Q=lc(G);Q&&I.push(Q)}),I}catch(i){b.error(`Unable to fetch milestones: ${i}`,this.id);return}}async getLines(e,t,i,r){var a;b.debug("Fetch milestones - enter",this.id);const{query:o,remote:v,schema:I}=await this.ensure(),{data:G}=await o({query:I.GetFileContent,variables:{owner:v.owner,name:v.repositoryName,expression:`${e}:${t}`}});if((a=G.repository)!=null&&a.object.text)return G.repository.object.text.split(`
`).slice(i-1,r).join(`
`)}async getIssues(e,t){try{b.debug("Fetch issues with query - enter",this.id);const{query:i,schema:r}=await this.ensure(),{data:a}=await i({query:r.Issues,variables:{query:`${t} type:issue`}});b.debug("Fetch issues with query - done",this.id);const o=[];return a&&a.search.edges&&a.search.edges.forEach(v=>{v.node.id&&o.push(Xf(v.node,this))}),{items:o,hasMorePages:a.search.pageInfo.hasNextPage,totalCount:a.search.issueCount}}catch(i){b.error(`Unable to fetch issues with query: ${i}`,this.id);return}}async getMaxIssue(){try{b.debug("Fetch max issue - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),{data:r}=await e({query:i.MaxIssue,variables:{owner:t.owner,name:t.repositoryName}});return b.debug("Fetch max issue - done",this.id),r!=null&&r.repository&&r.repository.issues.edges.length===1?r.repository.issues.edges[0].node.number:void 0}catch(e){b.error(`Unable to fetch issues with query: ${e}`,this.id);return}}async getViewerPermission(){try{b.debug("Fetch viewer permission - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),{data:r}=await e({query:i.GetViewerPermission,variables:{owner:t.owner,name:t.repositoryName}});return b.debug("Fetch viewer permission - done",this.id),C0(r)}catch(e){return b.error(`Unable to fetch viewer permission: ${e}`,this.id),"unknown"}}async fork(){try{b.debug("Fork repository",this.id);const{octokit:e,remote:t}=await this.ensure(),i=await e.call(e.api.repos.createFork,{owner:t.owner,repo:t.repositoryName});b.debug("Fork repository - done",this.id);const r=Date.now();let a=async()=>{try{return await e.call(e.api.repos.get,{owner:i.data.owner.login,repo:i.data.name}),b.appendLine("Fork ready",this.id),!0}catch{return b.appendLine("Fork not ready yet",this.id),!1}};for(;!await a()&&Date.now()-r<5e3;)await new Promise(o=>setTimeout(o,500));return i.data.clone_url}catch(e){b.error(`GitHubRepository> Forking repository failed: ${e}`,this.id);return}}async getRepositoryForkDetails(){try{b.debug("Fetch repository fork details - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),{data:r}=await e({query:i.GetRepositoryForkDetails,variables:{owner:t.owner,name:t.repositoryName}});return b.debug("Fetch repository fork details - done",this.id),r.repository}catch(e){b.error(`Unable to fetch repository fork details: ${e}`,this.id);return}}async getAuthenticatedUser(){return(await this._credentialStore.getCurrentUser(this.remote.authProviderId)).login}async getAuthenticatedUserEmails(){try{b.debug("Fetch authenticated user emails - enter",this.id);const{octokit:e}=await this.ensure(),{data:t}=await e.call(e.api.users.listEmailsForAuthenticatedUser,{});b.debug("Fetch authenticated user emails - done",this.id);const i=t.some(r=>r.visibility==="private");return t.filter(r=>i?r.email.endsWith("@users.noreply.github.com"):r.verified).sort((r,a)=>+a.primary-+r.primary).map(r=>r.email)}catch(e){return b.error(`Unable to fetch authenticated user emails: ${e}`,this.id),[]}}createOrUpdatePullRequestModel(e){let t=this._pullRequestModels.get(e.number);return t?t.update(e):(t=new Mn(this._credentialStore,this._telemetry,this,this.remote,e),t.onDidInvalidate(()=>this.getPullRequest(e.number)),this._pullRequestModels.set(e.number,t),this._onDidAddPullRequest.fire(t)),t}async createPullRequest(e){try{b.debug("Create pull request - enter",this.id);const t=await this.getMetadata(),{mutate:i,schema:r}=await this.ensure(),{data:a}=await i({mutation:r.CreatePullRequest,variables:{input:{repositoryId:t.node_id,baseRefName:e.base,headRefName:e.head,title:e.title,body:e.body,draft:e.draft}}});if(b.debug("Create pull request - done",this.id),!a)throw new Error("Failed to create pull request.");return this.createOrUpdatePullRequestModel(Uo(a.createPullRequest.pullRequest,this))}catch(t){throw b.error(`Unable to create PR: ${t}`,this.id),t}}async revertPullRequest(e,t,i,r){try{b.debug("Revert pull request - enter",this.id);const{mutate:a,schema:o}=await this.ensure(),{data:v}=await a({mutation:o.RevertPullRequest,variables:{input:{pullRequestId:e,title:t,body:i,draft:r}}});if(b.debug("Revert pull request - done",this.id),!v)throw new Error("Failed to create revert pull request.");return this.createOrUpdatePullRequestModel(Uo(v.revertPullRequest.revertPullRequest,this))}catch(a){throw b.error(`Unable to create revert PR: ${a}`,this.id),a}}async getPullRequest(e){try{const{query:t,remote:i,schema:r}=await this.ensure();b.debug(`Fetch pull request ${i.owner}/${i.repositoryName} ${e} - enter`,this.id);const{data:a}=await t({query:r.PullRequest,variables:{owner:i.owner,name:i.repositoryName,number:e}},!0);if(a.repository===null){b.error("Unexpected null repository when getting PR",this.id);return}return b.debug(`Fetch pull request ${e} - done`,this.id),this.createOrUpdatePullRequestModel(Uo(a.repository.pullRequest,this))}catch(t){b.error(`Unable to fetch PR: ${t}`,this.id);return}}async getIssue(e,t=!1){try{b.debug(`Fetch issue ${e} - enter`,this.id);const{query:i,remote:r,schema:a}=await this.ensure(),{data:o}=await i({query:t?a.IssueWithComments:a.Issue,variables:{owner:r.owner,name:r.repositoryName,number:e}},!0);if(o.repository===null){b.error("Unexpected null repository when getting issue",this.id);return}return b.debug(`Fetch issue ${e} - done`,this.id),new Pn(this,r,Xf(o.repository.issue,this))}catch(i){b.error(`Unable to fetch issue: ${i}`,this.id);return}}async getFile(e,t){var i;const{octokit:r,remote:a}=await this.ensure();let o="",v;b.debug(`Fetch file ${e} - enter`,this.id);try{if(v=await r.call(r.api.repos.getContent,{owner:a.owner,repo:a.repositoryName,path:e,ref:t}),Array.isArray(v.data))throw new Error(`Unexpected array response when getting file ${e}`);o=(i=v.data.content)!=null?i:""}catch(G){if(b.error(`Unable to fetch file ${e}: ${G}`,this.id),G.status===404)return new Uint8Array(0);throw G}if(o===""&&v.data.encoding==="none"){b.debug(`Fetch blob file ${e} - enter`,this.id);const G=v.data.sha;v=await r.call(r.api.git.getBlob,{owner:a.owner,repo:a.repositoryName,file_sha:G}),o=v.data.content,b.debug(`Fetch blob file ${e} - done`,this.id)}const I=qe.Buffer.from(o,v.data.encoding);return b.debug(`Fetch file ${e}, file length ${o.length} - done`,this.id),I}async hasBranch(e){var t,i;b.appendLine(`Fetch branch ${e} - enter`,this.id);const{query:r,remote:a,schema:o}=await this.ensure(),{data:v}=await r({query:o.GetBranch,variables:{owner:a.owner,name:a.repositoryName,qualifiedName:`refs/heads/${e}`}});return b.appendLine(`Fetch branch ${e} - done: ${((t=v.repository)==null?void 0:t.ref)!==null}`,this.id),((i=v.repository)==null?void 0:i.ref)!==null}async listBranches(e,t){const{query:i,remote:r,schema:a}=await this.ensure();b.debug(`List branches for ${e}/${t} - enter`,this.id);let o=null,v=!1;const I=[],G=(await this.getMetadataForRepo(e,t)).default_branch,Q=new Date().getTime();do try{const{data:re}=await i({query:a.ListBranches,variables:{owner:r.owner,name:r.repositoryName,first:100,after:o}});if(I.push(...re.repository.refs.nodes.map(le=>le.name)),new Date().getTime()-Q>5e3){b.warn("List branches timeout hit.",this.id);break}v=re.repository.refs.pageInfo.hasNextPage,o=re.repository.refs.pageInfo.endCursor}catch(re){throw b.debug(`List branches for ${e}/${t} failed`,this.id),re}while(v);return b.debug(`List branches for ${e}/${t} - done`,this.id),I.includes(G)||I.unshift(G),I}async deleteBranch(e){const{octokit:t}=await this.ensure();if(e.validatePullRequestModel("Unable to delete branch"))try{await t.call(t.api.git.deleteRef,{owner:e.head.repositoryCloneUrl.owner,repo:e.head.repositoryCloneUrl.repositoryName,ref:`heads/${e.head.ref}`})}catch(i){b.error(`Unable to delete branch: ${i}`,this.id);return}}async getMentionableUsers(){b.debug("Fetch mentionable users - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure();let r=null,a=!1;const o=[];do try{const v=await e({query:i.GetMentionableUsers,variables:{owner:t.owner,name:t.repositoryName,first:100,after:r}});if(v.data.repository===null)return b.error("Unexpected null repository when getting mentionable users",this.id),[];o.push(...v.data.repository.mentionableUsers.nodes.map(I=>un(I,this))),a=v.data.repository.mentionableUsers.pageInfo.hasNextPage,r=v.data.repository.mentionableUsers.pageInfo.endCursor}catch(v){return b.debug(`Unable to fetch mentionable users: ${v}`,this.id),o}while(a);return o}async getAssignableUsers(){var e,t,i;b.debug("Fetch assignable users - enter",this.id);const{query:r,remote:a,schema:o}=await this.ensure();let v=null,I=!1;const G=[];do try{let Q;if(o.GetSuggestedActors?Q=await r({query:o.GetSuggestedActors,variables:{owner:a.owner,name:a.repositoryName,capabilities:["CAN_BE_ASSIGNED"],first:100,after:v}}):Q=await r({query:o.GetAssignableUsers,variables:{owner:a.owner,name:a.repositoryName,first:100,after:v}},!0),Q.data.repository===null)return b.error("Unexpected null repository when getting assignable users",this.id),[];const re=(i=(e=Q.data.repository)==null?void 0:e.assignableUsers)!=null?i:(t=Q.data.repository)==null?void 0:t.suggestedActors;G.push(...re==null?void 0:re.nodes.map(le=>un(le,this))),I=re==null?void 0:re.pageInfo.hasNextPage,v=re==null?void 0:re.pageInfo.endCursor}catch(Q){return b.debug(`Unable to fetch assignable users: ${Q}`,this.id),Q.graphQLErrors&&Q.graphQLErrors.length>0&&Q.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub user features will not work. ${Q.graphQLErrors[0].message}`),G}while(I);return G}async getOrgTeamsCount(){if(b.debug("Fetch Teams Count - enter",this.id),!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return 0;const{query:e,remote:t,schema:i}=await this.ensureAdditionalScopes();try{const a=(await e({query:i.GetOrganizationTeamsCount,variables:{login:t.owner}})).data.organization.teams.totalCount;return b.debug("Fetch Teams Count - done",this.id),a}catch(r){return b.debug(`Unable to fetch teams Count: ${r}`,this.id),r.graphQLErrors&&r.graphQLErrors.length>0&&r.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub teams features will not work. ${r.graphQLErrors[0].message}`),0}}async getOrgTeams(e){if(b.debug("Fetch Teams - enter",this.id),e===0||e===1&&!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return b.debug("Fetch Teams - exit without fetching teams",this.id),[];const{query:t,remote:i,schema:r}=await this.ensureAdditionalScopes();let a=null,o=!1;const v=[];do try{const I=await t({query:r.GetOrganizationTeams,variables:{login:i.owner,after:a,repoName:i.repositoryName}});I.data.organization.teams.nodes.forEach(G=>{const Q={avatarUrl:ss(G.avatarUrl,void 0,this.remote.isEnterprise),name:G.name,url:G.url,slug:G.slug,id:G.id,org:i.owner};v.push({...Q,repositoryNames:G.repositories.nodes.map(re=>re.name)})}),o=I.data.organization.teams.pageInfo.hasNextPage,a=I.data.organization.teams.pageInfo.endCursor}catch(I){return b.debug(`Unable to fetch teams: ${I}`,this.id),I.graphQLErrors&&I.graphQLErrors.length>0&&I.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub teams features will not work. ${I.graphQLErrors[0].message}`),v}while(o);return b.debug("Fetch Teams - exit",this.id),v}async getPullRequestParticipants(e){b.debug("Fetch participants from a Pull Request",this.id);const{query:t,remote:i,schema:r}=await this.ensure(),a=[];try{const o=await t({query:r.GetParticipants,variables:{owner:i.owner,name:i.repositoryName,number:e,first:18}});if(o.data.repository===null)return b.error("Unexpected null repository when fetching participants",this.id),[];a.push(...o.data.repository.pullRequest.participants.nodes.map(v=>un(v,this)))}catch(o){b.debug(`Unable to fetch participants from a PullRequest: ${o}`,this.id),o.graphQLErrors&&o.graphQLErrors.length>0&&o.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub user features will not work. ${o.graphQLErrors[0].message}`)}return a}async compareCommits(e,t){b.debug("Compare commits - enter",this.id);try{const{remote:i,octokit:r}=await this.ensure(),{data:a}=await r.call(r.api.repos.compareCommits,{repo:i.repositoryName,owner:i.owner,base:e,head:t});return b.debug("Compare commits - done",this.id),a}catch(i){b.error(`Unable to compare commits between ${e} and ${t}: ${i}`,this.id)}}isCurrentUser(e){return this._credentialStore.isCurrentUser(e)}async getStatusChecks(e){var t,i,r;b.debug("Get Status Checks - enter",this.id);const{query:a,remote:o,schema:v}=await this.ensure(),I=this._useFallbackChecks;let G;try{G=await a({query:I?v.GetChecksWithoutSuite:v.GetChecks,variables:{owner:o.owner,name:o.repositoryName,number:e}})}catch(Re){if(bo(Re)&&!I)return this._useFallbackChecks=!0,this.getStatusChecks(e);throw b.error(`Unable to fetch PR checks: ${Re}`,this.id),Re}if(G.data.repository===null||G.data.repository.pullRequest.commits.nodes===void 0||G.data.repository.pullRequest.commits.nodes.length===0)return b.error(`Unable to fetch PR checks: ${(t=G.errors)==null?void 0:t.map(Re=>Re.message).join(", ")}`,this.id),[null,null];const Q=G.data.repository.pullRequest.commits.nodes[0].commit.statusCheckRollup,re=Q?{state:this.mapStateAsCheckState(Q.state),statuses:Q.contexts.nodes.map(Re=>{var Ie,Oe,ue,ye,Te,Ae,Ue,We,ze;return Zg(Re)?{id:Re.id,url:(Oe=(Ie=Re.checkSuite)==null?void 0:Ie.app)==null?void 0:Oe.url,avatarUrl:((ye=(ue=Re.checkSuite)==null?void 0:ue.app)==null?void 0:ye.logoUrl)&&ss(Re.checkSuite.app.logoUrl,void 0,this.remote.isEnterprise),state:this.mapStateAsCheckState(Re.conclusion),description:Re.title,context:Re.name,workflowName:(Ae=(Te=Re.checkSuite)==null?void 0:Te.workflowRun)==null?void 0:Ae.workflow.name,event:(We=(Ue=Re.checkSuite)==null?void 0:Ue.workflowRun)==null?void 0:We.event,targetUrl:Re.detailsUrl,isRequired:Re.isRequired}:{id:Re.id,url:(ze=Re.targetUrl)!=null?ze:void 0,avatarUrl:Re.avatarUrl?ss(Re.avatarUrl,void 0,this.remote.isEnterprise):void 0,state:this.mapStateAsCheckState(Re.state),description:Re.description,context:Re.context,workflowName:void 0,event:void 0,targetUrl:Re.targetUrl,isRequired:Re.isRequired}})}:{state:ri.Success,statuses:[]};let le=null;const ge=(i=G.data.repository.pullRequest.baseRef)==null?void 0:i.refUpdateRule;if(ge){const Re=G.data.repository.pullRequest.url;for(const Te of ge.requiredStatusCheckContexts||[])re.statuses.some(Ae=>Ae.context===Te)||(re.state=ri.Pending,re.statuses.push({id:"",url:void 0,avatarUrl:void 0,state:ri.Pending,description:s.l10n.t("Waiting for status to be reported"),context:Te,workflowName:void 0,event:void 0,targetUrl:Re,isRequired:!0}));const Ie=(r=ge.requiredApprovingReviewCount)!=null?r:0,Oe=G.data.repository.pullRequest.latestReviews.nodes.filter(Te=>Te.authorCanPushToRepository&&Te.state==="APPROVED"),ue=G.data.repository.pullRequest.reviewsRequestingChanges.nodes.filter(Te=>Te.authorCanPushToRepository);let ye=ri.Success;Oe.length<Ie&&(ye=ri.Failure,ue.length&&(ye=ri.Pending)),Ie>0&&(le={count:Ie,approvals:Oe.map(Te=>Te.author.login),requestedChanges:ue.map(Te=>Te.author.login),state:ye})}return b.debug("Get Status Checks - done",this.id),[re.statuses.length?re:null,le]}mapStateAsCheckState(e){switch(e){case"EXPECTED":case"PENDING":case"ACTION_REQUIRED":case"STALE":return ri.Pending;case"ERROR":case"FAILURE":case"TIMED_OUT":case"STARTUP_FAILURE":return ri.Failure;case"SUCCESS":return ri.Success;case"NEUTRAL":case"SKIPPED":return ri.Neutral}return ri.Unknown}};Xn(Uf,"ID","GitHubRepository");let cr=Uf;const u0=/(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/,as=/(https?:\/\/github\.com\/(([^\s]+)\/([^\s]+))\/([^\s]+\/)?(issues|pull)\/([0-9]+)(#issuecomment\-([0-9]+))?)|(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/;function Ls(n){if(!n)return;const e={owner:void 0,name:void 0,issueNumber:0};return n.length===7?(e.owner=n[2],e.name=n[3],e.issueNumber=parseInt(n[5]),e):n.length===16?(e.owner=n[3]||n[11],e.name=n[4]||n[12],e.issueNumber=parseInt(n[7]||n[14]),e.commentNumber=n[9]!==void 0?parseInt(n[9]):void 0,e):void 0}function Oo(n,e,t){return n!==e&&t===void 0?t=300:t||(t=0),new s.Range(n,0,e,t)}async function ql(n,e,t){var i,r;if(e.avatarUrl){const a=n;a.canReply={name:(i=e.name)!=null?i:e.login,iconPath:s.Uri.parse(e.avatarUrl)};const o=await na.avatarCirclesAsImageDataUris(t,[e],28,28);a.canReply={name:(r=e.name)!=null?r:e.login,iconPath:o[0]}}else n.canReply=!0}function Lo(n,e,t,i,r,a,o){const v=r.createCommentThread(e,t,[]);v.gitHubThreadId=i.id,v.comments=i.comments.map(Q=>new En(n,Q,v,o));const I=Bf(i.isResolved);let G=s.CommentThreadApplicability.Current;return i.viewerCanResolve&&!i.isResolved?v.contextValue="canResolve":i.viewerCanUnresolve&&i.isResolved&&(v.contextValue="canUnresolve"),i.isOutdated&&(v.contextValue+="outdated",G=s.CommentThreadApplicability.Outdated),v.state={resolved:I,applicability:G},Us(v),v.collapsibleState=qf(i,void 0,a.login),ql(v,a,n),v}function Bf(n){return n?s.CommentThreadState.Resolved:s.CommentThreadState.Unresolved}const c0="commentExpandState",JR="collapseAll",d0="expandUnresolved";function qf(n,e,t){var i,r;const a=t&&((i=n.comments[n.comments.length-1].user)==null?void 0:i.login)===t,o=n.comments.length===1&&n.comments[0].body.startsWith("```suggestion")&&n.comments[0].body.endsWith("```");return n.isResolved||!n.isOutdated&&a&&!o?s.CommentThreadCollapsibleState.Collapsed:(e===void 0&&(e=((r=s.workspace.getConfiguration(it))==null?void 0:r.get(c0))===d0),e?s.CommentThreadCollapsibleState.Expanded:s.CommentThreadCollapsibleState.Collapsed)}function Hf(n,e,t,i,r){if(!e.range)return;const a=s.window.visibleTextEditors;for(let o of a)if(o.document.uri.toString()===e.uri.toString()){const v=o.document.lineAt(e.range.end.line),I=new s.Range(e.range.start.line,0,e.range.end.line,v.text.length);Hl(n,e,t,i,r,I);break}}function Hl(n,e,t,i,r,a){var o,v;t.viewerCanResolve&&!t.isResolved?e.contextValue="canResolve":t.viewerCanUnresolve&&t.isResolved&&(e.contextValue="canUnresolve"),t.isOutdated&&(e.contextValue+="outdated");const I=Bf(t.isResolved),G=t.isOutdated?s.CommentThreadApplicability.Outdated:s.CommentThreadApplicability.Current;if((((o=e.state)==null?void 0:o.resolved)!==I||((v=e.state)==null?void 0:v.applicability)!==G)&&(e.state={resolved:I,applicability:G}),e.collapsibleState=qf(t,r),a&&(e.range=a),e.comments.length===t.comments.length&&e.comments.every((Q,re)=>Q.commentId===`${t.comments[re].id}`)){let Q=0;for(const re of e.comments)re instanceof En&&re.update(t.comments[Q]),Q++}else e.comments=t.comments.map(Q=>new En(n,Q,e,i));Us(e)}function Us(n){var e;if(((e=n.state)==null?void 0:e.resolved)===s.CommentThreadState.Resolved){n.label=s.l10n.t("Marked as resolved");return}if(n.comments.length){const t=w(n.comments,i=>i.originalAuthor.name).map(i=>`@${i.originalAuthor.name}`).join(", ");n.label=s.l10n.t("Participants: {0}",t)}else n.label=s.l10n.t("Start discussion")}function Gf(n,e){let t=!1;const i=n.reactions,r=jl().map((a,o)=>{if(!e)return{label:a.label,authorHasReacted:!1,count:0,iconPath:a.icon||""};const v=e.find(G=>G.label===a.label);let I;return v?I={label:v.label,authorHasReacted:v.viewerHasReacted,count:v.count,iconPath:a.icon||"",reactors:v.reactors.map(G=>({name:G}))}:I={label:a.label,authorHasReacted:!1,count:0,iconPath:a.icon||""},!t&&(!i||i[o].authorHasReacted!==I.authorHasReacted||i[o].count!==I.count)&&(t=!0),I});return n.reactions=r,t}function $f(n,e){e||(n.comments=n.comments.map(t=>(t instanceof En&&(t.rawComment.isDraft=!1),t.label=void 0,t)))}function Jn(n){return n===li.githubEnterprise}function Bs(n,e){return un(n,e)}function Vf(n){return{label:n.label,ref:n.ref,sha:n.sha,repo:{cloneUrl:n.repo.clone_url,isInOrganization:n.repo.owner.type==="Organization",owner:n.repo.owner.login,name:n.repo.name}}}function Gl(n,e){const{number:t,body:i,title:r,html_url:a,user:o,state:v,assignees:I,created_at:G,updated_at:Q,head:re,base:le,labels:ge,node_id:Re,id:Ie,draft:Oe}=n,ue={id:Ie,graphNodeId:Re,number:t,body:i!=null?i:"",title:r,titleHTML:r,url:a,user:Bs(o,e),state:v,merged:n.merged||!1,assignees:I?I.map(ye=>Bs(ye,e)):void 0,createdAt:G,updatedAt:Q,viewerCanUpdate:!1,head:re.repo?Vf(re):void 0,base:Vf(le),labels:ge.map(ye=>({name:"",color:"",...ye})),isDraft:Oe,suggestedReviewers:[],projectItems:[],commits:[],reactionCount:0,reactions:[],commentCount:0};return"mergeable"in n&&(ue.mergeable=n.mergeable?zt.Mergeable:zt.NotMergeable),ue}function f0(n,e){const{number:t,body:i,title:r,html_url:a,user:o,state:v,assignees:I,created_at:G,updated_at:Q,labels:re,node_id:le,id:ge,comments:Re}=n;return{id:ge,graphNodeId:le,number:t,body:i!=null?i:"",title:r,titleHTML:r,url:a,user:Bs(o,e),state:v,assignees:I?I.map(Oe=>Bs(Oe,e)):void 0,createdAt:G,updatedAt:Q,labels:re.map(Oe=>{var ue,ye,Te;return typeof Oe=="string"?{name:Oe,color:""}:{name:(ue=Oe.name)!=null?ue:"",color:(ye=Oe.color)!=null?ye:"",description:(Te=Oe.description)!=null?Te:void 0}}),projectItems:[],reactionCount:0,reactions:[],commentCount:Re}}function h0(n,e){return{event:Bi.Reviewed,comments:[],submittedAt:n.submitted_at,body:n.body,bodyHTML:n.body,htmlUrl:n.html_url,user:Bs(n.user,e),authorAssociation:n.user.type,state:n.state,id:n.id}}function m0(n){const e=[],t=bn(n.diffHunk);let i=t.next();for(;!i.done;){const r=i.value;e.push(r),i=t.next()}return e}function p0(n){switch(n){case"PullRequestCommit":return Bi.Committed;case"LabeledEvent":return Bi.Labeled;case"MilestonedEvent":return Bi.Milestoned;case"AssignedEvent":return Bi.Assigned;case"HeadRefDeletedEvent":return Bi.HeadRefDeleted;case"IssueComment":return Bi.Commented;case"PullRequestReview":return Bi.Reviewed;case"MergedEvent":return Bi.Merged;case"CrossReferencedEvent":return Bi.CrossReferenced;default:return Bi.Other}}function $l(n,e){var t,i,r,a;return{id:n.id,prReviewDatabaseId:n.comments.edges&&n.comments.edges.length?(t=n.comments.edges[0].node.pullRequestReview)==null?void 0:t.databaseId:void 0,isResolved:n.isResolved,viewerCanResolve:n.viewerCanResolve,viewerCanUnresolve:n.viewerCanUnresolve,path:n.path,startLine:(i=n.startLine)!=null?i:n.line,endLine:n.line,originalStartLine:(r=n.originalStartLine)!=null?r:n.originalLine,originalEndLine:n.originalLine,diffSide:n.diffSide,isOutdated:n.isOutdated,comments:n.comments.nodes.map(o=>qs(o,n.isResolved,e)),subjectType:(a=n.subjectType)!=null?a:xn.LINE}}function qs(n,e,t){var i,r;const a=Tn[(r=(i=n.author)==null?void 0:i.login)!=null?r:""],o={id:n.databaseId,url:n.url,body:n.body,specialDisplayBodyPostfix:a==null?void 0:a.postComment,bodyHTML:n.bodyHTML,path:n.path,canEdit:n.viewerCanDelete,canDelete:n.viewerCanDelete,pullRequestReviewId:n.pullRequestReview&&n.pullRequestReview.databaseId,diffHunk:n.diffHunk,position:n.position,commitId:n.commit.oid,originalPosition:n.originalPosition,originalCommitId:n.originalCommit&&n.originalCommit.oid,user:n.author?un(n.author,t):void 0,createdAt:n.createdAt,htmlUrl:n.url,graphNodeId:n.id,isDraft:n.state==="PENDING",inReplyToId:n.replyTo&&n.replyTo.databaseId,reactions:Vl(n.reactionGroups),isResolved:e},v=m0(o);return o.diffHunks=v,o}function jf(n,e){var t,i,r;return{id:n.databaseId,url:n.url,body:n.body,specialDisplayBodyPostfix:(r=Tn[(i=(t=n.author)==null?void 0:t.login)!=null?i:""])==null?void 0:r.postComment,bodyHTML:n.bodyHTML,canEdit:n.viewerCanDelete,canDelete:n.viewerCanDelete,user:un(n.author,e),createdAt:n.createdAt,htmlUrl:n.url,graphNodeId:n.id,diffHunk:""}}function Vl(n){const e=jl().reduce((i,r)=>(i[r.title]=r,i),{});return n.filter(i=>i.reactors.totalCount>0).map(i=>({label:e[i.content].label,count:i.reactors.totalCount,icon:e[i.content].icon,viewerHasReacted:i.viewerHasReacted,reactors:i.reactors.nodes.map(a=>{var o,v;return(v=(o=Tn[a.login])==null?void 0:o.name)!=null?v:a.login})}))}function Wf(n,e,t){if(t)return{label:`${t.owner.login}:${n}`,ref:n,sha:e,repo:{cloneUrl:t.url,isInOrganization:t.isInOrganization,owner:t.owner.login,name:n}}}function un(n,e){var t,i,r,a,o,v,I;if(n){const G="avatarUrl"in n?n.avatarUrl:n.avatar_url,Q="node_id"in n?n.node_id:n.id,re="html_url"in n?n.html_url:n.url;return{login:n.login,url:(i=(t=Tn[n.login])==null?void 0:t.url)!=null?i:re,avatarUrl:e?ss(G,void 0,e.remote.isEnterprise):G,email:(r=n.email)!=null?r:void 0,id:Q,name:(v=(o=n.name)!=null?o:(a=Tn[n.login])==null?void 0:a.name)!=null?v:void 0,specialDisplayName:Tn[n.login]?(I=n.name)!=null?I:Tn[n.login].name:void 0,accountType:Xe("__typename"in n?n.__typename:n.type)}}else return{login:"",url:"",id:"",accountType:nt.User}}function v0(n,e){return{name:n.name,url:n.url,avatarUrl:ss(n.avatarUrl,void 0,e.remote.isEnterprise),id:n.id,org:e.remote.owner,slug:n.slug}}function g0(n,e){if(!n.repository)return[];const t=[];for(const i of n.repository.pullRequest.reviewRequests.nodes)if(Jg(i.requestedReviewer)){const r=v0(i.requestedReviewer,e);t.push(r)}else{const r=un(i.requestedReviewer,e);t.push(r)}return t}function b0(n,e){return n?{login:n.login,url:n.url,avatarUrl:ss(n.avatarUrl,void 0,e.remote.isEnterprise)}:{login:"",url:""}}function zf(n){if(n)return n.map(e=>({id:e.id,project:e.project}))}function lc(n){if(n)return{title:n.title,dueOn:n.dueOn,createdAt:n.createdAt,id:n.id,number:n.number}}function Kf(n){if(!n)return null;let e;switch(n.state){case"AWAITING_CHECKS":{e=Ge.AwaitingChecks;break}case"LOCKED":{e=Ge.Locked;break}case"QUEUED":{e=Ge.Queued;break}case"MERGEABLE":{e=Ge.Mergeable;break}case"UNMERGEABLE":{e=Ge.Unmergeable;break}}return{position:n.position,state:e,url:n.mergeQueue.url}}function Qf(n){switch(n){case"MERGE":return"merge";case"REBASE":return"rebase";case"SQUASH":return"squash"}}function uc(n,e){let t;switch(n){case void 0:case"UNKNOWN":t=zt.Unknown;break;case"MERGEABLE":t=zt.Mergeable;break;case"CONFLICTING":t=zt.Conflict;break}return t!==zt.Conflict&&(e==="BLOCKED"?t=zt.NotMergeable:e==="BEHIND"&&(t=zt.Behind)),t}function Uo(n,e){var t,i,r,a,o,v,I,G;const Q={id:n.databaseId,graphNodeId:n.id,url:n.url,number:n.number,state:n.state,body:n.body,bodyHTML:n.bodyHTML,title:n.title,titleHTML:n.titleHTML,createdAt:n.createdAt,updatedAt:n.updatedAt,isRemoteHeadDeleted:!n.headRef,head:Wf((i=(t=n.headRef)==null?void 0:t.name)!=null?i:n.headRefName,n.headRefOid,n.headRepository),isRemoteBaseDeleted:!n.baseRef,base:Wf((a=(r=n.baseRef)==null?void 0:r.name)!=null?a:n.baseRefName,n.baseRefOid,n.baseRepository),user:un(n.author,e),merged:n.merged,mergeable:uc(n.mergeable,n.mergeStateStatus),mergeQueueEntry:Kf(n.mergeQueueEntry),hasComments:n.reviewThreads.totalCount>0,autoMerge:!!n.autoMergeRequest,autoMergeMethod:Qf((o=n.autoMergeRequest)==null?void 0:o.mergeMethod),allowAutoMerge:n.viewerCanEnableAutoMerge||n.viewerCanDisableAutoMerge,viewerCanUpdate:n.viewerCanUpdate,labels:n.labels.nodes,isDraft:n.isDraft,suggestedReviewers:k0(n.suggestedReviewers),comments:w0((v=n.comments)==null?void 0:v.nodes,e),projectItems:zf((I=n.projectItems)==null?void 0:I.nodes),milestone:lc(n.milestone),assignees:(G=n.assignees)==null?void 0:G.nodes.map(re=>un(re,e)),commits:y0(n.commits.nodes),reactionCount:n.reactions.totalCount,reactions:Vl(n.reactionGroups),commentCount:n.comments.totalCount};return Q.mergeCommitMeta=Yf(n.baseRepository.mergeCommitTitle,n.baseRepository.mergeCommitMessage,Q),Q.squashCommitMeta=Yf(n.baseRepository.squashMergeCommitTitle,n.baseRepository.squashMergeCommitMessage,Q),Q}function Yf(n,e,t){var i,r;if(n===void 0||e===void 0)return;let a="",o="";const v=`(#${t.number})`;switch(n){case xo.prTitle:{a=`${t.title} ${v}`;break}case xo.mergeMessage:{a=`Merge pull request #${t.number} from ${(r=(i=t.head)==null?void 0:i.label)!=null?r:""}`;break}case xo.commitOrPrTitle:{t.commits.length===1?a=`${t.commits[0].message.split(`
`)[0]} ${v}`:a=`${t.title} ${v}`;break}}switch(e){case Bl.prBody:{o=t.body;break}case Bl.commitMessages:{if(t.commits.length===1&&n===xo.commitOrPrTitle){const I=t.commits[0].message.split(`
`);o=I.length>1?I.slice(1).join(`
`).trim():""}else o=t.commits.map(I=>`* ${I.message}`).join(`

`);break}case Bl.prTitle:{o=t.title;break}}return{title:a,description:o}}function y0(n){return n.map(e=>({message:e.commit.message}))}function w0(n,e){if(!n)return;const t=[];for(const i of n)t.push({author:un(i.author,e),body:i.body,databaseId:i.databaseId,reactionCount:i.reactions.totalCount,createdAt:i.createdAt});return t}function Xf(n,e){var t,i,r,a,o,v,I,G,Q;return{id:n.databaseId,graphNodeId:n.id,url:n.url,number:n.number,state:n.state,body:n.body,bodyHTML:n.bodyHTML,title:n.title,titleHTML:n.titleHTML,createdAt:n.createdAt,updatedAt:n.updatedAt,assignees:(t=n.assignees)==null?void 0:t.nodes.map(re=>un(re,e)),user:un(n.author,e),labels:n.labels.nodes,milestone:lc(n.milestone),repositoryName:(r=(i=n.repository)==null?void 0:i.name)!=null?r:e.remote.repositoryName,repositoryOwner:(o=(a=n.repository)==null?void 0:a.owner.login)!=null?o:e.remote.owner,repositoryUrl:(I=(v=n.repository)==null?void 0:v.url)!=null?I:e.remote.url,projectItems:zf((G=n.projectItems)==null?void 0:G.nodes),comments:(Q=n.comments.nodes)==null?void 0:Q.map(re=>_0(re,e)),reactionCount:n.reactions.totalCount,reactions:Vl(n.reactionGroups),commentCount:n.comments.totalCount}}function _0(n,e){return{author:un(n.author,e),body:n.body,databaseId:n.databaseId,reactionCount:n.reactions.totalCount,createdAt:n.createdAt}}function k0(n){return n?n.map(t=>({...un(t.reviewer,void 0),isAuthor:t.isAuthor,isCommenter:t.isCommenter})).sort(Jf):[]}function Jf(n,e){return n.login.localeCompare(e.login,"en",{sensitivity:"accent"})}function S0(n,e){var t,i,r,a;const o=(i=(t=n.name)!=null?t:n.slug)!=null?i:n.id,v=(a=(r=e.name)!=null?r:e.slug)!=null?a:e.id;return o.localeCompare(v,"en",{sensitivity:"accent"})}function R0(n,e){return{event:Bi.Reviewed,comments:n.comments.nodes.map(t=>qs(t,!1,e)).filter(t=>!t.inReplyToId),submittedAt:n.submittedAt,body:n.body,bodyHTML:n.bodyHTML,htmlUrl:n.url,user:un(n.author,e),authorAssociation:n.authorAssociation,state:n.state,id:n.databaseId}}function cc(n,e){const t=[];return n.forEach(i=>{const r=p0(i.__typename);switch(r){case Bi.Commented:const a=i;t.push({htmlUrl:a.url,body:a.body,bodyHTML:a.bodyHTML,user:un(a.author,e),event:r,canEdit:a.viewerCanUpdate,canDelete:a.viewerCanDelete,id:a.databaseId,graphNodeId:a.id,createdAt:a.createdAt});return;case Bi.Reviewed:const o=i;t.push({event:r,comments:[],submittedAt:o.submittedAt,body:o.body,bodyHTML:o.bodyHTML,htmlUrl:o.url,user:un(o.author,e),authorAssociation:o.authorAssociation,state:o.state,id:o.databaseId});return;case Bi.Committed:const v=i;t.push({id:v.id,event:r,sha:v.commit.oid,author:v.commit.author.user?un(v.commit.author.user,e):{login:v.commit.committer.name},htmlUrl:v.url,message:v.commit.message,authoredDate:new Date(v.commit.authoredDate)});return;case Bi.Merged:const I=i;t.push({id:I.id,event:r,user:b0(I.actor,e),createdAt:I.createdAt,mergeRef:I.mergeRef.name,sha:I.commit.oid,commitUrl:I.commit.commitUrl,url:I.url,graphNodeId:I.id});return;case Bi.Assigned:const G=i;t.push({id:G.id,event:r,assignees:[un(G.user,e)],actor:un(G.actor),createdAt:G.createdAt});return;case Bi.HeadRefDeleted:const Q=i;t.push({id:Q.id,event:r,actor:un(Q.actor,e),createdAt:Q.createdAt,headRef:Q.headRefName});return;case Bi.CrossReferenced:const re=i;t.push({id:re.id,event:r,actor:un(re.actor,e),createdAt:re.createdAt,source:{url:re.source.url,number:re.source.number,title:re.source.title},willCloseTarget:re.willCloseTarget});return;default:break}}),t}function E0(n,e){var t;return{login:n.user.login,name:n.user.name,avatarUrl:ss((t=n.user.avatarUrl)!=null?t:"",void 0,e.remote.isEnterprise),url:n.user.url,bio:n.user.bio,company:n.user.company,location:n.user.location,commitContributions:T0(n.user.contributionsCollection),id:n.user.id,accountType:Xe(n.user.__typename)}}function T0(n){const e=[];return n.commitContributionsByRepository.forEach(t=>{t.contributions.nodes.forEach(i=>{e.push({createdAt:new Date(i.occurredAt),repoNameWithOwner:t.repository.nameWithOwner})})}),e}function jl(){return[{title:"THUMBS_UP",label:"\u{1F44D}",icon:Ki.icons.reactions.THUMBS_UP},{title:"THUMBS_DOWN",label:"\u{1F44E}",icon:Ki.icons.reactions.THUMBS_DOWN},{title:"LAUGH",label:"\u{1F604}",icon:Ki.icons.reactions.LAUGH},{title:"HOORAY",label:"\u{1F389}",icon:Ki.icons.reactions.HOORAY},{title:"CONFUSED",label:"\u{1F615}",icon:Ki.icons.reactions.CONFUSED},{title:"HEART",label:"\u2764\uFE0F",icon:Ki.icons.reactions.HEART},{title:"ROCKET",label:"\u{1F680}",icon:Ki.icons.reactions.ROCKET},{title:"EYES",label:"\u{1F440}",icon:Ki.icons.reactions.EYES}]}async function dc(n,e,t=100){let i=1,r=[],a=!1;do{const o=await n({...e,per_page:t,page:i});r=r.concat(o.data),a=!!o.headers.link&&o.headers.link.indexOf('rel="next"')>-1,i+=1}while(a);return r}function N0(n){const e=[];return n.forEach(t=>{var i,r;t.event===Bi.Committed&&e.push({login:t.author.login,name:t.author.name||""}),t.event===Bi.Reviewed&&e.push({login:t.user.login,name:(i=t.user.name)!=null?i:t.user.login}),t.event===Bi.Commented&&t.user&&e.push({login:t.user.login,name:(r=t.user.name)!=null?r:t.user.login})}),e}function C0(n){var e;return n&&((e=n.repository)!=null&&e.viewerPermission)&&Object.values(Nr).includes(n.repository.viewerPermission)?n.repository.viewerPermission:Nr.Unknown}function Zf(n,e){return e.path.toLowerCase()===n.rootUri.path.toLowerCase()||e.path.toLowerCase().startsWith(n.rootUri.path.toLowerCase())&&e.path.substring(n.rootUri.path.length).startsWith("/")}function fc(n,e){const t=[];for(const i of n.repositories.reverse())Zf(i,e)&&t.push(i);if(t.length>0)return t.sort((i,r)=>r.rootUri.path.length-i.rootUri.path.length),t[0]}function eh(n,e,t){const i=e.filter(o=>o.event===Bi.Reviewed).filter(o=>o.state!=="PENDING");let r=[];const a=new Map;a.set(t.login,!0);for(let o=i.length-1;o>=0;o--){const v=i[o],I=v.user;v.state&&!a.get(I.login)&&(a.set(I.login,!0),r.push({reviewer:I,state:v.state}))}return n.forEach(o=>{if(!a.get(Et(o)))r.push({reviewer:o,state:"REQUESTED"});else{const v=r.find(I=>Et(I.reviewer)===Et(o));v.state="REQUESTED"}}),r=r.sort((o,v)=>o.state==="REQUESTED"&&v.state!=="REQUESTED"?1:v.state==="REQUESTED"&&o.state!=="REQUESTED"||Bt(o.reviewer).toLowerCase()<Bt(v.reviewer).toLowerCase()?-1:1),r}function P0(n){if(!n.subject.url)return;const e=n.repository.owner.login,t=n.repository.name,i=n.subject.url.split("/").pop();return{owner:e,name:t,key:th(e,t,i),id:n.id,itemID:i,subject:{title:n.subject.title,type:n.subject.type,url:n.subject.url},lastReadAt:n.last_read_at?new Date(n.last_read_at):void 0,reason:n.reason,unread:n.unread,updatedAd:new Date(n.updated_at)}}function th(n,e,t){return`${n}/${e}#${t}`}function M0(n,e,t,i){if(e&&i&&i.sha!==e){let r=n.length-1,a=!1,o=[];for(let v=n.length-1;v>0;v--)if(n[v].event===Bi.Committed&&n[v].sha===e){o.unshift({id:e,event:Bi.NewCommitsSinceReview}),n.splice(r+1,0,...o);break}else a&&n[v].event===Bi.Committed?(o.unshift(n[v]),n.splice(v,1)):!a&&n[v].event===Bi.Reviewed&&n[v].user.login===t&&(r=v,a=!0)}}function A0(n,e){return`is:pull-request ${e.replace(/\$\{user\}/g,n)} type:pr`}function Wl(){return s.env.remoteName==="codespaces"&&s.env.uiKind===s.UIKind.Web}async function hc(n){return s.workspace.getConfiguration(jr).update(hr,n,s.ConfigurationTarget.Workspace)}function Hs(){const n=s.workspace.getConfiguration(jr).get(hr,"");if(n){let e=s.Uri.parse(n,!0);return e.scheme==="http"&&(e=e.with({scheme:"https"})),e}}function Cr(){return!!Hs()}function I0(n,e=200){return n?`https://www.gravatar.com/avatar/${n}?s=${e}&d=retro`:void 0}function ss(n,e,t){var i;return t?e?I0(vl.n1("sha256").update((i=e==null?void 0:e.trim())==null?void 0:i.toLowerCase()).digest("hex")):void 0:n}function D0(n){return s.Uri.parse(`https://${n.remote.host}/${n.remote.owner}/${n.remote.repositoryName}/pulls`)}function x0(n){return s.Uri.parse(`https://${n.remote.host}/${n.remote.owner}/${n.remote.repositoryName}/issues`)}function ih(n){const e=/[~^:;'".,~#?%*&[\]@\\{}()/]|\/\//g;return n.replace(e,"").trim().substring(0,150).replace(/\s+/g,"-")}const F0=/-([0-9]+)([d])/;function O0(n){const e=n?F0.exec(n):void 0,t=new Date;if(e&&e.length===3&&e[2]==="d"){const a=parseInt(e[1])*864e5;t.setTime(t.getTime()-a)}const i=`${t.getMonth()+1}`,r=`${t.getDate()}`;return`${t.getFullYear()}-${i.padStart(2,"0")}-${r.padStart(2,"0")}`}const L0=/\:(Copilot|copilot)(\s|$)/g,U0=/\$\{([^-]*?)(-.*?)?\}/g;async function Gs(n,e,t,i){return n.replace(U0,(o,v,I)=>{let G;switch(v){case"user":G=i||o;break;case"issueNumber":G=e?`${e.number}`:o;break;case"issueNumberLabel":G=e?`${Bo(e,t)}`:o;break;case"issueTitle":G=e?e.title:o;break;case"repository":G=t?t.repo:o;break;case"owner":G=t?t.owner:o;break;case"sanitizedIssueTitle":G=e?ih(e.title):o;break;case"sanitizedLowercaseIssueTitle":G=e?ih(e.title).toLowerCase():o;break;case"today":G=O0(I);break;default:G=o;break}return b.debug(`${o} -> ${G}`,"VariableSubstitution"),G}).replace(L0,()=>":copilot-swe-agent[bot]")}function Bo(n,e){const t={issueNumber:n.number,owner:void 0,name:void 0};return e&&(e.owner.toLowerCase()!==n.remote.owner.toLowerCase()||e.repo.toLowerCase()!==n.remote.repositoryName.toLowerCase())&&(t.owner=n.remote.owner,t.name=n.remote.repositoryName),mc(t)}function mc(n){return!n.owner||!n.name?`#${n.issueNumber}`:`${n.owner}/${n.name}#${n.issueNumber}`}function nh(){const n=s.workspace.getConfiguration(it).get(ct);if(n)return b.debug("Using override setting for default branch",cr.ID),n}async function rh(n){const e=[],t=[],i=[];for(const r of n){for(const a of await r.computeAllGitHubRemotes())a.githubServerType===Zi.GitHubDotCom?e.push(a):a.githubServerType===Zi.Enterprise&&t.push(a);i.push(...await r.computeAllUnknownRemotes())}return{dotComRemotes:e,enterpriseRemotes:t,unknownRemotes:i}}function pc(n){const e=s.Uri.parse(n.html_url);return`https://${s.env.appName.toLowerCase().includes("insider")?"insiders.":""}vscode.dev/github${e.path}`}function ah(n){const e=s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,t=ee(n.color,e,!0);return`<span style="color:${t.textColor};background-color:${t.backgroundColor};border-radius:10px;">&nbsp;&nbsp;${n.name.trim()}&nbsp;&nbsp;</span>`}var sr=(n=>(n[n.None=0]="None",n[n.ReviewRequired=1]="ReviewRequired",n[n.ChangesRequested=2]="ChangesRequested",n[n.CIFailed=4]="CIFailed",n[n.CIPending=8]="CIPending",n))(sr||{});class zl{constructor(e,t,i){this.remoteName=e,this.url=t,this.gitProtocol=i}get host(){return this.gitProtocol.host}get owner(){return this.gitProtocol.owner}get repositoryName(){return this.gitProtocol.repositoryName}get normalizedHost(){const e=this.gitProtocol.normalizeUri();return`${e.scheme}://${e.authority}`}get authProviderId(){var e;return this.host===((e=Hs())==null?void 0:e.authority)?li.githubEnterprise:li.github}get isEnterprise(){return Jn(this.authProviderId)}equals(e){return!(this.remoteName!==e.remoteName||!this.host.includes(e.host)&&!e.host.includes(this.host)||this.owner.toLocaleLowerCase()!==e.owner.toLocaleLowerCase()||this.repositoryName.toLocaleLowerCase()!==e.repositoryName.toLocaleLowerCase())}}function qo(n,e,t){if(!e)return null;const i=new Kn(e);return t&&i.update({type:t.type}),i.host?new zl(n,e,i):null}function ba(n){const e=[];for(const t of n.state.remotes){const i=[];t.fetchUrl&&i.push(t.fetchUrl),t.pushUrl&&t.pushUrl!==t.fetchUrl&&i.push(t.pushUrl),i.forEach(r=>{const a=qo(t.name,r);a&&e.push(a)})}return e}class os extends zl{constructor(e,t,i,r){super(e,t,i),this.githubServerType=r}static remoteAsGitHub(e,t){return new os(e.remoteName,e.url,e.gitProtocol,t)}}var B0=Object.defineProperty,q0=(n,e,t)=>e in n?B0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,H0=(n,e,t)=>q0(n,typeof e!="symbol"?e+"":e,t);class sh{constructor(e,t,i,r,a,o,v){this.ref=e,this.label=t,this.sha=i,this.owner=a,this.name=o,this.isInOrganization=v,H0(this,"repositoryCloneUrl"),this.repositoryCloneUrl=new Kn(r)}}function G0(n,e){var t;const i=e.repositoryCloneUrl.repositoryName.toLowerCase(),r=e.owner.toLowerCase();for(const a of n.state.remotes){const o=(t=a.fetchUrl)!=null?t:a.pushUrl;if(!o)continue;const v=qo(a.name,o),I=v==null?void 0:v.owner.toLowerCase(),G=v==null?void 0:v.repositoryName.toLowerCase();if(I===r&&G===i)return a}}var $0=Object.defineProperty,V0=(n,e,t)=>e in n?$0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ls=(n,e,t)=>V0(n,typeof e!="symbol"?e+"":e,t);const oh=class kv{constructor(e,t,i,r){this.pullRequest=e,this.folderRepoManager=t,this.change=i,this.sha=r,ls(this,"_filePath"),ls(this,"_parentFilePath"),ls(this,"_viewed")}get filePath(){return this._filePath}get parentFilePath(){return this._parentFilePath}get status(){return this.change.status}get fileName(){return this.change.fileName}get blobUrl(){return this.change.blobUrl}get viewed(){return this._viewed}updateViewed(e){this._viewed!==e&&(this._viewed=e)}async diffHunks(){var e;let t=[];if(this.change instanceof lr&&this.change.diffHunks)return this.change.diffHunks;if(this.status!==Ot.RENAME)try{const i=(e=this.sha)!=null?e:this.pullRequest.head.sha,r=await this.folderRepoManager.repository.diffBetween(this.pullRequest.base.sha,i,this.fileName);t=_s(r)}catch(i){b.error(`Failed to parse patch for outdated comments: ${i}`,kv.ID)}return t}};ls(oh,"ID","FileChangeModel");let vc=oh;class gc extends vc{constructor(e,t,i,r,a,o,v){if(super(t,e,i,o),ls(this,"_show"),this._filePath=r,this._parentFilePath=a,v)try{this.showBase()}catch{b.warn(`Unable to preload file content for ${r.fsPath} at commit ${o}`)}}async showBase(){if(!this._show&&this.change.status!==Ot.ADD){const e=this.change instanceof lr||this.change instanceof zr?this.change.baseCommit:this.sha,t=s.Uri.joinPath(this.folderRepoManager.repository.rootUri,this.fileName).fsPath;this._show=this.folderRepoManager.repository.show(e,t)}return this._show}}class us extends vc{constructor(e,t,i,r,a){super(t,e,i),this.change=i;const o=t.head.sha,v=i.status===Ot.RENAME?i.previousFileName:i.fileName,I=e.repository.rootUri.with({path:s.Uri.file(Vs(e.repository.rootUri,i.fileName)).path}),G=e.repository.rootUri.with({path:s.Uri.file(Vs(e.repository.rootUri,v)).path});this._filePath=r?i.status===Ot.DELETE?Pr(I,void 0,void 0,"",!1,{base:!1},e.repository.rootUri):I:ya(I,t,i.baseCommit,o,i.fileName,!1,i.status,i.previousFileName),this._parentFilePath=r?Pr(G,i.status===Ot.RENAME?i.previousFileName:i.fileName,void 0,i.status===Ot.ADD?"":a,!1,{base:!0},e.repository.rootUri):ya(G,t,i.baseCommit,o,i.fileName,!0,i.status,i.previousFileName)}get previousFileName(){return this.change.previousFileName}async isPartial(){let e=!1,t;if(this.change.patch===""&&(this.change.status===Ot.MODIFY||this.change.status===Ot.RENAME||this.change.status===Ot.ADD))return!0;this.change.status===Ot.DELETE||this.change.status===Ot.MODIFY?t=this.change.fileName:this.change.status===Ot.RENAME&&(t=this.change.previousFileName);try{t&&(await this.folderRepoManager.repository.getObjectDetails(this.change.baseCommit,t),e=!0)}catch{}return!e}get patch(){return this.change.patch}}class $s extends vc{constructor(e,t,i){super(i,e,t),this.change=t,ls(this,"fileChangeResourceUri"),ls(this,"childrenDisposables",[]);const r=i.head.sha,a=t.status===Ot.RENAME?t.previousFileName:t.fileName;this._filePath=ya(s.Uri.file(Vs(e.repository.rootUri,t.fileName)),i,t.baseCommit,r,t.fileName,!1,t.status,t.previousFileName),this._parentFilePath=ya(s.Uri.file(Vs(e.repository.rootUri,a)),i,t.baseCommit,r,t.fileName,!0,t.status,t.previousFileName)}get previousFileName(){return this.change.previousFileName}}const bc=new AbortController().signal,lh=new AbortController;lh.abort();const ZR=lh.signal,eE=n=>{const e=new AbortController;if(!n)return e;if(n.aborted&&e.abort(),n!==bc){const t=new WeakRef(e);onAbort(n)(()=>{var i;return(i=t.deref())==null?void 0:i.abort()})}return e},j0=()=>{let n,e;const t=new Promise((i,r)=>{n=i,e=r});return{resolve:n,reject:e,promise:t}};class yc extends Error{constructor(e="Operation cancelled"){super(e),this.message=e,this.isTaskCancelledError=!0}}const uh={dispose:()=>{}};var ch;(function(n){n.once=(e,t)=>{let i=!1,r;return r=e(a=>{t(a),r?r.dispose():i=!0}),i?(r.dispose(),uh):r},n.toPromise=(e,t)=>t?t.aborted?Promise.reject(new yc):new Promise((i,r)=>{const a=W0(t)(()=>{o.dispose(),r(new yc)}),o=n.once(e,v=>{a.dispose(),i(v)})}):new Promise(i=>n.once(e,i))})(ch||(ch={}));const W0=n=>{const e=new z0;if(n.aborted)return e.emit(),e.addListener;const t=()=>{e.emit(),n.removeEventListener("abort",t)};return n.addEventListener("abort",t),e.addListener};class Ho{constructor(){this.addListener=e=>this.addListenerInner(e)}get size(){return this.listeners?typeof this.listeners=="function"?1:this.listeners.length:0}emit(e){if(this.listeners)if(typeof this.listeners=="function")this.listeners(e);else for(const t of this.listeners)t(e)}addListenerInner(e){return this.listeners?typeof this.listeners=="function"?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.removeListener(e)}}removeListener(e){if(!this.listeners)return;if(typeof this.listeners=="function"){this.listeners===e&&(this.listeners=void 0);return}const t=this.listeners.indexOf(e);t!==-1&&(this.listeners.length===2?this.listeners=t===0?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,t).concat(this.listeners.slice(t+1)))}}class tE extends Ho{constructor(){super(...arguments),this.addListener=e=>{const t=this.addListenerInner(e);return this.lastValue&&e(this.lastValue.value),t}}get hasEmitted(){return!!this.lastValue}emit(e){this.lastValue={value:e},super.emit(e)}}class z0 extends Ho{constructor(){super(...arguments),this.addListener=e=>this.lastValue?(e(this.lastValue.value),uh):this.addListenerInner(e)}emit(e){this.lastValue={value:e},super.emit(e),this.listeners=void 0}}var dh=Kt(65606);const K0=n=>{if("error"in n)throw n.error;return"success"in n?n.success:n.value},Q0=()=>{if(typeof performance!="undefined"){const n=performance.now();return()=>performance.now()-n}else{const n=dh.hrtime.bigint();return()=>Number(dh.hrtime.bigint()-n)/1e6}};class Kl{constructor(e=()=>!1,t=()=>!1){this.errorFilter=e,this.resultFilter=t,this.successEmitter=new Ho,this.failureEmitter=new Ho,this.onSuccess=this.successEmitter.addListener,this.onFailure=this.failureEmitter.addListener}clone(){return new Kl(this.errorFilter,this.resultFilter)}async invoke(e,...t){const i=this.successEmitter.size||this.failureEmitter.size?Q0():null;try{const r=await e(...t);return this.resultFilter(r)?(i&&this.failureEmitter.emit({duration:i(),handled:!0,reason:{value:r}}),{value:r}):(i&&this.successEmitter.emit({duration:i()}),{success:r})}catch(r){const a=r,o=this.errorFilter(a);if(i&&this.failureEmitter.emit({duration:i(),handled:o,reason:{error:a}}),!o)throw a;return{error:a}}}}class Y0 extends Error{constructor(e,t){super(`Bulkhead capacity exceeded (0/${e} execution slots, 0/${t} available)`),this.isBulkheadRejectedError=!0}}class X0{constructor(e,t){this.capacity=e,this.queueCapacity=t,this.active=0,this.queue=[],this.onRejectEmitter=new Ho,this.executor=new Kl,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onReject=this.onRejectEmitter.addListener}get executionSlots(){return this.capacity-this.active}get queueSlots(){return this.queueCapacity-this.queue.length}async execute(e,t=bc){if(t.aborted)throw new yc;if(this.active<this.capacity){this.active++;try{return await e({signal:t})}finally{this.active--,this.dequeue()}}if(this.queue.length<this.queueCapacity){const{resolve:i,reject:r,promise:a}=j0();return this.queue.push({signal:t,fn:e,resolve:i,reject:r}),a}throw this.onRejectEmitter.emit(),new Y0(this.capacity,this.queueCapacity)}dequeue(){const e=this.queue.shift();e&&Promise.resolve().then(()=>this.execute(e.fn,e.signal)).then(e.resolve).catch(e.reject)}}class J0{constructor(){this.executor=new Kl,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(e,t=bc){return K0(await this.executor.invoke(e,{signal:t}))}}const Ql=(n,e)=>e?t=>t instanceof n&&e(t):t=>t instanceof n,Z0=()=>!0,Go=()=>!1;class ta{constructor(e){this.options=e}orType(e,t){const i=Ql(e,t);return new ta({...this.options,errorFilter:r=>this.options.errorFilter(r)||i(r)})}orWhen(e){return new ta({...this.options,errorFilter:t=>this.options.errorFilter(t)||e(t)})}orWhenResult(e){return new ta({...this.options,resultFilter:t=>this.options.resultFilter(t)||e(t)})}orResultType(e,t){const i=Ql(e,t);return new ta({...this.options,resultFilter:r=>this.options.resultFilter(r)||i(r)})}}const iE=new J0,nE=new ta({errorFilter:Z0,resultFilter:Go});function rE(n,e){return new ta({errorFilter:Ql(n,e),resultFilter:Go})}function aE(n){return new ta({errorFilter:n,resultFilter:Go})}function sE(n,e){return new ta({errorFilter:Go,resultFilter:Ql(n,e)})}function oE(n){return new ta({errorFilter:Go,resultFilter:n})}function fh(n,e=0){return new X0(n,e)}function lE(n){return(e,t,i)=>{const r=i.value;if(typeof r!="function")throw new Error(`Can only decorate functions with @cockatiel, got ${typeof r}`);i.value=function(...a){const o=a[a.length-1]instanceof AbortSignal?a.pop():void 0;return n.execute(v=>r.apply(this,[...a,v]),o)}}}function uE(n,e){return new TimeoutPolicy(n,typeof e=="string"?{strategy:e}:e)}function cE(...n){return{_altReturn:void 0,onFailure:n[0].onFailure,onSuccess:n[0].onSuccess,wrapped:n,execute(e,t){const i=(r,a)=>a===n.length?e(r):n[a].execute(o=>i({...r,...o},a+1),r.signal);return Promise.resolve(i({signal:t},0))}}}function dE(n,e){var t;return new RetryPolicy({backoff:e.backoff||new ConstantBackoff(0),maxAttempts:(t=e.maxAttempts)!=null?t:1/0},new ExecuteWrapper(n.options.errorFilter,n.options.resultFilter))}function fE(n,e){return new CircuitBreakerPolicy(e,new ExecuteWrapper(n.options.errorFilter,n.options.resultFilter))}function hE(n,e){return new FallbackPolicy(new ExecuteWrapper(n.options.errorFilter,n.options.resultFilter),typeof e=="function"?e:()=>e)}var eb=Object.defineProperty,tb=(n,e,t)=>e in n?eb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,wc=(n,e,t)=>tb(n,typeof e!="symbol"?e+"":e,t);const hh=class Ga{constructor(e,t){this.telemetry=e,this.errorOnFlood=t,wc(this,"bulkhead",fh(140)),wc(this,"hasLoggedLowRateLimit",!1)}logAndLimit(e,t){if(this.bulkhead.executionSlots===0)if(b.error("API call count has exceeded 140 concurrent calls.",Ga.ID),this.telemetry.sendTelemetryErrorEvent("pr.highApiCallRate"),this.errorOnFlood){s.window.showErrorMessage(s.l10n.t('The GitHub Pull Requests extension is making too many requests to GitHub. This indicates a bug in the extension. Please file an issue on GitHub and include the output from "GitHub Pull Request".'));return}else return t();const i=`Extension rate limit remaining: ${this.bulkhead.executionSlots}, ${e}`;return this.bulkhead.executionSlots<5?b.appendLine(i,Ga.ID):b.debug(i,Ga.ID),this.bulkhead.execute(()=>t())}async logRateLimit(e,t,i=!1){var r,a,o,v;let I;try{const re=await t;I=(r=re==null?void 0:re.data)==null?void 0:r.rateLimit}catch{return}const G=e==null?void 0:e.startsWith("/search/");((a=I==null?void 0:I.limit)!=null?a:5e3)<5e3&&(G?((o=I==null?void 0:I.limit)!=null?o:30)<30&&b.appendLine(`Unexpectedly low SEARCH rate limit: ${I==null?void 0:I.limit}`,Ga.ID):b.appendLine(`Unexpectedly low rate limit: ${I==null?void 0:I.limit}`,Ga.ID));const Q=`${i?"REST":"GraphQL"} Rate limit remaining: ${I==null?void 0:I.remaining}, cost: ${I==null?void 0:I.cost}, ${e}`;((v=I==null?void 0:I.remaining)!=null?v:1e3)<1e3&&!G?(this.hasLoggedLowRateLimit||(this.telemetry.sendTelemetryErrorEvent("pr.lowRateLimitRemaining"),this.hasLoggedLowRateLimit=!0),b.warn(Q,Ga.ID)):b.debug(Q,Ga.ID)}async logRestRateLimit(e,t){let i;try{i=await t}catch{return}const r={cost:-1,limit:Number(i.headers["x-ratelimit-limit"]),remaining:Number(i.headers["x-ratelimit-remaining"]),resetAt:""};this.logRateLimit(e,Promise.resolve({data:{rateLimit:r}}),!0)}};wc(hh,"ID","RateLimit");let ib=hh;class nb{constructor(e,t){this._graphql=e,this._rateLogger=t}query(e){var t;const i=(t=e.query.definitions[0].name)==null?void 0:t.value,r=this._rateLogger.logAndLimit(i,()=>this._graphql.query(e));if(r===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(i,r),r}mutate(e){const t=e.context,i=this._rateLogger.logAndLimit(t,()=>this._graphql.mutate(e));if(i===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(t,i),i}}class rb{constructor(e,t){this.api=e,this._rateLogger=t}call(e,...t){var i,r;const a=(r=(i=e.endpoint)==null?void 0:i.DEFAULTS)==null?void 0:r.url,o=this._rateLogger.logAndLimit(a,()=>e(...t));if(o===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRestRateLimit(a,o),o}}async function ab(n,e,t,i,r,a,o){b.debug(`Comparing commits for ${n.owner}/${n.repositoryName} with base ${t.repositoryCloneUrl.owner}:${r} and head ${i.repositoryCloneUrl.owner}:${i.sha}`,o);let v,I;const G=async Q=>dc(e.api.pulls.listFiles,{owner:t.repositoryCloneUrl.owner,pull_number:a,repo:n.repositoryName},Q);try{const{data:Q}=await e.call(e.api.repos.compareCommits,{repo:n.repositoryName,owner:n.owner,base:`${t.repositoryCloneUrl.owner}:${r}`,head:`${i.repositoryCloneUrl.owner}:${i.sha}`}),re=100;Q.files&&Q.files.length>=re?(b.appendLine(`More than ${re} files changed in #${a}`,o),v=await G()):v=Q.files?Q.files:[],I=Q.merge_base_commit.sha}catch(Q){if(Q.message==="Server Error")v=await G(3),I=t.sha;else throw Q}return{mergeBaseSha:I,files:v}}var sb=Object.defineProperty,ob=(n,e,t)=>e in n?sb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qi=(n,e,t)=>ob(n,typeof e!="symbol"?e+"":e,t);const mh=100,ph=class Wi extends Pn{constructor(e,t,i,r,a,o){super(i,r,a,!0),this.credentialStore=e,qi(this,"isDraft"),qi(this,"localBranchName"),qi(this,"mergeBase"),qi(this,"mergeQueueEntry"),qi(this,"conflicts"),qi(this,"suggestedReviewers"),qi(this,"hasChangesSinceLastReview"),qi(this,"_showChangesSinceReview"),qi(this,"_hasPendingReview",!1),qi(this,"_onDidChangePendingReviewState",new s.EventEmitter),qi(this,"onDidChangePendingReviewState",this._onDidChangePendingReviewState.event),qi(this,"_reviewThreadsCache",[]),qi(this,"_reviewThreadsCacheInitialized",!1),qi(this,"_onDidChangeReviewThreads",new s.EventEmitter),qi(this,"onDidChangeReviewThreads",this._onDidChangeReviewThreads.event),qi(this,"_fileChangeViewedState",{}),qi(this,"_viewedFiles",new Set),qi(this,"_unviewedFiles",new Set),qi(this,"_onDidChangeFileViewedState",new s.EventEmitter),qi(this,"onDidChangeFileViewedState",this._onDidChangeFileViewedState.event),qi(this,"_onDidChangeChangesSinceReview",new s.EventEmitter),qi(this,"onDidChangeChangesSinceReview",this._onDidChangeChangesSinceReview.event),qi(this,"_hasComments"),qi(this,"_comments"),qi(this,"_onDidChangeComments",new s.EventEmitter),qi(this,"onDidChangeComments",this._onDidChangeComments.event),qi(this,"_isActive"),qi(this,"_telemetry"),qi(this,"isRemoteHeadDeleted"),qi(this,"head"),qi(this,"isRemoteBaseDeleted"),qi(this,"base"),qi(this,"_fileChanges",new Map),qi(this,"markFilesInProgressRefCount",new Map),this._telemetry=t,this.isActive=!!o,this._showChangesSinceReview=!1,this.update(a)}get isActive(){return this._isActive}set isActive(e){this._isActive=e}clear(){this.comments=[],this._reviewThreadsCacheInitialized=!1,this._reviewThreadsCache=[]}async initializeReviewThreadCache(){await this.getReviewThreads(),this._reviewThreadsCacheInitialized=!0}get reviewThreadsCache(){return this._reviewThreadsCache}get reviewThreadsCacheReady(){return this._reviewThreadsCacheInitialized}get hasPendingReview(){return this._hasPendingReview}set hasPendingReview(e){this._hasPendingReview!==e&&(this._hasPendingReview=e,this._onDidChangePendingReviewState.fire(this._hasPendingReview))}get showChangesSinceReview(){return this._showChangesSinceReview}set showChangesSinceReview(e){this._showChangesSinceReview!==e&&(this._showChangesSinceReview=e,this._fileChanges.clear(),this._onDidChangeChangesSinceReview.fire())}get comments(){var e;return(e=this._comments)!=null?e:[]}set comments(e){this._comments=e,this._onDidChangeComments.fire()}get fileChangeViewedState(){return this._fileChangeViewedState}updateState(e){e.toLowerCase()==="open"?this.state=Gt.Open:e.toLowerCase()==="merged"||this.item.merged?this.state=Gt.Merged:this.state=Gt.Closed}update(e){var t;super.update(e),this.isDraft=e.isDraft,this.suggestedReviewers=e.suggestedReviewers,e.isRemoteHeadDeleted!=null&&(this.isRemoteHeadDeleted=e.isRemoteHeadDeleted),e.head&&(this.head=new sh(e.head.ref,e.head.label,e.head.sha,e.head.repo.cloneUrl,e.head.repo.owner,e.head.repo.name,e.head.repo.isInOrganization)),e.isRemoteBaseDeleted!=null&&(this.isRemoteBaseDeleted=e.isRemoteBaseDeleted),e.base&&(this.base=new sh(e.base.ref,e.base.label,e.base.sha,e.base.repo.cloneUrl,e.base.repo.owner,e.base.repo.name,e.base.repo.isInOrganization)),e.mergeQueueEntry!==void 0&&(this.mergeQueueEntry=(t=e.mergeQueueEntry)!=null?t:void 0),e.hasComments!==void 0&&(this._hasComments=e.hasComments)}isResolved(){return!!this.head}validatePullRequestModel(e){if(this.head)return!0;const t=s.l10n.t("There is no upstream branch for Pull Request #{0}. View it on GitHub for more details",this.number);e?e+=`: ${t}`:e=t;const i=s.l10n.t("Open on GitHub");return s.window.showWarningMessage(e,i).then(r=>{r&&r===i&&s.commands.executeCommand("vscode.open",s.Uri.parse(this.html_url))}),!1}updateIssueInput(e){return{pullRequestId:e}}updateIssueSchema(e){return e.UpdatePullRequest}async approve(e,t){var i,r,a,o,v,I;let G,Q,re;return this.isActive?(Q=(i=e.state.HEAD)==null?void 0:i.commit,G=(a=(r=await this.githubRepository.getPullRequest(this.number))==null?void 0:r.head)==null?void 0:a.sha,re=s.l10n.t("The remote head of the PR branch has changed. Please pull the latest changes from the remote branch before approving.")):(Q=(o=this.head)==null?void 0:o.sha,G=(I=(v=await this.githubRepository.getPullRequest(this.number))==null?void 0:v.head)==null?void 0:I.sha,re=s.l10n.t("The remote head of the PR branch has changed. Please refresh the pull request before approving.")),!G||G!==Q?Promise.reject(re):(await this.getPendingReviewId()?this.submitReview(Mt.Approve,t):this.createReview(Mt.Approve,t)).then(ge=>(this._telemetry.sendTelemetryEvent("pr.approve"),this._onDidChangeComments.fire(),ge))}async requestChanges(e){return(await this.getPendingReviewId()?this.submitReview(Mt.RequestChanges,e):this.createReview(Mt.RequestChanges,e)).then(i=>(this._telemetry.sendTelemetryEvent("pr.requestChanges"),this._onDidChangeComments.fire(),i))}async close(){const{octokit:e,remote:t}=await this.githubRepository.ensure(),i=await e.call(e.api.pulls.update,{owner:t.owner,repo:t.repositoryName,pull_number:this.number,state:"closed"});return this._telemetry.sendTelemetryEvent("pr.close"),Gl(i.data,this.githubRepository)}async createReview(e,t){const{octokit:i,remote:r}=await this.githubRepository.ensure(),{data:a}=await i.call(i.api.pulls.createReview,{owner:r.owner,repo:r.repositoryName,pull_number:this.number,event:e,body:t});return h0(a,this.githubRepository)}async submitReview(e,t){let i=await this.getPendingReviewId();const{mutate:r,schema:a}=await this.githubRepository.ensure();if(!i&&e===Mt.Comment&&(i=await this.startReview()),i){const{data:o}=await r({mutation:a.SubmitReview,variables:{id:i,event:e||Mt.Comment,body:t}});this.hasPendingReview=!1,await this.updateDraftModeContext();const v=R0(o.submitPullRequestReview.pullRequestReview,this.githubRepository),I=this._reviewThreadsCache.find(G=>G.comments.length?G.comments[0].pullRequestReviewId===v.id:void 0);return I&&(I.comments=v.comments,I.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[I],removed:[]})),v}else throw new Error(`Submitting review failed, no pending review for current pull request: ${this.number}.`)}async getPendingReviewId(){const{query:e,schema:t}=await this.githubRepository.ensure(),i=await this.githubRepository.getAuthenticatedUser();try{const{data:r}=await e({query:t.GetPendingReviewId,variables:{pullRequestId:this.item.graphNodeId,author:i}});return r.node.reviews.nodes.length>0?r.node.reviews.nodes[0].id:void 0}catch{return}}async getViewerLatestReviewCommit(){var e,t;b.debug("Fetch viewers latest review commit",Pn.ID);const{query:i,remote:r,schema:a}=await this.githubRepository.ensure();try{const{data:o}=await i({query:a.LatestReviewCommit,variables:{owner:r.owner,name:r.repositoryName,number:this.number}});return o.repository===null&&b.error("Unexpected null repository while getting last review commit",Wi.ID),(e=o.repository)!=null&&e.pullRequest.viewerLatestReview?{sha:(t=o.repository)==null?void 0:t.pullRequest.viewerLatestReview.commit.oid}:void 0}catch{return}}async deleteReview(){const e=await this.getPendingReviewId(),{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:i.DeleteReview,variables:{input:{pullRequestReviewId:e}}}),{comments:a,databaseId:o}=r.deletePullRequestReview.pullRequestReview;return this.hasPendingReview=!1,await this.updateDraftModeContext(),this.getReviewThreads(),{deletedReviewId:o,deletedReviewComments:a.nodes.map(v=>qs(v,!1,this.githubRepository))}}async startReview(e){var t;const{mutate:i,schema:r}=await this.githubRepository.ensure(),{data:a}=await i({mutation:r.StartReview,variables:{input:{body:"",pullRequestId:this.item.graphNodeId,commitOID:e||((t=this.head)==null?void 0:t.sha)}}});if(!a)throw new Error("Failed to start review");return this.hasPendingReview=!0,this._onDidChangeComments.fire(),a.addPullRequestReview.pullRequestReview.id}async createReviewThread(e,t,i,r,a,o){if(!this.validatePullRequestModel("Creating comment failed"))return;const v=await this.getPendingReviewId(),{mutate:I,schema:G}=await this.githubRepository.ensure(),{data:Q}=await I({mutation:G.AddReviewThread,variables:{input:{path:t,body:e,pullRequestId:this.graphNodeId,pullRequestReviewId:v,startLine:i===r?void 0:i,line:r===void 0?0:r,side:a,subjectType:i===void 0||r===void 0?xn.FILE:xn.LINE}}},{mutation:G.LegacyAddReviewThread,deleteProps:["subjectType"]});if(!Q)throw new Error("Creating review thread failed.");if(!Q.addPullRequestReviewThread.thread)throw new Error("File has been deleted.");o||(this.hasPendingReview=!0,await this.updateDraftModeContext());const re=Q.addPullRequestReviewThread.thread,le=$l(re,this.githubRepository);return this._reviewThreadsCache.push(le),this._onDidChangeReviewThreads.fire({added:[le],changed:[],removed:[]}),le}async createCommentReply(e,t,i,r){var a;if(!this.validatePullRequestModel("Creating comment failed"))return;let o=await this.getPendingReviewId();o||(o=await this.startReview(r));const{mutate:v,schema:I}=await this.githubRepository.ensure(),{data:G}=await v({mutation:I.AddComment,variables:{input:{pullRequestReviewId:o,body:e,inReplyTo:t,commitOID:r||((a=this.head)==null?void 0:a.sha)}}});if(!G)throw new Error("Creating comment reply failed.");const{comment:Q}=G.addPullRequestReviewComment,re=qs(Q,!1,this.githubRepository);i&&(re.isDraft=!1);const le=this._reviewThreadsCache.find(ge=>ge.comments.some(Re=>Re.graphNodeId===t));return le&&(le.comments.push(re),this._onDidChangeReviewThreads.fire({added:[],changed:[le],removed:[]})),re}async validateDraftMode(){const e=!!await this.getPendingReviewId();return e!==this.hasPendingReview&&(this.hasPendingReview=e),await this.updateDraftModeContext(),e}async updateDraftModeContext(){this.isActive&&await s.commands.executeCommand("setContext","reviewInDraftMode",this.hasPendingReview)}async editReviewComment(e,t){const{mutate:i,schema:r}=await this.githubRepository.ensure();let a=this._reviewThreadsCache.find(I=>I.comments.some(G=>G.graphNodeId===e.graphNodeId));if(!a)return this.editIssueComment(e,t);const{data:o}=await i({mutation:r.EditComment,variables:{input:{pullRequestReviewCommentId:e.graphNodeId,body:t}}});if(!o)throw new Error("Editing review comment failed.");const v=qs(o.updatePullRequestReviewComment.pullRequestReviewComment,!!e.isResolved,this.githubRepository);if(a){const I=a.comments.findIndex(G=>G.graphNodeId===e.graphNodeId);a.comments.splice(I,1,v),this._onDidChangeReviewThreads.fire({added:[],changed:[a],removed:[]})}return v}async deleteReviewComment(e){try{const{octokit:t,remote:i}=await this.githubRepository.ensure(),r=Number(e),a=this._reviewThreadsCache.findIndex(o=>o.comments.some(v=>v.id===r));if(a===-1)this.deleteIssueComment(e);else if(await t.call(t.api.pulls.deleteReviewComment,{owner:i.owner,repo:i.repositoryName,comment_id:r}),a>-1){const o=this._reviewThreadsCache[a],v=o.comments.findIndex(I=>I.id===r);o.comments.splice(v,1),o.comments.length===0?(this._reviewThreadsCache.splice(a,1),this._onDidChangeReviewThreads.fire({added:[],changed:[],removed:[o]})):this._onDidChangeReviewThreads.fire({added:[],changed:[o],removed:[]})}}catch(t){throw new Error(he(t))}}async getFileContent(e,t,i){var r;b.debug("Fetch file content - enter",cr.ID);const{query:a,remote:o,schema:v}=await this.githubRepository.ensure(),{data:I}=await a({query:v.GetFileContent,variables:{owner:e,name:o.repositoryName,expression:`${t}:${i}`}});if((r=I.repository)!=null&&r.object.text)return b.debug("Fetch file content - end",cr.ID),I.repository.object.text}async compareBaseBranchForMerge(e,t,i,r){var a,o,v;const{octokit:I,remote:G}=await this.githubRepository.ensure(),Q=await I.call(I.api.repos.compareCommits,{repo:G.repositoryName,owner:e,base:`${e}:${t}`,head:`${i}:${r}`});return(v=(o=(a=Q==null?void 0:Q.data)==null?void 0:a.files)==null?void 0:o.filter(re=>re!==void 0))!=null?v:[]}async getUpdateBranchFiles(e,t,i){if(this.item.mergeable===zt.Conflict&&(!i.resolvedConflicts||i.resolvedConflicts.size===0))throw new Error("Pull Request has conflicts but no resolutions were provided.");const{octokit:r}=await this.githubRepository.ensure(),a=await this.compareBaseBranchForMerge(i.prHeadOwner,i.prHeadBranchName,i.prBaseOwner,e),o=(await r.call(r.api.repos.getCommit,{owner:i.prBaseOwner,repo:i.repositoryName,ref:e})).data.commit.tree.sha,v=await r.call(r.api.git.getTree,{owner:i.prBaseOwner,repo:i.repositoryName,tree_sha:o,recursive:"true"});return(await Promise.all(a.map(async G=>{var Q,re,le,ge;if(!G)return;const Re=v.data.tree.find(We=>We.path===G.filename),Ie=(Q=Re==null?void 0:Re.mode)!=null?Q:"100644",ue=(await r.call(r.api.git.getTree,{owner:i.prHeadOwner,repo:i.repositoryName,tree_sha:t,recursive:"true"})).data.tree.find(We=>We.path===G.filename),ye=(re=ue==null?void 0:ue.mode)!=null?re:"100644";if(G.status==="removed")return{path:G.filename,sha:null,mode:(le=ue==null?void 0:ue.mode)!=null?le:"100644"};const Te={path:G.filename,mode:Ie},Ae=i.resolvedConflicts.get(G.filename);if((Ae==null?void 0:Ae.resolvedContents)!==void 0){if(G.status!=="modified")throw new Error(`Only modified file are supported for conflict resolution ${G.filename}: ${G.status}`);if(Ie!==ye)throw new Error(`Conflict resolution not supported for file with different modes ${G.filename}: ${Ie} -> ${ye}`);if(G.previous_filename)throw new Error("Conflict resolution not supported for renamed files");return Te.content=Ae.resolvedContents,Te}if((!G.previous_filename||!this._fileChanges.has(G.previous_filename))&&!this._fileChanges.has(G.filename))return Te.sha=G.sha,Te;const{data:Ue}=await r.call(r.api.repos.getContent,{owner:i.prHeadOwner,repo:i.repositoryName,path:(ge=G==null?void 0:G.previous_filename)!=null?ge:G.filename,ref:i.prHeadBranchName});if(G.status==="modified"&&G.patch&&Ue.content){const We=qe.Buffer.from(Ue.content,"base64"),ze=new TextDecoder().decode(We);Te.content=Ma(ze,G.patch)}else throw b.error(`File ${G.filename} has status ${G.status} and can't be merged.`,cr.ID),new Error(`File ${G.filename} has status ${G.status} and can't be merged,`);return Te}))).filter(G=>G!==void 0)}async getLatestBaseCommitSha(){if(!this.base)throw new Error("Base branch not yet set.");const{octokit:t,remote:i}=await this.githubRepository.ensure();return(await t.call(t.api.repos.getBranch,{owner:i.owner,repo:i.repositoryName,branch:this.base.ref})).data.commit.sha}async updateBranch(e){if(this.item.mergeable===zt.Conflict&&(!e.resolvedConflicts||e.resolvedConflicts.size===0))throw new Error("Pull Request has conflicts but no resolutions were provided.");b.debug(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} - enter`,cr.ID);try{const{octokit:t}=await this.githubRepository.ensure(),i=(await t.call(t.api.repos.getBranch,{owner:e.prHeadOwner,repo:e.repositoryName,branch:e.prHeadBranchName})).data.commit.sha,r=(await t.call(t.api.repos.getCommit,{owner:e.prHeadOwner,repo:e.repositoryName,ref:i})).data.commit.tree.sha,a=await this.getUpdateBranchFiles(e.latestPrBaseSha,r,e),o=(await t.call(t.api.git.createTree,{owner:e.prHeadOwner,repo:e.repositoryName,base_tree:r,tree:a})).data.sha;let v;e.prBaseOwner===e.prHeadOwner?v=`Merge branch \`${e.prBaseBranchName}\` into ${e.prHeadBranchName}`:v=`Merge branch \`${e.prBaseOwner}:${e.prBaseBranchName}\` into ${e.prHeadBranchName}`;const I=(await t.call(t.api.git.createCommit,{owner:e.prHeadOwner,repo:e.repositoryName,message:v,tree:o,parents:[i,e.latestPrBaseSha]})).data.sha;await t.call(t.api.git.updateRef,{owner:e.prHeadOwner,repo:e.repositoryName,ref:`heads/${e.prHeadBranchName}`,sha:I})}catch(t){return b.error(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} failed: ${t}`,cr.ID),!1}return b.debug(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} - done`,cr.ID),!0}async getReviewRequests(){b.debug("Get Review Requests - enter",Wi.ID);const e=this.githubRepository,{remote:t,query:i,schema:r}=await e.ensure(),{data:a}=await i({query:this.credentialStore.isAuthenticatedWithAdditionalScopes(e.remote.authProviderId)?r.GetReviewRequestsAdditionalScopes:r.GetReviewRequests,variables:{number:this.number,owner:t.owner,name:t.repositoryName}});if(a.repository===null)return b.error("Unexpected null repository while getting review requests",Wi.ID),[];const o=g0(a,e);return b.debug("Get Review Requests - done",Wi.ID),o}async requestReview(e,t,i=!1){const{mutate:r,schema:a}=await this.githubRepository.ensure();await r({mutation:a.AddReviewers,variables:{input:{pullRequestId:this.graphNodeId,teamIds:t.map(o=>o.id),userIds:e.filter(o=>o.accountType!==nt.Bot).map(o=>o.id),union:i}}})}async deleteReviewRequest(e,t){const{octokit:i,remote:r}=await this.githubRepository.ensure();await i.call(i.api.pulls.removeRequestedReviewers,{owner:r.owner,repo:r.repositoryName,pull_number:this.number,reviewers:e.filter(a=>a.accountType!==nt.Bot).map(a=>a.id),team_reviewers:t.map(a=>a.id)})}diffThreads(e,t){const i=[],r=[],a=[];t.forEach(o=>{const v=e.find(I=>I.id===o.id);v?Sr()(o,v)||r.push(o):i.push(o)}),e.forEach(o=>{t.find(v=>v.id===o.id)||a.push(o)}),this._onDidChangeReviewThreads.fire({added:i,changed:r,removed:a})}async initializeReviewThreadCacheAndReviewComments(){const{remote:e}=await this.githubRepository.ensure(),t=await this.getRawReviewComments();this.setReviewThreadCacheFromRaw(t),this.comments=t.map(i=>i.comments.nodes.map(r=>qs(r,i.isResolved,this.githubRepository),e)).reduce((i,r)=>i.concat(r),[]).sort((i,r)=>i.createdAt>r.createdAt?1:-1)}setReviewThreadCacheFromRaw(e){const t=e.map(r=>$l(r,this.githubRepository)),i=this._reviewThreadsCache;return this._reviewThreadsCache=t,this.diffThreads(i,t),t}async getRawReviewComments(){const{remote:e,query:t,schema:i}=await this.githubRepository.ensure();let r=null,a=!1;const o=[];try{do{const{data:v}=await t({query:i.PullRequestComments,variables:{owner:e.owner,name:e.repositoryName,number:this.number,after:r}},!1,{query:i.LegacyPullRequestComments});o.push(...v.repository.pullRequest.reviewThreads.nodes),a=v.repository.pullRequest.reviewThreads.pageInfo.hasNextPage,r=v.repository.pullRequest.reviewThreads.pageInfo.endCursor}while(a&&o.length<1e3);return o}catch(v){return b.error(`Failed to get pull request review comments: ${v}`,Wi.ID),[]}}async getReviewThreads(){const e=await this.getRawReviewComments();return this.setReviewThreadCacheFromRaw(e)}async getCommits(){try{b.debug(`Fetch commits of PR #${this.number} - enter`,Wi.ID);const{remote:e,octokit:t}=await this.githubRepository.ensure(),i=await dc(t.api.pulls.listCommits,{pull_number:this.number,owner:e.owner,repo:e.repositoryName});return b.debug(`Fetch commits of PR #${this.number} - done`,Wi.ID),i}catch(e){return s.window.showErrorMessage(`Fetching commits failed: ${he(e)}`),[]}}async getCommitChangedFiles(e){var t;try{b.debug(`Fetch file changes of commit ${e.sha} in PR #${this.number} - enter`,Wi.ID);const{octokit:i,remote:r}=await this.githubRepository.ensure(),a=await i.call(i.api.repos.getCommit,{owner:r.owner,repo:r.repositoryName,ref:e.sha});return b.debug(`Fetch file changes of commit ${e.sha} in PR #${this.number} - done`,Wi.ID),(t=a.data.files)!=null?t:[]}catch(i){return s.window.showErrorMessage(`Fetching commit file changes failed: ${he(i)}`),[]}}async getCoAuthors(){var e;if(!Tn[this.item.user.login])return[];const{octokit:t,remote:i}=await this.githubRepository.ensure(),a=(e=(await t.call(t.api.issues.listEventsForTimeline,{issue_number:this.number,owner:i.owner,repo:i.repositoryName,per_page:100})).data.find(o=>o.event==="copilot_work_started"))==null?void 0:e.actor;return a?[un(a,this.githubRepository)]:[]}async getTimelineEvents(){var e;b.debug(`Fetch timeline events of PR #${this.number} - enter`,Wi.ID);const{query:t,remote:i,schema:r}=await this.githubRepository.ensure();try{const[{data:a},o,v,I]=await Promise.all([t({query:r.TimelineEvents,variables:{owner:i.owner,name:i.repositoryName,number:this.number}}),this.getViewerLatestReviewCommit(),this.githubRepository.getAuthenticatedUser(),this.getReviewThreads()]);a.repository===null&&b.error("Unexpected null repository when fetching timeline",Wi.ID);const G=(e=a.repository)==null?void 0:e.pullRequest.timelineItems.nodes,Q=G?cc(G,this.githubRepository):[];return this.addReviewTimelineEventComments(Q,I),M0(Q,o==null?void 0:o.sha,v,this.head),b.debug(`Fetch timeline events of PR #${this.number} - done`,Wi.ID),Q}catch(a){return b.error(`Failed to get pull request timeline events: ${a}`,Wi.ID),console.log(a),[]}}addReviewTimelineEventComments(e,t){const i=e.filter(Q=>Q.event===Bi.Reviewed),r=t.reduce((Q,re)=>Q.concat(re.comments),[]),a=i.reduce((Q,re)=>(Q[re.id]=re,re.comments=[],Q),{}),o=r.reduce((Q,re)=>(Q[re.id]=re,Q),{}),v=[];let I=r.length;for(;I-- >0;){const Q=r[I];if(!Q.inReplyToId){v.unshift(Q);continue}const re=o[Q.inReplyToId];re.childComments=re.childComments||[],re.childComments=[Q,...Q.childComments||[],...re.childComments]}v.forEach(Q=>{const re=a[Q.pullRequestReviewId];re&&(re.comments=re.comments.concat(Q).concat(Q.childComments||[]))}),t.forEach(Q=>{if(!Q.prReviewDatabaseId||!a[Q.prReviewDatabaseId])return;const re=a[Q.prReviewDatabaseId];re.reviewThread={threadId:Q.id,canResolve:Q.viewerCanResolve,canUnresolve:Q.viewerCanUnresolve,isResolved:Q.isResolved}});const G=i.filter(Q=>{var re;return((re=Q.state)==null?void 0:re.toLowerCase())==="pending"})[0];G&&(G.comments=r.filter(Q=>Q.isDraft))}async getStatusChecks(){return this.githubRepository.getStatusChecks(this.number)}static async openChanges(e,t){const i=await Wi.getChangeModels(e,t),r=[];for(const a of i)r.push([a.filePath,a.parentFilePath,a.filePath]);return e.telemetry.sendTelemetryEvent("pr.openChanges"),s.commands.executeCommand("vscode.changes",s.l10n.t("Changes in Pull Request #{0}",t.number),r)}static async openDiffFromComment(e,t,i){const a=(await t.getFileChangesInfo()).find(I=>I.fileName===i.path||I.previousFileName===i.path);if(!a)throw new Error("Can't find matching file");const o=i.path.split("/"),v=i.diffHunks&&i.diffHunks.length>0?i.diffHunks[0].newLineNumber:void 0;this.openDiff(e,t,a,o[o.length-1],v)}static async openFirstDiff(e,t){const i=await t.getFileChangesInfo();if(!i.length)return;const r=i[0];this.openDiff(e,t,r,r.fileName)}static async openDiff(e,t,i,r,a){let o,v;if(t.equals(e.activePullRequest)){const I=s.Uri.file(L.resolve(e.repository.rootUri.fsPath,i.fileName));o=i.status===Ot.DELETE?Pr(I,void 0,void 0,"",!1,{base:!1},e.repository.rootUri):I;const G=t.mergeBase||t.base.sha;v=Pr(I,i.status===Ot.RENAME?i.previousFileName:i.fileName,void 0,i.status===Ot.ADD?"":G,!1,{base:!0},e.repository.rootUri)}else{const I=t.head.sha,G=i.status===Ot.RENAME?i.previousFileName:i.fileName;o=ya(s.Uri.file(Vs(e.repository.rootUri,i.fileName)),t,i.baseCommit,I,i.fileName,!1,i.status,i.previousFileName),v=ya(s.Uri.file(Vs(e.repository.rootUri,G)),t,i.baseCommit,I,i.fileName,!0,i.status,i.previousFileName)}s.commands.executeCommand("vscode.diff",v,o,`${r} (Pull Request)`,a?{selection:{start:{line:a,character:0},end:{line:a,character:0}}}:{})}get fileChanges(){return this._fileChanges}async getFileChangesInfo(){this._fileChanges.clear();const e=await this.getRawFileChangesInfo(),t=this.mergeBase||this.base.sha,i=await Aa(e,t);return i.forEach(r=>{this._fileChanges.set(r.fileName,r)}),i}static async getChangeModels(e,t){var i;const r=((i=e.activePullRequest)==null?void 0:i.number)===t.number,a=t.fileChanges.size>0?t.fileChanges.values():await t.getFileChangesInfo(),o=[];for(const v of a){let I;v instanceof zr?I=new $s(e,v,t):I=new us(e,t,v,r,t.mergeBase),o.push(I)}return o}async getRawFileChangesInfo(){var e;b.debug(`Fetch file changes, base, head and merge base of PR #${this.number} - enter`,Wi.ID);const t=this.githubRepository,{octokit:i,remote:r}=await t.ensure();if(!this.base){b.appendLine("No base branch found for PR, fetching it now",Wi.ID);const Q=await i.call(i.api.pulls.get,{owner:r.owner,repo:r.repositoryName,pull_number:this.number});this.update(Gl(Q.data,t))}let a=this.base.sha;const o=await this.getViewerLatestReviewCommit(),v=this.hasChangesSinceLastReview;if(this.hasChangesSinceLastReview=o!==void 0&&((e=this.head)==null?void 0:e.sha)!==o.sha,this._showChangesSinceReview&&this.hasChangesSinceLastReview&&o!=null&&(a=o.sha),this.item.merged){b.appendLine("PR is merged, fetching all file changes",Wi.ID);const Q=await dc(i.api.pulls.listFiles,{repo:r.repositoryName,owner:r.owner,pull_number:this.number});return this.mergeBase=this.base.sha,Q}b.debug(`Comparing commits for ${r.owner}/${r.repositoryName} with base ${this.base.repositoryCloneUrl.owner}:${a} and head ${this.head.repositoryCloneUrl.owner}:${this.head.sha}`,Wi.ID);const{files:I,mergeBaseSha:G}=await ab(r,i,this.base,this.head,a,this.number,Wi.ID);return this.mergeBase=G,v!==void 0&&v!==this.hasChangesSinceLastReview&&this.hasChangesSinceLastReview&&this._showChangesSinceReview&&this._onDidChangeChangesSinceReview.fire(),b.debug(`Fetch file changes and merge base of PR #${this.number} - done, total files ${I.length} `,Wi.ID),I}get autoMerge(){return!!this.item.autoMerge}get autoMergeMethod(){return this.item.autoMergeMethod}get allowAutoMerge(){return!!this.item.allowAutoMerge}get mergeCommitMeta(){return this.item.mergeCommitMeta}get squashCommitMeta(){return this.item.squashCommitMeta}get hasComments(){return this._hasComments}async getMergeability(){var e,t,i,r,a,o;try{b.debug(`Fetch pull request mergeability ${this.number} - enter`,Wi.ID);const{query:v,remote:I,schema:G}=await this.githubRepository.ensure(),{data:Q}=G.PullRequestMergeabilityMergeRequirements&&((e=await this.credentialStore.getCurrentUser(this.remote.authProviderId))==null?void 0:e.login)==="alexr00"?await v({query:G.PullRequestMergeabilityMergeRequirements,variables:{owner:I.owner,name:I.repositoryName,number:this.number},context:{headers:{"GraphQL-Features":"pull_request_merge_requirements_api"}}}):await v({query:G.PullRequestMergeability,variables:{owner:I.owner,name:I.repositoryName,number:this.number}});Q.repository===null&&b.error("Unexpected null repository while getting mergeability",Wi.ID),b.debug(`Fetch pull request mergeability ${this.number} - done`,Wi.ID);const re=uc((t=Q.repository)==null?void 0:t.pullRequest.mergeable,(i=Q.repository)==null?void 0:i.pullRequest.mergeStateStatus);return this.item.mergeable=re,this.conflicts=(o=(a=(r=Q.repository)==null?void 0:r.pullRequest.mergeRequirements)==null?void 0:a.conditions.find(le=>le.__typename==="PullRequestMergeConflictStateCondition"))==null?void 0:o.conflicts,this.update(this.item),{mergeability:re,conflicts:this.conflicts}}catch(v){return b.error(`Unable to fetch PR Mergeability: ${v}`,Wi.ID),{mergeability:zt.Unknown}}}async setReadyForReview(){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:i}=await e({mutation:t.ReadyForReview,variables:{input:{pullRequestId:this.graphNodeId}}});this._telemetry.sendTelemetryEvent("pr.readyForReview.success");const r={isDraft:i.markPullRequestReadyForReview.pullRequest.isDraft,mergeable:uc(i.markPullRequestReadyForReview.pullRequest.mergeable,i.markPullRequestReadyForReview.pullRequest.mergeStateStatus),allowAutoMerge:i.markPullRequestReadyForReview.pullRequest.viewerCanEnableAutoMerge||i.markPullRequestReadyForReview.pullRequest.viewerCanDisableAutoMerge};return this.item.isDraft=r.isDraft,this.item.mergeable=r.mergeable,this.item.allowAutoMerge=r.allowAutoMerge,r}catch(e){throw this._telemetry.sendTelemetryErrorEvent("pr.readyForReview.failure"),e}}updateCommentReactions(e,t){const i=this._reviewThreadsCache.find(r=>r.comments.some(a=>a.graphNodeId===e));if(i){const r=i.comments.find(a=>a.graphNodeId===e);r&&(r.reactions=Vl(t),this._onDidChangeReviewThreads.fire({added:[],changed:[i],removed:[]}))}}async addCommentReaction(e,t){const i=jl().reduce((I,G)=>(I[G.label]=G.title,I),{}),{mutate:r,schema:a}=await this.githubRepository.ensure(),{data:o}=await r({mutation:a.AddReaction,variables:{input:{subjectId:e,content:i[t.label]}}});if(!o)throw new Error("Add comment reaction failed.");const v=o.addReaction.subject.reactionGroups;return this.updateCommentReactions(e,v),o}async deleteCommentReaction(e,t){const i=jl().reduce((I,G)=>(I[G.label]=G.title,I),{}),{mutate:r,schema:a}=await this.githubRepository.ensure(),{data:o}=await r({mutation:a.DeleteReaction,variables:{input:{subjectId:e,content:i[t.label]}}});if(!o)throw new Error("Delete comment reaction failed.");const v=o.removeReaction.subject.reactionGroups;return this.updateCommentReactions(e,v),o}undoOptimisticResolveState(e){e&&(e.isResolved=!e.isResolved,e.viewerCanResolve=!e.viewerCanResolve,e.viewerCanUnresolve=!e.viewerCanUnresolve,this._onDidChangeReviewThreads.fire({added:[],changed:[e],removed:[]}))}async resolveReviewThread(e){const t=this._reviewThreadsCache.find(i=>i.id===e);try{b.debug("Resolve review thread - enter",Wi.ID);const{mutate:i,schema:r}=await this.githubRepository.ensure();t&&t.viewerCanResolve&&(t.isResolved=!0,t.viewerCanResolve=!1,t.viewerCanUnresolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[t],removed:[]}));const{data:a}=await i({mutation:r.ResolveReviewThread,variables:{input:{threadId:e}}},{mutation:r.LegacyResolveReviewThread,deleteProps:[]});if(!a)throw this.undoOptimisticResolveState(t),new Error("Resolve review thread failed.");const o=this._reviewThreadsCache.findIndex(v=>v.id===e);if(o>-1){const v=$l(a.resolveReviewThread.thread,this.githubRepository);this._reviewThreadsCache.splice(o,1,v),this._onDidChangeReviewThreads.fire({added:[],changed:[v],removed:[]})}b.debug("Resolve review thread - done",Wi.ID)}catch(i){b.error(`Resolve review thread failed: ${i}`,Wi.ID),this.undoOptimisticResolveState(t)}}async unresolveReviewThread(e){const t=this._reviewThreadsCache.find(i=>i.id===e);try{b.debug("Unresolve review thread - enter",Wi.ID);const{mutate:i,schema:r}=await this.githubRepository.ensure();t&&t.viewerCanUnresolve&&(t.isResolved=!1,t.viewerCanUnresolve=!1,t.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[t],removed:[]}));const{data:a}=await i({mutation:r.UnresolveReviewThread,variables:{input:{threadId:e}}},{mutation:r.LegacyUnresolveReviewThread,deleteProps:[]});if(!a)throw this.undoOptimisticResolveState(t),new Error("Unresolve review thread failed.");const o=this._reviewThreadsCache.findIndex(v=>v.id===e);if(o>-1){const v=$l(a.unresolveReviewThread.thread,this.githubRepository);this._reviewThreadsCache.splice(o,1,v),this._onDidChangeReviewThreads.fire({added:[],changed:[v],removed:[]})}b.debug("Unresolve review thread - done",Wi.ID)}catch(i){b.error(`Unresolve review thread failed: ${i}`,Wi.ID),this.undoOptimisticResolveState(t)}}async enableAutoMerge(e){try{const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:i.EnablePullRequestAutoMerge,variables:{input:{mergeMethod:e.toUpperCase(),pullRequestId:this.graphNodeId}}});if(!r)throw new Error("Enable auto-merge failed.");this.item.autoMerge=!0,this.item.autoMergeMethod=e}catch(t){if(t.message==='GraphQL error: ["Pull request Pull request is in clean status"]')s.window.showWarningMessage(s.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw t}}async disableAutoMerge(){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:i}=await e({mutation:t.DisablePullRequestAutoMerge,variables:{input:{pullRequestId:this.graphNodeId}}});if(!i)throw new Error("Disable auto-merge failed.");this.item.autoMerge=!1}catch(e){if(e.message==='GraphQL error: ["Pull request Pull request is in clean status"]')s.window.showWarningMessage(s.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw e}}async dequeuePullRequest(){b.debug(`Dequeue pull request ${this.number} - enter`,cr.ID);const{mutate:e,schema:t}=await this.githubRepository.ensure();if(!t.DequeuePullRequest)return!1;try{return await e({mutation:t.DequeuePullRequest,variables:{input:{id:this.graphNodeId}}}),b.debug(`Dequeue pull request ${this.number} - done`,cr.ID),this.mergeQueueEntry=void 0,!0}catch(i){return b.error(`Dequeueing pull request failed: ${i}`,cr.ID),!1}}async enqueuePullRequest(){var e;b.debug(`Enqueue pull request ${this.number} - enter`,cr.ID);const{mutate:t,schema:i}=await this.githubRepository.ensure();if(i.EnqueuePullRequest)try{const{data:r}=await t({mutation:i.EnqueuePullRequest,variables:{input:{pullRequestId:this.graphNodeId}}});return b.debug(`Enqueue pull request ${this.number} - done`,cr.ID),(e=Kf(r==null?void 0:r.enqueuePullRequest.mergeQueueEntry))!=null?e:void 0}catch(r){b.error(`Enqueuing pull request failed: ${r}`,cr.ID)}}async initializePullRequestFileViewState(){const{query:e,schema:t,remote:i}=await this.githubRepository.ensure(),r=[];let a=null,o=!1;do{const{data:v}=await e({query:t.PullRequestFiles,variables:{owner:i.owner,name:i.repositoryName,number:this.number,after:a}});v.repository.pullRequest.files.nodes.forEach(I=>{this._fileChangeViewedState[I.path]!==I.viewerViewedState&&r.push({fileName:I.path,viewed:I.viewerViewedState}),this.setFileViewedState(I.path,I.viewerViewedState,!1)}),o=v.repository.pullRequest.files.pageInfo.hasNextPage,a=v.repository.pullRequest.files.pageInfo.endCursor}while(o);r.length&&this._onDidChangeFileViewedState.fire({changed:r})}updateMarkFilesInProgressRefCount(e,t){const i=[];for(const r of e){let a=this.markFilesInProgressRefCount.get(r)||0;t==="increment"?a++:a--,a===0?(this.markFilesInProgressRefCount.delete(r),i.push(r)):this.markFilesInProgressRefCount.set(r,a)}return i}async markFiles(e,t,i){const r=e.map(G=>Z(this.githubRepository.rootUri.path,G,"/")?G.substring(this.githubRepository.rootUri.path.length+1):G);this.updateMarkFilesInProgressRefCount(r,"increment");const{mutate:a}=await this.githubRepository.ensure(),o=this.graphNodeId,v=i==="viewed"?"markFileAsViewed":"unmarkFileAsViewed";for(let G=0;G<r.length;G+=mh){const Q=r.slice(G,G+mh),re=Dn()`mutation Batch${v}{
				${Q.map((le,ge)=>`alias${ge}: ${v}(
						input: {path: "${le}", pullRequestId: "${o}"}
					) { clientMutationId }
					`)}
			}`;await a({mutation:re})}this.updateMarkFilesInProgressRefCount(r,"decrement").forEach(G=>this.setFileViewedState(G,i==="viewed"?kn.VIEWED:kn.UNVIEWED,t))}async unmarkAllFilesAsViewed(){return this.markFiles(Array.from(this.fileChanges.keys()),!0,"unviewed")}setFileViewedState(e,t,i){const r=s.Uri.joinPath(this.githubRepository.rootUri,e),a=this.githubRepository.rootUri.scheme===$t.VscodeVfs?r.path:r.fsPath;switch(t){case kn.DISMISSED:{this._viewedFiles.delete(a),this._unviewedFiles.delete(a);break}case kn.UNVIEWED:{this._viewedFiles.delete(a),this._unviewedFiles.add(a);break}case kn.VIEWED:this._viewedFiles.add(a),this._unviewedFiles.delete(a)}this._fileChangeViewedState[e]=t,i&&this._onDidChangeFileViewedState.fire({changed:[{fileName:e,viewed:t}]})}getViewedFileStates(){return{viewed:this._viewedFiles,unviewed:this._unviewedFiles}}};qi(ph,"ID","PullRequestModel");let Mn=ph;var lb=Object.defineProperty,ub=(n,e,t)=>e in n?lb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Yl=(n,e,t)=>ub(n,typeof e!="symbol"?e+"":e,t);let ia;const vh=class Lu extends s.Disposable{constructor(e){super(()=>_(this.disposables)),this._storageUri=e,Yl(this,"SUBPATH","temp"),Yl(this,"disposables",[]),Yl(this,"persistInSessionDisposables",[])}get path(){return s.Uri.joinPath(this._storageUri,this.SUBPATH)}dispose(){_(this.disposables),_(this.persistInSessionDisposables)}addDisposable(e,t){if(t)this.persistInSessionDisposables.push(e);else{if(this.disposables.length>30){const i=this.disposables.shift();i==null||i.dispose()}this.disposables.push(e)}}async writeState(e,t,i,r){let a=this.path;const o=s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0?s.workspace.workspaceFolders[0].name:void 0;o&&(a=s.Uri.joinPath(a,o)),e&&(a=s.Uri.joinPath(a,e)),await s.workspace.fs.createDirectory(a);const v=s.Uri.joinPath(a,t);await s.workspace.fs.writeFile(v,i);const I={dispose:()=>{try{return s.workspace.fs.delete(v,{recursive:!0})}catch{}}};return this.addDisposable(I,r),v}async readState(e,t){let i=this.path;const r=s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0?s.workspace.workspaceFolders[0].name:void 0;r&&(i=s.Uri.joinPath(i,r)),i=s.Uri.joinPath(i,e);const a=s.Uri.joinPath(i,t);return s.workspace.fs.readFile(a)}static async init(e){if(e.globalStorageUri&&!ia){ia=new Lu(e.globalStorageUri);try{await s.workspace.fs.delete(ia.path,{recursive:!0})}catch(t){b.appendLine(`Error in initialization: ${t.message}`,Lu.ID)}try{await s.workspace.fs.createDirectory(ia.path)}catch(t){b.appendLine(`Error in initialization: ${t.message}`,Lu.ID)}return e.subscriptions.push(ia),ia}}static async write(e,t,i,r=!1){if(ia)return ia.writeState(e,t,i,r)}static async read(e,t){if(ia)return ia.readState(e,t)}};Yl(vh,"ID","TemporaryState");let gh=vh;function Ur(n){return JSON.parse(n)}function cn(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function bh(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function yh(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function Ua(n,e,t){return n.with({scheme:e,query:JSON.stringify(t)})}const cb=["image/png","image/gif","image/jpeg","image/webp","image/tiff","image/bmp"],wh=[".aac",".avi",".bmp",".flv",".gif",".ico",".jpe",".jpeg",".jpg",".m1v",".m2a",".m2v",".m3a",".mid",".midi",".mk3d",".mks",".mkv",".mov",".movie",".mp2",".mp2a",".mp3",".mp4",".mp4a",".mp4v",".mpe",".mpeg",".mpg",".mpg4",".mpga",".oga",".ogg",".opus",".ogv",".png",".psd",".qt",".spx",".svg",".tga",".tif",".tiff",".wav",".webm",".webp",".wma",".wmv",".woff"],_h=s.Uri.parse("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");async function _c(n,e){try{const{commit:t,baseCommit:i,headCommit:r,isBase:a,path:o}=JSON.parse(n.query),v=L.extname(o);if(!wh.includes(v))return;const I=n.scheme==="review"?t:a?i:r,G=L.join(e.rootUri.fsPath,o).replace(/\\/g,"/"),{object:Q}=await e.getObjectDetails(I,G),{mimetype:re}=await e.detectObjectType(Q);if(re==="text/plain")return;if(cb.indexOf(re)>-1){const le=await e.buffer(I,G);return gh.write(L.dirname(o),L.basename(o),le)}}catch{return}}var na;(n=>{const e="userIcons";function t(Q){return`${Et(Q)}.jpg`}function i(Q){return s.Uri.joinPath(Q.globalStorageUri,e)}function r(Q,re){return s.Uri.joinPath(i(Q),t(re))}function a(Q){return s.Uri.joinPath(i(Q),"cache.log")}async function o(Q,re,le){await s.workspace.fs.createDirectory(i(Q));const ge=r(Q,re);return await s.workspace.fs.writeFile(ge,le),ge}async function v(Q,re){try{const le=r(Q,re);return s.workspace.fs.readFile(le)}catch{return}}function I(Q){return s.Uri.parse(`data:image/svg+xml;size:${Q.byteLength};base64,${Q.toString("base64")}`)}n.asImageDataURI=I;async function G(Q,re,le,ge,Re){let Ie;const Oe=a(Q);try{const Ae=await s.workspace.fs.readFile(Oe);Ie=JSON.parse(Ae.toString())}catch{Ie=[]}const ue=Ie.length,ye=await Promise.all(re.map(async Ae=>{const Ue=Ae.avatarUrl;if(Ue===void 0)return;let We,ze=!1;try{const Si=await v(Q,Ae);if(!Si)throw new Error("Temporary state not initialized");We=qe.Buffer.from(Si)}catch{if(Re)return;ze=!0;const Vi=async()=>{const gs=await(await ft()(Ue.toString())).arrayBuffer();await o(Q,Ae,new Uint8Array(gs)),We=qe.Buffer.from(gs)};try{await Vi()}catch{await Vi()}}if(!We)return;if(ze){const Si=t(Ae);Ie.push(Si)}const bt=`data:image/jpeg;size:${We.byteLength};base64,${We.toString("base64")}`,It=`<svg width="${ge}" height="${le}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
		<image href="${bt}" width="${ge}" height="${le}" style="clip-path: inset(0 0 0 0 round 50%);"/>
		</svg>`,ui=qe.Buffer.from(It);return I(ui)})),Te=Math.max(re.length,200);if(Ie.length>ue&&ue>0&&Ie.length>Te){const Ae=Ie.splice(0,50);await Promise.all(Ae.map(async Ue=>{try{await s.workspace.fs.delete(s.Uri.joinPath(i(Q),Ue))}catch(We){b.error(`Failed to delete avatar from cache: ${We}`,"avatarCirclesAsImageDataUris")}}))}return await s.workspace.fs.writeFile(Oe,qe.Buffer.from(JSON.stringify(Ie))),ye}n.avatarCirclesAsImageDataUris=G})(na||(na={}));function Pr(n,e,t,i,r,a,o){const v={path:e||n.path,ref:t,commit:i,base:a.base,isOutdated:r,rootPath:o.path};let I=n.path;return a.replaceFileExtension&&(I=`${I}.git`),n.with({scheme:"review",path:I,query:JSON.stringify(v)})}function kc(n,e,t,i,r){const a={prNumber:e,fileName:t,status:i,previousFileName:r};return n.with({scheme:"filechange",query:JSON.stringify(a)})}function kh(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function ya(n,e,t,i,r,a,o,v){const I={baseCommit:t,headCommit:i,isBase:a,fileName:r,prNumber:e.number,status:o,remoteName:e.githubRepository.remote.remoteName,previousFileName:v},G=n.path;return n.with({scheme:"pr",path:G,query:JSON.stringify(I)})}function Sc(n){let e;return n instanceof Mn?e=`${n.remote.url}:${n.number}`:typeof n=="string"?e=n:e=`${n.remote}:${n.prNumber}`,e}function Rc(n){const e=Sc(n),t={prIdentifier:e};return s.Uri.parse(`PRNode:${e}`).with({scheme:"prnode",query:JSON.stringify(t)})}function Ec(n){return s.Uri.from({scheme:"notification",path:n.key})}function db(n){if(n.scheme==="notification")try{return{key:n.path}}catch{}}function fb(n){const e={origin:n.originUri.toString()};return n.repoUriParams&&(e.origin=hb(n.repoUriParams).toString()),s.Uri.from({scheme:"newissue",path:"/NewIssue.md",query:JSON.stringify(e)})}function Xl(n){if(n.scheme==="newissue")try{const e=JSON.parse(n.query),t=s.Uri.parse(e.origin),i=Tc(t);return{originUri:t,repoUriParams:i}}catch{}}function hb(n){const e={folderManagerRootUri:n.repoRootUri.toString()};return s.Uri.from({scheme:"repo",path:`${n.owner}/${n.repo}`,query:JSON.stringify(e)})}function Tc(n){if(n.scheme!=="repo")return;const[e,t]=n.path.split("/");try{const i=JSON.parse(n.query),r=s.Uri.parse(i.folderManagerRootUri);return{owner:e,repo:t,repoRootUri:r}}catch{}}var $t=(n=>(n.File="file",n.Review="review",n.Pr="pr",n.PRNode="prnode",n.FileChange="filechange",n.GithubPr="githubpr",n.GitPr="gitpr",n.VscodeVfs="vscode-vfs",n.Comment="comment",n.MergeOutput="merge-output",n.Notification="notification",n.NewIssue="newissue",n.Repo="repo",n.Git="git",n))($t||{});function Vs(n,e){return n.scheme==="file"?L.resolve(n.fsPath,e):L.posix.resolve(n.path,e)}class mb extends s.EventEmitter{handleUri(e){this.fire(e)}}const pb=new mb,wa="GitHub.vscode-pull-request-github",Nc="git",Sh="ghpr",Rh="initialize",Eh="statechange",js="github:focusedReview";function Jl(n){return n.kind==="notification"}function $o(n){return n===void 0||n===0?0:n-1}function mE(n,e){for(let t=0;t<n.length;t++){const i=n[t];for(let r=0;r<i.diffLines.length;r++)if(i.diffLines[r].positionInHunk===e)return i.diffLines[r]}}function Zl(n,e,t){const i=bn(n);let r=i.next(),a=0;for(;!r.done;){const o=r.value;if(!(o.oldLineNumber>e))if(o.oldLineNumber+o.oldLength-1<e)a+=o.newLength-o.oldLength;else{if(t===o.newLength)return a+=o.newLength-o.oldLength,e+a;for(const v of o.diffLines){if(v.oldLineNumber>e)return e+a;v.type===Xi.Add?a++:v.type===Xi.Delete&&a--}return e+a}r=i.next()}return e+a}function Vo(n,e){const t=bn(n);let i=t.next(),r=0;for(;!i.done;){const a=i.value;if(!(a.newLineNumber>e))if(a.newLineNumber+a.newLength-1<e)r+=a.oldLength-a.newLength;else{for(const o of a.diffLines)if(o.type===Xi.Add?r--:o.type===Xi.Delete&&r++,o.newLineNumber>e)return e+r;return e+r}i=t.next()}return e+r}function Th(n,e,t="GetCommentingRanges"){n.length===0&&b.debug("No commenting ranges: File contains no diffs.",t);const i=[];for(let r=0;r<n.length;r++){const a=n[r];let o,v;if(e){let I;for(let G=0;G<a.diffLines.length;G++){const Q=a.diffLines[G];Q.type===Xi.Delete?(o!==void 0||(o=$o(Q.oldLineNumber)),I=$o(Q.oldLineNumber)):o!==void 0&&I!==void 0&&(i.push(new s.Range(o,0,I,0)),o=void 0,I=void 0)}o!==void 0&&I!==void 0?(i.push(new s.Range(o,0,I,0)),o=void 0,I=void 0):i.length===0&&b.debug("No commenting ranges: Diff is in base and none of the diff hunks could be added.",t)}else a.newLineNumber?(o=$o(a.newLineNumber),v=$o(a.newLength),i.push(new s.Range(o,0,o+v,0))):b.debug("No commenting ranges: Diff is not base and newLineNumber is undefined.",t)}return b.debug(`Found ${i.length} commenting ranges.`,t),i}var vb=Object.defineProperty,gb=(n,e,t)=>e in n?vb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ws=(n,e,t)=>gb(n,typeof e!="symbol"?e+"":e,t);class On extends g{constructor(e){super(),this.parent=e,Ws(this,"children"),Ws(this,"childrenDisposables",[]),Ws(this,"label"),Ws(this,"accessibilityInformation"),Ws(this,"id")}getParent(){if(this.parent instanceof On)return this.parent}async reveal(e,t){try{await this.parent.reveal(e||this,t)}catch(i){b.error(i,"TreeNode")}}refresh(e){return this.parent.refresh(e)}async cachedChildren(){return this.children&&this.children.length?this.children:this.getChildren()}async getChildren(e=!0){return this.children&&this.children.length&&e&&_(this.children),[]}updateFromCheckboxChanged(e){}dispose(){super.dispose(),this.childrenDisposables&&_(this.childrenDisposables)}}class Nh extends On{constructor(e,t){super(e),Ws(this,"label",""),this.label=t}getTreeItem(){return new s.TreeItem(this.label)}}var bb=Object.defineProperty,yb=(n,e,t)=>e in n?bb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Mr=(n,e,t)=>yb(n,typeof e!="symbol"?e+"":e,t);function eu(n,e={}){const t=s.window.activeTextEditor,i={...e,viewColumn:s.ViewColumn.Active};return t&&t.document.uri.path===n.path&&(i.selection=t.selection),{command:"vscode.open",arguments:[n,i],title:"Open File"}}async function Cc(n,e,t,i,r){let a=await _c(e,n.repository)||e,o=await _c(t,n.repository)||t;(a.scheme==="data"||o.scheme==="data")&&(r===Ot.ADD&&(a=_h),r===Ot.DELETE&&(o=_h));const v=t.path.split("/");return{command:"vscode.diff",arguments:[a,o,`${v[v.length-1]} (Pull Request)`,i],title:"Open Changed File in PR"}}class cs extends On{constructor(e,t,i,r){var a;super(e),this.pullRequestManager=t,this.pullRequest=i,this.changeModel=r,Mr(this,"iconPath"),Mr(this,"fileChangeResourceUri"),Mr(this,"contextValue"),Mr(this,"command"),Mr(this,"opts"),Mr(this,"checkboxState");const o=(a=this.pullRequest.fileChangeViewedState[this.changeModel.fileName])!=null?a:kn.UNVIEWED;this.contextValue=`${$t.FileChange}:${Ot[this.changeModel.status]}:${o===kn.VIEWED?"viewed":"unviewed"}`,this.label=L.basename(this.changeModel.fileName),this.iconPath=s.ThemeIcon.File,this.opts={},this.updateShowOptions(),this.fileChangeResourceUri=kc(s.Uri.file(this.changeModel.fileName),this.pullRequest.number,this.changeModel.fileName,this.changeModel.status,this.changeModel.change instanceof lr?this.changeModel.change.previousFileName:void 0),this.updateViewed(o),this.childrenDisposables.push(this.pullRequest.onDidChangeReviewThreads(v=>{[...v.added,...v.removed].some(I=>I.path===this.changeModel.fileName)&&this.updateShowOptions()})),this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(v=>{const I=v.changed.find(G=>G.fileName===this.changeModel.fileName&&G.viewed!==this.changeModel.viewed);I&&(this.updateViewed(I.viewed),this.refresh(this))})),this.accessibilityInformation={label:`${this.label} pull request diff`,role:"link"}}get status(){return this.changeModel.status}get fileName(){return this.changeModel.fileName}get blobUrl(){return this.changeModel.blobUrl}get sha(){return this.changeModel.sha}get tooltip(){return this.resourceUri.fsPath}get resourceUri(){return this.changeModel.filePath.with({query:this.fileChangeResourceUri.query})}get description(){return s.workspace.getConfiguration(it).get(Ji)==="flat"?!0:""}updateViewed(e){var t,i;this.changeModel.updateViewed(e),this.contextValue=`${$t.FileChange}:${Ot[this.changeModel.status]}:${e===kn.VIEWED?"viewed":"unviewed"}`,this.checkboxState=e===kn.VIEWED?{state:s.TreeItemCheckboxState.Checked,tooltip:s.l10n.t("Mark File as Unviewed"),accessibilityInformation:{label:s.l10n.t("Mark file {0} as unviewed",(t=this.label)!=null?t:"")}}:{state:s.TreeItemCheckboxState.Unchecked,tooltip:s.l10n.t("Mark File as Viewed"),accessibilityInformation:{label:s.l10n.t("Mark file {0} as viewed",(i=this.label)!=null?i:"")}},this.pullRequestManager.setFileViewedContext()}async markFileAsViewed(e=!0){await this.pullRequest.markFiles([this.fileName],!e,"viewed"),this.pullRequestManager.setFileViewedContext()}async unmarkFileAsViewed(e=!0){await this.pullRequest.markFiles([this.fileName],!e,"unviewed"),this.pullRequestManager.setFileViewedContext()}updateFromCheckboxChanged(e){const t=e===s.TreeItemCheckboxState.Checked?kn.VIEWED:kn.UNVIEWED;this.updateViewed(t)}updateShowOptions(){var e,t;const i=this.pullRequest.reviewThreadsCache,a=(te(i,o=>o.path)[this.changeModel.fileName]||[]).filter(o=>!o.isOutdated);if(a.length){a.sort((I,G)=>I.endLine-G.endLine);const o=(e=a[0].startLine)!=null?e:a[0].originalStartLine,v=(t=a[0].endLine)!=null?t:a[0].originalEndLine;this.opts.selection=new s.Range(o,0,v,0)}else delete this.opts.selection}getTreeItem(){return this}openFileCommand(){return eu(this.changeModel.filePath)}async openDiff(e,t){var i;const r=await Cc(e,this.changeModel.parentFilePath,this.changeModel.filePath,{...this.opts,...t},this.changeModel.status);return s.commands.executeCommand(r.command,...(i=r.arguments)!=null?i:[])}}class Pc extends cs{get description(){let e=s.workspace.asRelativePath(L.dirname(this.changeModel.fileName),!1);return e==="."&&(e=""),e}constructor(e,t,i,r){super(e,t,i,r),this.fileChangeResourceUri=kc(s.Uri.parse(r.blobUrl),r.pullRequest.number,r.fileName,r.status,r.previousFileName),this.command={command:"pr.openFileOnGitHub",title:"Open File on GitHub",arguments:[this]}}async openDiff(){return s.commands.executeCommand(this.command.command)}openFileCommand(){return this.command}}class Mc extends cs{constructor(e,t,i,r){super(t,e,i,r),this.folderRepositoryManager=e}get comments(){return this.pullRequest.comments.filter(e=>e.path===this.changeModel.fileName&&e.position!==null)}async resolve(){this.status===Ot.ADD?this.command=eu(this.changeModel.filePath):this.command=await Cc(this.folderRepositoryManager,this.changeModel.parentFilePath,this.changeModel.filePath,void 0,this.changeModel.status)}}class zs extends cs{constructor(e,t,i,r,a,o){super(e,t,i,r),this.isCurrent=a,this._comments=o,Mr(this,"_useViewChangesCommand",!1)}get comments(){return this._comments?this._comments:this.pullRequest.comments.filter(e=>!this.sha||this.sha===this.pullRequest.head.sha?e.position&&e.path===this.changeModel.fileName:e.path===this.changeModel.fileName&&e.originalCommitId===this.sha)}useViewChangesCommand(){this._useViewChangesCommand=!0}async alternateCommand(){if(this.status===Ot.DELETE||this.status===Ot.ADD){const ge=this.changeModel.parentFilePath.with({query:JSON.stringify({path:null,commit:null})});return{command:"vscode.diff",arguments:this.status===Ot.DELETE?[this.changeModel.parentFilePath,ge,`${this.fileName}`,{}]:[ge,this.changeModel.parentFilePath,`${this.fileName}`,{}],title:"Open Diff"}}const{path:e,ref:t,commit:i,rootPath:r}=Ur(this.changeModel.filePath.query),a=`${i}^`,o={path:e,ref:t,commit:a,base:!0,isOutdated:!0,rootPath:r},v=this.changeModel.filePath.with({query:JSON.stringify(o)});let I=this.changeModel.filePath;this.isCurrent&&(I=this.pullRequestManager.repository.rootUri.with({path:L.posix.join(o.rootPath,o.path)}));const G={},Q=this.pullRequest.reviewThreadsCache,le=(te(Q,ge=>ge.path)[this.fileName]||[]).filter(ge=>ge.isOutdated).sort((ge,Re)=>ge.endLine-Re.endLine);return le.length&&(G.selection=new s.Range(le[0].originalStartLine,0,le[0].originalEndLine,0)),{command:"vscode.diff",arguments:[v,I,`${this.fileName} from ${(i||"").substr(0,8)}`,G],title:"View Changes"}}async resolve(){this._useViewChangesCommand?this.command=await this.alternateCommand():s.workspace.getConfiguration(nr,this.pullRequestManager.repository.rootUri).get(zn,!0)&&this.status!==Ot.ADD?this.command=await Cc(this.pullRequestManager,this.changeModel.parentFilePath,this.changeModel.filePath,this.opts,this.status):this.command=this.openFileCommand()}}class tu extends On{constructor(e,t,i,r,a,o,v){super(e),this.fileName=t,this.previousFileName=i,this.status=r,this.baseBranch=a,this.headBranch=o,this.isLocal=v,Mr(this,"description"),Mr(this,"iconPath"),Mr(this,"fileChangeResourceUri"),Mr(this,"tooltip"),Mr(this,"command");const I=v?$t.GitPr:$t.GithubPr;this.label=t,this.tooltip=t,this.iconPath=s.ThemeIcon.File,this.fileChangeResourceUri=s.Uri.file(t).with({scheme:I,query:JSON.stringify({status:r,fileName:t})});let G=Ua(s.Uri.file(t),I,{fileName:t,branch:a}),Q=Ua(s.Uri.file(t),I,{fileName:t,branch:o});switch(r){case Ot.ADD:G=Ua(s.Uri.file(t),I,{fileName:t,branch:a,isEmpty:!0});break;case Ot.RENAME:G=Ua(s.Uri.file(i),I,{fileName:i,branch:a,isEmpty:!0});break;case Ot.DELETE:Q=Ua(s.Uri.file(t),I,{fileName:t,branch:o,isEmpty:!0});break}this.command={title:"Open Diff",command:"vscode.diff",arguments:[G,Q,`${t} (Pull Request Preview)`]}}get resourceUri(){return s.Uri.file(this.fileName).with({query:this.fileChangeResourceUri.query})}getTreeItem(){return this}}function Ac(n){return n.filter(e=>e instanceof zs)}var wb=Object.defineProperty,_b=(n,e,t)=>e in n?wb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ra=(n,e,t)=>_b(n,typeof e!="symbol"?e+"":e,t);const Ch=class or extends Mf{constructor(e,t,i,r,a,o){var v,I;super(t,o),this._reviewManager=e,this._repository=i,this._reviewModel=r,this._gitApi=a,ra(this,"_commentHandlerId"),ra(this,"_workspaceFileChangeCommentThreads",{}),ra(this,"_reviewSchemeFileChangeCommentThreads",{}),ra(this,"_obsoleteFileChangeCommentThreads",{}),ra(this,"_visibleNormalTextEditors",[]),ra(this,"_pendingCommentThreadAdds",[]),ra(this,"_context"),ra(this,"resourceHints",{schemes:[$t.Review]}),ra(this,"_commentContentChangedListener"),this._context=this._folderRepoManager.context,this._commentController=this._register(s.comments.createCommentController(`github-review-${(v=t.activePullRequest)==null?void 0:v.remote.owner}-${(I=t.activePullRequest)==null?void 0:I.remote.owner}-${t.activePullRequest.number}`,s.l10n.t("Pull Request ({0})",t.activePullRequest.title))),this._commentController.commentingRangeProvider=this,this._commentController.reactionHandler=this.toggleReaction.bind(this),this.updateResourcesWithCommentingRanges(),this._register(this._folderRepoManager.onDidChangeActivePullRequest(()=>this.updateResourcesWithCommentingRanges())),this._commentHandlerId=vf(),Pt(this._commentHandlerId,this,i)}async initialize(){this._visibleNormalTextEditors=s.window.visibleTextEditors.filter(e=>e.document.uri.scheme!=="comment"),await this._folderRepoManager.activePullRequest.validateDraftMode(),await this.initializeCommentThreads(),await this.registerListeners()}async createOutdatedCommentThread(e,t){const i=t.comments[0].originalCommitId,r=s.Uri.file(L.join(`commit~${i.substr(0,8)}`,e)),a=Pr(r,e,void 0,i,!0,{base:t.diffSide===Ui.LEFT},this._repository.rootUri),o=t.subjectType===xn.FILE?void 0:Oo(t.originalStartLine-1,t.originalEndLine-1);return Lo(this._context,a,o,t,this._commentController,await this._folderRepoManager.getCurrentUser(),this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async createWorkspaceCommentThread(e,t,i){let r=i.startLine,a=i.endLine;const o=await this._repository.diffWithHEAD(t);o&&(r=Zl(o,r),a=Zl(o,a));let v;if(i.subjectType!==xn.FILE){const I=r-1,G=a-1;(I<0||G<0)&&b.error(`Mapped new position for workspace comment thread is invalid. Original: (${i.startLine}, ${i.endLine}) New: (${I}, ${G})`,or.ID),v=Oo(I,G)}return Lo(this._context,e,v,i,this._commentController,await this._folderRepoManager.getCurrentUser(),this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async createReviewCommentThread(e,t,i){var r;if(!((r=this._folderRepoManager.activePullRequest)!=null&&r.mergeBase))throw new Error("Cannot create review comment thread without an active pull request base.");const a=Pr(e,t,void 0,this._folderRepoManager.activePullRequest.mergeBase,!1,{base:!0},this._repository.rootUri),o=i.subjectType===xn.FILE?void 0:Oo(i.startLine-1,i.endLine-1);return Lo(this._context,a,o,i,this._commentController,await this._folderRepoManager.getCurrentUser(),this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async doInitializeCommentThreads(e){for(const i in this._workspaceFileChangeCommentThreads)_(this._workspaceFileChangeCommentThreads[i]);this._workspaceFileChangeCommentThreads={};for(const i in this._reviewSchemeFileChangeCommentThreads)_(this._reviewSchemeFileChangeCommentThreads[i]);this._reviewSchemeFileChangeCommentThreads={};for(const i in this._obsoleteFileChangeCommentThreads)_(this._obsoleteFileChangeCommentThreads[i]);this._obsoleteFileChangeCommentThreads={};const t=te(e,i=>i.path);Object.keys(t).forEach(i=>{const r=t[i],a=r[0];if(a){const o=L.join(this._repository.rootUri.path,a.path).replace(/\\/g,"/"),v=this._repository.rootUri.with({path:o});let I=[],G=[],Q=[];const re=r.map(async le=>{le.isOutdated?Q.push(await this.createOutdatedCommentThread(i,le)):le.diffSide===Ui.RIGHT?I.push(await this.createWorkspaceCommentThread(v,i,le)):G.push(await this.createReviewCommentThread(v,i,le))});Promise.all(re),this._workspaceFileChangeCommentThreads[i]=I,this._reviewSchemeFileChangeCommentThreads[i]=G,this._obsoleteFileChangeCommentThreads[i]=Q}}),this.updateResourcesWithCommentingRanges()}updateResourcesWithCommentingRanges(){var e,t;if(this._folderRepoManager.activePullRequest&&this._folderRepoManager.activePullRequest.fileChanges.size<30){for(const[i,r]of(t=(e=this._folderRepoManager.activePullRequest)==null?void 0:e.fileChanges.entries())!=null?t:[])if(r.status!==Ot.DELETE){const a=s.Uri.joinPath(this._folderRepoManager.repository.rootUri,i);b.trace(`Prefetching commenting ranges for ${a.toString()}`,or.ID),s.workspace.openTextDocument(a)}}}async initializeCommentThreads(){const e=this._folderRepoManager.activePullRequest;if(!(!e||!e.isResolved()))return this.doInitializeCommentThreads(e.reviewThreadsCache)}async registerListeners(){const e=this._folderRepoManager.activePullRequest;e&&(this._register(e.onDidChangePendingReviewState(t=>{[this._workspaceFileChangeCommentThreads,this._obsoleteFileChangeCommentThreads,this._reviewSchemeFileChangeCommentThreads].forEach(i=>{for(const r in i)i[r].forEach(a=>{$f(a,t),Us(a)})})})),this._register(e.onDidChangeReviewThreads(t=>{const i=this.githubReposForPullRequest(this._folderRepoManager.activePullRequest);t.added.forEach(async r=>{const{path:a}=r,o=this._pendingCommentThreadAdds.findIndex(async G=>{const Q=this._folderRepoManager.gitRelativeRootPath(G.uri.path);if(Q!==r.path)return!1;const re=await this.getContentDiff(G.uri,Q);return(G.range?Vo(re,G.range.end.line):0)+1===r.endLine});let v;if(o>-1)v=this._pendingCommentThreadAdds[o],v.gitHubThreadId=r.id,v.comments=r.comments.map(G=>new En(this._context,G,v,i)),Hf(this._context,v,r,i),this._pendingCommentThreadAdds.splice(o,1);else{const G=L.join(this._repository.rootUri.path,a).replace(/\\/g,"/"),Q=this._repository.rootUri.with({path:G});r.isOutdated?v=await this.createOutdatedCommentThread(a,r):r.diffSide===Ui.RIGHT?v=await this.createWorkspaceCommentThread(Q,a,r):v=await this.createReviewCommentThread(Q,a,r)}const I=r.isOutdated?this._obsoleteFileChangeCommentThreads:r.diffSide===Ui.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;I[a]?I[a].push(v):I[a]=[v]}),t.changed.forEach(r=>{const a=this._findMatchingThread(r);if(a.index>-1){const o=a.threadMap[r.path][a.index];Hl(this._context,o,r,i)}}),t.removed.forEach(r=>{const a=this._findMatchingThread(r);if(a.index>-1){const o=a.threadMap[r.path][a.index];a.threadMap[r.path].splice(a.index,1),o.dispose()}}),this.updateResourcesWithCommentingRanges()})),this._register(s.window.onDidChangeActiveTextEditor(t=>this.onDidChangeActiveTextEditor(t))))}_findMatchingThread(e){var t,i,r,a;const o=e.isOutdated?this._obsoleteFileChangeCommentThreads:e.diffSide===Ui.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;let v=(i=(t=o[e.path])==null?void 0:t.findIndex(I=>I.gitHubThreadId===e.id))!=null?i:-1;if(v===-1&&e.isOutdated&&(v=(a=(r=this._workspaceFileChangeCommentThreads[e.path])==null?void 0:r.findIndex(I=>I.gitHubThreadId===e.id))!=null?a:-1,v>-1)){const I=this._workspaceFileChangeCommentThreads[e.path].splice(v,1)[0];this._obsoleteFileChangeCommentThreads[e.path]||(this._obsoleteFileChangeCommentThreads[e.path]=[]),this._obsoleteFileChangeCommentThreads[e.path].push(I)}return{threadMap:o,index:v}}onDidChangeActiveTextEditor(e){var t;if((t=this._commentContentChangedListener)==null||t.dispose(),this._commentContentChangedListener=void 0,(e==null?void 0:e.document.uri.scheme)!==$t.Comment)return;const i=()=>{e.document.getText().includes("```suggestion")?lt.setContext(Ri.ACTIVE_COMMENT_HAS_SUGGESTION,!0):lt.setContext(Ri.ACTIVE_COMMENT_HAS_SUGGESTION,!1)};this._commentContentChangedListener=s.workspace.onDidChangeTextDocument(r=>{r.document.uri.toString()===e.document.uri.toString()&&i()}),i()}updateCommentExpandState(e){const t=this._folderRepoManager.activePullRequest;if(!t)return;const i=this.githubReposForPullRequest(t);function r(I,G){if(G.size!==0)for(const Q of G.keys()){const re=G.get(Q),le=I[Q];for(const ge of le){const Re=re.get(ge.gitHubThreadId);Hl(this._context,ge,Re,i,e)}}}const a=new Map,o=new Map,v=new Map;for(const I of t.reviewThreadsCache){let G;I.isOutdated?G=a:I.diffSide===Ui.RIGHT?G=v:G=o,G.has(I.path)||G.set(I.path,new Map),G.get(I.path).set(I.id,I)}r(this._obsoleteFileChangeCommentThreads,a),r(this._reviewSchemeFileChangeCommentThreads,o),r(this._workspaceFileChangeCommentThreads,v)}visibleEditorsEqual(e,t){if(e=e.filter(i=>i.document.uri.scheme!=="comment"),t=t.filter(i=>i.document.uri.scheme!=="comment"),e=w(e,i=>i.document.uri.toString()),t=w(t,i=>i.document.uri.toString()),e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!t.find(a=>a.document.uri.toString()===e[i].document.uri.toString()))return!1;return!0}hasCommentThread(e){return e.uri.scheme===$t.Review?!0:Zf(this._repository,e.uri)?e.uri.scheme===this._repository.rootUri.scheme:!1}async provideCommentingRanges(e,t){let i=e.uri.query&&e.uri.query!==""?Ur(e.uri.query):void 0;if(i){const a=this.findMatchedFileChangeForReviewDiffView(this._reviewModel.localFileChanges,e.uri);if(a)return b.debug("Found matched file for commenting ranges.",or.ID),{ranges:Th(await a.changeModel.diffHunks(),i.base,or.ID),enableFileComments:!0}}const r=fc(this._gitApi,e.uri);if((r==null?void 0:r.rootUri.toString())!==this._repository.rootUri.toString()){e.uri.scheme!=="output"&&b.debug("No commenting ranges: File is not in the current repository.",or.ID);return}if(e.uri.scheme===this._repository.rootUri.scheme){if(!this._folderRepoManager.activePullRequest.isResolved()){b.debug("No commenting ranges: Active PR has not been resolved.",or.ID);return}const a=this._folderRepoManager.gitRelativeRootPath(e.uri.path),o=Ac(this._reviewModel.localFileChanges).find(I=>I.fileName===a),v=[];if(o){const I=await o.changeModel.diffHunks();if(o.status===Ot.RENAME&&I.length===0)return b.debug("No commenting ranges: File was renamed with no diffs.",or.ID),{ranges:[],enableFileComments:!0};const G=await this.getContentDiff(e.uri,o.fileName);for(let Q=0;Q<I.length;Q++){const re=I[Q],le=Zl(G,re.newLineNumber,e.lineCount),ge=Zl(G,re.newLineNumber+re.newLength-1,e.lineCount);le>0&&ge>0&&v.push(new s.Range(le-1,0,ge-1,0))}v.length===0&&b.debug("No commenting ranges: File has diffs, but they could not be mapped to current lines.",or.ID)}else b.debug("No commenting ranges: File does not match any of the files in the review.",or.ID);return b.debug(`Providing ${v.length} commenting ranges for ${L.basename(e.uri.fsPath)}.`,or.ID),{ranges:v,enableFileComments:v.length>0}}else b.debug("No commenting ranges: File scheme differs from repository scheme.",or.ID)}async getContentDiff(e,t,i=!0){var r,a,o,v;const I=s.window.visibleTextEditors.find(G=>G.document.uri.toString()===e.toString());if(!((r=this._folderRepoManager.activePullRequest)!=null&&r.head))throw b.error("Failed to get content diff. Cannot get content diff without an active pull request head.",or.ID),new Error("Cannot get content diff without an active pull request head.");try{if(I&&I.document.isDirty&&s.workspace.getConfiguration("files",I.document.uri).get("autoSave")!=="afterDelay"){const G=I.document.getText(),re=(await this._repository.getObjectDetails(this._folderRepoManager.activePullRequest.head.sha,t)).object,le=await this._repository.hashObject(G);return await this._repository.diffBlobs(re,le)}else return await this._repository.diffWith(this._folderRepoManager.activePullRequest.head.sha,t)}catch(G){if(b.error(`Failed to get content diff. ${he(G)}`,or.ID),(a=G.stderr)!=null&&a.includes("bad object")){if((o=this._repository.state.HEAD)!=null&&o.upstream&&i){const Q=s.workspace.getConfiguration(it).get(Ci,"pull");if((Q==="pull"||Q==="pullAndMergeBase"||Q==="pullAndUpdateBase"||Q===!0)&&s.workspace.getConfiguration(it).get(Jt,"prompt")==="always")try{return await this._repository.pull(),this.getContentDiff(e,t,!1)}catch{}else if((v=this._repository.state.HEAD)!=null&&v.commit)return this._repository.diffWith(this._repository.state.HEAD.commit,t)}this._folderRepoManager.activePullRequest.isOpen&&s.window.showErrorMessage(s.l10n.t("Unable to get comment locations for commit {0}. This commit is not available locally and there is no remote branch.",this._folderRepoManager.activePullRequest.head.sha)),b.warn(`Unable to get comment locations for commit ${this._folderRepoManager.activePullRequest.head.sha}. This commit is not available locally and there is no remote branch.`,or.ID)}throw G}}findMatchedFileChangeForReviewDiffView(e,t){const i=Ur(t.query),r=e.filter(a=>{const o=a.changeModel;if(o instanceof $s||o.fileName!==i.path&&!(o.change instanceof lr&&o.change.previousFileName===i.path))return!1;if(o.filePath.scheme!=="review"&&o.sha===i.commit)return!0;const v=o.filePath.query?JSON.parse(o.filePath.query):void 0;if(v&&v.commit===i.commit)return!0;const I=o.parentFilePath.query?JSON.parse(o.parentFilePath.query):void 0;return!!(I&&I.commit===i.commit)});if(r&&r.length)return r[0]}getCommentSide(e){return e.uri.scheme===$t.Review&&Ur(e.uri.query).base?Ui.LEFT:Ui.RIGHT}async startReview(e,t){var i;const r=e.comments.length;let a;try{if(a=await this.optimisticallyAddComment(e,t,!0),r){const o=e.comments[0];if(o instanceof En)await this._folderRepoManager.activePullRequest.createCommentReply(t,o.rawComment.graphNodeId,!1);else throw new Error("Cannot reply to temporary comment")}else{const o=this._folderRepoManager.gitRelativeRootPath(e.uri.path),v=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e);let I,G;if(e.range){if(v===Ui.RIGHT){const Q=await this.getContentDiff(e.uri,o);I=Vo(Q,e.range.start.line),G=Vo(Q,e.range.end.line)}else I=e.range.start.line,G=e.range.end.line;I++,G++}await Promise.all([this._folderRepoManager.activePullRequest.createReviewThread(t,o,I,G,v),ql(e,await this._folderRepoManager.getCurrentUser(this._folderRepoManager.activePullRequest.githubRepository),this._context)])}}catch(o){s.window.showErrorMessage("Starting review failed. Any review comments may be lost.",{modal:!0,detail:(i=o==null?void 0:o.message)!=null?i:o}),e.comments=e.comments.map(v=>(v instanceof Er&&v.id===a&&(v.mode=s.CommentMode.Editing),v))}}async openReview(){await this._reviewManager.openDescription(),Tr.scrollToReview()}async optimisticallyAddComment(e,t,i){const r=await this._folderRepoManager.getCurrentUser(),a=new Er(e,t,i,r);return this.updateCommentThreadComments(e,[...e.comments,a]),a.id}updateCommentThreadComments(e,t){e.comments=t,Us(e)}async optimisticallyEditComment(e,t){const i=await this._folderRepoManager.getCurrentUser(),r=new Er(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!!t.label,i,t);return e.comments=e.comments.map(a=>a instanceof En&&a.commentId===t.commentId?r:a),r.id}async createOrReplyComment(e,t,i,r){var a;if(!this._folderRepoManager.activePullRequest)throw new Error("Cannot create comment without an active pull request.");const o=e.comments.length,v=i?!1:r!==void 0?r:this._folderRepoManager.activePullRequest.hasPendingReview,I=await this.optimisticallyAddComment(e,t,v);try{if(o){const G=e.comments[0];if(G instanceof En)await this._folderRepoManager.activePullRequest.createCommentReply(t,G.rawComment.graphNodeId,i);else throw new Error("Cannot reply to temporary comment")}else{const G=this._folderRepoManager.gitRelativeRootPath(e.uri.path);this._pendingCommentThreadAdds.push(e);const Q=this.getCommentSide(e);let re,le;if(e.range){if(Q===Ui.RIGHT){const ge=await this.getContentDiff(e.uri,G);re=Vo(ge,e.range.start.line),le=Vo(ge,e.range.end.line)}else re=e.range.start.line,le=e.range.end.line;re++,le++}await Promise.all([this._folderRepoManager.activePullRequest.createReviewThread(t,G,re,le,Q,i),ql(e,await this._folderRepoManager.getCurrentUser(this._folderRepoManager.activePullRequest.githubRepository),this._context)])}i&&await this._folderRepoManager.activePullRequest.submitReview()}catch(G){(a=G.graphQLErrors)!=null&&a.length&&G.graphQLErrors[0].type==="NOT_FOUND"?s.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then(Q=>{Q==="Refresh"&&this._reviewManager.updateComments()}):s.window.showErrorMessage(`Creating comment failed: ${G}`),e.comments=e.comments.map(Q=>(Q instanceof Er&&Q.id===I&&(Q.mode=s.CommentMode.Editing),Q))}}async createSuggestionsFromChanges(e,t){const i=this._folderRepoManager.activePullRequest;if(!i)return;const r=this._folderRepoManager.gitRelativeRootPath(e.path),a=`\`\`\`suggestion
${t.suggestionContent}
\`\`\``;await i.createReviewThread(a,r,t.originalStartLine,t.originalStartLine+t.originalLineLength-1,Ui.RIGHT,!1)}async createCommentOnResolve(e,t){if(!this._folderRepoManager.activePullRequest)throw new Error("Cannot create comment on resolve without an active pull request.");const i=await this._folderRepoManager.activePullRequest.getPendingReviewId();await this.createOrReplyComment(e,t,!i)}async resolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this._folderRepoManager.activePullRequest.resolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this._folderRepoManager.activePullRequest.unresolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async editComment(e,t){if(t instanceof En){const i=await this.optimisticallyEditComment(e,t);try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");await this._folderRepoManager.activePullRequest.editReviewComment(t.rawComment,t.body instanceof s.MarkdownString?t.body.value:t.body)}catch(r){s.window.showErrorMessage(he(r)),e.comments=e.comments.map(a=>a instanceof Er&&a.id===i?new En(this._context,t.rawComment,e):a)}}}async deleteComment(e,t){try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");t instanceof En?await this._folderRepoManager.activePullRequest.deleteReviewComment(t.commentId):e.comments=e.comments.filter(r=>!(r instanceof Er&&r.id===t.id)),e.comments.length===0?e.dispose():Us(e);const i=await this._folderRepoManager.activePullRequest.validateDraftMode();i!==this._folderRepoManager.activePullRequest.hasPendingReview&&(this._folderRepoManager.activePullRequest.hasPendingReview=i),this.update()}catch(i){throw new Error(he(i))}}async update(){await this._folderRepoManager.activePullRequest.validateDraftMode()}async toggleReaction(e,t){try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");e.reactions&&!e.reactions.find(i=>i.label===t.label&&!!i.authorHasReacted)?await this._folderRepoManager.activePullRequest.addCommentReaction(e.rawComment.graphNodeId,t):await this._folderRepoManager.activePullRequest.deleteCommentReaction(e.rawComment.graphNodeId,t)}catch(i){throw new Error(he(i))}}async applySuggestion(e){const t=e.parent.range,i=e.suggestion;if(i===void 0||!t)throw new Error("Comment doesn't contain a suggestion");const r=s.window.visibleTextEditors.find(a=>e.parent.uri.toString()===a.document.uri.toString());if(!r)throw new Error("Cannot find the editor to apply the suggestion to.");await r.edit(a=>{a.replace(t.with(void 0,r.document.lineAt(t.end.line).range.end),i)})}dispose(){super.dispose(),Fi(this._commentHandlerId)}};ra(Ch,"ID","ReviewCommentController");let Ph=Ch;class iu{constructor(e,t){this.reviewManager=e,this.folderRepositoryManager=t}static getSettingsValue(){return s.workspace.getConfiguration(it).get(_n)}static registerProvider(e,t){return s.window.registerTerminalLinkProvider(new iu(e,t))}provideTerminalLinks(e,t){var i;const r=e.line.indexOf("https://github.com");if(r===-1)return[];const a=e.line.substring(r),o=new RegExp(/https:\/\/github\.com\/(.*)\/(.*)\/pull\/new\/(.*)/),v=a.match(o);if(v&&v.length===4){const I=v[1],G=v[2],Q=v[3];if(this.folderRepositoryManager.gitHubRepositories.findIndex(le=>le.remote.owner===I&&le.remote.repositoryName===G)>-1&&((i=this.reviewManager.repository.state.HEAD)==null?void 0:i.name)===Q)return[{startIndex:r,length:e.line.length-r,tooltip:s.l10n.t("Create a Pull Request"),url:a}]}return[]}openLink(e){return s.env.openExternal(s.Uri.parse(e.url))}handleTerminalLink(e){const t=iu.getSettingsValue();if(t==="github"){this.openLink(e);return}if(t==="vscode"){this.reviewManager.createPullRequest();return}const i="Yes",r="Don't Show Again";s.window.showInformationMessage("Do you want to create a pull request using the GitHub Pull Requests and Issues extension?",i,"No, continue to github.com",r).then(a=>{switch(a){case i:{this.reviewManager.createPullRequest();break}case r:{s.workspace.getConfiguration(it).update(_n,"github",s.ConfigurationTarget.Global),this.openLink(e);break}default:this.openLink(e)}})}}var kb=Object.defineProperty,Sb=(n,e,t)=>e in n?kb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Rb=(n,e,t)=>Sb(n,typeof e!="symbol"?e+"":e,t);const Mh="github-pr-remote",Ah="github-pr-owner-number",Eb="github-pr-base-branch",Tb="vscode-merge-base",Ih=/branch\.(.+)\.github-pr-owner-number/,Nb=/branch\.(.+)\.remote/,Dh=class Qi{static async checkoutFromFork(e,t,i,r){const a=await Qi.calculateUniqueBranchNameForPR(e,t);i||(b.appendLine(`Branch ${a} is from a fork. Create a remote first.`,Qi.ID),r.report({message:s.l10n.t("Creating git remote for {0}",`${t.remote.owner}/${t.remote.repositoryName}`)}),i=await Qi.createRemote(e,t.remote,t.head.repositoryCloneUrl));const o=`${t.head.ref}:${a}`;b.debug(`Fetch ${i}/${t.head.ref}:${a} - start`,Qi.ID),r.report({message:s.l10n.t("Fetching branch {0}",o)}),await e.fetch(i,o),b.debug(`Fetch ${i}/${t.head.ref}:${a} - done`,Qi.ID),r.report({message:s.l10n.t("Checking out {0}",o)}),await e.checkout(a),await e.setBranchUpstream(a,`refs/remotes/${i}/${t.head.ref}`),await Qi.associateBranchWithPullRequest(e,t,a)}static async fetchAndCheckout(e,t,i,r){var a;if(!i.validatePullRequestModel("Checkout pull request failed"))return;const o=Qi.getHeadRemoteForPullRequest(t,i),v=i.head.repositoryCloneUrl.owner!==i.base.repositoryCloneUrl.owner;if(!o||v)return Qi.checkoutFromFork(e,i,o&&o.remoteName,r);const I=i.head.ref,G=o.remoteName;let Q;try{if(Q=await e.getBranch(I),((a=e.state.HEAD)==null?void 0:a.name)===Q.name){b.appendLine(`Tried to checkout ${I}, but branch is already checked out.`,Qi.ID);return}if(b.debug(`Checkout ${I}`,Qi.ID),r.report({message:s.l10n.t("Checking out {0}",I)}),await e.checkout(I),!Q.upstream){const re=`refs/remotes/${G}/${I}`;await e.setBranchUpstream(I,re)}Q.behind!==void 0&&Q.behind>0&&Q.ahead===0&&(b.debug("Pull from upstream",Qi.ID),r.report({message:s.l10n.t("Pulling {0}",I)}),await e.pull())}catch{b.appendLine(`Branch ${G}/${I} doesn't exist on local disk yet.`,Qi.ID);const le=`refs/remotes/${G}/${I}`;b.appendLine(`Fetch tracked branch ${le}`,Qi.ID),r.report({message:s.l10n.t("Fetching branch {0}",I)}),await e.fetch(G,I);const ge=await e.getBranch(le);r.report({message:s.l10n.t("Creating and checking out branch {0}",I)}),await e.createBranch(I,!0,ge.commit),await e.setBranchUpstream(I,le)}await Qi.associateBranchWithPullRequest(e,i,I)}static async checkoutExistingPullRequestBranch(e,t,i){const r=Qi.buildPullRequestMetadata(t),a=await e.getConfigs(),o=I=>a.filter(({key:G})=>I===G).map(({value:G})=>G)[0],v=a.map(I=>{const G=Ih.exec(I.key);return{branch:G&&G.length?G[1]:null,value:I.value}}).filter(I=>I.branch&&I.value===r);if(v&&v.length){const I=v[0].branch;i.report({message:s.l10n.t("Checking out branch {0}",I)}),await e.checkout(I);const G=s.workspace.getConfiguration(it).get(Ci,"pull");if(G==="pull"||G==="pullAndMergeBase"||G==="pullAndUpdateBase"||G===!0){const re=o(`branch.${I}.remote`),le=o(`branch.${I}.merge`);i.report({message:s.l10n.t("Fetching branch {0}",I)}),await e.fetch(re,le)}const Q=await e.getBranch(v[0].branch);return Q.upstream===void 0?!1:(Q.behind!==void 0&&Q.behind>0&&Q.ahead===0&&(b.debug("Pull from upstream",Qi.ID),i.report({message:s.l10n.t("Pulling branch {0}",I)}),await e.pull()),!0)}else return!1}static async getBranchNRemoteForPullRequest(e,t){let i=null;try{const r=Qi.buildPullRequestMetadata(t),a=await e.getConfigs(),o=a.map(v=>{const I=Ih.exec(v.key);return{branch:I&&I.length?I[1]:null,value:v.value}}).find(v=>!!v.branch&&v.value===r);if(o){i=o.branch;const v=`branch.${i}.remote`,I=a.filter(le=>le.key===v).map(le=>le.value);let G;I.length&&(G=I[0]);let Q=!1;if(G){const le=`remote.${G}.github-pr-remote`;a.filter(Re=>Re.key===le&&Re.value).length&&(Q=!0)}let re;return Q&&(re=a.some(le=>!!(Nb.exec(le.key)&&le.key!==`branch.${i}.remote`&&le.value===G))),{branch:i,remote:G,createdForPullRequest:Q,remoteInUse:re}}}catch(r){return i?{branch:i}:(b.error(`getBranchNRemoteForPullRequest failed ${r}`,Qi.ID),null)}return null}static async getEmail(e){try{const t=await e.getConfig("user.email");return t||await e.getGlobalConfig("user.email")}catch{return}}static buildPullRequestMetadata(e){return`${e.base.repositoryCloneUrl.owner}#${e.base.repositoryCloneUrl.repositoryName}#${e.number}`}static buildBaseBranchMetadata(e,t,i){return`${e}#${t}#${i}`}static parsePullRequestMetadata(e){if(e){const t=/(.*)#(.*)#(.*)/g.exec(e);if(t&&t.length===4){const[,i,r,a]=t;return{owner:i,repositoryName:r,prNumber:Number(a)}}}}static getMetadataKeyForBranch(e){return`branch.${e}.${Ah}`}static async getMatchingPullRequestMetadataForBranch(e,t){try{const i=this.getMetadataKeyForBranch(t),r=await e.getConfig(i);return Qi.parsePullRequestMetadata(r)}catch{return}}static async createRemote(e,t,i){b.appendLine(`create remote for ${i}.`,Qi.ID);const r=ba(e);for(const o of r)if(new Kn(o.url).equals(i))return o.remoteName;const a=Qi.getUniqueRemoteName(e,i.owner);return i.update({type:t.gitProtocol.type}),await e.addRemote(a,i.toString()),await e.setConfig(`remote.${a}.${Mh}`,"true"),a}static async isRemoteCreatedForPullRequest(e,t){try{b.debug(`Check if remote '${t}' is created for pull request - start`,Qi.ID);const i=await e.getConfig(`remote.${t}.${Mh}`);return b.debug(`Check if remote '${t}' is created for pull request - end`,Qi.ID),i==="true"}catch{return!1}}static async calculateUniqueBranchNameForPR(e,t){const i=`pr/${t.author.login}/${t.number}`;let r=i,a=1;for(;;)try{await e.getBranch(r),r=`${i}-${a++}`}catch{break}return r}static getUniqueRemoteName(e,t){let i=t,r=1;const a=ba(e);for(;a.find(o=>o.remoteName===i);)i=`${t}${r++}`;return i}static getHeadRemoteForPullRequest(e,t){return e.find(i=>i.gitProtocol&&i.gitProtocol.owner.toLowerCase()===t.head.repositoryCloneUrl.owner.toLowerCase()&&i.gitProtocol.repositoryName.toLowerCase()===t.head.repositoryCloneUrl.repositoryName.toLowerCase())}static async associateBranchWithPullRequest(e,t,i){try{t&&b.appendLine(`associate ${i} with Pull Request #${t.number}`,Qi.ID);const r=`branch.${i}.${Ah}`;t?await e.setConfig(r,Qi.buildPullRequestMetadata(t)):e.unsetConfig&&await e.unsetConfig(r)}catch{t&&b.error(`associate ${i} with Pull Request #${t.number} failed`,Qi.ID)}}static async associateBaseBranchWithBranch(e,t,i){try{const r=`branch.${t}.${Eb}`;if(i)b.appendLine(`associate ${t} with base branch ${i.owner}/${i.repo}#${i.branch}`,Qi.ID),await e.setConfig(r,Qi.buildBaseBranchMetadata(i.owner,i.repo,i.branch));else if(e.unsetConfig){await e.unsetConfig(r);const a=`branch.${t}.${Tb}`;await e.unsetConfig(a)}}catch{b.error(`associate ${t} with base branch ${i==null?void 0:i.owner}/${i==null?void 0:i.repo}#${i==null?void 0:i.branch} failed`,Qi.ID)}}};Rb(Dh,"ID","PullRequestGitHelper");let Zn=Dh;const xh=void 0;var Cb=Kt(65606);let Fh=!1;const Oh=class{static async getApiHost(n){const e=Cb.env.GITHUB_TEST_SERVER;if(e){if(Fh)return s.Uri.parse(e);const i=s.l10n.t("Yes");if(await s.window.showInformationMessage(s.l10n.t("The 'GITHUB_TEST_SERVER' environment variable is set to '{0}'. Use this as the GitHub API endpoint?",e),{modal:!0},i)===i)return Fh=!0,s.Uri.parse(e)}const t=n instanceof s.Uri?n:s.Uri.parse(n.host);return t.authority==="github.com"?s.Uri.parse("https://api.github.com"):s.Uri.parse(`${t.scheme}://${t.authority}`)}static getApiPath(n,e){return(n instanceof s.Uri?n:s.Uri.parse(n.host)).authority==="github.com"?e:`/api/v3${e}`}};var Pb=Object.defineProperty,Mb=(n,e,t)=>e in n?Pb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,nu=(n,e,t)=>Mb(n,typeof e!="symbol"?e+"":e,t);const ru=class fo{constructor(){nu(this,"_knownServers",new Map([...Array.from(fo._githubDotComServers.keys()).map(e=>[e,Zi.GitHubDotCom]),...Array.from(fo._gheServers.keys()).map(e=>[e,Zi.Enterprise])]))}static isGithubDotCom(e){return this._githubDotComServers.has(e)}static isNeverGitHub(e){return this._neverGitHubServers.has(e)}async isGitHub(e){var t;if(e===null)return Zi.None;const i=e.authority.toLowerCase();if(e.path.endsWith(".wiki")||i.match(/gist[.]github[.]com/))return Zi.None;if(fo.isGithubDotCom(i))return Zi.GitHubDotCom;const r=Array.from(this._knownServers.keys()).find(G=>i.endsWith(G)),a=Hs();if(e.authority.toLowerCase()===(a==null?void 0:a.authority.toLowerCase())&&(!r||this._knownServers.get(r)===Zi.None))return Zi.Enterprise;if(r)return(t=this._knownServers.get(r))!=null?t:Zi.None;const[o,v]=await fo.getOptions(e,"HEAD","/rate_limit");let I=Zi.None;try{const G=await ft()(o.toString(),v),Q=[];G.headers.forEach((ge,Re)=>{Q.push(Re)}),b.debug(`All headers: ${Q.join(", ")}`,"GitHubServer");const re=G.headers.get("x-github-request-id"),le=G.headers.get("x-github-enterprise-version");if(!re&&!le){const[ge]=await fo.getOptions(e,"HEAD","/status"),Ie=await(await ft()(ge.toString())).text();if(Ie.startsWith("GitHub lives!"))I=Zi.Enterprise;else{b.appendLine(`Received fallback response from the server: ${Ie}`,"GitHubServer");const Oe=JSON.parse(Ie);Oe.documentation_url&&Oe.documentation_url.startsWith("https://docs.github.com/enterprise")&&(I=Zi.Enterprise)}}else I=re!=null?le?Zi.Enterprise:Zi.GitHubDotCom:Zi.None;return I}catch(G){return b.warn(`No response from host ${e}: ${G.message}`,"GitHubServer"),I}finally{b.debug(`Host ${e} is associated with GitHub: ${I}`,"GitHubServer"),this._knownServers.set(i,I)}}static async getOptions(e,t="GET",i,r){const a={"user-agent":"GitHub VSCode Pull Requests"};r&&(a.authorization=`token ${r}`);const o=s.Uri.joinPath(await Oh.getApiHost(e),Oh.getApiPath(e,i)),v={hostname:o.authority,port:443,method:t,headers:a,agent:xh};return[o,v]}};nu(ru,"_githubDotComServers",new Set().add("github.com").add("ssh.github.com")),nu(ru,"_gheServers",new Set().add("ghe.com")),nu(ru,"_neverGitHubServers",new Set().add("bitbucket.org").add("gitlab.com"));let Lh=ru;const Ic="github.pullRequest.pullNotification.show",Uh="github.pullRequest.repos",Dc="github.pullRequest.previousCreateMethod",Bh="github.pullRequest.lastUsedEmail";function pE(n){n.globalState.setKeysForSync([Ic])}var au;(n=>{async function e(){try{await s.commands.executeCommand("git.checkout")}catch{await s.commands.executeCommand("remoteHub.switchToBranch")}}n.checkout=e})(au||(au={}));var Ab=Object.defineProperty,Ib=(n,e,t)=>e in n?Ab(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ks=(n,e,t)=>Ib(n,typeof e!="symbol"?e+"":e,t);class xc extends g{constructor(e,t,i,r){super(),this._repository=e,this._upstream=t,this._into=i,this.push=r,Ks(this,"startingConflictsCount"),Ks(this,"_lastReportedRemainingCount"),Ks(this,"_onConflictCountChanged",new s.EventEmitter),Ks(this,"onConflictCountChanged",this._onConflictCountChanged.event),Ks(this,"_finishedCommit",new s.EventEmitter),Ks(this,"message"),this.startingConflictsCount=this.remainingConflicts.length,this._lastReportedRemainingCount=this.startingConflictsCount,this._repository.inputBox.value=this.message=`Merge branch '${this._upstream}' into ${this._into}`,this._watchForRemainingConflictsChange()}_watchForRemainingConflictsChange(){this._register(s.window.tabGroups.onDidChangeTabs(async e=>{e.closed.length>0&&(await this._repository.status(),this._reportProgress())})),this._register(this._repository.state.onDidChange(async()=>{this._reportProgress()}))}_reportProgress(){if(this._lastReportedRemainingCount===0)return;const e=this.remainingConflicts.length;this._lastReportedRemainingCount!==e&&(this._onConflictCountChanged.fire(this._lastReportedRemainingCount-e),this._lastReportedRemainingCount=e),this._lastReportedRemainingCount===0&&this.listenForCommit()}async listenForCommit(){let e;const t=await new Promise(i=>{var r;const a=(r=this._repository.state.HEAD)==null?void 0:r.commit;e=this._register(this._repository.state.onDidChange(()=>{var o;((o=this._repository.state.HEAD)==null?void 0:o.commit)!==a&&this._repository.state.indexChanges.length===0&&this._repository.state.mergeChanges.length===0&&i(!0)}))});e==null||e.dispose(),t&&this.push&&this._repository.push(),this._finishedCommit.fire(t)}get remainingConflicts(){return this._repository.state.mergeChanges}async closeMergeEditors(){for(const e of s.window.tabGroups.all)for(const t of e.tabs)t.input instanceof s.TabInputTextMerge&&s.window.tabGroups.close(t)}async abort(){this._repository.inputBox.value="";const e=this._register(this._repository.state.onDidChange(async()=>{this._repository.state.mergeChanges.length===0&&(await new Promise(t=>setTimeout(t,1e3)),this.closeMergeEditors(),e.dispose())}));await this._repository.mergeAbort(),this._finishedCommit.fire(!1)}async first(){this.remainingConflicts.length!==0&&(await lt.focusView("workbench.scm"),this._reportProgress(),await Promise.all(this.remainingConflicts.map(e=>lt.executeCommand("git.openMergeEditor",e.uri))))}static async begin(e,t,i,r){const a=new xc(e,t,i,r);if(a.remainingConflicts.length!==0)return a._register(new Db(a,e)),a.first(),a}finished(){return Ee(this._finishedCommit.event)}}class Db extends g{constructor(e,t){super(),this._conflictModel=e,this._repository=t,s.window.withProgress({location:s.ProgressLocation.Notification,cancellable:!0},async(i,r)=>{const a=o=>{i.report({message:s.l10n.t("Use the Source Control view to resolve conflicts, {0} of {0} remaining",this._conflictModel.remainingConflicts.length,this._conflictModel.startingConflictsCount),increment:o})};return a(0),new Promise(o=>{this._register(this._conflictModel.onConflictCountChanged(v=>{const I=v*(100/this._conflictModel.startingConflictsCount);a(I),this._conflictModel.remainingConflicts.length===0&&o(!0)})),this._register(r.onCancellationRequested(()=>{this._conflictModel.abort(),o(!1)}))})}).then(async i=>{if(i){const r=s.l10n.t("Commit"),a=s.l10n.t("Abort Merge");let o;this._conflictModel.push?o=s.l10n.t("All conflicts resolved. Commit and push the resolution to continue."):o=s.l10n.t("All conflicts resolved. Commit the resolution to continue.");const v=await s.window.showInformationMessage(o,r,a);v===r?await this._repository.commit(this._conflictModel.message):v===a&&await this._conflictModel.abort()}})}}var xb=Object.defineProperty,Fb=(n,e,t)=>e in n?xb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Fc=(n,e,t)=>Fb(n,typeof e!="symbol"?e+"":e,t);class Ob extends g{constructor(e){super(),this._conflictResolutionModel=e,Fc(this,"_treeView"),Fc(this,"_onDidChangeTreeData",this._register(new s.EventEmitter)),Fc(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),this._treeView=this._register(s.window.createTreeView("github:conflictResolution",{treeDataProvider:this})),this._register(this._conflictResolutionModel.onAddedResolution(()=>this._onDidChangeTreeData.fire())),lt.focusView("github:conflictResolution")}async getTreeItem(e){const t=s.Uri.from({path:e.conflict.prHeadFilePath,scheme:"conflictResolution"}),i=new s.TreeItem(t);return this._conflictResolutionModel.isResolved(e.conflict.prHeadFilePath)?(i.iconPath=new s.ThemeIcon("check"),i.command={command:"vscode.diff",arguments:[this._conflictResolutionModel.baseUri(e.conflict),this._conflictResolutionModel.mergeOutputUri(e.conflict),`Merge result for ${e.conflict.prHeadFilePath}`],title:s.l10n.t("View Merge Result")}):i.command={command:"pr.resolveConflict",title:s.l10n.t("Resolve Conflict"),arguments:[e.conflict]},i}async getChildren(e){if(e)return[];const t=new s.MarkdownString;t.isTrusted={enabledCommands:["pr.exitConflictResolutionMode","pr.completeMerge"]};let i=[];return this._conflictResolutionModel.isResolvable()?(this._conflictResolutionModel.areAllConflictsResolved?t.appendMarkdown(s.l10n.t(`All conflicts have been resolved.

[Complete merge](command:pr.completeMerge)

[Exit without merging](command:pr.exitConflictResolutionMode)`)):t.appendMarkdown(s.l10n.t("Resolve all conflicts or [exit conflict resolution mode](command:pr.exitConflictResolutionMode)")),i=Array.from(this._conflictResolutionModel.startingConflicts.values()).map(r=>({conflict:r}))):t.appendMarkdown(s.l10n.t(`Not all conflicts can be resolved here. Check out the pull request to manually resolve conflicts.

[Exit conflict resolution mode](command:pr.exitConflictResolutionMode)`)),this._treeView.message=t,i}}var Lb=Object.defineProperty,Ub=(n,e,t)=>e in n?Lb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,su=(n,e,t)=>Ub(n,typeof e!="symbol"?e+"":e,t);async function Bb(n,e,t,i){let r="";return i||(r=await n.repository.show(t,s.Uri.joinPath(n.repository.rootUri,e).fsPath)),new TextEncoder().encode(r)}class qh{constructor(){su(this,"_onDidChangeFile",new s.EventEmitter),su(this,"onDidChangeFile",this._onDidChangeFile.event),su(this,"changedFiles",new Map),su(this,"_editableBranch")}set editableBranch(e){this.changedFiles.clear(),this._editableBranch=e}hasChanges(){return[...this.changedFiles.values()].some(e=>e.modified)}async tryReadFile(e,t){var i;return this.changedFiles.has(e.toString())||(!t||t.isEmpty)&&this.changedFiles.set(e.toString(),{file:new TextEncoder().encode(""),modified:!1}),(i=this.changedFiles.get(e.toString()))==null?void 0:i.file}writeFile(e,t,i){this.changedFiles.set(e.toString(),{file:t,modified:!0})}watch(e,t){return{dispose:()=>{}}}stat(e){return{type:s.FileType.File,ctime:0,mtime:0,size:0,permissions:s.FilePermission.Readonly}}readDirectory(e){return[]}createDirectory(e){}delete(e,t){}rename(e,t,i){}}class Hh extends qh{constructor(e){super(),this._gitHubRepositories=e}gitHubRepositoryForOwner(e){return e?this._gitHubRepositories.find(t=>pe(t.remote.owner,e)===0):this._gitHubRepositories[0]}set gitHubRepository(e){this._gitHubRepositories=[e]}async readFile(e){const t=yh(e),i=await this.tryReadFile(e,t);if(i)return i;const r=this.gitHubRepositoryForOwner(t==null?void 0:t.owner);if(!r)throw new Error(`No GitHub repository found for owner ${t.owner}`);const a=await r.getFile(t.fileName,t.branch);return this.changedFiles.set(e.toString(),{file:a,modified:!1}),this.changedFiles.get(e.toString()).file}async applyChanges(e,t){const i=new Map;for(const[r,a]of this.changedFiles)a.modified&&i.set(s.Uri.parse(r).path,a.file);return this._gitHubRepositories[0].commit(t,e,i)}}class qb extends qh{constructor(e){super(),this.folderRepositoryManager=e}async readFile(e){const t=yh(e);if(!t||t.isEmpty)return new TextEncoder().encode("");const i=await Bb(this.folderRepositoryManager,t.fileName,t.branch,!!t.isEmpty);return this.changedFiles.set(e.toString(),{file:i,modified:!1}),this.changedFiles.get(e.toString()).file}async applyChanges(e){var t;if(this.folderRepositoryManager.repository.state.indexChanges.length>0||this.folderRepositoryManager.repository.state.workingTreeChanges.length>0)return s.window.showWarningMessage("Please commit or stash your other changes before applying these changes."),!1;const i=[];for(const[r,a]of this.changedFiles)if(a.modified){const o=s.Uri.joinPath(this.folderRepositoryManager.repository.rootUri,s.Uri.parse(r).path);await s.workspace.fs.writeFile(o,a.file),i.push(o.fsPath)}return await this.folderRepositoryManager.repository.add(i),await this.folderRepositoryManager.repository.commit(e),(t=this.folderRepositoryManager.repository.state.HEAD)!=null&&t.upstream?(await this.folderRepositoryManager.repository.push(this.folderRepositoryManager.repository.state.HEAD.upstream.remote,this.folderRepositoryManager.repository.state.HEAD.upstream.name),!0):!1}}var Hb=Object.defineProperty,Gb=(n,e,t)=>e in n?Hb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ds=(n,e,t)=>Gb(n,typeof e!="symbol"?e+"":e,t);const Gh=`<<<<<<< HEAD:file.txt
A
=======
B
>>>>>>> fa7472b59e45e5b86c985a175aac33af7a8322a3:file.txt`;class $b extends g{constructor(e){super(),this._conflictResolutionModel=e,ds(this,"_createTime",0),ds(this,"_modifiedTimes",new Map),ds(this,"_mergedFiles",new Map),ds(this,"_onDidChangeFile",this._register(new s.EventEmitter)),ds(this,"onDidChangeFile",this._onDidChangeFile.event),this._createTime=new Date().getTime()}get mergeResults(){return this._mergedFiles}watch(e,t){return{dispose:()=>{}}}stat(e){var t,i,r;return{type:s.FileType.File,ctime:this._createTime,mtime:(t=this._modifiedTimes.get(e.path))!=null?t:0,size:(r=(i=this._mergedFiles.get(e.path))==null?void 0:i.length)!=null?r:0}}readDirectory(e){throw new Error("Method not implemented.")}createDirectory(e){throw new Error("Method not implemented.")}async readFile(e){return this._mergedFiles.has(e.path)||this.updateFile(e.path,qe.Buffer.from(Gh)),this._mergedFiles.get(e.path)}writeFile(e,t,i){this.updateFile(e.path,t)}delete(e,t){throw new Error("Method not implemented.")}rename(e,t,i){throw new Error("Method not implemented.")}updateFile(e,t){this._mergedFiles.set(e,t),this._modifiedTimes.set(e,new Date().getTime())}clear(){const e=[];for(const t of this._mergedFiles.keys())e.push({uri:s.Uri.from({scheme:this._conflictResolutionModel.mergeScheme,path:t}),type:s.FileChangeType.Changed}),this.updateFile(t,qe.Buffer.from(Gh));this._onDidChangeFile.fire(e)}dispose(){super.dispose(),this._mergedFiles.clear()}}class Vb extends g{constructor(e,t,i){super(),this._telemetry=e,this._conflictResolutionModel=t,this._githubRepositories=i,ds(this,"_mergeOutputProvider"),ds(this,"_onExitConflictResolutionMode",new s.EventEmitter),this._mergeOutputProvider=this._register(new $b(this._conflictResolutionModel))}async openConflict(e){const t=this._conflictResolutionModel.prHeadUri(e),i=this._conflictResolutionModel.baseUri(e),r={uri:t,title:s.l10n.t("Pull Request Head")},a={uri:i,title:s.l10n.t("{0} Branch",this._conflictResolutionModel.prBaseBranchName)},o=this._conflictResolutionModel.mergeBaseUri(e),v=this._conflictResolutionModel.mergeOutputUri(e),I={base:o,input1:r,input2:a,output:v};await lt.executeCommand("_open.mergeEditor",I)}register(){this._register(s.workspace.registerFileSystemProvider($t.GithubPr,new Hh(this._githubRepositories),{isReadonly:!0})),this._register(s.workspace.registerFileSystemProvider(this._conflictResolutionModel.mergeScheme,this._mergeOutputProvider)),this._register(s.commands.registerCommand("pr.resolveConflict",e=>this.openConflict(e))),this._register(s.commands.registerCommand("pr.acceptMerge",async e=>this.acceptMerge(e))),this._register(s.commands.registerCommand("pr.exitConflictResolutionMode",async()=>{const e=s.l10n.t("Exit and lose changes");if(await s.window.showWarningMessage(s.l10n.t("Are you sure you want to exit conflict resolution mode? All changes will be lost."),{modal:!0},e)===e)return this.exitConflictResolutionMode(!1)})),this._register(s.commands.registerCommand("pr.completeMerge",async()=>this.exitConflictResolutionMode(!0))),this._register(new Ob(this._conflictResolutionModel))}async acceptMerge(e){if(!(e instanceof s.Uri))return;const{activeTab:t}=s.window.tabGroups.activeTabGroup;if(!t||!(t.input instanceof s.TabInputTextMerge))return;if((await lt.executeCommand("mergeEditor.acceptMerge")).successful){const r=new TextDecoder().decode(this._mergeOutputProvider.mergeResults.get(e.path));this._conflictResolutionModel.addResolution(e.path.substring(1),r)}}async enterConflictResolutionMode(){this._telemetry.sendTelemetryEvent("pr.conflictResolution.start"),await lt.setContext(Ri.RESOLVING_CONFLICTS,!0),this.register(),this.openConflict(this._conflictResolutionModel.startingConflicts[0])}async exitConflictResolutionMode(e){this._telemetry.sendTelemetryEvent("pr.conflictResolution.exit",{allConflictsResolved:e.toString()}),this._mergeOutputProvider.clear(),await lt.setContext(Ri.RESOLVING_CONFLICTS,!1);const t=[];for(const i of s.window.tabGroups.all)for(const r of i.tabs)r.input instanceof s.TabInputTextMerge&&r.input.result.scheme===this._conflictResolutionModel.mergeScheme&&t.push(r);await s.window.tabGroups.close(t),this._onExitConflictResolutionMode.fire(e),this.dispose()}async enterConflictResolutionAndWaitForExit(){return await this.enterConflictResolutionMode(),Ee(this._onExitConflictResolutionMode.event)}}var jb=Object.defineProperty,Wb=(n,e,t)=>e in n?jb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jo=(n,e,t)=>Wb(n,typeof e!="symbol"?e+"":e,t);class zb{constructor(e,t,i,r,a,o,v,I){this.startingConflicts=e,this.repositoryName=t,this.prBaseOwner=i,this.latestPrBaseSha=r,this.prHeadOwner=a,this.prHeadBranchName=o,this.prBaseBranchName=v,this.prMergeBaseRef=I,jo(this,"_startingConflicts",new Map),jo(this,"_resolvedConflicts",new Map),jo(this,"_onAddedResolution",new s.EventEmitter),jo(this,"onAddedResolution",this._onAddedResolution.event),jo(this,"mergeScheme",`${$t.MergeOutput}-${new Date().getTime()}`);for(const G of e)this._startingConflicts.set(G.prHeadFilePath,G)}isResolvable(){return Array.from(this._startingConflicts.values()).every(e=>!e.filePathConflict&&!e.modeConflict)}addResolution(e,t){this._resolvedConflicts.set(e,{prHeadFilePath:e,resolvedContents:t}),this._onAddedResolution.fire()}isResolved(e){if(!this._startingConflicts.has(e))throw new Error("Not a conflict file");return this._resolvedConflicts.has(e)}get areAllConflictsResolved(){return this._resolvedConflicts.size===this._startingConflicts.size}get resolvedConflicts(){if(this._resolvedConflicts.size!==this._startingConflicts.size)throw new Error("Not all conflicts have been resolved");return this._resolvedConflicts}mergeOutputUri(e){return s.Uri.parse(`${this.mergeScheme}:/${e.prHeadFilePath}`)}mergeBaseUri(e){const t=s.Uri.file(e.prHeadFilePath);return Ua(t,$t.GithubPr,{fileName:e.prHeadFilePath,branch:this.prMergeBaseRef,owner:this.prBaseOwner})}baseUri(e){const t=s.Uri.file(e.prHeadFilePath);return Ua(t,$t.GithubPr,{fileName:e.prHeadFilePath,branch:this.latestPrBaseSha,owner:this.prBaseOwner})}prHeadUri(e){const t=s.Uri.file(e.prHeadFilePath);return Ua(t,$t.GithubPr,{fileName:e.prHeadFilePath,branch:this.prHeadBranchName,owner:this.prHeadOwner})}}var Kb=Object.defineProperty,Qb=(n,e,t)=>e in n?Kb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Li=(n,e,t)=>Qb(n,typeof e!="symbol"?e+"":e,t);async function Yb(n){var e;const t=n.head;if(!t)throw new Error("No head found for pull request");const i=await n.getLatestBaseCommitSha(),r=n.base.owner,a=t.owner,o=t.ref,v=(await n.githubRepository.ensure()).remote.repositoryName,I=[];if(n.item.mergeable===zt.Conflict){const G=await n.compareBaseBranchForMerge(a,o,r,i);if(n.item.mergeable===zt.Conflict&&G.length>=300)return;const Q=new Map;for(const le of n.fileChanges.values())le.previousFileName&&Q.set(le.previousFileName,le);const re=new Set(n.conflicts);for(const le of G){const ge=(e=n.fileChanges.get(le.filename))!=null?e:Q.get(le.filename);if(ge&&(re.size===0||re.has(ge.fileName))){const Re=ge.fileName;let Ie=!1,Oe=!1,ue=!1;le.status==="modified"&&(Ie=!0),(le.previous_filename||ge.previousFileName)&&(Oe=!0),I.push({prHeadFilePath:Re,contentsConflict:Ie,filePathConflict:Oe,modeConflict:ue})}}}return new zb(I,v,r,i,a,o,n.base.ref,n.mergeBase)}class $h extends Error{constructor(e){super(),this.repository=e}get message(){return s.l10n.t("{0} has no GitHub remotes",this.repository.rootUri.toString())}}class Xb extends Error{constructor(e){super(),this.repository=e}get message(){return s.l10n.t("{0} has a detached HEAD (create a branch first",this.repository.rootUri.toString())}}class Jb extends Error{constructor(e,t,i){super(),this.branchName=e,this.upstreamRef=t,this.problem=i}get message(){const{upstreamRef:{remote:e,name:t},branchName:i,problem:r}=this;return s.l10n.t("The upstream ref {0} for branch {1} {2}.",`${e}/${t}`,i,r)}}const Vh="ReposManagerStateContext";var aa=(n=>(n.Initializing="Initializing",n.NeedsAuthentication="NeedsAuthentication",n.RepositoriesLoaded="RepositoriesLoaded",n))(aa||{}),Zb=(n=>(n[n.PullRequest=0]="PullRequest",n[n.IssueSearch=1]="IssueSearch",n))(Zb||{});const ey="templateBody",jh=class Sv extends g{constructor(e,t,i,r,a,o,v){super(),this._id=e,this.context=t,this._repository=i,this.telemetry=r,this._git=a,this._credentialStore=o,this.createPullRequestHelper=v,Li(this,"_activePullRequest"),Li(this,"_activeIssue"),Li(this,"_githubRepositories"),Li(this,"_allGitHubRemotes",[]),Li(this,"_mentionableUsers"),Li(this,"_fetchMentionableUsersPromise"),Li(this,"_assignableUsers"),Li(this,"_teamReviewers"),Li(this,"_fetchAssignableUsersPromise"),Li(this,"_fetchTeamReviewersPromise"),Li(this,"_gitBlameCache",{}),Li(this,"_githubManager"),Li(this,"_repositoryPageInformation",new Map),Li(this,"_addedUpstreamCount",0),Li(this,"_onDidMergePullRequest",this._register(new s.EventEmitter)),Li(this,"onDidMergePullRequest",this._onDidMergePullRequest.event),Li(this,"_onDidChangeActivePullRequest",this._register(new s.EventEmitter)),Li(this,"onDidChangeActivePullRequest",this._onDidChangeActivePullRequest.event),Li(this,"_onDidChangeActiveIssue",this._register(new s.EventEmitter)),Li(this,"onDidChangeActiveIssue",this._onDidChangeActiveIssue.event),Li(this,"_onDidLoadRepositories",this._register(new s.EventEmitter)),Li(this,"onDidLoadRepositories",this._onDidLoadRepositories.event),Li(this,"_onDidChangeRepositories",this._register(new s.EventEmitter)),Li(this,"onDidChangeRepositories",this._onDidChangeRepositories.event),Li(this,"_onDidChangeAssignableUsers",this._register(new s.EventEmitter)),Li(this,"onDidChangeAssignableUsers",this._onDidChangeAssignableUsers.event),Li(this,"_onDidChangeGithubRepositories",this._register(new s.EventEmitter)),Li(this,"onDidChangeGithubRepositories",this._onDidChangeGithubRepositories.event),Li(this,"_onDidDispose",this._register(new s.EventEmitter)),Li(this,"onDidDispose",this._onDidDispose.event),Li(this,"_sessionIgnoredRemoteNames",new Set),Li(this,"_updatingRepositories"),Li(this,"totalFetchedPages",new Map),Li(this,"_updateMessageShown",!1),Li(this,"_createGitHubRepositoryBulkhead",fh(1,300)),this._githubRepositories=[],this._githubManager=new Lh,this._register(s.workspace.onDidChangeConfiguration(async I=>{I.affectsConfiguration(`${it}.${Ti}`)&&await this.updateRepositories()})),this._register(o.onDidInitialize(()=>this.updateRepositories())),this.cleanStoredRepoState()}cleanStoredRepoState(){const e=new Date().valueOf()-2592e6,t=this.context.globalState.get(Uh);if(t!=null&&t.repos){let i=!1;Object.keys(t.repos).forEach(r=>{var a;((a=t.repos[r].stateModifiedTime)!=null?a:0)<e&&(i=!0,delete t.repos[r])}),i&&this.context.globalState.update(Uh,t)}}get id(){return`${Sv.ID}+${this._id}`}get gitHubRepositories(){return this._githubRepositories}async computeAllUnknownRemotes(){const t=ba(this.repository).filter(o=>o.host),i=await Promise.all(t.map(o=>this._githubManager.isGitHub(o.gitProtocol.normalizeUri()))).catch(o=>(b.error(`Resolving GitHub remotes failed: ${o}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",he(o))),[])),r=[];let a=0;for(const o of t)i[a]===Zi.None&&r.push(o),a++;return r}async computeAllGitHubRemotes(){const t=ba(this.repository).filter(o=>o.host),i=await Promise.all(t.map(o=>this._githubManager.isGitHub(o.gitProtocol.normalizeUri()))).catch(o=>(b.error(`Resolving GitHub remotes failed: ${o}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",he(o))),[])),r=[];let a=0;for(const o of t)i[a]!==Zi.None&&r.push(os.remoteAsGitHub(o,i[a])),a++;return r}async getActiveGitHubRemotes(e){const t=s.workspace.getConfiguration(it).get(Ti);if(!t)return b.error("Unable to read remotes setting",this.id),Promise.resolve([]);const i=t.filter(r=>!e.some(a=>a.remoteName===r));return i.length===t.length?b.warn(`No remotes found. The following remotes are missing: ${i.join(", ")}`):b.debug(`Not all remotes found. The following remotes are missing: ${i.join(", ")}`,this.id),b.debug(`Displaying configured remotes: ${t.join(", ")}`,this.id),t.map(r=>e.find(a=>a.remoteName===r)).filter(r=>!!r&&!this._sessionIgnoredRemoteNames.has(r.remoteName))}get activeIssue(){return this._activeIssue}set activeIssue(e){this._activeIssue=e,this._onDidChangeActiveIssue.fire()}get activePullRequest(){return this._activePullRequest}set activePullRequest(e){var t,i;if(e===this._activePullRequest)return;const r=(t=this._activePullRequest)==null?void 0:t.number;this._activePullRequest&&(this._activePullRequest.isActive=!1),e&&(e.isActive=!0,(i=e.githubRepository.commentsHandler)==null||i.unregisterCommentController(e.number));const a=e==null?void 0:e.number;this._activePullRequest=e,this._onDidChangeActivePullRequest.fire({old:r,new:a})}get repository(){return this._repository}set repository(e){this._repository=e}get credentialStore(){return this._credentialStore}setFileViewedContext(){var e;const t=(e=this.activePullRequest)==null?void 0:e.getViewedFileStates();t?(lt.setContext(Ri.VIEWED_FILES,Array.from(t.viewed)),lt.setContext(Ri.UNVIEWED_FILES,Array.from(t.unviewed))):this.clearFileViewedContext()}clearFileViewedContext(){lt.setContext(Ri.VIEWED_FILES,[]),lt.setContext(Ri.UNVIEWED_FILES,[])}async loginAndUpdate(){if(!this._credentialStore.isAnyAuthenticated()){const e=new Promise(t=>{const i=this.onDidChangeRepositories(()=>{i.dispose(),t()})});await this._credentialStore.login(li.github),await e}}async getActiveRemotes(){this._allGitHubRemotes=await this.computeAllGitHubRemotes();const e=await this.getActiveGitHubRemotes(this._allGitHubRemotes);return e.length?(await s.commands.executeCommand("setContext","github:hasGitHubRemotes",!0),b.appendLine(`Found GitHub remote for folder ${this.repository.rootUri.fsPath}`,this.id)):b.appendLine(`No GitHub remotes found for folder ${this.repository.rootUri.fsPath}`,this.id),e}async updateRepositories(e=!1){return this._updatingRepositories&&await this._updatingRepositories,this._updatingRepositories=this.doUpdateRepositories(e),this._updatingRepositories}checkForAuthMatch(e){let t=0,i=0;for(const a of e)a.githubServerType===Zi.GitHubDotCom?t++:a.githubServerType===Zi.Enterprise&&i++;let r=this._credentialStore.isAuthenticated(li.github)||this._credentialStore.isAuthenticated(li.githubEnterprise);return t>0&&this._credentialStore.isAuthenticated(li.github)||i>0&&this._credentialStore.isAuthenticated(li.githubEnterprise)||r&&(r=!1),s.commands.executeCommand("setContext","github:authenticated",r),r}async doUpdateRepositories(e){if(this._git.state==="uninitialized")return b.appendLine("Cannot updates repositories as git is uninitialized",this.id),!1;const t=await this.getActiveRemotes(),i=this.checkForAuthMatch(t);if(this.credentialStore.isAnyAuthenticated()&&t.length===0&&(await this.computeAllUnknownRemotes()).every(Q=>Lh.isNeverGitHub(s.Uri.parse(Q.normalizedHost).authority)))return this._onDidLoadRepositories.fire("RepositoriesLoaded"),!0;const r=[],a=[],o=[];this._githubRepositories.forEach(G=>o.push(G));const v=t.filter(G=>this._credentialStore.isAuthenticated(G.authProviderId));for(const G of v){const Q=await this.createGitHubRepository(G,this._credentialStore);a.push(Q.resolveRemote()),r.push(Q)}const I=async G=>{for(const Q of G){this._sessionIgnoredRemoteNames.add(Q.remote.remoteName),this.removeGitHubRepository(Q.remote);const re=r.indexOf(Q);re>-1&&r.splice(re,1)}};return Promise.all(a).then(async G=>{const Q=[];for(let le=0;le<G.length;le++)G[le]||Q.push(r[le]);if(Q.length>0){const le=await this._credentialStore.showSamlMessageAndAuth(Q.map(Ie=>Ie.remote.owner)),ge=le.canceled?[]:await Promise.all(Q.map(Ie=>Ie.resolveRemote())),Re=le.canceled?Q:ge.map((Ie,Oe)=>Ie?void 0:Q[Oe]).filter(Ie=>!!Ie);if(Re.length>0){if(Re.length===r.length)return await s.window.showErrorMessage(s.l10n.t("SAML access was not provided. GitHub Pull Requests will not work."),{modal:!0}),this.dispose(),!0;await s.window.showErrorMessage(s.l10n.t("SAML access was not provided. Some GitHub repositories will not be available."),{modal:!0}),I(Re)}}this._githubRepositories=r,o.filter(le=>this._githubRepositories.indexOf(le)<0).forEach(le=>le.dispose());const re=o.length!==this._githubRepositories.length?this.gitHubRepositories.filter(le=>!o.some(ge=>ge.remote.equals(le.remote))):[];return re.length>0&&this._onDidChangeGithubRepositories.fire(this._githubRepositories),this._githubRepositories.length&&re.length>0&&await this.checkIfMissingUpstream()?(this.updateRepositories(e),!0):(this.activePullRequest&&this.getMentionableUsers(re.length>0),this.getAssignableUsers(re.length>0),i&&t.length?this._onDidLoadRepositories.fire("RepositoriesLoaded"):i||this._onDidLoadRepositories.fire("NeedsAuthentication"),e||this._onDidChangeRepositories.fire({added:re.length>0}),!0)})}async checkIfMissingUpstream(){var e;try{const i=await(await this.getOrigin()).getMetadata(),r=s.workspace.getConfiguration(it);if(i.fork&&i.parent&&r.get(Pi,"add")==="add"){const a=new Kn(i.parent.git_url);if(!this._githubRepositories.some(v=>pe(v.remote.owner,a.owner)===0&&pe(v.remote.repositoryName,a.repositoryName)===0)){const I=!this.repository.state.remotes.some(G=>G.name==="upstream")?"upstream":(e=i.parent.owner)==null?void 0:e.login;if(I){if(this.gitHubRepositories[0].remote.gitProtocol.type===pl.SSH?await this.repository.addRemote(I,i.parent.ssh_url):await this.repository.addRemote(I,i.parent.clone_url),this._addedUpstreamCount++,this._addedUpstreamCount>1){const Q=s.l10n.t("Set to `never`");s.window.showInformationMessage(s.l10n.t("An `upstream` remote has been added for this repository. You can disable this feature by setting `githubPullRequests.upstreamRemote` to `never`."),Q).then(re=>{re===Q&&r.update(Pi,"never",s.ConfigurationTarget.Global)})}return!0}}}}catch(t){b.appendLine(`Missing upstream check failed: ${t}`,this.id)}return!1}getAllAssignableUsers(){if(this._assignableUsers){const e=[];return Object.keys(this._assignableUsers).forEach(t=>{e.push(...this._assignableUsers[t])}),e}}async getCachedFromGlobalState(e){b.appendLine(`Trying to use globalState for ${e}.`,this.id);const t=s.Uri.joinPath(this.context.globalStorageUri,e);let i;try{i=await s.workspace.fs.stat(t)}catch{}if(!i){b.appendLine(`GlobalState does not exist for ${e}.`,this.id);return}const r={};if((await Promise.all(this._githubRepositories.map(async o=>{const v=`${o.remote.owner}/${o.remote.repositoryName}.json`,I=s.Uri.joinPath(t,v);let G,Q;try{G=await s.workspace.fs.readFile(I),Q=JSON.parse(G.toString())}catch(re){re instanceof Error&&re.message.includes("Unexpected non-whitespace character after JSON")&&b.error(`Error parsing ${e} cache for ${o.remote.remoteName}.`,this.id)}if(G&&G.toString())return r[o.remote.remoteName]=Q!=null?Q:[],!0}))).every(o=>o))return b.appendLine(`Using globalState ${e} for ${Object.keys(r).length}.`,this.id),r;b.appendLine(`No globalState for ${e}.`,this.id)}async saveInGlobalState(e,t){const i=s.Uri.joinPath(this.context.globalStorageUri,e);await Promise.all(this._githubRepositories.map(async r=>{const a=`${r.remote.owner}/${r.remote.repositoryName}.json`,o=s.Uri.joinPath(i,a);await s.workspace.fs.writeFile(o,new TextEncoder().encode(JSON.stringify(t[r.remote.remoteName])))}))}createFetchMentionableUsersPromise(){const e={};return new Promise(t=>{const i=this._githubRepositories.map(async r=>{const a=await r.getMentionableUsers();e[r.remote.remoteName]=a});Promise.all(i).then(()=>{this._mentionableUsers=e,this._fetchMentionableUsersPromise=void 0,this.saveInGlobalState("mentionableUsers",e).then(()=>t(e))})})}async getMentionableUsers(e){if(e&&delete this._mentionableUsers,this._mentionableUsers)return b.appendLine("Using in-memory cached mentionable users.",this.id),this._mentionableUsers;const t=await this.getCachedFromGlobalState("mentionableUsers");return this._fetchMentionableUsersPromise?this._fetchMentionableUsersPromise:(this._fetchMentionableUsersPromise=this.createFetchMentionableUsersPromise(),t!=null?t:this._fetchMentionableUsersPromise)}async getAssignableUsers(e){if(e&&delete this._assignableUsers,this._assignableUsers)return b.appendLine("Using in-memory cached assignable users.",this.id),this._assignableUsers;const t=await this.getCachedFromGlobalState("assignableUsers");if(!this._fetchAssignableUsersPromise){const i={},r=[];return this._fetchAssignableUsersPromise=new Promise(a=>{const o=this._githubRepositories.map(async v=>{const I=await v.getAssignableUsers();i[v.remote.remoteName]=I.sort(Jf),r.push(...I)});Promise.all(o).then(()=>{this._assignableUsers=i,this._fetchAssignableUsersPromise=void 0,this.saveInGlobalState("assignableUsers",i),a(i),this._onDidChangeAssignableUsers.fire(r)})}),t!=null?t:this._fetchAssignableUsersPromise}return this._fetchAssignableUsersPromise}async getTeamReviewers(e){if(e===Os.Force&&delete this._teamReviewers,this._teamReviewers)return b.appendLine("Using in-memory cached team reviewers.",this.id),this._teamReviewers;const t=e===Os.Force?void 0:await this.getCachedFromGlobalState("teamReviewers");if(t)return this._teamReviewers=t,t||{};if(!this._fetchTeamReviewersPromise){const i={};return this._fetchTeamReviewersPromise=new Promise(async r=>{var a;const o=new Map;for(const v of this._githubRepositories){if(!o.has(v.remote.owner))try{const G=await v.getOrgTeams(e);o.set(v.remote.owner,G)}catch{break}const I=(a=o.get(v.remote.owner))!=null?a:[];i[v.remote.remoteName]=I.filter(G=>G.repositoryNames.includes(v.remote.repositoryName)).sort(S0)}this._teamReviewers=i,this._fetchTeamReviewersPromise=void 0,this.saveInGlobalState("teamReviewers",i),r(i)})}return this._fetchTeamReviewersPromise}createFetchOrgProjectsPromise(){const e={};return new Promise(async t=>{var i;const r=new Map;for(const a of this._githubRepositories){if(!r.has(a.remote.owner))try{const o=await a.getOrgProjects();r.set(a.remote.owner,o)}catch{break}e[a.remote.remoteName]=(i=r.get(a.remote.owner))!=null?i:[]}await this.saveInGlobalState("orgProjects",e),t(e)})}async getOrgProjects(e){if(e)return this.createFetchOrgProjectsPromise();const t=await this.getCachedFromGlobalState("orgProjects");return t!=null?t:this.createFetchOrgProjectsPromise()}async getAllProjects(e,t){const i=!!(await e.getMetadata()).organization,[r,a]=await Promise.all([e.getProjects(),i?this.getOrgProjects(t):void 0]);return[...r!=null?r:[],...a?a[e.remote.remoteName]:[]]}async getOrgTeamsCount(e){return(await e.getMetadata()).organization?e.getOrgTeamsCount():0}async getPullRequestParticipants(e,t){return{participants:await e.getPullRequestParticipants(t),viewer:await this.getCurrentUser(e)}}async getGitHubRemotes(){const e=this._githubRepositories;if(!e||!e.length)return[];const t=e.map(a=>a.remote).flat(),i=await Promise.all(t.map(a=>this._githubManager.isGitHub(a.gitProtocol.normalizeUri()))).catch(a=>(b.error(`Resolving GitHub remotes failed: ${a}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",he(a))),[])),r=t.map((a,o)=>os.remoteAsGitHub(a,i[o]));return this.checkForAuthMatch(r)?r:[]}async getAllGitHubRemotes(){return await this.computeAllGitHubRemotes()}async getLocalPullRequests(){const e=this._githubRepositories;if(!e||!e.length||!this.repository.getRefs)return[];const t=(await this.repository.getRefs({pattern:"refs/heads/"})).filter(o=>o.name!==void 0).map(o=>o.name),i=[],r=100;for(let o=0;o<t.length;o+=r){const v=t.slice(o,o+r);i.push(v)}const a=[];for(const o of i)a.push(...await Promise.all(o.map(async v=>{const I=await Zn.getMatchingPullRequestMetadataForBranch(this.repository,v);if(I){const{owner:G,prNumber:Q}=I,re=e.find(le=>le.remote.owner.toLocaleLowerCase()===G.toLocaleLowerCase());if(re){const le=await re.getPullRequest(Q);if(le)return le.localBranchName=v,le}}})));return a.filter(o=>o!==void 0)}async getLabels(e,t){const i=e?e.githubRepository:this._githubRepositories.find(G=>G.remote.owner===(t==null?void 0:t.owner)&&G.remote.repositoryName===(t==null?void 0:t.repo));if(!i)throw new Error("No matching repository found for getting labels.");const{remote:r,octokit:a}=await i.ensure();let o=!1,v=1,I=[];do{const G=await a.call(a.api.issues.listLabelsForRepo,{owner:r.owner,repo:r.repositoryName,per_page:100,page:v});I=I.concat(G.data.map(Q=>{var re;return{name:Q.name,color:Q.color,description:(re=Q.description)!=null?re:void 0}})),I=I.sort((Q,re)=>Q.name.localeCompare(re.name)),o=!!G.headers.link&&G.headers.link.indexOf('rel="next"')>-1,v+=1}while(o);return I}async deleteLocalPullRequest(e,t){if(!e.localBranchName)return;await this.repository.deleteBranch(e.localBranchName,t);let i;try{i=await this.repository.getConfig(`branch.${e.localBranchName}.remote`)}catch{}if(!i)return;await Zn.isRemoteCreatedForPullRequest(this.repository,i)&&((await this.repository.getConfigs()).some(({key:v,value:I})=>/^branch.*\.remote$/.test(v)&&I===i)||await this.repository.removeRemote(i)),this.telemetry.sendTelemetryEvent("branch.delete")}async fetchPagedData(e={fetchNextPage:!1},t,i=0,r=dt.All,a){const o=i===0?this._githubRepositories.filter(ge=>this.repository.state.remotes.find(Re=>Re.name===ge.remote.remoteName)):this._githubRepositories;if(!o.length)return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1,totalCount:0};const v=()=>this.totalFetchedPages.get(t)||0,I=ge=>this.totalFetchedPages.set(t,ge);for(const ge of o){const Re=ge.remote.url.toString()+t;this._repositoryPageInformation.get(Re)||this._repositoryPageInformation.set(Re,{pullRequestPage:0,hasMorePages:null})}let G=0;const Q={hasMorePages:!1,items:[],totalCount:0},re=ge=>{G++,ge&&(Q.items=Q.items.concat(ge.items),Q.hasMorePages=ge.hasMorePages,Q.totalCount=ge.totalCount)},le=this._githubRepositories.filter(ge=>{const Re=this._repositoryPageInformation.get(ge.remote.url.toString()+t);return Re&&(e.fetchNextPage===!1||Re.hasMorePages!==!1)});for(let ge=0;ge<le.length;ge++){const Re=le[ge],Ie=Re.remote.url.toString()+t;let Oe=this._repositoryPageInformation.get(Ie);Oe||(b.warn(`No page information for ${Ie}`),Oe={pullRequestPage:0,hasMorePages:null},this._repositoryPageInformation.set(Ie,Oe));const ue=Oe,ye=async Te=>{const Ae=a?await Gs(a,void 0,{base:await Re.getDefaultBranch(),owner:Re.remote.owner,repo:Re.remote.repositoryName}):void 0;switch(i){case 0:return r===dt.All?Re.getAllPullRequests(Te):this.getPullRequestsForCategory(Re,Ae||"",Te);case 1:return Re.getIssues(ue.pullRequestPage,Ae)}};if(e.fetchNextPage?(ue.pullRequestPage++,re(await ye(ue.pullRequestPage)),I(v()+1)):(ue.pullRequestPage===0&&(ue.pullRequestPage=1),(await Promise.all(Array.from({length:ue.pullRequestPage}).map((Ae,Ue)=>ye(Ue+1)))).forEach(Ae=>re(Ae))),ue.hasMorePages=Q.hasMorePages,Q.items.length&&(e.fetchNextPage||e.fetchNextPage===!1&&!e.fetchOnePagePerRepo&&G>=v()))return v()===0&&I(G),{items:Q.items,hasMorePages:ue.hasMorePages,hasUnsearchedRepositories:ge<le.length-1,totalCount:Q.totalCount}}return{items:Q.items,hasMorePages:!1,hasUnsearchedRepositories:!1,totalCount:Q.totalCount}}async getPullRequestsForCategory(e,t,i){let r;try{b.debug(`Fetch pull request category ${t} - enter`,this.id);const{octokit:a,query:o,schema:v}=await e.ensure(),I=await e.getAuthenticatedUser();r=await e.getMetadata();const{data:G,headers:Q}=await a.call(a.api.search.issuesAndPullRequests,{q:A0(I,t),per_page:Ff,page:i||1}),re=G.items.map(async Ie=>{const Oe=new Kn(Ie.repository_url),ue=await this.createGitHubRepositoryFromOwnerName(Oe.owner,Oe.repositoryName),{data:ye}=await o({query:v.PullRequest,variables:{owner:ue.remote.owner,name:ue.remote.repositoryName,number:Ie.number}});return{data:ye,repo:ue}}),le=!!Q.link&&Q.link.indexOf('rel="next"')>-1,Re=(await Promise.all(re)).map(Ie=>Ie!=null&&Ie.data.repository?Ie.repo.createOrUpdatePullRequestModel(Uo(Ie.data.repository.pullRequest,Ie.repo)):(b.appendLine("Pull request doesn't appear to exist.",this.id),null)).filter(Ie=>Ie!==null);return b.debug(`Fetch pull request category ${t} - done`,this.id),{items:Re,hasMorePages:le,totalCount:G.total_count}}catch(a){if(b.error(`Fetching pull request with query failed: ${a}`,this.id),a.status===404)s.window.showWarningMessage(`Fetching pull requests for remote ${e.remote.remoteName} with query failed, please check if the repo ${r==null?void 0:r.full_name} is valid.`);else throw a}}isPullRequestAssociatedWithOpenRepository(e){const t=e.githubRepository.remote;return!!this.repository.state.remotes.find(r=>r.name===t.remoteName)}async getPullRequests(e,t={fetchNextPage:!1},i){const r=e.toString()+(i||"");return this.fetchPagedData(t,r,0,e,i)}async createMilestone(e,t){try{const{data:i}=await e.octokit.call(e.octokit.api.issues.createMilestone,{owner:e.remote.owner,repo:e.remote.repositoryName,title:t});return{title:i.title,dueOn:i.due_on,createdAt:i.created_at,id:i.node_id,number:i.number}}catch(i){s.window.showErrorMessage(s.l10n.t(`Failed to create a milestone
{0}`,he(i)));return}}async getRepoForIssue(e){const t=new zl(e.repositoryName,e.repositoryUrl,new Kn(e.repositoryUrl));return this.createGitHubRepository(t,this.credentialStore,!0,!0)}async getIssues(e){if(this.gitHubRepositories.length!==0)try{const t=await this.fetchPagedData({fetchNextPage:!1,fetchOnePagePerRepo:!1},`issuesKey${e}`,1,dt.All,e),i={items:[],hasMorePages:t.hasMorePages,hasUnsearchedRepositories:t.hasUnsearchedRepositories,totalCount:t.totalCount};for(const r of t.items){const a=await this.getRepoForIssue(r);i.items.push(new Pn(a,a.remote,r))}return i}catch(t){return b.error(`Error fetching issues with query ${e}: ${t instanceof Error?t.message:t}`,this.id),{hasMorePages:!1,hasUnsearchedRepositories:!1,items:[],totalCount:0}}}async getMaxIssue(){const e=await Promise.all(this._githubRepositories.map(i=>i.getMaxIssue()));let t=0;for(const i of e)i!==void 0&&(t=Math.max(t,i));return t}async getIssueTemplates(){const e="{docs,.github}/ISSUE_TEMPLATE/*.md";return s.workspace.findFiles(new s.RelativePattern(this._repository.rootUri,e),null)}async getPullRequestTemplateBody(e){try{const t=await this.getPullRequestTemplateWithCache(e);return t||this.getOwnerPullRequestTemplate(e)}catch(t){b.error(`Error fetching pull request template for ${e}: ${t instanceof Error?t.message:t}`,this.id)}}async getPullRequestTemplateWithCache(e){const t=`${ey}+${this.repository.rootUri.toString()}`,i=this.getPullRequestTemplate(e).then(o=>(o?this.context.workspaceState.update(t,o):this.context.workspaceState.update(t,null),o)),r=this.context.workspaceState.keys().includes(t),a=this.context.workspaceState.get(t);if(r){if(a===null)return;if(a)return a}return i}async getOwnerPullRequestTemplate(e){const t=await this.createGitHubRepositoryFromOwnerName(e,".github");if(!t)return;const i=await t.getPullRequestTemplates();if(i&&(i==null?void 0:i.length)>0)return i[0]}async getPullRequestTemplate(e){const t=this.gitHubRepositories.find(r=>r.remote.owner===e);if(!t)return;const i=await t.getPullRequestTemplates();return i?i[0]:void 0}async getPullRequestDefaults(e){var t,i;if(!e&&!this.repository.state.HEAD)throw new Xb(this.repository);const r=await this.getOrigin(e),a=await r.getMetadata(),o=(t=s.workspace.getConfiguration(it).inspect(Ti))==null?void 0:t.defaultValue,v=s.workspace.getConfiguration(it).get(Ti),I=!v||(o==null?void 0:o.every((Q,re)=>v[re]===Q)),G=a.fork&&a.parent&&I?a.parent:await(this.findRepo(Ys("upstream"))||r).getMetadata();return{owner:G.owner.login,repo:G.name,base:(i=nh())!=null?i:G.default_branch}}async getPullRequestDefaultRepo(){const e=await this.getPullRequestDefaults();return this.findRepo(t=>t.remote.owner===e.owner&&t.remote.repositoryName===e.repo)||this._githubRepositories[0]}async getMetadata(e){const t=this.findRepo(Ys(e));return t&&t.getMetadata()}async getHeadCommitMessage(){const{repository:e}=this;if(e.state.HEAD&&e.state.HEAD.commit){const{message:t}=await e.getCommit(e.state.HEAD.commit);return t}return""}async getTipCommitMessage(e){b.debug(`Git tip message for branch ${e} - enter`,this.id);const{repository:t}=this;let{commit:i}=await t.getBranch(e),r="",a=0;do{if(i){let o=await t.getCommit(i);if(o.parents.length<=1){r=o.message;break}else i=o.parents[0]}a++}while(r===""&&i&&a<5);return b.debug(`Git tip message for branch ${e} - done`,this.id),r}async getOrigin(e){if(!this._githubRepositories.length)throw new $h(this.repository);const t=e?e.upstream:this.upstreamRef;if(t){const a=this.findRepo(Ys(t.remote));if(!a){const o=(await this.getAllGitHubRemotes()).find(v=>v.remoteName===t.remote);if(o)return this.createAndAddGitHubRepository(o,this._credentialStore);throw b.error(`The remote '${t.remote}' is not a GitHub repository.`,this.id),new Jb(this.repository.state.HEAD.name,t,"is not a GitHub repo")}return a}const[i,...r]=this._githubRepositories;return r.length&&(this.findRepo(Ys("origin"))||this.findRepo(ty))||i}findRepo(e){return this._githubRepositories.filter(e)[0]}get upstreamRef(){const{HEAD:e}=this.repository.state;return e&&e.upstream}async createPullRequest(e){var t;const i=this._githubRepositories.find(a=>a.remote.owner===e.owner&&a.remote.repositoryName===e.repo);if(!i)throw new Error(`No matching repository ${e.repo} found for ${e.owner}`);let r;try{r=await i.createPullRequest(e);const a=e.head.indexOf(":"),o=e.head.slice(a+1);return await Zn.associateBranchWithPullRequest(this._repository,r,o),this.telemetry.sendTelemetryEvent("pr.create.success",{isDraft:(e.draft||"").toString()}),r}catch(a){if(a.message.indexOf("No commits between ")>-1){if((t=this._repository.state.HEAD)!=null&&t.ahead){const o=s.l10n.t({message:"Push Commits",comment:"Pushes the local commits to the remote."});return await s.window.showInformationMessage(s.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to push your local commits and create the pull request?`,e.base,e.head),{modal:!0},o)===o?(await this._repository.push(),this.createPullRequest(e)):void 0}if(this._repository.state.workingTreeChanges.length||this._repository.state.indexChanges.length){const o=s.l10n.t("Commit Changes");return await s.window.showInformationMessage(s.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to commit your changes and create the pull request?`,e.base,e.head),{modal:!0},o)===o?(await this._repository.add(this._repository.state.indexChanges.map(I=>I.uri.fsPath)),await this.repository.commit(`${e.title}${e.body?`
${e.body}`:""}`),await this._repository.push(),this.createPullRequest(e)):void 0}}if(b.error(`Creating pull requests failed: ${a}`,this.id),this.telemetry.sendTelemetryErrorEvent("pr.create.failure",{isDraft:(e.draft||"").toString()}),r)return r;throw new Error(he(a))}}async createIssue(e){try{const t=this._githubRepositories.find(o=>o.remote.owner===e.owner&&o.remote.repositoryName===e.repo);if(!t)throw new Error(`No matching repository ${e.repo} found for ${e.owner}`);await t.ensure();const{data:i}=await t.octokit.call(t.octokit.api.issues.create,e),r=f0(i,t),a=new Pn(t,t.remote,r);return this.telemetry.sendTelemetryEvent("issue.create.success"),a}catch(t){b.error(` Creating issue failed: ${t}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.create.failure"),s.window.showWarningMessage(s.l10n.t("Creating issue failed: {0}",he(t)))}}async assignIssue(e,t){try{const i=this._githubRepositories.find(a=>a.remote.owner===e.remote.owner&&a.remote.repositoryName===e.remote.repositoryName);if(!i)throw new Error(`No matching repository ${e.remote.repositoryName} found for ${e.remote.owner}`);await i.ensure();const r={assignees:[t],owner:e.remote.owner,repo:e.remote.repositoryName,issue_number:e.number};await i.octokit.call(i.octokit.api.issues.addAssignees,r),this.telemetry.sendTelemetryEvent("issue.assign.success")}catch(i){b.error(`Assigning issue failed: ${i}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.assign.failure"),s.window.showWarningMessage(s.l10n.t("Assigning issue failed: {0}",he(i)))}}getCurrentUser(e){return e||(e=this.gitHubRepositories[0]),this._credentialStore.getCurrentUser(e.remote.authProviderId)}async mergePullRequest(e,t,i,r,a){var o,v,I;b.debug(`Merging PR: ${e.number} method: ${r} for user: "${a}" - enter`,this.id);const{mutate:G,schema:Q}=await e.githubRepository.ensure(),re=this.activePullRequest&&this.activePullRequest.head&&this.activePullRequest.head.sha,le=this.repository.state.HEAD&&this.repository.state.HEAD.commit,ge=e.head&&e.head.sha,Re=this.repository.state.workingTreeChanges.length>0;let Ie=(o=e.head)==null?void 0:o.sha;if(re===ge){if(Ie=le,le!==ge){const{ahead:ue}=this.repository.state.HEAD,ye=s.l10n.t(`You have {0} unpushed commits on this PR branch.

Would you like to proceed anyway?`,ue!=null?ue:"unknown"),Te=s.l10n.t(`You have 1 unpushed commit on this PR branch.

Would you like to proceed anyway?`);if(ue&&await s.window.showWarningMessage(ue>1?ye:Te,{modal:!0},s.l10n.t("Yes"))===void 0)return{merged:!1,message:s.l10n.t("unpushed changes")}}if(Re&&await s.window.showWarningMessage(s.l10n.t(`You have uncommitted changes on this PR branch.

 Would you like to proceed anyway?`),{modal:!0},s.l10n.t("Yes"))===void 0)return{merged:!1,message:s.l10n.t("uncommitted changes")}}const Oe={pullRequestId:e.graphNodeId,commitHeadline:t,commitBody:i,expectedHeadOid:Ie,authorEmail:a,mergeMethod:(I=r==null?void 0:r.toUpperCase())!=null?I:(v=s.workspace.getConfiguration(it).get(ii,"merge"))==null?void 0:v.toUpperCase()};return G({mutation:Q.MergePullRequest,variables:{input:Oe}}).then(ue=>{var ye,Te;return b.debug(`Merging PR: ${e.number}} - done`,this.id),this.telemetry.sendTelemetryEvent("pr.merge.success"),this._onDidMergePullRequest.fire(),{merged:!0,message:"",timeline:cc((Te=(ye=ue.data)==null?void 0:ye.mergePullRequest.pullRequest.timelineItems.nodes)!=null?Te:[],e.githubRepository)}}).catch(ue=>{this.telemetry.sendTelemetryErrorEvent("pr.merge.failure");const ye=ue.graphQLErrors;if(ye!=null&&ye.length&&ye.find(Te=>{var Ae;return Te.type===Lf.Unprocessable&&((Ae=Te.message)==null?void 0:Ae.includes("Head branch was modified"))}))return{merged:!1,message:s.l10n.t("Head branch was modified. Pull, review, then try again.")};throw ue})}async deleteBranch(e){await e.githubRepository.deleteBranch(e)}async getBranchDeletionItems(){const e=await this.repository.getConfigs(),t=new Map;e.forEach(a=>{const o=a.key,v=/^branch\.(.*)\.(.*)$/.exec(o);if(v&&v.length===3){const I=v[1];t.has(I)||t.set(I,{});const G=t.get(I);if(v[2]==="remote"&&(G.remote=a.value),v[2]==="github-pr-owner-number"){const Q=Zn.parsePullRequestMetadata(a.value);G.metadata=Q}t.set(I,G)}}),b.debug(`Found ${t.size} possible branches to delete`,this.id),b.trace(`Branches to delete: ${JSON.stringify(Array.from(t.keys()))}`,this.id);const i=[];t.forEach((a,o)=>{var v,I;if(a.metadata){const G=this.activePullRequest&&this.activePullRequest.base.repositoryCloneUrl;(G?G.owner===a.metadata.owner&&G.repositoryName===a.metadata.repositoryName&&((v=this.activePullRequest)==null?void 0:v.number)===a.metadata.prNumber:!1)?(b.debug(`Skipping ${a.metadata.prNumber}, active PR is #${(I=this.activePullRequest)==null?void 0:I.number}`,this.id),b.trace(`Skipping active branch ${o}`,this.id)):i.push({label:`${o}`,description:`${a.metadata.repositoryName}/${a.metadata.owner} #${a.metadata.prNumber}`,picked:!1,metadata:a.metadata})}});const r=await Promise.all(i.map(async a=>{var o;const v=a.metadata,I=this._githubRepositories.find(le=>le.remote.owner.toLowerCase()===v.owner.toLowerCase()&&le.remote.repositoryName.toLowerCase()===v.repositoryName.toLowerCase());if(!I)return a;const{remote:G,query:Q,schema:re}=await I.ensure();try{const{data:le}=await Q({query:re.PullRequestState,variables:{owner:G.owner,name:G.repositoryName,number:v.prNumber}});a.legacy=((o=le.repository)==null?void 0:o.pullRequest.state)!=="OPEN"}catch{}return a}));return r.forEach(a=>{a.legacy?a.picked=!0:a.description=s.l10n.t("{0} is still Open",a.description)}),r}gitRelativeRootPath(e){return L.relative(this._repository.rootUri.path,e).replace(/\\/g,"/")}async cleanupAfterPullRequest(e,t){var i;const r=await this.getPullRequestDefaults();if(e===r.base){b.debug("Not cleaning up default branch.",this.id);return}if(t.author.login===(await this.getCurrentUser()).login){b.debug("Not cleaning up user's branch.",this.id);return}const o=(i=(await this.repository.getBranch(e)).upstream)==null?void 0:i.remote;try{b.debug(`Cleaning up branch ${e}`,this.id),await this.repository.deleteBranch(e)}catch{return}if(!o)return;const v=await this.getDeleatableRemotes(void 0);v.has(o)&&v.get(o).createdForPullRequest&&(b.debug(`Cleaning up remote ${o}`,this.id),this.repository.removeRemote(o))}async getDeleatableRemotes(e){const t=await this.repository.getConfigs(),i=new Map;return t.forEach(r=>{const a=r.key;let o=/^branch\.(.*)\.(.*)$/.exec(a);if(o&&o.length===3){const v=o[1];if(o[2]==="remote"){const I=r.value;i.has(I)||i.set(I,{branches:new Set}),e!=null&&e.has(v)||i.get(I).branches.add(v)}}if(o=/^remote\.(.*)\.(.*)$/.exec(a),o&&o.length===3){const v=o[1];i.has(v)||i.set(v,{branches:new Set});const I=i.get(v);o[2]==="github-pr-remote"&&(I.createdForPullRequest=r.value==="true"),o[2]==="url"&&(I.url=r.value)}}),i}async getRemoteDeletionItems(e){const t=await this.getDeleatableRemotes(e),i=[];return t.forEach((r,a)=>{if(r.branches.size===0){let o=r.createdForPullRequest?"":s.l10n.t("Not created by GitHub Pull Request extension");r.url&&(o=o?`${o} ${r.url}`:r.url),i.push({label:a,description:o,picked:r.createdForPullRequest,remote:a})}}),i}async deleteBranches(e,t,i,r,a,o){const v=()=>{a++,i.report({message:s.l10n.t("Deleted {0} of {1} branches",a,r)})},I=async G=>{await Zn.associateBaseBranchWithBranch(this.repository,G,void 0),await Zn.associateBranchWithPullRequest(this.repository,void 0,G)};for(const G of e)await I(G.label);await Ve(e,5,async G=>{try{await this.repository.deleteBranch(G.label,!0),await Zn.getMatchingPullRequestMetadataForBranch(this.repository,G.label)&&console.log(`Branch ${G.label} was not deleted`),v()}catch(Q){if(typeof Q.stderr=="string"&&Q.stderr.includes("not found"))t.add(G.label),v();else if(typeof Q.stderr=="string"&&Q.stderr.includes("unable to access")&&o)o.push(G);else throw Q}}),o&&o.length&&await this.deleteBranches(o,t,i,r,a)}async deleteLocalBranchesNRemotes(){return new Promise(async e=>{const t=s.window.createQuickPick();t.canSelectMany=!0,t.ignoreFocusOut=!0,t.placeholder=s.l10n.t("Choose local branches you want to delete permanently"),t.show(),t.busy=!0;const i=await this.getBranchDeletionItems(),r=await this.getPullRequestDefaults();t.items=i,t.selectedItems=i.filter(o=>o.picked&&!(o.label===r.base&&o.metadata.owner===r.owner&&o.metadata.repositoryName===r.repo)),t.busy=!1,i.length===0&&(t.canSelectMany=!1,t.items=[{label:s.l10n.t("No local branches to delete"),picked:!1}]);let a=!0;t.onDidAccept(async()=>{if(t.busy=!0,a){const o=t.selectedItems,v=new Set;o.length&&await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Cleaning up")},async G=>{try{await this.deleteBranches(o,v,G,o.length,0,[])}catch(Q){t.hide(),s.window.showErrorMessage(s.l10n.t("Deleting branches failed: {0} {1}",Q.message,Q.stderr))}}),a=!1;const I=await this.getRemoteDeletionItems(v);I&&I.length?(t.canSelectMany=!0,t.placeholder=s.l10n.t("Choose remotes you want to delete permanently"),t.items=I,t.selectedItems=I.filter(G=>G.picked)):t.hide()}else{const o=t.selectedItems;o.length&&await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Deleting {0} remotes...",o.length)},async()=>{await Ve(o,5,async v=>{await this.repository.removeRemote(v.label)})}),t.hide()}t.busy=!1}),t.onDidHide(()=>{e()})})}async revert(e,t,i,r){const a=this._githubRepositories.find(v=>v.remote.owner===e.remote.owner&&v.remote.repositoryName===e.remote.repositoryName);if(!a)throw new Error(`No matching repository ${e.remote.repositoryName} found for ${e.remote.owner}`);return await a.revertPullRequest(e.graphNodeId,t,i,r)}async getPullRequestRepositoryDefaultBranch(e){return await e.githubRepository.getDefaultBranch()}async getPullRequestRepositoryAccessAndMergeMethods(e){return await e.githubRepository.getRepoAccessAndMergeMethods()}async mergeQueueMethodForBranch(e,t,i){var r;return await((r=this.gitHubRepositories.find(a=>a.remote.owner===t&&a.remote.repositoryName===i))==null?void 0:r.mergeQueueMethodForBranch(e))}async fulfillPullRequestMissingInfo(e){try{if(!e.isResolved())return;b.debug("Fulfill pull request missing info - start",this.id);const t=e.githubRepository,{octokit:i,remote:r}=await t.ensure();if(!e.base){const{data:a}=await i.call(i.api.pulls.get,{owner:r.owner,repo:r.repositoryName,pull_number:e.number});e.update(Gl(a,t))}if(!e.mergeBase){const{data:a}=await i.call(i.api.repos.compareCommits,{repo:r.repositoryName,owner:r.owner,base:`${e.base.repositoryCloneUrl.owner}:${e.base.ref}`,head:`${e.head.repositoryCloneUrl.owner}:${e.head.ref}`});e.mergeBase=a.merge_base_commit.sha}}catch(t){s.window.showErrorMessage(s.l10n.t("Fetching Pull Request merge base failed: {0}",he(t)))}b.debug("Fulfill pull request missing info - done",this.id)}async resolveItem(e,t){let i=this._githubRepositories.find(r=>r.remote.owner.toLowerCase()===e.toLowerCase()&&r.remote.repositoryName.toLowerCase()===t.toLowerCase());return i||(b.appendLine(`GitHubRepository not found: ${e}/${t}`,this.id),i=await this.createGitHubRepositoryFromOwnerName(e,t)),i}async resolveIssueOrPullRequest(e,t,i){let r=await this.resolveIssue(e,t,i,!0);return r||(r=await this.resolvePullRequest(e,t,i)),r}async resolvePullRequest(e,t,i){const r=await this.resolveItem(e,t);if(b.appendLine(`Found GitHub repo for pr #${i}: ${r?"yes":"no"}`,this.id),r){const a=await r.getPullRequest(i);return b.appendLine(`Found GitHub pr repo for pr #${i}: ${a?"yes":"no"}`,this.id),a}}async resolveIssue(e,t,i,r=!1){const a=await this.resolveItem(e,t);if(a)return a.getIssue(i,r)}async resolveUser(e,t,i){var r;b.debug(`Fetch user ${i}`,this.id);const a=await this.createGitHubRepositoryFromOwnerName(e,t),{query:o,schema:v}=await a.ensure();try{const{data:I}=await o({query:v.GetUser,variables:{login:i}});return E0(I,a)}catch(I){(r=I.message)!=null&&r.startsWith("GraphQL error: Could not resolve to a User with the login of")||b.warn(I.message)}}async getMatchingPullRequestMetadataForBranch(){return!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name?null:await Zn.getMatchingPullRequestMetadataForBranch(this.repository,this.repository.state.HEAD.name)}async getMatchingPullRequestMetadataFromGitHub(e,t,i,r){try{return t?this.getMatchingPullRequestMetadataFromGitHubWithRemoteName(t,r):this.getMatchingPullRequestMetadataFromGitHubWithUrl(e,i,r)}catch(a){return b.error(`Unable to get matching pull request metadata from GitHub: ${a}`,this.id),null}}async getMatchingPullRequestMetadataFromGitHubWithUrl(e,t,i){var r,a;if(b.debug(`Searching GitHub for a PR with branch ${i} and remote ${t}`,this.id),!t)return null;const o=new Kn(t);let v=this.findRepo(G=>pe(G.remote.owner,o.owner)===0&&pe(G.remote.repositoryName,o.repositoryName)===0);if(!v&&this.gitHubRepositories.length>0){const G=qo(o.repositoryName,t,o);G&&(v=await this.createGitHubRepository(G,this.credentialStore,!0,!0))}const I=await this.doGetMatchingPullRequestMetadataFromGitHub(v,i);if(I&&e.upstream===void 0&&v&&e.name){const G=await Zn.createRemote(this.repository,v==null?void 0:v.remote,o),Q=`refs/remotes/${G}/${(r=I.model.head)==null?void 0:r.name}`;await this.repository.fetch({remote:G,ref:(a=I.model.head)==null?void 0:a.name}),await this.repository.setBranchUpstream(e.name,Q)}return I}async getMatchingPullRequestMetadataFromGitHubWithRemoteName(e,t){var i;if(b.debug(`Searching GitHub for a PR with branch ${t} and remote ${e}`,this.id),!e)return null;let r=this.gitHubRepositories.find(a=>a.remote.remoteName===e);if(!r&&this.gitHubRepositories.length>0){const a=this.repository.state.remotes.find(G=>G.name===e),o=(i=a==null?void 0:a.fetchUrl)!=null?i:a==null?void 0:a.pushUrl;if(!o)return null;const v=new Kn(o!=null?o:""),I=qo(e,o,v);I&&(r=await this.createGitHubRepository(I,this.credentialStore,!0,!0))}return this.doGetMatchingPullRequestMetadataFromGitHub(r,t)}async doGetMatchingPullRequestMetadataFromGitHub(e,t){if(!e||!t)return null;const i=await(e==null?void 0:e.getMetadata());if(!(i!=null&&i.owner))return null;const r=this.gitHubRepositories.filter(a=>{var o,v,I;return i.fork?a.remote.owner===((v=(o=i.parent)==null?void 0:o.owner)==null?void 0:v.login)&&a.remote.repositoryName===i.parent.name:a.remote.owner===((I=i.owner)==null?void 0:I.login)&&a.remote.repositoryName===i.name});for(const a of r){const o=await a.getPullRequestForBranch(t,i.owner.login);if(o)return{owner:a.remote.owner,repositoryName:a.remote.repositoryName,prNumber:o.number,model:o}}return null}async checkoutExistingPullRequestBranch(e,t){return await Zn.checkoutExistingPullRequestBranch(this.repository,e,t)}async getBranchNameForPullRequest(e){return await Zn.getBranchNRemoteForPullRequest(this.repository,e)}async fetchAndCheckout(e,t){await Zn.fetchAndCheckout(this.repository,this._allGitHubRemotes,e,t)}async checkout(e){return this.repository.checkout(e)}async tryMergeBaseIntoHead(e,t){var i;if(await this.isHeadUpToDateWithBase(e))return!0;const r=s.env.appHost==="vscode.dev"||s.env.appHost==="github.dev";if(!e.isActive||r){const v=await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Finding conflicts...")},()=>Yb(e));if(v===void 0)return await s.window.showErrorMessage(s.l10n.t("Unable to resolved conflicts for this pull request. There are too many file changes."),{modal:!0,detail:r?void 0:s.l10n.t("Please check out the pull request to resolve conflicts.")}),!1;let I=!0;if(e.item.mergeable===zt.Conflict){const G=await Promise.all([this.createGitHubRepositoryFromOwnerName(e.head.owner,e.head.repositoryCloneUrl.repositoryName),this.createGitHubRepositoryFromOwnerName(e.base.owner,e.base.repositoryCloneUrl.repositoryName)]),Q=new Vb(this.telemetry,v,G);I=await Q.enterConflictResolutionAndWaitForExit(),Q.dispose()}return I?e.updateBranch(v):!1}if(this.repository.state.workingTreeChanges.length>0||this.repository.state.indexChanges.length>0)return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),!1;const a=(i=G0(this.repository,e.base))==null?void 0:i.name;if(!a)return!1;const o=`${a}/${e.base.ref}`;if(await s.window.withProgress({location:s.ProgressLocation.Notification},async v=>{v.report({message:s.l10n.t("Fetching branch {0}",o)}),await this.repository.fetch({ref:e.base.ref,remote:a}),v.report({message:s.l10n.t("Merging branch {0} into {1}",o,this.repository.state.HEAD.name)});try{await this.repository.merge(o)}catch(I){if(I.gitErrorCode!==rt.Conflict)throw I}}),e.item.mergeable===zt.Conflict){const v=await xc.begin(this.repository,e.base.ref,this.repository.state.HEAD.name,t);await(v==null?void 0:v.finished()),v==null||v.dispose()}else await this.repository.push();return!0}async isHeadUpToDateWithBase(e){if(!e.head)return!1;const t=this._githubRepositories.find(o=>o.remote.owner===e.remote.owner&&o.remote.repositoryName===e.remote.repositoryName),i=`${e.head.owner}:${e.head.ref}`,r=`${e.base.owner}:${e.base.ref}`,a=await(t==null?void 0:t.compareCommits(r,i));return(a==null?void 0:a.behind_by)===0}async fetchById(e,t){const i=await e.getPullRequest(t);if(i)return i;s.window.showErrorMessage(s.l10n.t("Pull request number {0} does not exist in {1}",t,`${e.remote.owner}/${e.remote.repositoryName}`),{modal:!0})}async checkoutDefaultBranch(e){var t,i,r,a,o;let v;try{if(v=await this.repository.getBranch(e),((t=this.repository.state.HEAD)==null?void 0:t.name)===v.name){const Q=s.l10n.t("Choose a Branch");s.window.showInformationMessage(s.l10n.t("The default branch is already checked out."),Q).then(re=>{if(re===Q)return au.checkout()});return}if(s.workspace.getConfiguration(nr).get(rr,!1)&&v.upstream)try{await this.repository.fetch({remote:v.upstream.remote,ref:`${v.upstream.name}:${v.name}`})}catch(Q){if((i=Q.stderr)!=null&&i.startsWith&&Q.stderr.startsWith("fatal: refusing to fetch into branch"))s.window.showErrorMessage(s.l10n.t("Unable to fetch the {0} branch. There is some state (bisect, unpushed commits, etc.) on {0} that is preventing the fetch.",[v.name]));else throw Q}v.upstream&&e===v.upstream.name?await this.repository.checkout(e):await au.checkout();const G=[];for(const Q of s.window.tabGroups.all)for(const re of Q.tabs){let le;re.input instanceof s.TabInputText?le=re.input.uri:re.input instanceof s.TabInputTextDiff?le=re.input.original:re.input instanceof s.TabInputWebview&&(le=re.input.viewType),(le instanceof s.Uri&&le.scheme===$t.Review||typeof le=="string"&&le.endsWith(nc))&&G.push(s.window.tabGroups.close(re))}await Promise.all(G)}catch(I){if(I.gitErrorCode&&I.gitErrorCode===rt.DirtyWorkTree){s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches"));return}b.error(`Exiting failed: ${I}. Target branch ${e} used to find branch ${(r=v==null?void 0:v.name)!=null?r:"unknown"} with upstream ${(o=(a=v==null?void 0:v.upstream)==null?void 0:a.name)!=null?o:"unknown"}.`,this.id),s.window.showErrorMessage(`Exiting failed: ${I}`)}}async pullBranchConfiguration(){return this.context.globalState.get(Ic,!1)&&(this.context.globalState.update(Ic,!1),await s.workspace.getConfiguration(it).update(Jt,"never",s.ConfigurationTarget.Global)),s.workspace.getConfiguration(it).get(Jt,"prompt")}async pullBranch(e){var t;((t=this._repository.state.HEAD)==null?void 0:t.name)===e.name&&await this._repository.pull()}async promptPullBrach(e,t,i){if(!this._updateMessageShown||i){this._updateMessageShown=!0;const r=s.l10n.t("Pull"),a=s.l10n.t("Always Pull"),o=s.l10n.t("Never Show Again"),v=[r];i||v.push(a,o),await s.window.showInformationMessage(s.l10n.t("There are updates available for pull request {0}.",`${e.number}: ${e.title}`),{},...v)===r?(await this.pullBranch(t),this._updateMessageShown=!1):o?await s.workspace.getConfiguration(it).update(Jt,"never",s.ConfigurationTarget.Global):a&&(await s.workspace.getConfiguration(it).update(Jt,"always",s.ConfigurationTarget.Global),await this.pullBranch(t))}}async checkBranchUpToDate(e,t){var i,r;if(((i=this.activePullRequest)==null?void 0:i.id)!==e.id)return;const a=this._repository.state.HEAD;if(a){const o=a.upstream?a.upstream.remote:null,v=a.upstream?a.upstream.name:a.name;if(o){try{t&&s.workspace.getConfiguration(it).get(vn,!0)&&await this._repository.fetch(o,v)}catch(G){G.stderr&&(G.stderr.startsWith("fatal: couldn't find remote ref")||G.stderr.includes("key_exchange_identification")||s.window.showErrorMessage(s.l10n.t("An error occurred when fetching the repository: {0}",G.stderr))),b.error(`Error when fetching: ${(r=G.stderr)!=null?r:G}`,this.id)}const I=await this.pullBranchConfiguration();if(a.behind!==void 0&&a.behind>0)switch(I){case"always":{const G=s.workspace.getConfiguration(nr).get(Dr,!1);return G?this.promptPullBrach(e,a,G):this.pullBranch(a)}case"prompt":return this.promptPullBrach(e,a);case"never":return}}}}findExistingGitHubRepository(e){return this._githubRepositories.find(t=>t.remote.owner.toLowerCase()===e.owner.toLowerCase()&&t.remote.repositoryName.toLowerCase()===e.repositoryName.toLowerCase()&&(!e.remoteName||t.remote.remoteName===e.remoteName))}async createAndAddGitHubRepository(e,t,i){const r=this._id+this._githubRepositories.length*.1,a=new cr(r,os.remoteAsGitHub(e,await this._githubManager.isGitHub(e.gitProtocol.normalizeUri())),this.repository.rootUri,t,this.telemetry,i);return this._githubRepositories.push(a),a}removeGitHubRepository(e){const t=this._githubRepositories.findIndex(i=>i.remote.owner.toLowerCase()===e.owner.toLowerCase()&&i.remote.repositoryName.toLowerCase()===e.repositoryName.toLowerCase()&&(!e.remoteName||i.remote.remoteName===e.remoteName));t>-1&&this._githubRepositories.splice(t,1)}async createGitHubRepository(e,t,i,r=!1){return this._createGitHubRepositoryBulkhead.execute(async()=>{var a;return(a=this.findExistingGitHubRepository({owner:e.owner,repositoryName:e.repositoryName,remoteName:r?void 0:e.remoteName}))!=null?a:await this.createAndAddGitHubRepository(e,t,i)})}async createGitHubRepositoryFromOwnerName(e,t){var i,r;const a=this.findExistingGitHubRepository({owner:e,repositoryName:t});if(a)return a;const v=ba(this.repository).find(G=>G.owner===e&&G.repositoryName===t),I=(i=v==null?void 0:v.url)!=null?i:`https://github.com/${e}/${t}`;return this.createAndAddGitHubRepository(new zl((r=v==null?void 0:v.remoteName)!=null?r:t,I,new Kn(I)),this._credentialStore)}async findUpstreamForItem(e){let t,i;for(const a of this.gitHubRepositories){if(!t&&a.remote.owner===e.remote.owner&&a.remote.repositoryName===e.remote.repositoryName){t=a;continue}const o=await a.getRepositoryForkDetails();if(o&&o.isFork&&o.parent.owner.login===e.remote.owner&&o.parent.name===e.remote.repositoryName){const v=await a.getViewerPermission();if(v===Nr.Admin||v===Nr.Maintain||v===Nr.Write){i=a.remote;break}}}let r=!1;if(t&&!i){const a=await e.githubRepository.getViewerPermission();(a===Nr.Read||a===Nr.Triage||a===Nr.Unknown)&&(r=!0)}return{needsFork:r,upstream:t,remote:i}}async forkWithProgress(e,t,i,r){e.report({message:s.l10n.t("Forking {0}...",i)});const a=await t.fork();if(e.report({increment:50}),!a){s.window.showErrorMessage(s.l10n.t("Unable to create a fork of {0}. Check that your GitHub credentials are correct.",i));return}const o=r.state.remotes.length>1?"origin":r.state.remotes[0].name;e.report({message:s.l10n.t("Adding remotes. This may take a few moments.")});const v=this.gitHubRepositories.length;return await r.renameRemote(o,"upstream"),await r.addRemote(o,a),await new Promise(I=>{if(this.gitHubRepositories.length===v){const G=this.onDidChangeRepositories(()=>{this.gitHubRepositories.length>v&&(G.dispose(),I())})}else I()}),e.report({increment:50}),o}async doFork(e,t,i){return s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Creating Fork")},async r=>{try{return this.forkWithProgress(r,e,t,i)}catch(a){s.window.showErrorMessage(`Creating fork failed: ${a}`)}})}async tryOfferToFork(e){const t=`${e.remote.owner}/${e.remote.repositoryName}`,i=s.l10n.t("Fork"),r=s.l10n.t("Don't Fork");switch(await s.window.showInformationMessage(s.l10n.t("You don't have permission to push to {0}. Do you want to fork {0}? This will modify your git remotes to set `origin` to the fork, and `upstream` to {0}.",t),{modal:!0},i,r)){case i:return this.doFork(e,t,this.repository);case r:return!1;default:return}}async publishBranch(e,t){const i=await this.createGitHubRepository(e,this.credentialStore),r=await i.getViewerPermission();let a;if(r===Nr.Read||r===Nr.Triage||r===Nr.Unknown){const o=await this.tryOfferToFork(i);if(!o)return;a=(await this.getGitHubRemotes()).find(v=>v.remoteName===o)}else a=(await this.getGitHubRemotes()).find(o=>o.remoteName===e.remoteName);if(a)try{return await this._repository.push(a.remoteName,t,!0),await this._repository.status(),a}catch(o){if(o.gitErrorCode===rt.PushRejected){s.window.showWarningMessage(s.l10n.t("Can't push refs to remote, try running 'git pull' first to integrate with your change"),{modal:!0});return}if(o.gitErrorCode===rt.RemoteConnectionError){s.window.showWarningMessage(s.l10n.t("Could not read from remote repository '{0}'. Please make sure you have the correct access rights and the repository exists.",a.remoteName),{modal:!0});return}throw o}}saveLastUsedEmail(e){return this.context.globalState.update(Bh,e)}async getPreferredEmail(e){if(await this.credentialStore.getIsEmu(e.remote.authProviderId))return;const i=await e.githubRepository.getAuthenticatedUserEmails(),r=I=>I&&i.find(G=>G.toLowerCase()===I.toLowerCase()),a=await Zn.getEmail(this.repository);let o=r(a);if(o)return o;const v=this.context.globalState.get(Bh);return o=r(v),o||i[0]}getTitleAndDescriptionProvider(e){return this._git.getTitleAndDescriptionProvider(e)}getAutoReviewer(){return this._git.getReviewerCommentsProvider()}dispose(){this._onDidDispose.fire(),super.dispose()}};Li(jh,"ID","FolderRepositoryManager");let Qs=jh;function vE(n){switch(n){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}const ty=n=>{const{currentUser:e=null}=n.octokit;return e&&n.remote.owner===e.login},Ys=n=>({remote:{remoteName:e}})=>e===n,iy=async n=>{const e=await n;if(!e)return;const t=e.indexOf(`
`);return{title:t===-1?e:e.substr(0,t),body:t===-1?"":e.slice(t+1).trim()}};var ny=Object.defineProperty,ry=(n,e,t)=>e in n?ny(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Wh=(n,e,t)=>ry(n,typeof e!="symbol"?e+"":e,t);class ay{constructor(){Wh(this,"_onDidChangeFile",new s.EventEmitter),Wh(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,t){return{dispose:()=>{}}}stat(e){return{type:s.FileType.File,ctime:0,mtime:new Date().getTime(),size:0}}readDirectory(e){return[]}createDirectory(e){}writeFile(e,t,i){}delete(e,t){}rename(e,t,i){}}class zh extends ay{constructor(e,t){super(),this.gitAPI=e,this.credentialStore=t}async waitForRepos(e){b.appendLine("Waiting for repositories.","RepositoryFileSystemProvider");let t;const i=new Promise(o=>{t=this.gitAPI.onDidOpenRepository(()=>{b.appendLine("Found at least one repository.","RepositoryFileSystemProvider"),t==null||t.dispose(),t=void 0,o()})});let r;const a=new Promise(o=>{r=setTimeout(()=>{b.appendLine("Timed out while waiting for repositories.","RepositoryFileSystemProvider"),o()},e)});await Promise.race([i,a]),r&&clearTimeout(r),t&&t.dispose()}async waitForAuth(){if(!this.credentialStore.isAnyAuthenticated())return new Promise(e=>this.credentialStore.onDidGetSession(()=>e()))}}var sy=Object.defineProperty,oy=(n,e,t)=>e in n?sy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ly=(n,e,t)=>oy(n,typeof e!="symbol"?e+"":e,t);class uy extends zh{constructor(e,t,i){super(t,i),this.reposManagers=e,ly(this,"_prFileChangeContentProviders",{})}registerTextDocumentContentProvider(e,t){return this._prFileChangeContentProviders[e]=t,{dispose:()=>{delete this._prFileChangeContentProviders[e]}}}resolveChanges(e,t,i,r){const a=t.equals(i.activePullRequest);return e.map(o=>o instanceof zr?new $s(i,o,t):new us(i,t,o,a,r))}waitForGitHubRepos(e,t){return new Promise(i=>{const r=setTimeout(()=>{a.dispose(),i()},t),a=e.onDidLoadRepositories(o=>{o===aa.RepositoriesLoaded&&(clearTimeout(r),a.dispose(),i())})})}async tryRegisterNewProvider(e,t){await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3);const i=this.reposManagers.getManagerForFile(e);if(!i)return;let r=i.findRepo(G=>G.remote.remoteName===t.remoteName);if(r||(await this.waitForGitHubRepos(i,1e4),r=i.findRepo(G=>G.remote.remoteName===t.remoteName)),!r)return;const a=await i.resolvePullRequest(r.remote.owner,r.remote.repositoryName,t.prNumber);if(!a)return;const o=await a.getFileChangesInfo(),v=a.mergeBase;if(!v)return;const I=this.resolveChanges(o,a,i,v);this.registerTextDocumentContentProvider(a.number,async G=>{const Q=cn(G);if(!Q)return"";const re=I.find(le=>le.fileName===Q.fileName);return re?Uc(i,a,Q,re):(b.error(`Cannot find content for document ${G.toString()}`,"PR"),"")})}async readFileWithProvider(e,t){const i=this._prFileChangeContentProviders[t];if(i){const r=await i(e);return typeof r=="string"?new TextEncoder().encode(r):r}}async readFile(e){var t;const i=cn(e);if(!i||i.prNumber===void 0)return new TextEncoder().encode("");const r=await this.readFileWithProvider(e,i.prNumber);return r||(await this.tryRegisterNewProvider(e,i),(t=await this.readFileWithProvider(e,i.prNumber))!=null?t:new TextEncoder().encode(""))}}let Oc;function Lc(n){return!Oc&&n&&(Oc=new uy(n.reposManager,n.gitAPI,n.credentialStore)),Oc}async function Uc(n,e,t,i){if(t.isBase&&i.status===Ot.ADD||!t.isBase&&i.status===Ot.DELETE)return"";const r=await i.diffHunks();let a=!1;if(i instanceof us&&(a=await i.isPartial()),i instanceof $s||i instanceof us&&a)try{return t.isBase?e.githubRepository.getFile(i.previousFileName||i.fileName,t.baseCommit):e.githubRepository.getFile(i.fileName,t.headCommit)}catch(o){return b.error(`Fetching file content failed: ${o}`,"PR"),s.window.showWarningMessage("Opening this file locally failed. Would you like to view it on GitHub?","Open on GitHub").then(v=>{v==="Open on GitHub"&&i.blobUrl&&s.commands.executeCommand("vscode.open",s.Uri.parse(i.blobUrl))}),""}if(i instanceof us)if(i.status===Ot.ADD||i.status===Ot.DELETE)if(t.isBase){const v=[];for(let I=0;I<r.length;I++)for(let G=0;G<r[I].diffLines.length;G++){const Q=r[I].diffLines[G];Q.type===Xi.Add||(Q.type===Xi.Delete?v.push(Q.text):Q.type===Xi.Control||v.push(Q.text))}return v.join(`
`)}else{const v=[];for(let I=0;I<r.length;I++)for(let G=0;G<r[I].diffLines.length;G++){const Q=r[I].diffLines[G];Q.type===Xi.Add?v.push(Q.text):Q.type===Xi.Delete||Q.type===Xi.Control||v.push(Q.text)}return v.join(`
`)}else{const v=i.status===Ot.RENAME?i.previousFileName:i.fileName,I=s.Uri.joinPath(n.repository.rootUri,v),G=await n.repository.show(t.baseCommit,I.fsPath);return t.isBase?G:Ma(G,i.patch)}return""}var cy=Object.defineProperty,dy=(n,e,t)=>e in n?cy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Kh=(n,e,t)=>dy(n,typeof e!="symbol"?e+"":e,t);class fy{constructor(){Kh(this,"_progress",Promise.resolve()),Kh(this,"_endProgress",new s.EventEmitter)}get progress(){return this._progress}startProgress(){this.endProgress(),this._progress=new Promise(e=>{const t=this._endProgress.event(()=>{t.dispose(),e()})})}endProgress(){this._endProgress.fire()}}var hy=Object.defineProperty,my=(n,e,t)=>e in n?hy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ou=(n,e,t)=>my(n,typeof e!="symbol"?e+"":e,t);class py{constructor(){ou(this,"_localFileChanges"),ou(this,"_onDidChangeLocalFileChanges",new s.EventEmitter),ou(this,"onDidChangeLocalFileChanges",this._onDidChangeLocalFileChanges.event),ou(this,"_obsoleteFileChanges",[])}get hasLocalFileChanges(){return!!this._localFileChanges}get localFileChanges(){var e;return(e=this._localFileChanges)!=null?e:[]}set localFileChanges(e){this._localFileChanges=e,this._onDidChangeLocalFileChanges.fire()}get obsoleteFileChanges(){return this._obsoleteFileChanges}set obsoleteFileChanges(e){this._obsoleteFileChanges=e}clear(){this.obsoleteFileChanges=[],this._localFileChanges=void 0}}var vy=Object.defineProperty,gy=(n,e,t)=>e in n?vy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,An=(n,e,t)=>gy(n,typeof e!="symbol"?e+"":e,t);const Qh=class Rv extends g{constructor(e,t,i,r,a,o,v,I,G,Q,re){super(),this._id=e,this._context=t,this._repository=i,this._folderRepoManager=r,this._telemetry=a,this.changesInPrDataProvider=o,this._pullRequestsTree=v,this._showPullRequest=I,this._activePrViewCoordinator=G,this._createPullRequestHelper=Q,this._gitApi=re,An(this,"_localToDispose",[]),An(this,"_reviewModel",new py),An(this,"_lastCommitSha"),An(this,"_validateStatusInProgress"),An(this,"_reviewCommentController"),An(this,"_quickDiffProvider"),An(this,"_inMemGitHubContentProvider"),An(this,"_statusBarItem"),An(this,"_prNumber"),An(this,"_isShowingLastReviewChanges",!1),An(this,"_previousRepositoryState"),An(this,"_switchingToReviewMode"),An(this,"_changesSinceLastReviewProgress",new fy),An(this,"justSwitchedToReviewMode",!1),An(this,"_isFirstLoad",!0),this._switchingToReviewMode=!1,this._previousRepositoryState={HEAD:i.state.HEAD,remotes:ba(this._repository)},this._register(y(()=>_(this._localToDispose))),this.registerListeners(),re.state==="initialized"&&this.updateState(!0)}get switchingToReviewMode(){return this._switchingToReviewMode}set switchingToReviewMode(e){this._switchingToReviewMode=e,e||this.updateState(!0)}registerListeners(){this._register(this._repository.state.onDidChange(e=>{const t=this._previousRepositoryState.HEAD,i=this._repository.state.HEAD;if(!t&&!i)return;let r;!t||!i?r=!1:r=t.upstream?i.upstream&&t.upstream.name===i.upstream.name&&t.upstream.remote===i.upstream.remote:!i.upstream;const a=r&&t.ahead===i.ahead&&t.behind===i.behind&&t.commit===i.commit&&t.name===i.name&&t.remote===i.remote&&t.type===i.type,o=ba(this._repository),v=this._previousRepositoryState.remotes.length===o.length&&this._previousRepositoryState.remotes.every(I=>o.some(G=>I.equals(G)));(!a||!v)&&(this._previousRepositoryState={HEAD:this._repository.state.HEAD,remotes:o},this.updateState(!0)),t&&i&&this.updateBaseBranchMetadata(t,i)})),this._register(s.workspace.onDidChangeConfiguration(e=>{this.updateFocusedViewMode(),e.affectsConfiguration(`${it}.${gt}`)&&this.validateStateAndResetPromise(!0,!1)})),this._register(this._folderRepoManager.onDidChangeActivePullRequest(e=>{this.updateFocusedViewMode(),this.registerQuickDiff()})),this._register(iu.registerProvider(this,this._folderRepoManager))}async updateBaseBranchMetadata(e,t){var i;if(!e.commit||e.commit!==t.commit||!t.name||!e.name||e.name===t.name)return;let r=this._folderRepoManager.gitHubRepositories.find(a=>{var o;return a.remote.remoteName===((o=e.upstream)==null?void 0:o.remote)});if(r){const a=await r.getMetadata();return a.fork&&e.name===a.default_branch&&(r=(i=this._folderRepoManager.gitHubRepositories.find(o=>{var v,I,G;return o.remote.owner===((I=(v=a.parent)==null?void 0:v.owner)==null?void 0:I.login)&&o.remote.repositoryName===((G=a.parent)==null?void 0:G.name)}))!=null?i:r),Zn.associateBaseBranchWithBranch(this.repository,t.name,{owner:r.remote.owner,repo:r.remote.repositoryName,branch:e.name})}}registerQuickDiff(){if(s.workspace.getConfiguration(it).get(ei)){this._quickDiffProvider&&(this._quickDiffProvider.dispose(),this._quickDiffProvider=void 0);const e=this._folderRepoManager.activePullRequest?s.l10n.t("GitHub pull request #{0}",this._folderRepoManager.activePullRequest.number):s.l10n.t("GitHub pull request");this._register(this._quickDiffProvider=s.window.registerQuickDiffProvider({scheme:"file"},{provideOriginalResource:t=>{const i=this.reviewModel.localFileChanges.find(r=>r.changeModel.filePath.toString()===t.toString());if(i)return i.changeModel.parentFilePath}},"github-pr",e,this.repository.rootUri))}}get statusBarItem(){return this._statusBarItem||(this._statusBarItem=s.window.createStatusBarItem("github.pullrequest.status",s.StatusBarAlignment.Left),this._statusBarItem.name=s.l10n.t("GitHub Active Pull Request")),this._statusBarItem}get repository(){return this._repository}get reviewModel(){return this._reviewModel}get id(){return`${Rv.ID}+${this._id}`}async updateState(e=!1,t=!0){if(!this.switchingToReviewMode)return this._validateStatusInProgress?(b.appendLine("Queuing additional validate state",this.id),this._validateStatusInProgress=this._validateStatusInProgress.then(async i=>await this.validateStatusAndSetContext(e,t)),this._validateStatusInProgress):(b.appendLine("Validate state in progress",this.id),this._validateStatusInProgress=this.validateStatusAndSetContext(e,t),this._validateStatusInProgress)}async validateStatusAndSetContext(e,t){let i;const r=new Promise(o=>{i=setTimeout(()=>{i&&(clearTimeout(i),i=void 0,b.error("Timeout occurred while validating state.",this.id),this._telemetry.sendTelemetryErrorEvent("pr.validateStateTimeout",{version:this._context.extension.packageJSON.version})),o()},12e4)}),a=new Promise(o=>{this.validateStateAndResetPromise(e,t).then(()=>{s.commands.executeCommand("setContext","github:stateValidated",!0).then(()=>{i&&(clearTimeout(i),i=void 0),o()})})});return Promise.race([a,r])}async offerIgnoreBranch(e){const t="githubPullRequest.showOfferIgnoreBranch";if(!this._context.workspaceState.get(t,!0))return!1;const r="githubPullRequest.offerIgnoreBranchTime",a=this._context.workspaceState.get(r,0),o=new Date().getTime();if(o-a<1e3*60*60*24)return!1;const{base:v}=await this._folderRepoManager.getPullRequestDefaults(e);if(v!==e)return!1;await this._context.workspaceState.update(r,o);const I=s.l10n.t("Ignore Pull Request"),G=s.l10n.t("Don't Show Again"),Q=await s.window.showInformationMessage(s.l10n.t("There's a pull request associated with the default branch '{0}'. Do you want to ignore this Pull Request?",e),I,G);if(Q===I){b.appendLine(`Branch ${e} will now be ignored in ${gt}.`,this.id);const re=s.workspace.getConfiguration(it),le=re.get(gt,[]);return le.push(e),await re.update(gt,le),!0}else if(Q===G)return await this._context.workspaceState.update(t,!1),!1;return!1}async getUpstreamUrlAndName(e){if(e.upstream)return b.debug(`Upstream for branch ${e.name} is ${e.upstream.remote}/${e.upstream.name}`,this.id),{remoteName:e.upstream.remote,upstreamBranchName:e.upstream.name,remoteUrl:void 0};try{const t=await this.repository.getConfig(`branch.${e.name}.remote`),i=await this.repository.getConfig(`branch.${e.name}.merge`);let r;return i&&(r=i.substring(11)),b.debug(`Upstream for branch ${e.name} is ${r} at ${t}`,this.id),{remoteUrl:t,upstreamBranchName:r,remoteName:void 0}}catch{return b.appendLine(`Failed to get upstream for branch ${e.name} from git config.`,this.id),{remoteUrl:void 0,upstreamBranchName:void 0,remoteName:void 0}}}async checkGitHubForPrBranch(e){let t;this._repository.state.HEAD&&e.name===this._repository.state.HEAD.name?t=this._repository.state.HEAD:t=e;const{remoteUrl:i,upstreamBranchName:r,remoteName:a}=await this.getUpstreamUrlAndName(t),o=await this._folderRepoManager.getMatchingPullRequestMetadataFromGitHub(t,a,i,r);if(o)return b.appendLine(`Found matching pull request metadata on GitHub for current branch ${e.name}. Repo: ${o.owner}/${o.repositoryName} PR: ${o.prNumber}`,this.id),await Zn.associateBranchWithPullRequest(this._repository,o.model,e.name),o}async resolvePullRequest(e){try{this._prNumber=e.prNumber;const{owner:t,repositoryName:i}=e;b.appendLine("Resolving pull request",this.id);let r=await this._folderRepoManager.resolvePullRequest(t,i,e.prNumber);if(!r||!r.isResolved()||!await r.githubRepository.hasBranch(r.base.name)){await this.clear(!0),this._prNumber=void 0,b.appendLine("This PR is no longer valid",this.id);return}return r}catch(t){b.appendLine(`Pull request cannot be resolved: ${t.message}`,this.id)}}async validateStateAndResetPromise(e,t){return this.validateState(e,t).then(()=>{this._validateStatusInProgress=void 0})}async validateState(e,t){var i,r,a,o;b.appendLine("Validating state...",this.id);const v=this._lastCommitSha;if(this._lastCommitSha=void 0,!await this._folderRepoManager.updateRepositories(!1))return;if(!this._repository.state.HEAD){await this.clear(!0);return}const I=this._repository.state.HEAD,G=s.workspace.getConfiguration(it).get(gt),Q=(r=I.remote)!=null?r:(i=I.upstream)==null?void 0:i.remote;if(G!=null&&G.find(Te=>Te===I.name)&&(Q==="origin"||!((o=await((a=this._folderRepoManager.gitHubRepositories.find(Te=>Te.remote.remoteName===Q))==null?void 0:a.getMetadata()))!=null&&o.fork))){b.appendLine(`Branch ${I.name} is ignored in ${gt}.`,this.id),await this.clear(!0);return}let re=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(re||(b.appendLine(`No matching pull request metadata found locally for current branch ${I.name}`,this.id),re=await this.checkGitHubForPrBranch(I)),!re){b.appendLine(`No matching pull request metadata found on GitHub for current branch ${I.name}`,this.id),await this.clear(!0);return}if(b.appendLine(`Found matching pull request metadata for current branch ${I.name}. Repo: ${re.owner}/${re.repositoryName} PR: ${re.prNumber}`,this.id),!(I.upstream?I.upstream.remote:null)){b.appendLine(`Current branch ${this._repository.state.HEAD.name} hasn't setup remote yet`,this.id),await this.clear(!0);return}b.appendLine(`current branch ${this._repository.state.HEAD.name} is associated with pull request #${re.prNumber}`,this.id);const ge=this._prNumber;let Re=await this.resolvePullRequest(re);if(!Re){b.appendLine(`Unable to resolve PR #${re.prNumber}`,this.id);return}if(b.appendLine(`Resolved PR #${re.prNumber}, state is ${Re.state}`,this.id),Re.state!==Gt.Open){const Te=await this.checkGitHubForPrBranch(I);if(Te&&(Te==null?void 0:Te.prNumber)!==Re.number){const Ae=await this.resolvePullRequest(Te);Ae&&(Re=Ae)}}const Ie=I.commit!==v&&I.ahead===0&&I.behind===0;if(ge===Re.number&&!Ie&&this._isShowingLastReviewChanges===Re.showChangesSinceReview)return;this._isShowingLastReviewChanges=Re.showChangesSinceReview,ge!==Re.number&&this.clear(!1);const Oe=za();if(Re.isClosed&&!Oe.closed){b.appendLine("This PR is closed",this.id),await this.clear(!0);return}if(Re.isMerged&&!Oe.merged){b.appendLine("This PR is merged",this.id),await this.clear(!0);return}s.workspace.getConfiguration(it).get(at,!1)||this.offerIgnoreBranch(I.name);const ye=this._folderRepoManager.activePullRequest;this._folderRepoManager.activePullRequest=Re,this._lastCommitSha=Re.head.sha,this._isFirstLoad&&(this._isFirstLoad=!1,this._folderRepoManager.checkBranchUpToDate(Re,!0)),b.appendLine("Fetching pull request data",this.id),e||j(this._reviewModel.onDidChangeLocalFileChanges)(()=>{Re&&this._upgradePullRequestEditors(Re)}),this.initializePullRequestData(Re),await this.changesInPrDataProvider.addPrToView(this._folderRepoManager,Re,this._reviewModel,this.justSwitchedToReviewMode,this._changesSinceLastReviewProgress),b.appendLine("Register comments provider",this.id),await this.registerCommentController(),this._activePrViewCoordinator.setPullRequest(Re,this._folderRepoManager,this,ye),this._localToDispose.push(Re.onDidChangeChangesSinceReview(async Te=>{this._changesSinceLastReviewProgress.startProgress(),this.changesInPrDataProvider.refresh(),await this.updateComments(),await this.reopenNewReviewDiffs(),this._changesSinceLastReviewProgress.endProgress()})),b.appendLine("Register in memory content provider",this.id),await this.registerGitHubInMemContentProvider(),this.statusBarItem.text="$(git-pull-request) "+s.l10n.t("Pull Request #{0}",Re.number),this.statusBarItem.command={command:"pr.openDescription",title:s.l10n.t("View Pull Request Description"),arguments:[Re]},b.appendLine("Display pull request status bar indicator.",this.id),this.statusBarItem.show(),this.layout(Re,t,this.justSwitchedToReviewMode?!1:e),this.justSwitchedToReviewMode=!1}layout(e,t,i){const r=this._context.workspaceState.get(js);if(b.appendLine(`Using focus mode = ${r}.`,this.id),b.appendLine(`State validation silent = ${i}.`,this.id),b.appendLine(`PR show should show = ${this._showPullRequest.shouldShow}.`,this.id),(!i||this._showPullRequest.shouldShow)&&r)this._doFocusShow(e,t);else if(!this._showPullRequest.shouldShow&&r){const a=this._showPullRequest.onChangedShowValue(o=>{b.appendLine(`PR show value changed = ${o}.`,this.id),o&&this._doFocusShow(e,t),a.dispose()});this._localToDispose.push(a)}}async reopenNewReviewDiffs(){let e=!1;await Promise.all(s.window.tabGroups.all.map(t=>t.tabs.map(i=>{if(i.input instanceof s.TabInputTextDiff&&i.input.original.scheme===$t.Review)for(const r of this._reviewModel.localFileChanges){const a=Ur(i.input.original.query);if(r.fileName===a.path){e=!0,s.window.tabGroups.close(i).then(o=>r.openDiff(this._folderRepoManager,{preview:i.isPreview}));break}}return Promise.resolve(void 0)})).flat()),!e&&this._reviewModel.localFileChanges.length&&this._reviewModel.localFileChanges[0].openDiff(this._folderRepoManager,{preview:!0})}openDiff(){if(this._reviewModel.localFileChanges.length){let e=[];for(const i of this._reviewModel.localFileChanges)if(i.status===Ot.MODIFY)if(wh.includes(L.extname(i.fileName)))e.push(i);else{e.unshift(i);break}(e.length?e[0]:this._reviewModel.localFileChanges[0]).openDiff(this._folderRepoManager)}}_doFocusShow(e,t){if(s.workspace.getConfiguration(ja).get(kr)!=="never"&&e.hasComments&&lt.executeCommand("workbench.action.focusCommentsPanel"),this._activePrViewCoordinator.show(e),t){const r=s.workspace.getConfiguration(it).get(St);if(r==="firstDiff")if(this._reviewModel.localFileChanges.length)this.openDiff();else{const a=this._reviewModel.onDidChangeLocalFileChanges(()=>{a.dispose(),this.openDiff()})}else{if(r==="overview")return this.openDescription();if(r==="multiDiff")return Mn.openChanges(this._folderRepoManager,e)}}}async _upgradePullRequestEditors(e){const t=new Set;await Promise.all(s.window.tabGroups.all.map(r=>r.tabs.map(a=>{if(a.input instanceof s.TabInputTextDiff&&a.input.original.scheme===$t.Pr&&a.input.modified.scheme===$t.Pr){const o=cn(a.input.original),v=cn(a.input.modified);if((o==null?void 0:o.prNumber)===e.number&&(v==null?void 0:v.prNumber)===e.number)return t.add([o,v]),s.window.tabGroups.close(a)}return Promise.resolve(void 0)})).flat());const i=[];if(t.size){for(const r of this.reviewModel.localFileChanges)for(const a of t)if(Array.isArray(a)){const o=a[1];if(r.fileName===o.fileName){i.push(r.openDiff(this._folderRepoManager,{preview:!1})),t.delete(a);break}}}return Promise.all(i)}async createSuggestionFromChange(e,t){if(!this._reviewModel.localFileChanges.find(a=>a.changeModel.filePath.toString()===e.uri.toString()))return;const r=[];for(const a of t){const o=e.getText(new s.Range(a.modifiedStartLineNumber-1,0,a.modifiedEndLineNumber-1,e.lineAt(a.modifiedEndLineNumber-1).range.end.character)),v=a.originalEndLineNumber<a.originalStartLineNumber?a.originalStartLineNumber:a.originalEndLineNumber;r.push({suggestionContent:o,originalLineLength:v-a.originalStartLineNumber+1,originalStartLine:a.originalStartLineNumber,diffLine:a})}await Promise.all(r.map(async a=>{var o;try{await((o=this._reviewCommentController)==null?void 0:o.createSuggestionsFromChanges(e.uri,a)),await s.commands.executeCommand("git.revertSelectedRanges",a.diffLine)}catch{s.window.showErrorMessage(s.l10n.t("The change is outside the commenting range."),{modal:!0})}}))}trimContextFromHunk(e){let t=e.oldLineNumber,i=e.oldLength,r=0;for(;r<e.diffLines.length;r++){const v=e.diffLines[r];if(v.type!==Xi.Control)if(v.type===Xi.Context)t++,i--;else break}let a=e.diffLines.length-1;for(;a>=0&&e.diffLines[a].type===Xi.Context;a--)i--;let o=e.diffLines.slice(r,a+1);o.every(v=>v.type===Xi.Add)&&(r>1?(r--,t--,i++):a<e.diffLines.length-1?(a++,i++):(r=1,a=e.diffLines.length-1),o=e.diffLines.slice(r,a+1)),e.diffLines=o,e.oldLength=i,e.oldLineNumber=t}convertDiffHunkToSuggestion(e){return this.trimContextFromHunk(e),{suggestionContent:e.diffLines.filter(t=>t.type===Xi.Add||t.type==Xi.Context).map(t=>t.text).join(`
`),originalLineLength:e.oldLength,originalStartLine:e.oldLineNumber}}async createSuggestionsFromChanges(e){const t=e.map(G=>G.toString());let i=!1,r=0;const a=[],o=async(G,Q)=>{var re;try{await((re=this._reviewCommentController)==null?void 0:re.createSuggestionsFromChanges(G.uri,this.convertDiffHunkToSuggestion(Q))),a.push(G.uri)}catch{i=!0}},v=async G=>{if(!(!t.includes(G.uri.toString())||G.status!==ut.MODIFIED))return _s(await this._folderRepoManager.repository.diffWithHEAD(G.uri.fsPath)).map(Q=>po(Q)).flat()},I=async(G,Q)=>{const re=await v(G);if(re)if(r+=re.length,Q)await Promise.allSettled(re.map(async le=>o(G,le)));else for(const le of re)await o(G,le)};if(await s.window.withProgress({location:s.ProgressLocation.Window,title:"Converting changes to suggestions"},async()=>{let G=0;for(;a.length===0&&G<this._folderRepoManager.repository.state.workingTreeChanges.length;G++){const re=this._folderRepoManager.repository.state.workingTreeChanges[G];await I(re,!1)}const Q=[];for(;G<this._folderRepoManager.repository.state.workingTreeChanges.length;G++){const re=this._folderRepoManager.repository.state.workingTreeChanges[G];Q.push(I(re,!0))}await Promise.all(Q)}),i)a.length?s.window.showWarningMessage(s.l10n.t("Not all changes could be converted to suggestions."),{detail:s.l10n.t(`{0} of {1} changes converted. Some of the changes may be outside of commenting ranges.
Your changes are still available locally.`,a.length,r),modal:!0}):s.window.showWarningMessage(s.l10n.t("No changes could be converted to suggestions."),{detail:s.l10n.t("All of the changes are outside of commenting ranges."),modal:!0});else{const G=s.l10n.t("Reset all changes");s.window.showInformationMessage(s.l10n.t("All changes have been converted to suggestions."),{modal:!0,detail:s.l10n.t("Do you want to reset your local changes?")},G).then(Q=>{if(Q===G)return Promise.all(a.map(re=>this._folderRepoManager.repository.checkout(re.fsPath)))})}}async updateComments(){var e;const t=this._repository.state.HEAD;if(!t)return;const i=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!i||!(t.upstream?t.upstream.remote:null)||this._prNumber===void 0||!this._folderRepoManager.activePullRequest)return;const a=await this._folderRepoManager.resolvePullRequest(i.owner,i.repositoryName,this._prNumber);if(!a||!a.isResolved()){b.warn("This PR is no longer valid",this.id);return}return await this._folderRepoManager.checkBranchUpToDate(a,!1),await this.initializePullRequestData(a),await((e=this._reviewCommentController)==null?void 0:e.update()),Promise.resolve(void 0)}async getLocalChangeNodes(e,t){const i=[],r=e.mergeBase||e.base.sha,a=e.head.sha;for(let o=0;o<t.length;o++){const v=t[o],I=L.join(this._repository.rootUri.path,v.fileName).replace(/\\/g,"/"),G=this._repository.rootUri.with({path:I}),Q=v.status===Ot.DELETE?Pr(G,void 0,void 0,"",!1,{base:!1},this._repository.rootUri):G,re=Pr(G,v.status===Ot.RENAME?v.previousFileName:v.fileName,void 0,v.status===Ot.ADD?"":r,!1,{base:!0},this._repository.rootUri),le=new gc(this._folderRepoManager,e,v,Q,re,a,t.length<20),ge=new zs(this.changesInPrDataProvider,this._folderRepoManager,e,le);i.push(ge)}return i}async initializePullRequestData(e){try{const t=await e.getFileChangesInfo();this._reviewModel.localFileChanges=await this.getLocalChangeNodes(e,t),await Promise.all([e.initializeReviewThreadCacheAndReviewComments(),e.initializePullRequestFileViewState()]),this._folderRepoManager.setFileViewedContext();const i=e.comments.filter(o=>!o.position),r=te(i,o=>o.originalCommitId),a=[];for(const o in r){const v=r[o],I=te(v,G=>G.path);for(const G in I){const Q=I[G],re=s.Uri.file(L.join(`commit~${o.substr(0,8)}`,G)),le=new gc(this._folderRepoManager,e,{status:Ot.MODIFY,fileName:G,blobUrl:void 0},Pr(re,G,void 0,Q[0].originalCommitId,!0,{base:!1},this._repository.rootUri),Pr(re,G,void 0,Q[0].originalCommitId,!0,{base:!0},this._repository.rootUri),o),ge=new zs(this.changesInPrDataProvider,this._folderRepoManager,e,le,!1,Q);a.push(ge)}}return this._reviewModel.obsoleteFileChanges=a,Promise.resolve(void 0)}catch(t){b.error(`Failed to initialize PR data ${t}: ${t.message}`,this.id)}}async registerGitHubInMemContentProvider(){var e,t;try{(e=this._inMemGitHubContentProvider)==null||e.dispose(),this._inMemGitHubContentProvider=void 0;const i=this._folderRepoManager.activePullRequest;if(!i)return;const r=await i.getFileChangesInfo(),a=i.mergeBase;if(!a)return;const o=r.map(v=>v instanceof zr?new $s(this._folderRepoManager,v,i):new us(this._folderRepoManager,i,v,!0,a));this._inMemGitHubContentProvider=(t=Lc())==null?void 0:t.registerTextDocumentContentProvider(i.number,async v=>{const I=cn(v);if(!I)return"";const G=o.find(Q=>Q.fileName===I.fileName);return G?Uc(this._folderRepoManager,i,I,G):(b.error(`Cannot find content for document ${v.toString()}`,"PR"),"")})}catch(i){b.error(`Failed to register in mem content provider: ${i}`,this.id)}}async registerCommentController(){var e;if((e=this._folderRepoManager.activePullRequest)!=null&&e.reviewThreadsCacheReady&&this._reviewModel.hasLocalFileChanges)await this.doRegisterCommentController();else{const t=this._reviewModel.onDidChangeLocalFileChanges(async()=>{var i;(i=this._folderRepoManager.activePullRequest)!=null&&i.reviewThreadsCache&&this._reviewModel.hasLocalFileChanges&&(t&&t.dispose(),await this.doRegisterCommentController())})}}async doRegisterCommentController(){this._reviewCommentController||(this._reviewCommentController=new Ph(this,this._folderRepoManager,this._repository,this._reviewModel,this._gitApi,this._telemetry),await this._reviewCommentController.initialize())}async switch(e){var t,i;b.appendLine(`Switch to Pull Request #${e.number} - start`,this.id),this.statusBarItem.text=s.l10n.t("{0} Switching to Review Mode","$(sync~spin)"),this.statusBarItem.command=void 0,this.statusBarItem.show(),this.switchingToReviewMode=!0;try{await s.window.withProgress({location:s.ProgressLocation.Notification},async a=>{await this._folderRepoManager.checkoutExistingPullRequestBranch(e,a)||await this._folderRepoManager.fetchAndCheckout(e,a)});const r=s.workspace.getConfiguration(it).get(Ci,"pull");(r==="pullAndMergeBase"||r==="pullAndUpdateBase")&&await this._folderRepoManager.tryMergeBaseIntoHead(e,r==="pullAndUpdateBase")}catch(r){b.error(`Checkout failed #${JSON.stringify(r)}`,this.id),this.switchingToReviewMode=!1,r.message==="User aborted"||(r.gitErrorCode&&(r.gitErrorCode===rt.LocalChangesOverwritten||r.gitErrorCode===rt.DirtyWorkTree)?s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")):(t=r.stderr)!=null&&t.startsWith("fatal: couldn't find remote ref")&&r.gitCommand==="fetch"?s.window.showInformationMessage("The remote branch for this pull request has been deleted. The file contents may not match the remote."):s.window.showErrorMessage(`Error switching to pull request: ${he(r)}`)),((i=this._folderRepoManager.activePullRequest)==null?void 0:i.number)===e.number?this.setStatusForPr(this._folderRepoManager.activePullRequest):this.statusBarItem.hide();return}try{this.statusBarItem.text="$(sync~spin) "+s.l10n.t("Fetching additional data: {0}",`pr/${e.number}`),this.statusBarItem.command=void 0,this.statusBarItem.show(),await this._folderRepoManager.fulfillPullRequestMissingInfo(e),this._upgradePullRequestEditors(e),this._telemetry.sendTelemetryEvent("pr.checkout"),b.appendLine(`Switch to Pull Request #${e.number} - done`,this.id)}finally{this.setStatusForPr(e),await this._repository.status()}}setStatusForPr(e){this.switchingToReviewMode=!1,this.justSwitchedToReviewMode=!0,this.statusBarItem.text=s.l10n.t("Pull Request #{0}",e.number),this.statusBarItem.command=void 0,this.statusBarItem.show()}async createPullRequest(e){const t=async i=>{if(!i)return;const r=s.workspace.getConfiguration(it).get(At,"openOverview");if(r==="openOverview"){const a=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await Qo(this._telemetry,i,a,this._folderRepoManager,!0)}else if(r.startsWith("checkoutDefaultBranch")){const a=await this._folderRepoManager.getPullRequestRepositoryDefaultBranch(i);a&&(r==="checkoutDefaultBranch"&&await this._folderRepoManager.checkoutDefaultBranch(a),r==="checkoutDefaultBranchAndShow"?(await lt.executeCommand("pr:github.focus"),await this._folderRepoManager.checkoutDefaultBranch(a),await this._pullRequestsTree.expandPullRequest(i)):r==="checkoutDefaultBranchAndCopy"&&await Promise.all([this._folderRepoManager.checkoutDefaultBranch(a),s.env.clipboard.writeText(i.html_url)]))}await this.updateState(!1,!1)};return this._createPullRequestHelper.create(this._telemetry,this._context.extensionUri,this._folderRepoManager,e,t)}async openDescription(){const e=this._folderRepoManager.activePullRequest;if(!e)return;const t=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await Qo(this._telemetry,e,t,this._folderRepoManager,!0)}get isCreatingPullRequest(){var e,t;return(t=(e=this._createPullRequestHelper)==null?void 0:e.isCreatingPullRequest)!=null?t:!1}async updateFocusedViewMode(){s.workspace.getConfiguration(it).get(St)?(s.commands.executeCommand("setContext",js,!0),await this._context.workspaceState.update(js,!0)):(s.commands.executeCommand("setContext",js,!1),this._context.workspaceState.update(js,!1))}async clear(e){var t,i;if(e){const r=this._folderRepoManager.activePullRequest;r&&this._activePrViewCoordinator.removePullRequest(r),this.changesInPrDataProvider&&await this.changesInPrDataProvider.removePrFromView(this._folderRepoManager),this._prNumber=void 0,this._folderRepoManager.activePullRequest=void 0,this._statusBarItem&&this._statusBarItem.hide(),this._reviewModel.clear(),_(this._localToDispose),r==null||r.clear(),this._folderRepoManager.setFileViewedContext()}(t=this._reviewCommentController)==null||t.dispose(),this._reviewCommentController=void 0,(i=this._inMemGitHubContentProvider)==null||i.dispose(),this._inMemGitHubContentProvider=void 0}async provideTextDocumentContent(e){const{path:t,commit:i,base:r}=Ur(e.query);let a=Ac(this._reviewModel.localFileChanges).filter(o=>o.fileName===t).filter(o=>o.sha===i||`${o.sha}^`===i);if(a.length){const o=a[0],v=i===o.sha?Xi.Delete:Xi.Add;return(await o.changeModel.diffHunks()).map(G=>G.diffLines.filter(Q=>Q.type!==v).map(Q=>Q.text)).reduce((G,Q)=>G.concat(...Q),[]).join(`
`)}if(a=Ac(this._reviewModel.obsoleteFileChanges).filter(o=>o.fileName===t).filter(o=>o.sha===i||`${o.sha}^`===i),a.length){const o=a[0],v=i===o.sha?Xi.Delete:Xi.Add,I=[],G=te(o.comments,Q=>String(Q.originalPosition));for(const Q in G){if(!G[Q][0].diffHunks)continue;const re=G[Q][0].diffHunks.map(le=>le.diffLines.filter(ge=>ge.type!==v).map(ge=>ge.text)).reduce((le,ge)=>le.concat(...ge),[]);I.push(...re)}return I.join(`
`)}else if(r&&i&&this._folderRepoManager.activePullRequest)return(await this._folderRepoManager.activePullRequest.githubRepository.getFile(t,i)).toString()}dispose(){super.dispose(),this.clear(!0)}static getReviewManagerForRepository(e,t,i){return e.find(r=>r._folderRepoManager.gitHubRepositories.some(a=>a.equals(t)&&(!i||r._folderRepoManager.repository===i)))}static getReviewManagerForFolderManager(e,t){return e.find(i=>i._folderRepoManager===t)}};An(Qh,"ID","Review");let br=Qh;class by{constructor(){An(this,"_shouldShow",!1),An(this,"_onChangedShowValue",new s.EventEmitter),An(this,"onChangedShowValue",this._onChangedShowValue.event)}get shouldShow(){return this._shouldShow}set shouldShow(e){const t=this._shouldShow;this._shouldShow=e,t!==this._shouldShow&&this._onChangedShowValue.fire(this._shouldShow)}}var yy=Object.defineProperty,wy=(n,e,t)=>e in n?yy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,lu=(n,e,t)=>wy(n,typeof e!="symbol"?e+"":e,t);class _a extends On{constructor(e,t){super(e),lu(this,"collapsibleState"),lu(this,"children",[]),lu(this,"pathToChild",new Map),lu(this,"checkboxState"),this.label=t,this.collapsibleState=s.TreeItemCollapsibleState.Expanded}async getChildren(){return this.children}finalize(){this.trimTree(),this.sort()}trimTree(){if(this.children.length===0||(this.children.forEach(t=>{t instanceof _a&&t.trimTree()}),this.children.length!==1))return;const e=this.children[0];e instanceof _a&&(this.label=this.label+"/"+e.label,this.label.startsWith("/")&&(this.label=this.label.substr(1)),this.children=e.children,this.children.forEach(t=>{t.parent=this}))}sort(){if(this.children.length<=1)return;const e=[],t=[];this.children.forEach(i=>{i instanceof _a?(i.sort(),e.push(i)):t.push(i)}),e.sort((i,r)=>i.label<r.label?-1:1),t.sort((i,r)=>i.label<r.label?-1:1),this.children=[...e,...t]}addFile(e){const t=e.changeModel.fileName.split("/");this.addPathRecc(t,e)}addPathRecc(e,t){if(e.length<=0)return;if(e.length===1){t.parent=this,this.children.push(t);return}const i=e[0],r=e.slice(1);let a=this.pathToChild.get(i);a||(a=new _a(this,i),this.pathToChild.set(i,a),this.children.push(a)),a.addPathRecc(r,t)}allChildrenViewed(){for(const e of this.children)if(e instanceof _a){if(!e.allChildrenViewed())return!1}else if(e.checkboxState.state!==s.TreeItemCheckboxState.Checked)return!1;return!0}setCheckboxState(e){this.checkboxState=e?{state:s.TreeItemCheckboxState.Checked,tooltip:s.l10n.t("Mark all files unviewed"),accessibilityInformation:{label:s.l10n.t("Mark all files in folder {0} as unviewed",this.label)}}:{state:s.TreeItemCheckboxState.Unchecked,tooltip:s.l10n.t("Mark all files viewed"),accessibilityInformation:{label:s.l10n.t("Mark all files in folder {0} as viewed",this.label)}}}getTreeItem(){return this.setCheckboxState(this.allChildrenViewed()),this}}var _y=Object.defineProperty,ky=(n,e,t)=>e in n?_y(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Wo=(n,e,t)=>ky(n,typeof e!="symbol"?e+"":e,t);const Yh=class Uu extends On{constructor(e,t,i,r,a){super(e),this._folderReposManager=t,this.pullRequestModel=i,this._isLocal=r,this._notificationProvider=a,Wo(this,"_fileChanges"),Wo(this,"_commentController"),Wo(this,"_inMemPRContentProvider"),Wo(this,"_command"),this.registerSinceReviewChange(),this.registerConfigurationChange(),this._register(this.pullRequestModel.onDidInvalidate(()=>this.refresh(this))),this._register(this._folderReposManager.onDidChangeActivePullRequest(o=>{(o.new===this.pullRequestModel.number||o.old===this.pullRequestModel.number)&&this.refresh(this)}))}get command(){return this._command}set command(e){this._command=e}get repository(){return this._folderReposManager.repository}async getChildren(){var e;super.getChildren(),b.debug(`Fetch children of PRNode #${this.pullRequestModel.number}`,Uu.ID);try{if(!this.pullRequestModel.isResolved())return[];[,this._fileChanges,,]=await Promise.all([this.pullRequestModel.initializePullRequestFileViewState(),this.resolveFileChangeNodes(),this._commentController?new Promise(r=>r()):this.resolvePRCommentController(),this.pullRequestModel.validateDraftMode()]),this._inMemPRContentProvider||(this._inMemPRContentProvider=(e=Lc())==null?void 0:e.registerTextDocumentContentProvider(this.pullRequestModel.number,this.provideDocumentContent.bind(this)),this._inMemPRContentProvider&&this._register(this._inMemPRContentProvider));const t=[];if(s.workspace.getConfiguration(it).get(Ji)==="tree"){const r=new _a(this,"");this._fileChanges.forEach(a=>r.addFile(a)),r.finalize(),r.label===""?t.push(...r.children):t.push(r)}else t.push(...this._fileChanges);return this.pullRequestModel.showChangesSinceReview!==void 0&&this.reopenNewPrDiffs(this.pullRequestModel),this.children=t,this.pullRequestModel.initializeReviewThreadCache(),t}catch(t){return b.error(`Error getting children ${t}: ${t.message}`,Uu.ID),[]}}registerSinceReviewChange(){this._register(this.pullRequestModel.onDidChangeChangesSinceReview(e=>{this.refresh(this)}))}registerConfigurationChange(){this._register(s.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration(`${it}.${mi}`)&&this.refresh()}))}async reopenNewPrDiffs(e){let t=!1;s.window.tabGroups.all.map(i=>{i.tabs.map(r=>{if(r.input instanceof s.TabInputTextDiff&&r.input.original.scheme===$t.Pr&&r.input.modified.scheme===$t.Pr&&this._fileChanges)for(const a of this._fileChanges){const o=cn(r.input.original),v=cn(r.input.modified),I=cn(a.changeModel.filePath);if((o==null?void 0:o.prNumber)===e.number&&(v==null?void 0:v.prNumber)===e.number&&a.fileName===v.fileName&&(I==null?void 0:I.headCommit)!==v.headCommit){t=!0,s.window.tabGroups.close(r).then(G=>a.openDiff(this._folderReposManager,{preview:r.isPreview}));break}}})}),e.showChangesSinceReview&&!t&&this._fileChanges&&this._fileChanges.length&&!e.isActive&&this._fileChanges[0].openDiff(this._folderReposManager,{preview:!0})}async resolvePRCommentController(){this.pullRequestModel.equals(this._folderReposManager.activePullRequest)||(await this.pullRequestModel.githubRepository.ensureCommentsController(),this._commentController=this.pullRequestModel.githubRepository.commentsController,this._register(this.pullRequestModel.githubRepository.commentsHandler.registerCommentingRangeProvider(this.pullRequestModel.number,this)),this._register(this.pullRequestModel.githubRepository.commentsHandler.registerCommentController(this.pullRequestModel.number,this.pullRequestModel,this._folderReposManager)),this.registerListeners())}registerListeners(){this._register(this.pullRequestModel.onDidChangePendingReviewState(async e=>{e||(await this.getFileChanges()).forEach(t=>{t instanceof Mc&&t.comments.forEach(i=>i.isDraft=e)})}))}async getFileChanges(e){return(!this._fileChanges||e)&&(this._fileChanges=await this.resolveFileChangeNodes()),this._fileChanges}async resolveFileChangeNodes(){if(!this.pullRequestModel.isResolved())return[];const e=[],t=this.pullRequestModel.equals(this._folderReposManager.activePullRequest);t&&this._folderReposManager.activePullRequest!==void 0&&this._folderReposManager.activePullRequest.fileChanges.size>0?(this.pullRequestModel=this._folderReposManager.activePullRequest,e.push(...this._folderReposManager.activePullRequest.fileChanges.values())):e.push(...await this.pullRequestModel.getFileChangesInfo());const i=this.pullRequestModel.mergeBase;return i?e.map(r=>{if(r instanceof zr){const v=new $s(this._folderReposManager,r,this.pullRequestModel);return new Pc(this,this._folderReposManager,this.pullRequestModel,v)}const a=new us(this._folderReposManager,this.pullRequestModel,r,t,i);return new Mc(this._folderReposManager,this,this.pullRequestModel,a)}):[]}async getTreeItem(){var e,t,i;const r=this.pullRequestModel.equals(this._folderReposManager.activePullRequest),{title:a,number:o,author:v,isDraft:I,html_url:G}=this.pullRequestModel,Q=this.pullRequestModel.title.length>50?`${this.pullRequestModel.title.substring(0,50)}...`:this.pullRequestModel.title,re=(e=v.specialDisplayName)!=null?e:v.login,le=this._notificationProvider.hasNotification(this.pullRequestModel),ge=o.toString();let Re=r?"\u2713 ":"";s.workspace.getConfiguration(it).get(mi,!1)&&(Re+=`#${ge}: `);const Ie=`${Re}${I?"[DRAFT] ":""}${Q}`,Oe=`by @${re}`,ue={title:s.l10n.t("View Pull Request Description"),command:"pr.openDescription",arguments:[this]};return{label:Ie,id:`${this.parent instanceof On?(t=this.parent.id)!=null?t:this.parent.label:""}${G}${this._isLocal?this.pullRequestModel.localBranchName:""}`,description:Oe,collapsibleState:1,contextValue:"pullrequest"+(this._isLocal?":local":"")+(r?":active":":nonactive")+(le?":notification":"")+(this.pullRequestModel.item.isRemoteHeadDeleted&&!this._isLocal||!this._folderReposManager.isPullRequestAssociatedWithOpenRepository(this.pullRequestModel)?"":":hasHeadRef"),iconPath:(i=(await na.avatarCirclesAsImageDataUris(this._folderReposManager.context,[this.pullRequestModel.author],16,16))[0])!=null?i:new s.ThemeIcon("github"),accessibilityInformation:{label:`${I?"Draft ":""}Pull request number ${ge}: ${a} by ${re}`},resourceUri:Rc(this.pullRequestModel),command:ue}}async provideCommentingRanges(e,t){if(e.uri.scheme===$t.Pr){const i=cn(e.uri);if(!i||i.prNumber!==this.pullRequestModel.number)return;const r=(await this.getFileChanges()).find(a=>a.changeModel.fileName===i.fileName);return!r||r instanceof Pc?void 0:{ranges:Th(await r.changeModel.diffHunks(),i.isBase,Uu.ID),enableFileComments:!0}}}async provideDocumentContent(e){var t;const i=cn(e);if(!i)return"";const r=(t=(await this.getFileChanges()).find(a=>a.changeModel.fileName===i.fileName))==null?void 0:t.changeModel;return r?Uc(this._folderReposManager,this.pullRequestModel,i,r):(b.appendLine(`Can not find content for document ${e.toString()}`,"PR"),"")}dispose(){super.dispose(),this._commentController=void 0}};Wo(Yh,"ID","PRNode");let er=Yh;var Sy=Object.defineProperty,Ry=(n,e,t)=>e in n?Sy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zo=(n,e,t)=>Ry(n,typeof e!="symbol"?e+"":e,t);class Ey extends On{constructor(e,t,i,r,a){var o;super(e),this.pullRequestManager=t,this.pullRequest=i,this.commit=r,this.isCurrent=a,zo(this,"sha"),zo(this,"collapsibleState"),zo(this,"iconPath"),zo(this,"contextValue"),zo(this,"description"),this.label=r.commit.message,this.sha=r.sha,this.collapsibleState=s.TreeItemCollapsibleState.Collapsed,this.contextValue="commit",this.description=(o=r.commit.author)!=null&&o.date?X(r.commit.author.date):void 0}async getTreeItem(){if(this.commit.author){const e={id:this.commit.author.node_id,login:this.commit.author.login,url:this.commit.author.url,avatarUrl:this.commit.author.avatar_url,accountType:this.commit.author.type};this.iconPath=(await na.avatarCirclesAsImageDataUris(this.pullRequestManager.context,[e],16,16))[0]}return this}async getChildren(){var e;super.getChildren();const t=(e=await this.pullRequest.getCommitChangedFiles(this.commit))!=null?e:[];if(t.length===0)return[new Nh(this,"No changed files")];const i=t.map(o=>{const v=o.filename,I=s.Uri.parse(L.posix.join(`commit~${this.commit.sha.substr(0,8)}`,v)),G=new gc(this.pullRequestManager,this.pullRequest,{status:zi(o.status),fileName:v,blobUrl:void 0},Pr(I,v,void 0,this.commit.sha,!0,{base:!1},this.pullRequestManager.repository.rootUri),Pr(I,v,void 0,this.commit.sha,!0,{base:!0},this.pullRequestManager.repository.rootUri),this.commit.sha),Q=new zs(this,this.pullRequestManager,this.pullRequest,G,this.isCurrent);return Q.useViewChangesCommand(),Q});let r=[];if(s.workspace.getConfiguration(it).get(Ji)==="tree"){const o=new _a(this,"");i.forEach(v=>o.addFile(v)),o.finalize(),o.label===""?r.push(...o.children):r.push(o)}else r=i;return this.children=r,r}}var Ty=Object.defineProperty,Ny=(n,e,t)=>e in n?Ty(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Bc=(n,e,t)=>Ny(n,typeof e!="symbol"?e+"":e,t);class Cy extends On{constructor(e,t,i){super(e),Bc(this,"collapsibleState"),Bc(this,"_folderRepoManager"),Bc(this,"_pr"),this.label=s.l10n.t("Commits"),this._pr=i,this._folderRepoManager=t,this.collapsibleState=s.TreeItemCollapsibleState.Collapsed,this.childrenDisposables=[],this.childrenDisposables.push(this._pr.onDidChangeReviewThreads(()=>{b.appendLine("Review threads have changed, refreshing Commits node",x),this.refresh(this)})),this.childrenDisposables.push(this._pr.onDidChangeComments(()=>{b.appendLine("Comments have changed, refreshing Commits node",x),this.refresh(this)}))}getTreeItem(){return this}async getChildren(){super.getChildren();try{b.appendLine("Getting children for Commits node",x);const e=await this._pr.getCommits();return this.children=e.map((t,i)=>{var r;return new Ey(this,this._folderRepoManager,this._pr,t,i===e.length-1&&((r=this._folderRepoManager.repository.state.HEAD)==null?void 0:r.commit)===t.sha)}),b.appendLine("Got all children for Commits node",x),this.children}catch{return[]}}}var Py=Object.defineProperty,My=(n,e,t)=>e in n?Py(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qc=(n,e,t)=>My(n,typeof e!="symbol"?e+"":e,t);class Ay extends On{constructor(e,t,i){super(e),this._reviewModel=t,qc(this,"label",s.l10n.t("Files")),qc(this,"collapsibleState"),qc(this,"directories",[]),this.collapsibleState=s.TreeItemCollapsibleState.Expanded,this.childrenDisposables=[],this.childrenDisposables.push(this._reviewModel.onDidChangeLocalFileChanges(()=>{b.appendLine("Local files have changed, refreshing Files node",x),this.refresh(this)})),this.childrenDisposables.push(i.onDidChangeReviewThreads(()=>{b.appendLine("Review threads have changed, refreshing Files node",x),this.refresh(this)})),this.childrenDisposables.push(i.onDidChangeComments(()=>{b.appendLine("Comments have changed, refreshing Files node",x),this.refresh(this)}))}getTreeItem(){return this}async getChildren(){if(super.getChildren(!1),b.appendLine("Getting children for Files node",x),!this._reviewModel.hasLocalFileChanges)return new Promise(r=>{const a=this._reviewModel.onDidChangeLocalFileChanges(()=>{r([]),a.dispose()})});if(this._reviewModel.localFileChanges.length===0)return[new Nh(this,s.l10n.t("No changed files"))];let e;const t=s.workspace.getConfiguration(it).get(Ji),i=new _a(this,"");if(this._reviewModel.localFileChanges.forEach(r=>i.addFile(r)),i.finalize(),i.label===""?this.directories=i.children:this.directories=[i],t==="tree")e=this.directories;else{const r=[...this._reviewModel.localFileChanges];r.sort((a,o)=>pe(a.fileChangeResourceUri.toString(),o.fileChangeResourceUri.toString())),e=r}return b.appendLine("Got all children for Files node",x),this.children=e,e}}var Iy=Object.defineProperty,Dy=(n,e,t)=>e in n?Iy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,sa=(n,e,t)=>Dy(n,typeof e!="symbol"?e+"":e,t);class oa extends On{constructor(e,t,i,r,a){super(e),this.parent=e,this.pullRequestModel=t,this._pullRequestManager=i,this._reviewModel=r,this._progress=a,sa(this,"_filesCategoryNode"),sa(this,"_commitsCategoryNode"),sa(this,"command"),sa(this,"contextValue"),sa(this,"tooltip"),sa(this,"iconPath"),sa(this,"description"),sa(this,"collapsibleState",s.TreeItemCollapsibleState.Expanded),sa(this,"isLocal"),sa(this,"repository"),this.isLocal=!0,this.repository=i.repository,this.label=t.title,this.command={title:s.l10n.t("View Pull Request Description"),command:"pr.openDescription",arguments:[this]},this.tooltip=s.l10n.t("Description of pull request #{0}",t.number),this.accessibilityInformation={label:s.l10n.t("Pull request page of pull request number {0}",t.number),role:"button"},this.getTreeItem(),this._register(s.window.onDidChangeActiveTextEditor(o=>{var v;if(s.workspace.getConfiguration(Wa).get(va)){const I=(v=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:v.input;if(I instanceof s.TabInputTextDiff&&I.original.scheme===$t.Review&&I.modified.scheme!==$t.Review&&I.original.path.startsWith("/commit"))return;const G=o==null?void 0:o.document.uri.toString();this.revealActiveEditorInTree(G)}})),this._register(this.parent.view.onDidChangeVisibility(o=>{var v;const I=(v=s.window.activeTextEditor)==null?void 0:v.document.uri.toString();this.revealActiveEditorInTree(I)})),this._register(this.pullRequestModel.onDidInvalidate(()=>{this.refresh()}))}revealActiveEditorInTree(e){if(this.parent.view.visible&&e){const t=this._reviewModel.localFileChanges.find(i=>i.changeModel.filePath.toString()===e);t&&this.reveal(t,{select:!0})}}async getChildren(){return await this._progress.progress,(!this._filesCategoryNode||!this._commitsCategoryNode)&&(b.appendLine(`Creating file and commit nodes for PR #${this.pullRequestModel.number}`,x),this._filesCategoryNode=new Ay(this.parent,this._reviewModel,this.pullRequestModel),this._commitsCategoryNode=new Cy(this.parent,this._pullRequestManager,this.pullRequestModel)),this.children=[this._filesCategoryNode,this._commitsCategoryNode],this.children}setLabel(){this.label=this.pullRequestModel.title,this.label.length>50&&(this.tooltip=this.label,this.label=`${this.label.substring(0,50)}...`)}async getTreeItem(){var e;return this.setLabel(),this.iconPath=(await na.avatarCirclesAsImageDataUris(this._pullRequestManager.context,[this.pullRequestModel.author],16,16))[0],this.description=void 0,(e=this.parent.children)!=null&&e.length&&this.parent.children.length>1&&(this.parent.children.every(i=>i instanceof oa&&i.pullRequestModel.remote.owner===this.pullRequestModel.remote.owner)?this.description=this.pullRequestModel.remote.repositoryName:this.description=`${this.pullRequestModel.remote.owner}/${this.pullRequestModel.remote.repositoryName}`),this.updateContextValue(),this}updateContextValue(){const e=this.pullRequestModel.equals(this._pullRequestManager.activePullRequest);this.contextValue="description"+(e?":active":":nonactive")+(this.pullRequestModel.hasChangesSinceLastReview?":hasChangesSinceReview":"")+(this.pullRequestModel.showChangesSinceReview?":showingChangesSinceReview":":showingAllChanges")+(this.pullRequestModel.item.isRemoteHeadDeleted&&!this.isLocal||!this._pullRequestManager.isPullRequestAssociatedWithOpenRepository(this.pullRequestModel)?"":":hasHeadRef")}}const uu=new s.EventEmitter,Xh=uu.event;function Ko(n,e){if(e)return e instanceof er?e.pullRequestModel:e;if(!n.activePullRequest)throw s.window.showErrorMessage(s.l10n.t("Unable to find current pull request.")),new Error("Unable to find current pull request.");return n.activePullRequest}async function Qo(n,e,t,i,r,a=!0,o){const v=Ko(i,e);r&&(t==null||t.reveal(t,{select:!0,focus:!0})),v instanceof Mn?(await Tr.createOrShow(n,i.context.extensionUri,i,v,void 0,a),n.sendTelemetryEvent("pr.openDescription")):(await Pf.createOrShow(n,i.context.extensionUri,i,v),n.sendTelemetryEvent("issue.openDescription")),o!=null&&o.hasNotification(v)&&o.markPrNotificationsAsRead(v)}async function Br(n,e,t){var i;if(n.length===1)return n[0];const r=n.map(a=>({label:e(a),itemValue:a}));return(i=await s.window.showQuickPick(r,t))==null?void 0:i.itemValue}async function la(n,e){n instanceof er||n instanceof oa?s.commands.executeCommand("vscode.open",s.Uri.parse(n.pullRequestModel.html_url)):Jl(n)?s.commands.executeCommand("vscode.open",s.Uri.parse(n.model.html_url)):s.commands.executeCommand("vscode.open",s.Uri.parse(n.html_url)),e.sendTelemetryEvent("pr.openInGitHub")}async function xy(){const n=s.window.tabGroups,e=n.all.map(t=>t.tabs).flat();for(const t of e){const i=t.input instanceof s.TabInputTextDiff?t.input.original.scheme:t.input instanceof s.TabInputText?t.input.uri.scheme:void 0;(i&&i===$t.Pr||i===$t.Review)&&await n.close(t)}}function Fy(n,e,t,i,r){const a="RegisterCommands";n.subscriptions.push(s.commands.registerCommand("pr.openPullRequestOnGitHub",async ue=>{if(ue)la(ue,i);else{const ye=e.folderManagers.map(Te=>Te.activePullRequest).filter(Te=>!!Te);if(ye.length>=1){const Te=await Br(ye,Ae=>Ae.html_url);Te&&la(Te,i)}}})),n.subscriptions.push(s.commands.registerCommand("notification.openOnGitHub",async ue=>{ue&&la(ue,i)})),n.subscriptions.push(s.commands.registerCommand("pr.openAllDiffs",async()=>{const ue=e.folderManagers.filter(Ue=>Ue.activePullRequest).map(Ue=>({activePr:Ue.activePullRequest,folderManager:Ue})),ye=ue.length>=1?await Br(ue,Ue=>Ue.activePr.html_url):ue[0];if(!ye)return;const{folderManager:Te}=ye,Ae=br.getReviewManagerForFolderManager(t.reviewManagers,Te);Ae&&Ae.reviewModel.localFileChanges.forEach(Ue=>Ue.openDiff(Te,{preview:!1}))})),n.subscriptions.push(s.commands.registerCommand("review.suggestDiff",async ue=>{const ye="githubPullRequest.suggestDiffMessage";if(!n.globalState.get(ye,!1)){await n.globalState.update(ye,!0);const Ae=s.l10n.t("Open documentation");if(await s.window.showInformationMessage(s.l10n.t("You can now make suggestions from review comments, just like on GitHub.com. See the documentation for more details."),{modal:!0},Ae)===Ae)return s.env.openExternal(s.Uri.parse("https://github.com/microsoft/vscode-pull-request-github/blob/main/documentation/suggestAChange.md"))}try{const Ae=await Br(e.folderManagers,Vi=>L.basename(Vi.repository.rootUri.fsPath));if(!Ae||!Ae.activePullRequest)return;const{indexChanges:Ue,workingTreeChanges:We}=Ae.repository.state;if(!Ue.length)if(We.length){const Vi=s.l10n.t("Yes");if(await s.window.showWarningMessage(s.l10n.t(`There are no staged changes to suggest.

Would you like to automatically stage all your of changes and suggest them?`),{modal:!0},Vi)===Vi)await s.commands.executeCommand("git.stageAll");else return}else{s.window.showInformationMessage(s.l10n.t("There are no changes to suggest."));return}const ze=await Ae.repository.diff(!0);let bt=s.l10n.t(`Suggested edit:
`);ue&&ue.inputBox&&ue.inputBox.value&&(bt=`${ue.inputBox.value}
`,ue.inputBox.value="");const It=`${bt}\`\`\`diff
${ze}
\`\`\``;await Ae.activePullRequest.createIssueComment(It),await s.commands.executeCommand("git.unstageAll");const ui=L.join(Ae.repository.rootUri.fsPath,".git",`${Ae.activePullRequest.number}.diff`),pn=new TextEncoder,Si=s.Uri.file(ui);await s.workspace.fs.writeFile(Si,pn.encode(ze)),await Ae.repository.apply(ui,!0),await s.workspace.fs.delete(Si)}catch(Ae){const Ue=`${Ae}${Ae.stderr?`
${Ae.stderr}`:""}`;b.error(`Applying patch failed: ${Ue}`,a),s.window.showErrorMessage(s.l10n.t("Applying patch failed: {0}",he(Ae)))}})),n.subscriptions.push(s.commands.registerCommand("pr.openFileOnGitHub",async ue=>{if(!(ue instanceof Pc&&!await s.window.showInformationMessage(s.l10n.t("{0} can't be opened locally. Do you want to open it on GitHub?",ue.changeModel.fileName),s.l10n.t("Open")))&&ue.changeModel.blobUrl)return s.commands.executeCommand("vscode.open",s.Uri.parse(ue.changeModel.blobUrl))})),n.subscriptions.push(s.commands.registerCommand("pr.copyCommitHash",ue=>{s.env.clipboard.writeText(ue.sha)})),n.subscriptions.push(s.commands.registerCommand("pr.openOriginalFile",async ue=>{const ye=e.getManagerForIssueModel(ue.pullRequest);if(ye){const Te=await _c(ue.changeModel.parentFilePath,ye.repository);s.commands.executeCommand("vscode.open",Te||ue.changeModel.parentFilePath)}})),n.subscriptions.push(s.commands.registerCommand("pr.openModifiedFile",ue=>{let ye;const Te=s.window.tabGroups.activeTabGroup.activeTab;ue?ye=ue.changeModel.filePath:(Te==null?void 0:Te.input)instanceof s.TabInputTextDiff&&(ye=Te.input.modified),ye&&s.commands.executeCommand("vscode.open",ye,Te==null?void 0:Te.group.viewColumn)}));async function o(ue){var ye;if(ue&&!(ue instanceof s.Uri)){const Te=e.getManagerForIssueModel(ue.pullRequest);return Te?ue.openDiff(Te):void 0}else if(ue||s.window.activeTextEditor){const Te=ue instanceof s.Uri?s.window.visibleTextEditors.find(ui=>ui.document.uri.toString()===ue.toString()):s.window.activeTextEditor,Ae=Te.visibleRanges,Ue=e.getManagerForFile(Te.document.uri);if(!(Ue!=null&&Ue.activePullRequest))return;const We=br.getReviewManagerForFolderManager(t.reviewManagers,Ue);if(!We)return;const ze=We.reviewModel.localFileChanges.find(ui=>ui.resourceUri.with({query:""}).toString()===Te.document.uri.toString());await(ze==null?void 0:ze.openDiff(Ue));const bt=(ye=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:ye.input,It=bt instanceof s.TabInputTextDiff&&bt.modified.toString()===Te.document.uri.toString()?s.window.activeTextEditor:void 0;It&&It.revealRange(Ae[0])}}n.subscriptions.push(s.commands.registerCommand("pr.openDiffView",ue=>o(ue))),n.subscriptions.push(s.commands.registerCommand("pr.openDiffViewFromEditor",ue=>o(ue))),n.subscriptions.push(s.commands.registerCommand("pr.deleteLocalBranch",async ue=>{var ye;const Te=e.getManagerForIssueModel(ue.pullRequestModel);if(!Te)return;const Ae=Ko(Te,ue),Ue="Delete Unmerged Branch";let We=null;try{await Te.deleteLocalPullRequest(Ae)}catch(ze){if(ze.gitErrorCode===rt.BranchNotFullyMerged){if(await s.window.showErrorMessage(s.l10n.t("The local branch '{0}' is not fully merged. Are you sure you want to delete it?",(ye=Ae.localBranchName)!=null?ye:"unknown branch"),Ue)!==Ue)return;try{await Te.deleteLocalPullRequest(Ae,!0)}catch(It){We=It}}else We=ze}We?(i.sendTelemetryErrorEvent("pr.deleteLocalPullRequest.failure"),await s.window.showErrorMessage(`Deleting local pull request branch failed: ${We}`)):(i.sendTelemetryEvent("pr.deleteLocalPullRequest.success"),s.commands.executeCommand("pr.refreshList"))}));function v(ue){if(ue){const ye=s.Uri.file(ue).toString();for(const Te of t.reviewManagers)if(Te.repository.rootUri.toString()===ye)return Te}return Br(t.reviewManagers,ye=>L.basename(ye.repository.rootUri.fsPath),{placeHolder:s.l10n.t("Choose a repository to create a pull request in"),ignoreFocusOut:!0})}function I(ue){return!!(ue!=null&&ue.rootUri)}n.subscriptions.push(s.commands.registerCommand("pr.create",async ue=>{var ye,Te;I(ue)?(ye=await v(ue.rootUri.fsPath))==null||ye.createPullRequest():(Te=await v(ue==null?void 0:ue.repoPath))==null||Te.createPullRequest(ue==null?void 0:ue.compareBranch)})),n.subscriptions.push(s.commands.registerCommand("pr.pushAndCreate",async ue=>{var ye;if(I(ue)){const Te=await v(ue.rootUri.fsPath),Ae=e.getManagerForFile(ue.rootUri);let Ue=!0;if(Ae!=null&&Ae.activePullRequest){const We=s.l10n.t("Push");if(await s.window.showInformationMessage(s.l10n.t("You already have a pull request for this branch. Do you want to push your changes to the remote branch?"),{modal:!0},We)!==We)return;Ue=!1}Te&&((ye=ue.state.HEAD)!=null&&ye.upstream&&await ue.push(),Ue&&Te.createPullRequest())}})),n.subscriptions.push(s.commands.registerCommand("pr.pick",async ue=>{if(ue===void 0)return b.error("Unexpectedly received undefined when picking a PR.",a),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let ye,Te;ue instanceof er||ue instanceof oa?(ye=ue.pullRequestModel,Te=ue.repository):ye=ue;const Ae=ue instanceof Mn;return i.sendTelemetryEvent("pr.checkout",{fromDescription:Ae.toString()}),s.window.withProgress({location:s.ProgressLocation.SourceControl,title:s.l10n.t("Switching to Pull Request #{0}",ye.number)},async()=>{var Ue;await((Ue=br.getReviewManagerForRepository(t.reviewManagers,ye.githubRepository,Te))==null?void 0:Ue.switch(ye))})})),n.subscriptions.push(s.commands.registerCommand("pr.openChanges",async ue=>{if(ue===void 0)return b.error("Unexpectedly received undefined when picking a PR.",a),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let ye;ue instanceof er||ue instanceof oa?ye=ue.pullRequestModel:ye=ue;const Te=e.getManagerForIssueModel(ye);if(Te)return Mn.openChanges(Te,ye)}));let G=!1;n.subscriptions.push(s.commands.registerCommand("pr.checkoutFromReadonlyFile",async()=>{var ue,ye;const Te=(ue=s.window.activeTextEditor)==null?void 0:ue.document.uri;if((Te==null?void 0:Te.scheme)!==$t.Pr)return;const Ae=cn(Te);if(Ae===void 0)return;let Ue;const We=e.folderManagers.find(bt=>(Ue=bt.gitHubRepositories.find(It=>It.remote.remoteName===Ae.remoteName),!!Ue));if(!We||!Ue)return;const ze=await s.window.withProgress({location:s.ProgressLocation.Window},()=>We.fetchById(Ue,Number(Ae.prNumber)));if(ze&&!G){G=!0;try{await((ye=br.getReviewManagerForFolderManager(t.reviewManagers,We))==null?void 0:ye.switch(ze))}catch(bt){s.window.showErrorMessage(s.l10n.t("Unable to check out pull request from read-only file: {0}",bt instanceof Error?bt.message:"unknown"))}G=!1}})),n.subscriptions.push(s.commands.registerCommand("pr.pickOnVscodeDev",async ue=>{if(ue===void 0)return b.error("Unexpectedly received undefined when picking a PR.",a),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let ye;return ue instanceof er||ue instanceof oa?ye=ue.pullRequestModel:ye=ue,s.env.openExternal(s.Uri.parse(pc(ye)))})),n.subscriptions.push(s.commands.registerCommand("pr.exit",async ue=>{let ye;if(ue instanceof er||ue instanceof oa?ye=ue.pullRequestModel:ue===void 0?ye=await Br(e.folderManagers.map(Ae=>Ae.activePullRequest).filter(Ae=>!!Ae),Ae=>`${Ae.number}: ${Ae.title}`,{placeHolder:s.l10n.t("Choose the pull request to exit")}):ye=ue,!ye)return;const Te=ue instanceof Mn;return i.sendTelemetryEvent("pr.exit",{fromDescription:Te.toString()}),s.window.withProgress({location:s.ProgressLocation.SourceControl,title:s.l10n.t("Exiting Pull Request")},async()=>{var Ae;const Ue=await ye.githubRepository.getDefaultBranch(),We=e.getManagerForIssueModel(ye);if(We){const ze=(Ae=We.repository.state.HEAD)==null?void 0:Ae.name;await We.checkoutDefaultBranch(Ue),ze&&await We.cleanupAfterPullRequest(ze,ye)}})})),n.subscriptions.push(s.commands.registerCommand("pr.merge",async ue=>{const ye=e.getManagerForIssueModel(ue==null?void 0:ue.pullRequestModel);if(!ye)return;const Te=Ko(ye,ue);if(Te.base&&Te.head&&!Te.base.repositoryCloneUrl.equals(Te.head.repositoryCloneUrl)&&Wl())return la(Te,i);const We=s.l10n.t("Yes");return s.window.showWarningMessage(s.l10n.t("Are you sure you want to merge this pull request on GitHub?"),{modal:!0},We).then(async ze=>{let bt;if(ze===We)try{return bt=await ye.mergePullRequest(Te),bt}catch(It){return s.window.showErrorMessage(`Unable to merge pull request. ${he(It)}`),bt}})})),n.subscriptions.push(s.commands.registerCommand("pr.readyForReview",async ue=>{const ye=e.getManagerForIssueModel(ue==null?void 0:ue.pullRequestModel);if(!ye)return;const Te=Ko(ye,ue),Ae=s.l10n.t("Yes");return s.window.showWarningMessage(s.l10n.t("Are you sure you want to mark this pull request as ready to review on GitHub?"),{modal:!0},Ae).then(async Ue=>{let We;if(Ue===Ae)try{return We=(await Te.setReadyForReview()).isDraft,s.commands.executeCommand("pr.refreshList"),We}catch(ze){return s.window.showErrorMessage(`Unable to mark pull request as ready to review. ${he(ze)}`),We}})})),n.subscriptions.push(s.commands.registerCommand("pr.close",async(ue,ye)=>{let Te;if(ue)Te=ue instanceof Mn?ue:ue.pullRequestModel;else{const We=e.folderManagers.map(ze=>ze.activePullRequest).filter(ze=>!!ze);Te=await Br(We,ze=>`${ze.number}: ${ze.title}`,{placeHolder:s.l10n.t("Pull request to close")})}if(!Te)return;const Ae=Te,Ue=s.l10n.t("Yes");return s.window.showWarningMessage(s.l10n.t("Are you sure you want to close this pull request on GitHub? This will close the pull request without merging."),{modal:!0},Ue,s.l10n.t("No")).then(async We=>{if(We===Ue)try{let ze;ye&&(ze=await Ae.createIssueComment(ye));const bt=await Ae.close();return s.commands.executeCommand("pr.refreshList"),uu.fire(bt),ze}catch(ze){s.window.showErrorMessage(`Unable to close pull request. ${he(ze)}`),uu.fire()}uu.fire()})})),n.subscriptions.push(s.commands.registerCommand("pr.dismissNotification",ue=>{ue instanceof er&&r.notificationProvider.markPrNotificationsAsRead(ue.pullRequestModel).then(()=>r.refresh(ue))}));async function Q(ue){var ye,Te;let Ae;if(ue)ue instanceof oa||ue instanceof er?Ae=ue.pullRequestModel:Ae=ue;else{const bt=e.folderManagers.map(It=>It.activePullRequest).filter(It=>!!It);bt.length>=1&&(Ae=await Br(bt,It=>It.title))}if(!Ae){b.appendLine("No pull request found.",a);return}const Ue=(ye=e.getManagerForIssueModel(Ae))!=null?ye:e.folderManagers[0];let We;if(ue instanceof er)We=ue;else if(Ae instanceof Mn&&((Te=Ue.activePullRequest)!=null&&Te.equals(Ae))){const bt=br.getReviewManagerForFolderManager(t.reviewManagers,Ue);if(!bt)return;We=bt.changesInPrDataProvider.getDescriptionNode(Ue)}const ze=!(ue instanceof er);await Qo(i,Ae,We,Ue,ze,!(ue instanceof oa),r.notificationProvider)}n.subscriptions.push(s.commands.registerCommand("pr.openDescription",Q)),n.subscriptions.push(s.commands.registerCommand("issue.openDescription",Q)),n.subscriptions.push(s.commands.registerCommand("pr.refreshDescription",async()=>{Tr.currentPanel&&Tr.refresh()})),n.subscriptions.push(s.commands.registerCommand("pr.focusDescriptionInput",async()=>{Tr.currentPanel&&Tr.scrollToReview()})),n.subscriptions.push(s.commands.registerCommand("pr.openDescriptionToTheSide",async ue=>{const ye=e.getManagerForIssueModel(ue.pullRequestModel);if(!ye)return;const Te=ue.pullRequestModel,Ae=Ko(ye,Te);ue.reveal(ue,{select:!0,focus:!0}),Tr.createOrShow(i,n.extensionUri,ye,Ae,!0),i.sendTelemetryEvent("pr.openDescriptionToTheSide")})),n.subscriptions.push(s.commands.registerCommand("pr.showDiffSinceLastReview",async ue=>{ue.pullRequestModel.showChangesSinceReview=!0})),n.subscriptions.push(s.commands.registerCommand("pr.showDiffAll",async ue=>{ue.pullRequestModel.showChangesSinceReview=!1})),n.subscriptions.push(s.commands.registerCommand("pr.signin",async()=>{await e.authenticate()})),n.subscriptions.push(s.commands.registerCommand("pr.signinNoEnterprise",async()=>{await e.authenticate(!1)})),n.subscriptions.push(s.commands.registerCommand("pr.signinenterprise",async()=>{await e.authenticate(!0)})),n.subscriptions.push(s.commands.registerCommand("pr.deleteLocalBranchesNRemotes",async()=>{for(const ue of e.folderManagers)await ue.deleteLocalBranchesNRemotes()})),n.subscriptions.push(s.commands.registerCommand("pr.signinAndRefreshList",async()=>{await e.authenticate()&&s.commands.executeCommand("pr.refreshList")})),n.subscriptions.push(s.commands.registerCommand("pr.configureRemotes",async()=>s.commands.executeCommand("workbench.action.openSettings",`@ext:${wa} remotes`))),n.subscriptions.push(s.commands.registerCommand("pr.startReview",async ue=>{i.sendTelemetryEvent("pr.startReview");const ye=Rt(ue.thread);ye&&ye.startReview(ue.thread,ue.text)})),n.subscriptions.push(s.commands.registerCommand("pr.openReview",async ue=>{i.sendTelemetryEvent("pr.openReview");const ye=Rt(ue);ye&&await ye.openReview(ue)}));function re(ue){let ye,Te="";return ue instanceof En?ye=ue.parent:ai.is(ue)||sc.is(ue==null?void 0:ue.thread)?ye=ue.thread:ye=ue,{thread:ye,text:Te}}const le=async(ue,ye,Te)=>{if(ye?i.sendTelemetryEvent("pr.resolveReviewThread"):i.sendTelemetryEvent("pr.unresolveReviewThread"),!ue){const ze=qt();if(!ze){s.window.showErrorMessage(s.l10n.t("No active comment thread found"));return}ue=ze.commentController.activeCommentThread}const{thread:Ae,text:Ue}=re(ue),We=Rt(Ae);We&&(ye?await We.resolveReviewThread(Ae,Ue):(await We.unresolveReviewThread(Ae,Ue),Te&&Ae.reveal(void 0,{focus:s.CommentThreadFocus.Reply})))};n.subscriptions.push(s.commands.registerCommand("pr.resolveReviewThread",async ue=>le(ue,!0))),n.subscriptions.push(s.commands.registerCommand("pr.unresolveReviewThread",ue=>le(ue,!1,!1))),n.subscriptions.push(s.commands.registerCommand("pr.unresolveReviewThreadFromView",ue=>le(ue,!1,!0)));const ge=ue=>{const{path:ye,rootPath:Te}=Ur(ue.query),Ae=s.workspace.workspaceFolders[0];return s.Uri.joinPath(s.Uri.file(Te),ye).with({scheme:Ae.uri.scheme,authority:Ae.uri.authority})};n.subscriptions.push(s.commands.registerCommand("pr.diffOutdatedCommentWithHead",async ue=>{i.sendTelemetryEvent("pr.diffOutdatedCommentWithHead");const ye={};ye.selection=ue.range;const Te=L.basename(ue.uri.fsPath),{commit:Ae}=Ur(ue.uri.query);s.commands.executeCommand("vscode.diff",ue.uri,ge(ue.uri),`${Te} from ${(Ae||"").substr(0,8)} diffed with HEAD`,ye)})),n.subscriptions.push(s.commands.registerCommand("pr.createComment",async ue=>{i.sendTelemetryEvent("pr.createComment");const ye=Rt(ue.thread);ye&&ye.createOrReplyComment(ue.thread,ue.text,!1)})),n.subscriptions.push(s.commands.registerCommand("pr.createSingleComment",async ue=>{i.sendTelemetryEvent("pr.createSingleComment");const ye=Rt(ue.thread);ye&&ye.createOrReplyComment(ue.thread,ue.text,!0)})),n.subscriptions.push(s.commands.registerCommand("pr.makeSuggestion",async ue=>{var ye,Te;let Ae;if(ue===void 0?Ae=(ye=qt())==null?void 0:ye.commentController.activeCommentThread:Ae=ue instanceof En?ue.parent:ue==null?void 0:ue.thread,!(Ae!=null&&Ae.range))return;const Ue=Ae,We=((Te=s.window.activeTextEditor)==null?void 0:Te.document.uri.scheme)===$t.Comment?s.window.activeTextEditor:s.window.visibleTextEditors.find(ui=>ui.document.uri.scheme===$t.Comment&&ui.document.uri.query==="");if(!We){b.error("No comment editor visible for making a suggestion.",a),s.window.showErrorMessage(s.l10n.t("No available comment editor to make a suggestion in."));return}const ze=s.window.visibleTextEditors.find(ui=>ui.document.uri.toString()===Ue.uri.toString()),bt=ze==null?void 0:ze.document.getText(new s.Range(Ue.range.start.line,0,Ue.range.end.line,ze.document.lineAt(Ue.range.end.line).text.length)),It=We.document.lineAt(We.selection.end.line).range.end;return We.edit(ui=>{ui.insert(It,`
\`\`\`suggestion
${bt}
\`\`\``)})})),n.subscriptions.push(s.commands.registerCommand("pr.editComment",async ue=>{i.sendTelemetryEvent("pr.editComment"),ue.startEdit()})),n.subscriptions.push(s.commands.registerCommand("pr.editQuery",ue=>{if(i.sendTelemetryEvent("pr.editQuery"),ue.label!==void 0)return Wr(it,ue.label)})),n.subscriptions.push(s.commands.registerCommand("pr.cancelEditComment",async ue=>{i.sendTelemetryEvent("pr.cancelEditComment"),ue.cancelEdit()})),n.subscriptions.push(s.commands.registerCommand("pr.saveComment",async ue=>{i.sendTelemetryEvent("pr.saveComment");const ye=Rt(ue.parent);ye&&await ye.editComment(ue.parent,ue)})),n.subscriptions.push(s.commands.registerCommand("pr.deleteComment",async ue=>{i.sendTelemetryEvent("pr.deleteComment");const ye=s.l10n.t("Delete");if(await s.window.showWarningMessage(s.l10n.t("Are you sure you want to delete this comment?"),{modal:!0},ye)===ye){const Ae=Rt(ue.parent);Ae&&await Ae.deleteComment(ue.parent,ue)}})),n.subscriptions.push(s.commands.registerCommand("review.openFile",ue=>{var ye;const Te=ue instanceof zs?ue.openFileCommand():eu(ue);s.commands.executeCommand(Te.command,...(ye=Te.arguments)!=null?ye:[])})),n.subscriptions.push(s.commands.registerCommand("review.openLocalFile",ue=>{var ye,Te;const Ae=ue!=null?ue:(ye=s.window.activeTextEditor)==null?void 0:ye.document.uri;if(!Ae)return;const Ue=ge(Ae),We=s.window.visibleTextEditors.find(bt=>bt.document.uri.toString()===Ae.toString()),ze=eu(Ue,We?{selection:We.selection}:void 0);s.commands.executeCommand(ze.command,...(Te=ze.arguments)!=null?Te:[])})),n.subscriptions.push(s.commands.registerCommand("review.createSuggestionsFromChanges",async(ue,...ye)=>{let Te;if("resourceStates"in ue?Te=ue.resourceStates.map(We=>We.resourceUri):(Te=[ue.resourceUri],ye&&Te.push(...ye.map(We=>We.resourceUri))),Te.length===0)return;const Ae=e.getManagerForFile(Te[0]);if(!Ae||!Ae.activePullRequest)return;const Ue=br.getReviewManagerForFolderManager(t.reviewManagers,Ae);return Ue==null?void 0:Ue.createSuggestionsFromChanges(Te)})),n.subscriptions.push(s.commands.registerDiffInformationCommand("review.createSuggestionFromChange",async ue=>{const ye=s.window.tabGroups.activeTabGroup.activeTab,Te=ye==null?void 0:ye.input;if(!(Te instanceof s.TabInputTextDiff))return s.window.showErrorMessage(s.l10n.t("Current editor isn't a diff editor."));if(Te.original.scheme!==$t.Git)return s.window.showErrorMessage(s.l10n.t("Converting changes to suggestions can only be done from a git diff, not a pull request diff"),{modal:!0});const Ae=s.window.visibleTextEditors.find(It=>It.document.uri.toString()===Te.modified.toString());if(!Ae)return s.window.showErrorMessage(s.l10n.t("Unexpectedly unable to find the current modified editor."));const Ue=e.getManagerForFile(Te.modified);if(!Ue||!Ue.activePullRequest)return;const We=Ae.selection,ze=ue.filter(It=>!!We.intersection(new s.Selection(It.modifiedStartLineNumber-1,0,It.modifiedEndLineNumber-1,100)));if(ze.length===0)return s.window.showErrorMessage(s.l10n.t("No modified lines selected."));const bt=br.getReviewManagerForFolderManager(t.reviewManagers,Ue);return bt==null?void 0:bt.createSuggestionFromChange(Ae.document,ze)})),n.subscriptions.push(s.commands.registerCommand("pr.refreshChanges",ue=>{t.reviewManagers.forEach(ye=>{s.window.withProgress({location:{viewId:"prStatus:github"}},async()=>{await Promise.all([ye.repository.pull(!1),ye.updateComments()]),Tr.refresh(),ye.changesInPrDataProvider.refresh()})})})),n.subscriptions.push(s.commands.registerCommand("pr.setFileListLayoutAsTree",ue=>{s.workspace.getConfiguration(it).update(Ji,"tree",!0)})),n.subscriptions.push(s.commands.registerCommand("pr.setFileListLayoutAsFlat",ue=>{s.workspace.getConfiguration(it).update(Ji,"flat",!0)})),n.subscriptions.push(s.commands.registerCommand("pr.refreshPullRequest",ue=>{var ye;const Te=e.getManagerForIssueModel(ue.pullRequestModel);Te&&ue.pullRequestModel.equals(Te==null?void 0:Te.activePullRequest)&&((ye=br.getReviewManagerForFolderManager(t.reviewManagers,Te))==null||ye.updateComments()),Tr.refresh(),r.refresh(ue)}));const Re=(ue,ye)=>{var Te;if(ye.scheme===$t.Pr){const Ae=cn(ye);if(Ae)for(const Ue of(Te=ue==null?void 0:ue.gitHubRepositories)!=null?Te:[]){const We=Number(Ae.prNumber);if(Ue.pullRequestModels.has(We))return Ue.pullRequestModels.get(We)}}else return ue==null?void 0:ue.activePullRequest};n.subscriptions.push(s.commands.registerCommand("pr.markFileAsViewed",async ue=>{var ye;try{if(ue===void 0&&(ue=(ye=s.window.activeTextEditor)==null?void 0:ye.document.uri),ue instanceof cs)await ue.markFileAsViewed(!1);else if(ue){const Te=s.window.tabGroups.activeTabGroup.activeTab;if(Te){let We;Te.input instanceof s.TabInputTextDiff?We=Te.input.modified:Te.input instanceof s.TabInputText&&(We=Te.input.uri),We&&ue.toString()===We.toString()&&s.window.tabGroups.close(Te)}const Ae=e.getManagerForFile(ue),Ue=Re(Ae,ue);await(Ue==null?void 0:Ue.markFiles([ue.path],!0,"viewed")),Ae==null||Ae.setFileViewedContext()}}catch(Te){s.window.showErrorMessage(`Marked file as viewed failed: ${Te}`)}})),n.subscriptions.push(s.commands.registerCommand("pr.unmarkFileAsViewed",async ue=>{var ye;try{if(ue===void 0&&(ue=(ye=s.window.activeTextEditor)==null?void 0:ye.document.uri),ue instanceof cs)ue.unmarkFileAsViewed(!1);else if(ue){const Te=e.getManagerForFile(ue),Ae=Re(Te,ue);await(Ae==null?void 0:Ae.markFiles([ue.path],!0,"unviewed")),Te==null||Te.setFileViewedContext()}}catch(Te){s.window.showErrorMessage(`Marked file as not viewed failed: ${Te}`)}})),n.subscriptions.push(s.commands.registerCommand("pr.resetViewedFiles",async()=>{try{return e.folderManagers.map(async ue=>{var ye;await((ye=ue.activePullRequest)==null?void 0:ye.unmarkAllFilesAsViewed()),ue.setFileViewedContext()})}catch(ue){s.window.showErrorMessage(`Marked file as not viewed failed: ${ue}`)}})),n.subscriptions.push(s.commands.registerCommand("pr.collapseAllComments",()=>s.commands.executeCommand("workbench.action.collapseAllComments"))),n.subscriptions.push(s.commands.registerCommand("pr.copyCommentLink",ue=>{if(ue instanceof En)return s.env.clipboard.writeText(ue.rawComment.htmlUrl)})),n.subscriptions.push(s.commands.registerCommand("pr.copyVscodeDevPrLink",async()=>{const ue=e.folderManagers.map(Te=>Te.activePullRequest).filter(Te=>!!Te),ye=await Br(ue,Te=>`${Te.number}: ${Te.title}`,{placeHolder:s.l10n.t("Pull request to create a link for")});if(ye)return s.env.clipboard.writeText(pc(ye))})),n.subscriptions.push(s.commands.registerCommand("pr.checkoutByNumber",async()=>{var ue;const ye=[];for(const ze of e.folderManagers){const bt=await ze.getActiveGitHubRemotes(await ze.getGitHubRemotes()),It=ze.gitHubRepositories.filter(ui=>bt.find(pn=>pn.remoteName===ui.remote.remoteName));ye.push(...It.map(ui=>({manager:ze,repo:ui})))}const Te=await Br(ye,ze=>`${ze.repo.remote.owner}/${ze.repo.remote.repositoryName}`,{placeHolder:s.l10n.t("Which GitHub repository do you want to checkout the pull request from?")});if(!Te)return;const Ae=/^#?(\d*)$/,Ue=await s.window.showInputBox({ignoreFocusOut:!0,prompt:s.l10n.t("Enter the pull request number"),validateInput:ze=>{const bt=ze.match(Ae);if(!bt||bt.length!==2||Number.isNaN(Number(bt[1])))return s.l10n.t("Value must be a number")}});if(Ue===void 0||Ue==="#")return;const We=await Te.manager.fetchById(Te.repo,Number(Ue.match(Ae)[1]));if(We)return(ue=br.getReviewManagerForFolderManager(t.reviewManagers,Te.manager))==null?void 0:ue.switch(We)}));function Ie(){const ue=[];return e.folderManagers.forEach(ye=>{ue.push(...ye.gitHubRepositories)}),Br(ue,ye=>`${ye.remote.owner}/${ye.remote.repositoryName}`,{placeHolder:s.l10n.t("Which GitHub repository do you want to open?")})}n.subscriptions.push(s.commands.registerCommand("pr.openPullsWebsite",async()=>{const ue=await Ie();ue&&s.env.openExternal(D0(ue))})),n.subscriptions.push(s.commands.registerCommand("issues.openIssuesWebsite",async()=>{const ue=await Ie();ue&&s.env.openExternal(x0(ue))})),n.subscriptions.push(s.commands.registerCommand("pr.applySuggestion",async ue=>{i.sendTelemetryEvent("pr.applySuggestion");const ye=Rt(ue.parent);ye instanceof Ph&&ye.applySuggestion(ue)})),n.subscriptions.push(s.commands.registerCommand("pr.applySuggestionWithCopilot",async ue=>{i.sendTelemetryEvent("pr.applySuggestionWithCopilot");const ye=ue.parent;ye.collapsibleState=s.CommentThreadCollapsibleState.Collapsed;const Te=ue.body instanceof s.MarkdownString?ue.body.value:ue.body;await s.commands.executeCommand("vscode.editorChat.start",{initialRange:ye.range,message:Te,autoSend:!0})})),n.subscriptions.push(s.commands.registerCommand("pr.addFileComment",async()=>s.commands.executeCommand("workbench.action.addComment",{fileComment:!0}))),n.subscriptions.push(s.commands.registerCommand("pr.toggleEditorCommentingOn",async()=>{lt.executeCommand("workbench.action.toggleCommenting")})),n.subscriptions.push(s.commands.registerCommand("pr.toggleEditorCommentingOff",async()=>{lt.executeCommand("workbench.action.toggleCommenting")})),n.subscriptions.push(s.commands.registerCommand("review.diffWithPrHead",async ue=>{const ye=ue.fileName;let Te=ya(ue.resourceUri,ue.pullRequest,ue.pullRequest.base.sha,ue.pullRequest.head.sha,ue.fileName,!0,ue.status),Ae=ya(ue.resourceUri,ue.pullRequest,ue.pullRequest.base.sha,ue.pullRequest.head.sha,ue.fileName,!1,ue.status);return s.commands.executeCommand("vscode.diff",Te,Ae,`${ye} (Pull Request Compare Base with Head)`)})),n.subscriptions.push(s.commands.registerCommand("review.diffLocalWithPrHead",async ue=>{const ye=ue.fileName;let Te=ya(ue.resourceUri,ue.pullRequest,ue.pullRequest.base.sha,ue.pullRequest.head.sha,ue.fileName,!1,ue.status);return s.commands.executeCommand("vscode.diff",Te,ue.resourceUri,`${ye} (Pull Request Compare Head with Local)`)}));async function Oe(ue,ye){const Te=s.window.tabGroups.activeTabGroup.activeTab,Ae=Te==null?void 0:Te.input;if(!(Ae instanceof s.TabInputTextDiff))return s.window.showErrorMessage(s.l10n.t("Current editor isn't a diff editor."));const Ue=s.window.visibleTextEditors.find(Si=>Si.document.uri.toString()===Ae.modified.toString());if(!Ue)return s.window.showErrorMessage(s.l10n.t("Unexpectedly unable to find the current modified editor."));const We=Ue.document.uri;if(Ae.original.scheme!==$t.Review&&Ae.original.scheme!==$t.Pr)return s.window.showErrorMessage(s.l10n.t("Current file isn't a pull request diff."));const ze=Ue.selection.active,bt=ye?ue:ue.reverse();for(const Si of bt){const Vi=Si.modifiedEndLineNumber>Si.modifiedStartLineNumber?Si.modifiedEndLineNumber:Si.modifiedStartLineNumber+1,wr=new s.Range(Si.modifiedStartLineNumber?Si.modifiedStartLineNumber-1:Si.modifiedStartLineNumber,0,Vi,0);if(ye&&ze.line+1<Si.modifiedStartLineNumber){Ue.revealRange(wr),Ue.selection=new s.Selection(wr.start,wr.start);return}else if(!ye&&ze.line+1>Si.modifiedStartLineNumber){Ue.revealRange(wr),Ue.selection=new s.Selection(wr.start,wr.start);return}}if(Ae.original.scheme===$t.Pr)return s.window.showInformationMessage(s.l10n.t("No more diffs in this file. Check out the pull request to use this command across files."));const It=e.getManagerForFile(We);if(!It)return s.window.showErrorMessage(s.l10n.t("Unable to find a repository for pull request."));const ui=br.getReviewManagerForFolderManager(t.reviewManagers,It);if(!ui)return s.window.showErrorMessage(s.l10n.t("Cannot find active pull request."));if(!ui.reviewModel.hasLocalFileChanges||ui.reviewModel.localFileChanges.length===0)return s.window.showWarningMessage(s.l10n.t("Pull request data is not yet complete, please try again in a moment."));for(let Si=0;Si<ui.reviewModel.localFileChanges.length;Si++){const Vi=ye?Si:ui.reviewModel.localFileChanges.length-1-Si;if(ui.reviewModel.localFileChanges[Vi].changeModel.filePath.toString()===We.toString()){const gs=ye?Vi+1:Vi-1;if(ui.reviewModel.localFileChanges.length>gs){if(await ui.reviewModel.localFileChanges[gs].openDiff(It),!ye){const xd=s.window.visibleTextEditors.find(Fu=>Fu.document.uri.toString()===ui.reviewModel.localFileChanges[gs].changeModel.filePath.toString());if(xd){const Fu=await ui.reviewModel.localFileChanges[gs].changeModel.diffHunks(),bs=Fu[Fu.length-1],pv=bs.newLineNumber+bs.newLength,BR=pv>bs.newLineNumber?pv:bs.newLineNumber+1,Fd=new s.Range(bs.newLineNumber?bs.newLineNumber-1:bs.newLineNumber,0,BR,0);xd.revealRange(Fd),xd.selection=new s.Selection(Fd.start,Fd.start)}}return}}}const pn=ye?s.l10n.t("Go to first diff"):s.l10n.t("Go to last diff");return s.window.showInformationMessage(s.l10n.t("There are no more diffs in this pull request."),pn).then(Si=>{if(Si===pn)return ui.reviewModel.localFileChanges[ye?0:ui.reviewModel.localFileChanges.length-1].openDiff(It)})}n.subscriptions.push(s.commands.registerDiffInformationCommand("pr.goToNextDiffInPr",async ue=>{Oe(ue,!0)})),n.subscriptions.push(s.commands.registerDiffInformationCommand("pr.goToPreviousDiffInPr",async ue=>{Oe(ue,!1)})),n.subscriptions.push(s.commands.registerCommand("pr.refreshComments",async()=>{for(const ue of e.folderManagers)for(const ye of ue.gitHubRepositories)for(const Te of ye.pullRequestModels)Te[1].isResolved()&&Te[1].reviewThreadsCacheReady&&Te[1].initializeReviewThreadCache()})),n.subscriptions.push(s.commands.registerCommand("pr.closeRelatedEditors",xy)),n.subscriptions.push(s.commands.registerCommand("review.copyPrLink",async()=>{const ue=e.folderManagers.map(Te=>Te.activePullRequest).filter(Te=>!!Te),ye=await Br(ue,Te=>`${Te.number}: ${Te.title}`,{placeHolder:s.l10n.t("Pull request to create a link for")});if(ye)return s.env.clipboard.writeText(ye.html_url)}))}let Yo;const Oy={};function Ly(n){Yo=n.globalState}const Jh=(n,e)=>{if(!Yo)throw new Error("Persistent store not initialized.");return Yo.get(n+":"+e,Oy)},Zh=(n,e,t)=>{if(!Yo)throw new Error("Persistent store not initialized.");return Yo.update(n+":"+e,t)};var Xs=Kt(41566),Uy=Object.defineProperty,By=(n,e,t)=>e in n?Uy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Hc=(n,e,t)=>By(n,typeof e!="symbol"?e+"":e,t);class qy extends g{constructor(e){super(),this.baseReporter=e,Hc(this,"sharedProperties",{}),e&&this._register(e)}sendTelemetryEvent(e,t,i){var r;(r=this.baseReporter)==null||r.sendTelemetryEvent(e,{...this.sharedProperties,...t},i)}sendTelemetryErrorEvent(e,t,i){var r;(r=this.baseReporter)==null||r.sendTelemetryErrorEvent(e,{...this.sharedProperties,...t})}setSharedProperty(e,t){this.sharedProperties[e]=t}postEvent(e,t){const i={};for(const[r,a]of t)i[r]=a;this.sendTelemetryEvent(e,i)}}function Hy(){switch(s.env.uriScheme){case"vscode":return Xs.Z7.Public;case"vscode-insiders":return Xs.Z7.Insiders;case"vscode-exploration":return Xs.Z7.Internal;case"code-oss":return Xs.Z7.Team;default:return Xs.Z7.Public}}class Gy{constructor(){Hc(this,"initializePromise",Promise.resolve()),Hc(this,"initialFetch",Promise.resolve())}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,t){}getTreatmentVariableAsync(e,t){return Promise.resolve(void 0)}}async function $y(n,e){const t=n.extension.id,i=n.extension.packageJSON.name,r=n.extension.packageJSON.version,a=Hy();return i==="vscode-pull-request-github"?(0,Xs.M$)(t,r,a,e,n.globalState):new Gy}var Xo=Kt(65606);function cu(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof Xo=="object"&&Xo.version!==void 0?`Node.js/${Xo.version.substr(1)} (${Xo.platform}; ${Xo.arch})`:"<environment undetectable>"}var Vy=Kt(80811),jy="9.0.6",Wy=`octokit-endpoint.js/${jy} ${cu()}`,zy={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Wy},mediaType:{format:""}};function Ky(n){return n?Object.keys(n).reduce((e,t)=>(e[t.toLowerCase()]=n[t],e),{}):{}}function Qy(n){if(typeof n!="object"||n===null||Object.prototype.toString.call(n)!=="[object Object]")return!1;const e=Object.getPrototypeOf(n);if(e===null)return!0;const t=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Function.prototype.call(t)===Function.prototype.call(n)}function em(n,e){const t=Object.assign({},n);return Object.keys(e).forEach(i=>{Qy(e[i])?i in n?t[i]=em(n[i],e[i]):Object.assign(t,{[i]:e[i]}):Object.assign(t,{[i]:e[i]})}),t}function tm(n){for(const e in n)n[e]===void 0&&delete n[e];return n}function Gc(n,e,t){var r;if(typeof e=="string"){let[a,o]=e.split(" ");t=Object.assign(o?{method:a,url:o}:{url:a},t)}else t=Object.assign({},e);t.headers=Ky(t.headers),tm(t),tm(t.headers);const i=em(n||{},t);return t.url==="/graphql"&&(n&&((r=n.mediaType.previews)!=null&&r.length)&&(i.mediaType.previews=n.mediaType.previews.filter(a=>!i.mediaType.previews.includes(a)).concat(i.mediaType.previews)),i.mediaType.previews=(i.mediaType.previews||[]).map(a=>a.replace(/-preview/,""))),i}function Yy(n,e){const t=/\?/.test(n)?"&":"?",i=Object.keys(e);return i.length===0?n:n+t+i.map(r=>r==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${r}=${encodeURIComponent(e[r])}`).join("&")}var Xy=/\{[^{}}]+\}/g;function Jy(n){return n.replace(/(?:^\W+)|(?:(?<!\W)\W+$)/g,"").split(/,/)}function Zy(n){const e=n.match(Xy);return e?e.map(Jy).reduce((t,i)=>t.concat(i),[]):[]}function im(n,e){const t={__proto__:null};for(const i of Object.keys(n))e.indexOf(i)===-1&&(t[i]=n[i]);return t}function nm(n){return n.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function Js(n){return encodeURIComponent(n).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Jo(n,e,t){return e=n==="+"||n==="#"?nm(e):Js(e),t?Js(t)+"="+e:e}function Zs(n){return n!=null}function $c(n){return n===";"||n==="&"||n==="?"}function ew(n,e,t,i){var r=n[t],a=[];if(Zs(r)&&r!=="")if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")r=r.toString(),i&&i!=="*"&&(r=r.substring(0,parseInt(i,10))),a.push(Jo(e,r,$c(e)?t:""));else if(i==="*")Array.isArray(r)?r.filter(Zs).forEach(function(o){a.push(Jo(e,o,$c(e)?t:""))}):Object.keys(r).forEach(function(o){Zs(r[o])&&a.push(Jo(e,r[o],o))});else{const o=[];Array.isArray(r)?r.filter(Zs).forEach(function(v){o.push(Jo(e,v))}):Object.keys(r).forEach(function(v){Zs(r[v])&&(o.push(Js(v)),o.push(Jo(e,r[v].toString())))}),$c(e)?a.push(Js(t)+"="+o.join(",")):o.length!==0&&a.push(o.join(","))}else e===";"?Zs(r)&&a.push(Js(t)):r===""&&(e==="&"||e==="?")?a.push(Js(t)+"="):r===""&&a.push("");return a}function tw(n){return{expand:iw.bind(null,n)}}function iw(n,e){var t=["+","#",".","/",";","?","&"];return n=n.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(i,r,a){if(r){let v="";const I=[];if(t.indexOf(r.charAt(0))!==-1&&(v=r.charAt(0),r=r.substr(1)),r.split(/,/g).forEach(function(G){var Q=/([^:\*]*)(?::(\d+)|(\*))?/.exec(G);I.push(ew(e,v,Q[1],Q[2]||Q[3]))}),v&&v!=="+"){var o=",";return v==="?"?o="&":v!=="#"&&(o=v),(I.length!==0?v:"")+I.join(o)}else return I.join(",")}else return nm(a)}),n==="/"?n:n.replace(/\/$/,"")}function rm(n){var Q;let e=n.method.toUpperCase(),t=(n.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),i=Object.assign({},n.headers),r,a=im(n,["method","baseUrl","url","headers","request","mediaType"]);const o=Zy(t);t=tw(t).expand(a),/^http/.test(t)||(t=n.baseUrl+t);const v=Object.keys(n).filter(re=>o.includes(re)).concat("baseUrl"),I=im(a,v);if(!/application\/octet-stream/i.test(i.accept)&&(n.mediaType.format&&(i.accept=i.accept.split(/,/).map(re=>re.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${n.mediaType.format}`)).join(",")),t.endsWith("/graphql")&&(Q=n.mediaType.previews)!=null&&Q.length)){const re=i.accept.match(/(?<![\w-])[\w-]+(?=-preview)/g)||[];i.accept=re.concat(n.mediaType.previews).map(le=>{const ge=n.mediaType.format?`.${n.mediaType.format}`:"+json";return`application/vnd.github.${le}-preview${ge}`}).join(",")}return["GET","HEAD"].includes(e)?t=Yy(t,I):"data"in I?r=I.data:Object.keys(I).length&&(r=I),!i["content-type"]&&typeof r!="undefined"&&(i["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof r=="undefined"&&(r=""),Object.assign({method:e,url:t,headers:i},typeof r!="undefined"?{body:r}:null,n.request?{request:n.request}:null)}function nw(n,e,t){return rm(Gc(n,e,t))}function am(n,e){const t=Gc(n,e),i=nw.bind(null,t);return Object.assign(i,{DEFAULTS:t,defaults:am.bind(null,t),merge:Gc.bind(null,t),parse:rm})}var rw=am(null,zy);class sm extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var aw=Kt(83519),om=Kt.n(aw),sw=om()(n=>console.warn(n)),ow=om()(n=>console.warn(n)),Zo=class extends Error{constructor(n,e,t){super(n),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=e;let i;"headers"in t&&typeof t.headers!="undefined"&&(i=t.headers),"response"in t&&(this.response=t.response,i=t.response.headers);const r=Object.assign({},t.request);t.request.headers.authorization&&(r.headers=Object.assign({},t.request.headers,{authorization:t.request.headers.authorization.replace(/(?<! ) .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r,Object.defineProperty(this,"code",{get(){return sw(new sm("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),e}}),Object.defineProperty(this,"headers",{get(){return ow(new sm("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}},lw="8.4.1";function uw(n){if(typeof n!="object"||n===null||Object.prototype.toString.call(n)!=="[object Object]")return!1;const e=Object.getPrototypeOf(n);if(e===null)return!0;const t=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Function.prototype.call(t)===Function.prototype.call(n)}function cw(n){return n.arrayBuffer()}function lm(n){var v,I,G,Q;const e=n.request&&n.request.log?n.request.log:console,t=((v=n.request)==null?void 0:v.parseSuccessResponseBody)!==!1;(uw(n.body)||Array.isArray(n.body))&&(n.body=JSON.stringify(n.body));let i={},r,a,{fetch:o}=globalThis;if((I=n.request)!=null&&I.fetch&&(o=n.request.fetch),!o)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");return o(n.url,{method:n.method,body:n.body,redirect:(G=n.request)==null?void 0:G.redirect,headers:n.headers,signal:(Q=n.request)==null?void 0:Q.signal,...n.body&&{duplex:"half"}}).then(async re=>{a=re.url,r=re.status;for(const le of re.headers)i[le[0]]=le[1];if("deprecation"in i){const le=i.link&&i.link.match(/<([^<>]+)>; rel="deprecation"/),ge=le&&le.pop();e.warn(`[@octokit/request] "${n.method} ${n.url}" is deprecated. It is scheduled to be removed on ${i.sunset}${ge?`. See ${ge}`:""}`)}if(!(r===204||r===205)){if(n.method==="HEAD"){if(r<400)return;throw new Zo(re.statusText,r,{response:{url:a,status:r,headers:i,data:void 0},request:n})}if(r===304)throw new Zo("Not modified",r,{response:{url:a,status:r,headers:i,data:await Vc(re)},request:n});if(r>=400){const le=await Vc(re);throw new Zo(dw(le),r,{response:{url:a,status:r,headers:i,data:le},request:n})}return t?await Vc(re):re.body}}).then(re=>({status:r,url:a,headers:i,data:re})).catch(re=>{if(re instanceof Zo)throw re;if(re.name==="AbortError")throw re;let le=re.message;throw re.name==="TypeError"&&"cause"in re&&(re.cause instanceof Error?le=re.cause.message:typeof re.cause=="string"&&(le=re.cause)),new Zo(le,500,{request:n})})}async function Vc(n){const e=n.headers.get("content-type");return/application\/json/.test(e)?n.json().catch(()=>n.text()).catch(()=>""):!e||/^text\/|charset=utf-8$/.test(e)?n.text():cw(n)}function dw(n){if(typeof n=="string")return n;let e;return"documentation_url"in n?e=` - ${n.documentation_url}`:e="","message"in n?Array.isArray(n.errors)?`${n.message}: ${n.errors.map(JSON.stringify).join(", ")}${e}`:`${n.message}${e}`:`Unknown error: ${JSON.stringify(n)}`}function jc(n,e){const t=n.defaults(e);return Object.assign(function(r,a){const o=t.merge(r,a);if(!o.request||!o.request.hook)return lm(t.parse(o));const v=(I,G)=>lm(t.parse(t.merge(I,G)));return Object.assign(v,{endpoint:t,defaults:jc.bind(null,t)}),o.request.hook(v,o)},{endpoint:t,defaults:jc.bind(null,t)})}var Wc=jc(rw,{headers:{"user-agent":`octokit-request.js/${lw} ${cu()}`}}),fw="7.1.1";function hw(n){return`Request failed due to following response errors:
`+n.errors.map(e=>` - ${e.message}`).join(`
`)}var mw=class extends Error{constructor(n,e,t){super(hw(t)),this.request=n,this.headers=e,this.response=t,this.name="GraphqlResponseError",this.errors=t.errors,this.data=t.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},pw=["method","baseUrl","url","headers","request","query","mediaType"],vw=["query","method","url"],um=/\/api\/v3\/?$/;function gw(n,e,t){if(t){if(typeof e=="string"&&"query"in t)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const o in t)if(vw.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}const i=typeof e=="string"?Object.assign({query:e},t):e,r=Object.keys(i).reduce((o,v)=>pw.includes(v)?(o[v]=i[v],o):(o.variables||(o.variables={}),o.variables[v]=i[v],o),{}),a=i.baseUrl||n.endpoint.DEFAULTS.baseUrl;return um.test(a)&&(r.url=a.replace(um,"/api/graphql")),n(r).then(o=>{if(o.data.errors){const v={};for(const I of Object.keys(o.headers))v[I]=o.headers[I];throw new mw(r,v,o.data)}return o.data.data})}function zc(n,e){const t=n.defaults(e);return Object.assign((r,a)=>gw(t,r,a),{defaults:zc.bind(null,t),endpoint:t.endpoint})}var gE=zc(Wc,{headers:{"user-agent":`octokit-graphql.js/${fw} ${cu()}`},method:"POST",url:"/graphql"});function bw(n){return zc(n,{method:"POST",url:"/graphql"})}var yw=/^v1\./,ww=/^ghs_/,_w=/^ghu_/;async function kw(n){const e=n.split(/\./).length===3,t=yw.test(n)||ww.test(n),i=_w.test(n);return{type:"token",token:n,tokenType:e?"app":t?"installation":i?"user-to-server":"oauth"}}function Sw(n){return n.split(/\./).length===3?`bearer ${n}`:`token ${n}`}async function Rw(n,e,t,i){const r=e.endpoint.merge(t,i);return r.headers.authorization=Sw(n),e(r)}var Ew=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(kw.bind(null,e),{hook:Rw.bind(null,e)})},cm="5.2.0",dm=()=>{},Tw=console.warn.bind(console),Nw=console.error.bind(console),fm=`octokit-core.js/${cm} ${cu()}`,Cw=(vs=class{static defaults(e){return class extends this{constructor(...i){const r=i[0]||{};if(typeof e=="function"){super(e(r));return}super(Object.assign({},e,r,r.userAgent&&e.userAgent?{userAgent:`${r.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var r;const t=this.plugins;return r=class extends this{},r.plugins=t.concat(e.filter(o=>!t.includes(o))),r}constructor(e={}){const t=new Vy.Collection,i={baseUrl:Wc.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};if(i.headers["user-agent"]=e.userAgent?`${e.userAgent} ${fm}`:fm,e.baseUrl&&(i.baseUrl=e.baseUrl),e.previews&&(i.mediaType.previews=e.previews),e.timeZone&&(i.headers["time-zone"]=e.timeZone),this.request=Wc.defaults(i),this.graphql=bw(this.request).defaults(i),this.log=Object.assign({debug:dm,info:dm,warn:Tw,error:Nw},e.log),this.hook=t,e.authStrategy){const{authStrategy:a,...o}=e,v=a(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},e.auth));t.wrap("request",v.hook),this.auth=v}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const a=Ew(e.auth);t.wrap("request",a.hook),this.auth=a}const r=this.constructor;for(let a=0;a<r.plugins.length;++a)Object.assign(this,r.plugins[a](this,e))}},vs.VERSION=cm,vs.plugins=[],vs),Pw="4.0.1";function hm(n){n.hook.wrap("request",(e,t)=>{n.log.debug("request",t);const i=Date.now(),r=n.request.endpoint.parse(t),a=r.url.replace(t.baseUrl,"");return e(t).then(o=>(n.log.info(`${r.method} ${a} - ${o.status} in ${Date.now()-i}ms`),o)).catch(o=>{throw n.log.info(`${r.method} ${a} - ${o.status} in ${Date.now()-i}ms`),o})})}hm.VERSION=Pw;var Mw="11.4.4-cjs.2";function Aw(n){if(!n.data)return{...n,data:[]};if(!("total_count"in n.data&&!("url"in n.data)))return n;const t=n.data.incomplete_results,i=n.data.repository_selection,r=n.data.total_count;delete n.data.incomplete_results,delete n.data.repository_selection,delete n.data.total_count;const a=Object.keys(n.data)[0],o=n.data[a];return n.data=o,typeof t!="undefined"&&(n.data.incomplete_results=t),typeof i!="undefined"&&(n.data.repository_selection=i),n.data.total_count=r,n}function Kc(n,e,t){const i=typeof e=="function"?e.endpoint(t):n.request.endpoint(e,t),r=typeof e=="function"?e:n.request,a=i.method,o=i.headers;let v=i.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!v)return{done:!0};try{const I=await r({method:a,url:v,headers:o}),G=Aw(I);return v=((G.headers.link||"").match(/<([^<>]+)>;\s*rel="next"/)||[])[1],{value:G}}catch(I){if(I.status!==409)throw I;return v="",{value:{status:200,headers:{},data:[]}}}}})}}function mm(n,e,t,i){return typeof t=="function"&&(i=t,t=void 0),pm(n,[],Kc(n,e,t)[Symbol.asyncIterator](),i)}function pm(n,e,t,i){return t.next().then(r=>{if(r.done)return e;let a=!1;function o(){a=!0}return e=e.concat(i?i(r.value,o):r.value.data),a?e:pm(n,e,t,i)})}var bE=Object.assign(mm,{iterator:Kc}),Iw=null;function yE(n){return typeof n=="string"?Iw.includes(n):!1}function vm(n){return{paginate:Object.assign(mm.bind(null,n),{iterator:Kc.bind(null,n)})}}vm.VERSION=Mw;var gm="13.3.2-cjs.1",Dw={actions:{addCustomLabelsToSelfHostedRunnerForOrg:["POST /orgs/{org}/actions/runners/{runner_id}/labels"],addCustomLabelsToSelfHostedRunnerForRepo:["POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],addRepoAccessToSelfHostedRunnerGroupInOrg:["PUT /orgs/{org}/actions/runner-groups/{runner_group_id}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createEnvironmentVariable:["POST /repos/{owner}/{repo}/environments/{environment_name}/variables"],createOrUpdateEnvironmentSecret:["PUT /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createOrgVariable:["POST /orgs/{org}/actions/variables"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createRepoVariable:["POST /repos/{owner}/{repo}/actions/variables"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteActionsCacheById:["DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}"],deleteActionsCacheByKey:["DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],deleteEnvironmentVariable:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteRepoVariable:["DELETE /repos/{owner}/{repo}/actions/variables/{name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],forceCancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/force-cancel"],generateRunnerJitconfigForOrg:["POST /orgs/{org}/actions/runners/generate-jitconfig"],generateRunnerJitconfigForRepo:["POST /repos/{owner}/{repo}/actions/runners/generate-jitconfig"],getActionsCacheList:["GET /repos/{owner}/{repo}/actions/caches"],getActionsCacheUsage:["GET /repos/{owner}/{repo}/actions/cache/usage"],getActionsCacheUsageByRepoForOrg:["GET /orgs/{org}/actions/cache/usage-by-repository"],getActionsCacheUsageForOrg:["GET /orgs/{org}/actions/cache/usage"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getCustomOidcSubClaimForRepo:["GET /repos/{owner}/{repo}/actions/oidc/customization/sub"],getEnvironmentPublicKey:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],getEnvironmentVariable:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],getGithubActionsDefaultWorkflowPermissionsOrganization:["GET /orgs/{org}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/workflow"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getOrgVariable:["GET /orgs/{org}/actions/variables/{name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getRepoVariable:["GET /repos/{owner}/{repo}/actions/variables/{name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowAccessToRepository:["GET /repos/{owner}/{repo}/actions/permissions/access"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets"],listEnvironmentVariables:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listLabelsForSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}/labels"],listLabelsForSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listOrgVariables:["GET /orgs/{org}/actions/variables"],listRepoOrganizationSecrets:["GET /repos/{owner}/{repo}/actions/organization-secrets"],listRepoOrganizationVariables:["GET /repos/{owner}/{repo}/actions/organization-variables"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoVariables:["GET /repos/{owner}/{repo}/actions/variables"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedReposForOrgVariable:["GET /orgs/{org}/actions/variables/{name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunJobForWorkflowRun:["POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],reRunWorkflowFailedJobs:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs"],removeAllCustomLabelsFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels"],removeAllCustomLabelsFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}"],removeCustomLabelFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],reviewCustomGatesForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/deployment_protection_rule"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForOrg:["PUT /orgs/{org}/actions/runners/{runner_id}/labels"],setCustomLabelsForSelfHostedRunnerForRepo:["PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],setCustomOidcSubClaimForRepo:["PUT /repos/{owner}/{repo}/actions/oidc/customization/sub"],setGithubActionsDefaultWorkflowPermissionsOrganization:["PUT /orgs/{org}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/workflow"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedReposForOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"],setWorkflowAccessToRepository:["PUT /repos/{owner}/{repo}/actions/permissions/access"],updateEnvironmentVariable:["PATCH /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],updateOrgVariable:["PATCH /orgs/{org}/actions/variables/{name}"],updateRepoVariable:["PATCH /repos/{owner}/{repo}/actions/variables/{name}"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsDone:["DELETE /notifications/threads/{thread_id}"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallationRequestsForAuthenticatedApp:["GET /app/installation-requests"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubBillingUsageReportOrg:["GET /organizations/{org}/settings/billing/usage"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{commitAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix/commits"],createAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],createVariantAnalysis:["POST /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses"],deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],deleteCodeqlDatabase:["DELETE /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getAutofix:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],getCodeqlDatabase:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getDefaultSetup:["GET /repos/{owner}/{repo}/code-scanning/default-setup"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],getVariantAnalysis:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}"],getVariantAnalysisRepoTask:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}/repos/{repo_owner}/{repo_name}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForOrg:["GET /orgs/{org}/code-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listCodeqlDatabases:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],updateDefaultSetup:["PATCH /repos/{owner}/{repo}/code-scanning/default-setup"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codeSecurity:{attachConfiguration:["POST /orgs/{org}/code-security/configurations/{configuration_id}/attach"],attachEnterpriseConfiguration:["POST /enterprises/{enterprise}/code-security/configurations/{configuration_id}/attach"],createConfiguration:["POST /orgs/{org}/code-security/configurations"],createConfigurationForEnterprise:["POST /enterprises/{enterprise}/code-security/configurations"],deleteConfiguration:["DELETE /orgs/{org}/code-security/configurations/{configuration_id}"],deleteConfigurationForEnterprise:["DELETE /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],detachConfiguration:["DELETE /orgs/{org}/code-security/configurations/detach"],getConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}"],getConfigurationForRepository:["GET /repos/{owner}/{repo}/code-security-configuration"],getConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations"],getConfigurationsForOrg:["GET /orgs/{org}/code-security/configurations"],getDefaultConfigurations:["GET /orgs/{org}/code-security/configurations/defaults"],getDefaultConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/defaults"],getRepositoriesForConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}/repositories"],getRepositoriesForEnterpriseConfiguration:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}/repositories"],getSingleConfigurationForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],setConfigurationAsDefault:["PUT /orgs/{org}/code-security/configurations/{configuration_id}/defaults"],setConfigurationAsDefaultForEnterprise:["PUT /enterprises/{enterprise}/code-security/configurations/{configuration_id}/defaults"],updateConfiguration:["PATCH /orgs/{org}/code-security/configurations/{configuration_id}"],updateEnterpriseConfiguration:["PATCH /enterprises/{enterprise}/code-security/configurations/{configuration_id}"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},codespaces:{addRepositoryForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],checkPermissionsForDevcontainer:["GET /repos/{owner}/{repo}/codespaces/permissions_check"],codespaceMachinesForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/machines"],createForAuthenticatedUser:["POST /user/codespaces"],createOrUpdateOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],createOrUpdateSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}"],createWithPrForAuthenticatedUser:["POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces"],createWithRepoForAuthenticatedUser:["POST /repos/{owner}/{repo}/codespaces"],deleteForAuthenticatedUser:["DELETE /user/codespaces/{codespace_name}"],deleteFromOrganization:["DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}"],deleteOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],deleteSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}"],exportForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/exports"],getCodespacesForUserInOrg:["GET /orgs/{org}/members/{username}/codespaces"],getExportDetailsForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/exports/{export_id}"],getForAuthenticatedUser:["GET /user/codespaces/{codespace_name}"],getOrgPublicKey:["GET /orgs/{org}/codespaces/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}"],getPublicKeyForAuthenticatedUser:["GET /user/codespaces/secrets/public-key"],getRepoPublicKey:["GET /repos/{owner}/{repo}/codespaces/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],getSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}"],listDevcontainersInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/devcontainers"],listForAuthenticatedUser:["GET /user/codespaces"],listInOrganization:["GET /orgs/{org}/codespaces",{},{renamedParameters:{org_id:"org"}}],listInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces"],listOrgSecrets:["GET /orgs/{org}/codespaces/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/codespaces/secrets"],listRepositoriesForSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}/repositories"],listSecretsForAuthenticatedUser:["GET /user/codespaces/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],preFlightWithRepoForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/new"],publishForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/publish"],removeRepositoryForSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],repoMachinesForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/machines"],setRepositoriesForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],startForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/start"],stopForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/stop"],stopInOrganization:["POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop"],updateForAuthenticatedUser:["PATCH /user/codespaces/{codespace_name}"]},copilot:{addCopilotSeatsForTeams:["POST /orgs/{org}/copilot/billing/selected_teams"],addCopilotSeatsForUsers:["POST /orgs/{org}/copilot/billing/selected_users"],cancelCopilotSeatAssignmentForTeams:["DELETE /orgs/{org}/copilot/billing/selected_teams"],cancelCopilotSeatAssignmentForUsers:["DELETE /orgs/{org}/copilot/billing/selected_users"],copilotMetricsForOrganization:["GET /orgs/{org}/copilot/metrics"],copilotMetricsForTeam:["GET /orgs/{org}/team/{team_slug}/copilot/metrics"],getCopilotOrganizationDetails:["GET /orgs/{org}/copilot/billing"],getCopilotSeatDetailsForUser:["GET /orgs/{org}/members/{username}/copilot"],listCopilotSeats:["GET /orgs/{org}/copilot/billing/seats"],usageMetricsForOrg:["GET /orgs/{org}/copilot/usage"],usageMetricsForTeam:["GET /orgs/{org}/team/{team_slug}/copilot/usage"]},dependabot:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],getAlert:["GET /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"],getOrgPublicKey:["GET /orgs/{org}/dependabot/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}"],getRepoPublicKey:["GET /repos/{owner}/{repo}/dependabot/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/dependabot/alerts"],listAlertsForOrg:["GET /orgs/{org}/dependabot/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/dependabot/alerts"],listOrgSecrets:["GET /orgs/{org}/dependabot/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/dependabot/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],updateAlert:["PATCH /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"]},dependencyGraph:{createRepositorySnapshot:["POST /repos/{owner}/{repo}/dependency-graph/snapshots"],diffRange:["GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}"],exportSbom:["GET /repos/{owner}/{repo}/dependency-graph/sbom"]},emojis:{get:["GET /emojis"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],addSubIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],checkUserCanBeAssignedToIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],listSubIssues:["GET /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],removeSubIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/sub_issue"],reprioritizeSubIssue:["PATCH /repos/{owner}/{repo}/issues/{issue_number}/sub_issues/priority"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getAllVersions:["GET /versions"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"]},oidc:{getOidcCustomSubTemplateForOrg:["GET /orgs/{org}/actions/oidc/customization/sub"],updateOidcCustomSubTemplateForOrg:["PUT /orgs/{org}/actions/oidc/customization/sub"]},orgs:{addSecurityManagerTeam:["PUT /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.addSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#add-a-security-manager-team"}],assignTeamToOrgRole:["PUT /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],assignUserToOrgRole:["PUT /orgs/{org}/organization-roles/users/{username}/{role_id}"],blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createOrUpdateCustomProperties:["PATCH /orgs/{org}/properties/schema"],createOrUpdateCustomPropertiesValuesForRepos:["PATCH /orgs/{org}/properties/values"],createOrUpdateCustomProperty:["PUT /orgs/{org}/properties/schema/{custom_property_name}"],createWebhook:["POST /orgs/{org}/hooks"],delete:["DELETE /orgs/{org}"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],enableOrDisableSecurityProductOnAllOrgRepos:["POST /orgs/{org}/{security_product}/{enablement}",{},{deprecated:"octokit.rest.orgs.enableOrDisableSecurityProductOnAllOrgRepos() is deprecated, see https://docs.github.com/rest/orgs/orgs#enable-or-disable-a-security-feature-for-an-organization"}],get:["GET /orgs/{org}"],getAllCustomProperties:["GET /orgs/{org}/properties/schema"],getCustomProperty:["GET /orgs/{org}/properties/schema/{custom_property_name}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getOrgRole:["GET /orgs/{org}/organization-roles/{role_id}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listAttestations:["GET /orgs/{org}/attestations/{subject_digest}"],listBlockedUsers:["GET /orgs/{org}/blocks"],listCustomPropertiesValuesForRepos:["GET /orgs/{org}/properties/values"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOrgRoleTeams:["GET /orgs/{org}/organization-roles/{role_id}/teams"],listOrgRoleUsers:["GET /orgs/{org}/organization-roles/{role_id}/users"],listOrgRoles:["GET /orgs/{org}/organization-roles"],listOrganizationFineGrainedPermissions:["GET /orgs/{org}/organization-fine-grained-permissions"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPatGrantRepositories:["GET /orgs/{org}/personal-access-tokens/{pat_id}/repositories"],listPatGrantRequestRepositories:["GET /orgs/{org}/personal-access-token-requests/{pat_request_id}/repositories"],listPatGrantRequests:["GET /orgs/{org}/personal-access-token-requests"],listPatGrants:["GET /orgs/{org}/personal-access-tokens"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listSecurityManagerTeams:["GET /orgs/{org}/security-managers",{},{deprecated:"octokit.rest.orgs.listSecurityManagerTeams() is deprecated, see https://docs.github.com/rest/orgs/security-managers#list-security-manager-teams"}],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeCustomProperty:["DELETE /orgs/{org}/properties/schema/{custom_property_name}"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],removeSecurityManagerTeam:["DELETE /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.removeSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#remove-a-security-manager-team"}],reviewPatGrantRequest:["POST /orgs/{org}/personal-access-token-requests/{pat_request_id}"],reviewPatGrantRequestsInBulk:["POST /orgs/{org}/personal-access-token-requests"],revokeAllOrgRolesTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}"],revokeAllOrgRolesUser:["DELETE /orgs/{org}/organization-roles/users/{username}"],revokeOrgRoleTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],revokeOrgRoleUser:["DELETE /orgs/{org}/organization-roles/users/{username}/{role_id}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updatePatAccess:["POST /orgs/{org}/personal-access-tokens/{pat_id}"],updatePatAccesses:["POST /orgs/{org}/personal-access-tokens"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listDockerMigrationConflictingPackagesForAuthenticatedUser:["GET /user/docker/conflicts"],listDockerMigrationConflictingPackagesForOrganization:["GET /orgs/{org}/docker/conflicts"],listDockerMigrationConflictingPackagesForUser:["GET /users/{username}/docker/conflicts"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},privateRegistries:{createOrgPrivateRegistry:["POST /orgs/{org}/private-registries"],deleteOrgPrivateRegistry:["DELETE /orgs/{org}/private-registries/{secret_name}"],getOrgPrivateRegistry:["GET /orgs/{org}/private-registries/{secret_name}"],getOrgPublicKey:["GET /orgs/{org}/private-registries/public-key"],listOrgPrivateRegistries:["GET /orgs/{org}/private-registries"],updateOrgPrivateRegistry:["PATCH /orgs/{org}/private-registries/{secret_name}"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}"],createCard:["POST /projects/columns/{column_id}/cards"],createColumn:["POST /projects/{project_id}/columns"],createForAuthenticatedUser:["POST /user/projects"],createForOrg:["POST /orgs/{org}/projects"],createForRepo:["POST /repos/{owner}/{repo}/projects"],delete:["DELETE /projects/{project_id}"],deleteCard:["DELETE /projects/columns/cards/{card_id}"],deleteColumn:["DELETE /projects/columns/{column_id}"],get:["GET /projects/{project_id}"],getCard:["GET /projects/columns/cards/{card_id}"],getColumn:["GET /projects/columns/{column_id}"],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission"],listCards:["GET /projects/columns/{column_id}/cards"],listCollaborators:["GET /projects/{project_id}/collaborators"],listColumns:["GET /projects/{project_id}/columns"],listForOrg:["GET /orgs/{org}/projects"],listForRepo:["GET /repos/{owner}/{repo}/projects"],listForUser:["GET /users/{username}/projects"],moveCard:["POST /projects/columns/cards/{card_id}/moves"],moveColumn:["POST /projects/columns/{column_id}/moves"],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}"],update:["PATCH /projects/{project_id}"],updateCard:["PATCH /projects/columns/cards/{card_id}"],updateColumn:["PATCH /projects/columns/{column_id}"]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForRelease:["GET /repos/{owner}/{repo}/releases/{release_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],cancelPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}/cancel"],checkAutomatedSecurityFixes:["GET /repos/{owner}/{repo}/automated-security-fixes"],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkPrivateVulnerabilityReporting:["GET /repos/{owner}/{repo}/private-vulnerability-reporting"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],codeownersErrors:["GET /repos/{owner}/{repo}/codeowners/errors"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAttestation:["POST /repos/{owner}/{repo}/attestations"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentBranchPolicy:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],createDeploymentProtectionRule:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateCustomPropertiesValues:["PATCH /repos/{owner}/{repo}/properties/values"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createOrgRuleset:["POST /orgs/{org}/rulesets"],createPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createRepoRuleset:["POST /repos/{owner}/{repo}/rulesets"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteDeploymentBranchPolicy:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deleteOrgRuleset:["DELETE /orgs/{org}/rulesets/{ruleset_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteRepoRuleset:["DELETE /repos/{owner}/{repo}/rulesets/{ruleset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableDeploymentProtectionRule:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],disablePrivateVulnerabilityReporting:["DELETE /repos/{owner}/{repo}/private-vulnerability-reporting"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enablePrivateVulnerabilityReporting:["PUT /repos/{owner}/{repo}/private-vulnerability-reporting"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllDeploymentProtectionRules:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics"],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getBranchRules:["GET /repos/{owner}/{repo}/rules/branches/{branch}"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getCustomDeploymentProtectionRule:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],getCustomPropertiesValues:["GET /repos/{owner}/{repo}/properties/values"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentBranchPolicy:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getOrgRuleSuite:["GET /orgs/{org}/rulesets/rule-suites/{rule_suite_id}"],getOrgRuleSuites:["GET /orgs/{org}/rulesets/rule-suites"],getOrgRuleset:["GET /orgs/{org}/rulesets/{ruleset_id}"],getOrgRulesets:["GET /orgs/{org}/rulesets"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesDeployment:["GET /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getRepoRuleSuite:["GET /repos/{owner}/{repo}/rulesets/rule-suites/{rule_suite_id}"],getRepoRuleSuites:["GET /repos/{owner}/{repo}/rulesets/rule-suites"],getRepoRuleset:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}"],getRepoRulesets:["GET /repos/{owner}/{repo}/rulesets"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listActivities:["GET /repos/{owner}/{repo}/activity"],listAttestations:["GET /repos/{owner}/{repo}/attestations/{subject_digest}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listCustomDeploymentRuleIntegrations:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/apps"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentBranchPolicies:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics"],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateDeploymentBranchPolicy:["PUT /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updateOrgRuleset:["PUT /orgs/{org}/rulesets/{ruleset_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateRepoRuleset:["PUT /repos/{owner}/{repo}/rulesets/{ruleset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics"],users:["GET /search/users"]},secretScanning:{createPushProtectionBypass:["POST /repos/{owner}/{repo}/secret-scanning/push-protection-bypasses"],getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],getScanHistory:["GET /repos/{owner}/{repo}/secret-scanning/scan-history"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/secret-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],listLocationsForAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},securityAdvisories:{createFork:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/forks"],createPrivateVulnerabilityReport:["POST /repos/{owner}/{repo}/security-advisories/reports"],createRepositoryAdvisory:["POST /repos/{owner}/{repo}/security-advisories"],createRepositoryAdvisoryCveRequest:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/cve"],getGlobalAdvisory:["GET /advisories/{ghsa_id}"],getRepositoryAdvisory:["GET /repos/{owner}/{repo}/security-advisories/{ghsa_id}"],listGlobalAdvisories:["GET /advisories"],listOrgRepositoryAdvisories:["GET /orgs/{org}/security-advisories"],listRepositoryAdvisories:["GET /repos/{owner}/{repo}/security-advisories"],updateRepositoryAdvisory:["PATCH /repos/{owner}/{repo}/security-advisories/{ghsa_id}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}"],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}"],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects"],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],addSocialAccountForAuthenticatedUser:["POST /user/social_accounts"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],createSshSigningKeyForAuthenticatedUser:["POST /user/ssh_signing_keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],deleteSocialAccountForAuthenticatedUser:["DELETE /user/social_accounts"],deleteSshSigningKeyForAuthenticatedUser:["DELETE /user/ssh_signing_keys/{ssh_signing_key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getById:["GET /user/{account_id}"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],getSshSigningKeyForAuthenticatedUser:["GET /user/ssh_signing_keys/{ssh_signing_key_id}"],list:["GET /users"],listAttestations:["GET /users/{username}/attestations/{subject_digest}"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],listSocialAccountsForAuthenticatedUser:["GET /user/social_accounts"],listSocialAccountsForUser:["GET /users/{username}/social_accounts"],listSshSigningKeysForAuthenticatedUser:["GET /user/ssh_signing_keys"],listSshSigningKeysForUser:["GET /users/{username}/ssh_signing_keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},xw=Dw,fs=new Map;for(const[n,e]of Object.entries(xw))for(const[t,i]of Object.entries(e)){const[r,a,o]=i,[v,I]=r.split(/ /),G=Object.assign({method:v,url:I},a);fs.has(n)||fs.set(n,new Map),fs.get(n).set(t,{scope:n,methodName:t,endpointDefaults:G,decorations:o})}var Fw={has({scope:n},e){return fs.get(n).has(e)},getOwnPropertyDescriptor(n,e){return{value:this.get(n,e),configurable:!0,writable:!0,enumerable:!0}},defineProperty(n,e,t){return Object.defineProperty(n.cache,e,t),!0},deleteProperty(n,e){return delete n.cache[e],!0},ownKeys({scope:n}){return[...fs.get(n).keys()]},set(n,e,t){return n.cache[e]=t},get({octokit:n,scope:e,cache:t},i){if(t[i])return t[i];const r=fs.get(e).get(i);if(!r)return;const{endpointDefaults:a,decorations:o}=r;return o?t[i]=Ow(n,e,i,a,o):t[i]=n.request.defaults(a),t[i]}};function bm(n){const e={};for(const t of fs.keys())e[t]=new Proxy({octokit:n,scope:t,cache:{}},Fw);return e}function Ow(n,e,t,i,r){const a=n.request.defaults(i);function o(...v){let I=a.endpoint.merge(...v);if(r.mapToData)return I=Object.assign({},I,{data:I[r.mapToData],[r.mapToData]:void 0}),a(I);if(r.renamed){const[G,Q]=r.renamed;n.log.warn(`octokit.${e}.${t}() has been renamed to octokit.${G}.${Q}()`)}if(r.deprecated&&n.log.warn(r.deprecated),r.renamedParameters){const G=a.endpoint.merge(...v);for(const[Q,re]of Object.entries(r.renamedParameters))Q in G&&(n.log.warn(`"${Q}" parameter is deprecated for "octokit.${e}.${t}()". Use "${re}" instead`),re in G||(G[re]=G[Q]),delete G[Q]);return a(G)}return a(...v)}return Object.assign(o,a)}function Lw(n){return{rest:bm(n)}}Lw.VERSION=gm;function ym(n){const e=bm(n);return{...e,rest:e}}ym.VERSION=gm;var Uw="20.1.2",Bw=Cw.plugin(hm,ym,vm).defaults({userAgent:`octokit-rest.js/${Uw}`});function qw(n){var e={kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:du(n)},t={kind:"Document",definitions:[e]};return t}function Hw(n,e){var t={kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:e||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:du(n)},i={kind:"Document",definitions:[t]};return i}function du(n){if(typeof n=="number"||typeof n=="boolean"||typeof n=="string"||typeof n=="undefined"||n===null)return null;if(Array.isArray(n))return du(n[0]);var e=[];Object.keys(n).forEach(function(i){var r=du(n[i]),a={kind:"Field",name:{kind:"Name",value:i},selectionSet:r||void 0};e.push(a)});var t={kind:"SelectionSet",selections:e};return t}var Gw={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},$w=function(){function n(){}return n.prototype.transformDocument=function(e){return e},n.prototype.transformForLink=function(e){return e},n.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},n.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.read({query:Cl(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},n.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},n.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Cl(e.fragment,e.fragmentName)})},n.prototype.writeData=function(e){var t=e.id,i=e.data;if(typeof t!="undefined"){var r=null;try{r=this.read({rootId:t,optimistic:!1,query:Gw})}catch{}var a=r&&r.__typename||"__ClientData",o=Object.assign({__typename:a},i);this.writeFragment({id:t,fragment:Hw(o,a),data:o})}else this.writeQuery({query:qw(i),data:i})},n}(),wm;wm||(wm={});var Hn=null,_m={},Vw=1,jw=function(){return function(){function n(){this.id=["slot",Vw++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return n.prototype.hasValue=function(){for(var e=Hn;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===_m)break;return e!==Hn&&(Hn.slots[this.id]=t),!0}return Hn&&(Hn.slots[this.id]=_m),!1},n.prototype.getValue=function(){if(this.hasValue())return Hn.slots[this.id]},n.prototype.withValue=function(e,t,i,r){var a,o=(a={__proto__:null},a[this.id]=e,a),v=Hn;Hn={parent:v,slots:o};try{return t.apply(r,i)}finally{Hn=v}},n.bind=function(e){var t=Hn;return function(){var i=Hn;try{return Hn=t,e.apply(this,arguments)}finally{Hn=i}}},n.noContext=function(e,t,i){if(Hn){var r=Hn;try{return Hn=null,e.apply(i,t)}finally{Hn=r}}else return e.apply(i,t)},n}()},Qc="@wry/context:Slot",Yc=Array,Xc=Yc[Qc]||function(){var n=jw();try{Object.defineProperty(Yc,Qc,{value:Yc[Qc]=n,enumerable:!1,writable:!1,configurable:!1})}finally{return n}}(),Jc=Xc.bind,Ww=Xc.noContext;function wE(n,e){return setTimeout(Jc(n),e)}function _E(n){return function(){var e=n.apply(this,arguments),t=Jc(e.next),i=Jc(e.throw);return new Promise(function(r,a){function o(G,Q){try{var re=G.call(e,Q)}catch(ge){return a(ge)}var le=re.done?r:v;zw(re.value)?re.value.then(le,re.done?a:I):le(re.value)}var v=function(G){return o(t,G)},I=function(G){return o(i,G)};v()})}}function zw(n){return n&&typeof n.then=="function"}var km=null;function kE(n){if(km.indexOf(n)<0){var e=function(t,i){var r=t[i];t[i]=function(){return Ww(r,arguments,this)}};e(n,"yield"),e(n.prototype,"run"),e(n.prototype,"throwInto"),km.push(n)}return n}function Kw(){}var Qw=function(){function n(e,t){e===void 0&&(e=1/0),t===void 0&&(t=Kw),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return n.prototype.has=function(e){return this.map.has(e)},n.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},n.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var i=t.older,r=t.newer;r&&(r.older=i),i&&(i.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},n.prototype.set=function(e,t){var i=this.getEntry(e);return i?i.value=t:(i={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(e,i),i.value)},n.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},n.prototype.delete=function(e){var t=this.map.get(e);return t?(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0):!1},n}(),fu=new Xc,Yw=[],Zc=[],Xw=100;function eo(n,e){if(!n)throw new Error(e||"assertion failure")}function Jw(n,e){var t=n.length;return t>0&&t===e.length&&n[t-1]===e[t-1]}function Sm(n){switch(n.length){case 0:throw new Error("unknown value");case 1:return n[0];case 2:throw n[1]}}function Zw(n){return n.slice(0)}var e_=function(){function n(e,t){this.fn=e,this.args=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++n.count}return n.prototype.recompute=function(){if(eo(!this.recomputing,"already recomputing"),!(!t_(this)&&ed(this)))return to(this)?i_(this):Sm(this.value)},n.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Rm(this),td(this))},n.prototype.dispose=function(){var e=this;Pm(this).forEach(ed),td(this),this.parents.forEach(function(t){t.setDirty(),Mm(t,e)})},n.count=0,n}();function t_(n){var e=fu.getValue();if(e)return n.parents.add(e),e.childValues.has(n)||e.childValues.set(n,[]),to(n)?Tm(e,n):Nm(e,n),e}function i_(n){var e=Pm(n);return fu.withValue(n,n_,[n]),a_(n)&&r_(n),e.forEach(ed),Sm(n.value)}function n_(n){n.recomputing=!0,n.value.length=0;try{n.value[0]=n.fn.apply(null,n.args)}catch(e){n.value[1]=e}n.recomputing=!1}function to(n){return n.dirty||!!(n.dirtyChildren&&n.dirtyChildren.size)}function r_(n){n.dirty=!1,!to(n)&&Em(n)}function Rm(n){n.parents.forEach(function(e){return Tm(e,n)})}function Em(n){n.parents.forEach(function(e){return Nm(e,n)})}function Tm(n,e){if(eo(n.childValues.has(e)),eo(to(e)),!n.dirtyChildren)n.dirtyChildren=Zc.pop()||new Set;else if(n.dirtyChildren.has(e))return;n.dirtyChildren.add(e),Rm(n)}function Nm(n,e){eo(n.childValues.has(e)),eo(!to(e));var t=n.childValues.get(e);t.length===0?n.childValues.set(e,Zw(e.value)):Jw(t,e.value)||n.setDirty(),Cm(n,e),!to(n)&&Em(n)}function Cm(n,e){var t=n.dirtyChildren;t&&(t.delete(e),t.size===0&&(Zc.length<Xw&&Zc.push(t),n.dirtyChildren=null))}function ed(n){return n.parents.size===0&&typeof n.reportOrphan=="function"&&n.reportOrphan()===!0}function Pm(n){var e=Yw;return n.childValues.size>0&&(e=[],n.childValues.forEach(function(t,i){Mm(n,i),e.push(i)})),eo(n.dirtyChildren===null),e}function Mm(n,e){e.parents.delete(n),n.childValues.delete(e),Cm(n,e)}function a_(n){if(typeof n.subscribe=="function")try{td(n),n.unsubscribe=n.subscribe.apply(null,n.args)}catch{return n.setDirty(),!1}return!0}function td(n){var e=n.unsubscribe;typeof e=="function"&&(n.unsubscribe=void 0,e())}var id=function(){function n(e){this.weakness=e}return n.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},n.prototype.lookupArray=function(e){var t=this;return e.forEach(function(i){return t=t.getChildTrie(i)}),t.data||(t.data=Object.create(null))},n.prototype.getChildTrie=function(e){var t=this.weakness&&s_(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=t.get(e);return i||t.set(e,i=new n(this.weakness)),i},n}();function s_(n){switch(typeof n){case"object":if(n===null)break;case"function":return!0}return!1}var o_=new id(typeof WeakMap=="function");function l_(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return o_.lookupArray(n)}var nd=new Set;function el(n,e){e===void 0&&(e=Object.create(null));var t=new Qw(e.max||Math.pow(2,16),function(o){return o.dispose()}),i=!!e.disposable,r=e.makeCacheKey||l_;function a(){if(!(i&&!fu.hasValue())){var o=r.apply(null,arguments);if(o===void 0)return n.apply(null,arguments);var v=Array.prototype.slice.call(arguments),I=t.get(o);I?I.args=v:(I=new e_(n,v),t.set(o,I),I.subscribe=e.subscribe,i&&(I.reportOrphan=function(){return t.delete(o)}));var G=I.recompute();return t.set(o,I),nd.add(t),fu.hasValue()||(nd.forEach(function(Q){return Q.clean()}),nd.clear()),i?void 0:G}}return a.dirty=function(){var o=r.apply(null,arguments),v=o!==void 0&&t.get(o);v&&v.setDirty()},a}var Am=!1;function Im(){var n=!Am;return Xu()||(Am=!0),n}var u_=function(){function n(){}return n.prototype.ensureReady=function(){return Promise.resolve()},n.prototype.canBypassInit=function(){return!0},n.prototype.match=function(e,t,i){var r=i.store.get(e.id),a=e.id==="ROOT_QUERY";if(!r)return a;var o=r.__typename,v=o===void 0?a&&"Query":o;return v&&v===t?!0:(Im(),"heuristic")},n}(),SE=function(){function n(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return n.prototype.match=function(e,t,i){xi(this.isReady,1);var r=i.store.get(e.id),a=e.id==="ROOT_QUERY";if(!r)return a;var o=r.__typename,v=o===void 0?a&&"Query":o;if(xi(v,2),v===t)return!0;var I=this.possibleTypesMap[t];return!!(v&&I&&I.indexOf(v)>-1)},n.prototype.parseIntrospectionResult=function(e){var t={};return e.__schema.types.forEach(function(i){(i.kind==="UNION"||i.kind==="INTERFACE")&&(t[i.name]=i.possibleTypes.map(function(r){return r.name}))}),t},n}(),Dm=Object.prototype.hasOwnProperty,io=function(){function n(e){var t=this;e===void 0&&(e=Object.create(null)),this.data=e,this.depend=el(function(i){return t.data[i]},{disposable:!0,makeCacheKey:function(i){return i}})}return n.prototype.toObject=function(){return this.data},n.prototype.get=function(e){return this.depend(e),this.data[e]},n.prototype.set=function(e,t){var i=this.data[e];t!==i&&(this.data[e]=t,this.depend.dirty(e))},n.prototype.delete=function(e){Dm.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},n.prototype.clear=function(){this.replace(null)},n.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach(function(i){t.set(i,e[i])}),Object.keys(this.data).forEach(function(i){Dm.call(e,i)||t.delete(i)})):Object.keys(this.data).forEach(function(i){t.delete(i)})},n}();function xm(n){return new io(n)}var c_=function(){function n(e){var t=this,i=e===void 0?{}:e,r=i.cacheKeyRoot,a=r===void 0?new id(Ku):r,o=i.freezeResults,v=o===void 0?!1:o,I=this,G=I.executeStoreQuery,Q=I.executeSelectionSet,re=I.executeSubSelectedArray;this.freezeResults=v,this.executeStoreQuery=el(function(le){return G.call(t,le)},{makeCacheKey:function(le){var ge=le.query,Re=le.rootValue,Ie=le.contextValue,Oe=le.variableValues,ue=le.fragmentMatcher;if(Ie.store instanceof io)return a.lookup(Ie.store,ge,ue,JSON.stringify(Oe),Re.id)}}),this.executeSelectionSet=el(function(le){return Q.call(t,le)},{makeCacheKey:function(le){var ge=le.selectionSet,Re=le.rootValue,Ie=le.execContext;if(Ie.contextValue.store instanceof io)return a.lookup(Ie.contextValue.store,ge,Ie.fragmentMatcher,JSON.stringify(Ie.variableValues),Re.id)}}),this.executeSubSelectedArray=el(function(le){return re.call(t,le)},{makeCacheKey:function(le){var ge=le.field,Re=le.array,Ie=le.execContext;if(Ie.contextValue.store instanceof io)return a.lookup(Ie.contextValue.store,ge,Re,JSON.stringify(Ie.variableValues))}})}return n.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(_t(_t({},e),{returnPartialData:!1})).result},n.prototype.diffQueryAgainstStore=function(e){var t=e.store,i=e.query,r=e.variables,a=e.previousResult,o=e.returnPartialData,v=o===void 0?!0:o,I=e.rootId,G=I===void 0?"ROOT_QUERY":I,Q=e.fragmentMatcherFunction,re=e.config,le=Gi(i);r=Co({},wn(le),r);var ge={store:t,dataIdFromObject:re&&re.dataIdFromObject,cacheRedirects:re&&re.cacheRedirects||{}},Re=this.executeStoreQuery({query:i,rootValue:{type:"id",id:G,generated:!0,typename:"Query"},contextValue:ge,variableValues:r,fragmentMatcher:Q}),Ie=Re.missing&&Re.missing.length>0;return Ie&&!v&&Re.missing.forEach(function(Oe){if(!Oe.tolerable)throw new Nn(8)}),a&&Se(a,Re.result)&&(Re.result=a),{result:Re.result,complete:!Ie}},n.prototype.executeStoreQuery=function(e){var t=e.query,i=e.rootValue,r=e.contextValue,a=e.variableValues,o=e.fragmentMatcher,v=o===void 0?d_:o,I=yn(t),G=Ei(t),Q=hn(G),re={query:t,fragmentMap:Q,contextValue:r,variableValues:a,fragmentMatcher:v};return this.executeSelectionSet({selectionSet:I.selectionSet,rootValue:i,execContext:re})},n.prototype.executeSelectionSet=function(e){var t=this,i=e.selectionSet,r=e.rootValue,a=e.execContext,o=a.fragmentMap,v=a.contextValue,I=a.variableValues,G={result:null},Q=[],re=v.store.get(r.id),le=re&&re.__typename||r.id==="ROOT_QUERY"&&"Query"||void 0;function ge(Re){var Ie;return Re.missing&&(G.missing=G.missing||[],(Ie=G.missing).push.apply(Ie,Re.missing)),Re.result}return i.selections.forEach(function(Re){var Ie;if(Za(Re,I))if(gr(Re)){var Oe=ge(t.executeField(re,le,Re,a));typeof Oe!="undefined"&&Q.push((Ie={},Ie[ea(Re)]=Oe,Ie))}else{var ue=void 0;if(As(Re))ue=Re;else if(ue=o[Re.name.value],!ue)throw new Nn(9);var ye=ue.typeCondition&&ue.typeCondition.name.value,Te=!ye||a.fragmentMatcher(r,ye,v);if(Te){var Ae=t.executeSelectionSet({selectionSet:ue.selectionSet,rootValue:r,execContext:a});Te==="heuristic"&&Ae.missing&&(Ae=_t(_t({},Ae),{missing:Ae.missing.map(function(Ue){return _t(_t({},Ue),{tolerable:!0})})})),Q.push(ge(Ae))}}}),G.result=Zu(Q),this.freezeResults,G},n.prototype.executeField=function(e,t,i,r){var a=r.variableValues,o=r.contextValue,v=i.name.value,I=Ms(i,a),G={resultKey:ea(i),directives:No(i,a)},Q=f_(e,t,v,I,o,G);return Array.isArray(Q.result)?this.combineExecResults(Q,this.executeSubSelectedArray({field:i,array:Q.result,execContext:r})):i.selectionSet?Q.result==null?Q:this.combineExecResults(Q,this.executeSelectionSet({selectionSet:i.selectionSet,rootValue:Q.result,execContext:r})):(Fm(i,Q.result),this.freezeResults,Q)},n.prototype.combineExecResults=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i;return e.forEach(function(r){r.missing&&(i=i||[],i.push.apply(i,r.missing))}),{result:e.pop().result,missing:i}},n.prototype.executeSubSelectedArray=function(e){var t=this,i=e.field,r=e.array,a=e.execContext,o;function v(I){return I.missing&&(o=o||[],o.push.apply(o,I.missing)),I.result}return r=r.map(function(I){return I===null?null:Array.isArray(I)?v(t.executeSubSelectedArray({field:i,array:I,execContext:a})):i.selectionSet?v(t.executeSelectionSet({selectionSet:i.selectionSet,rootValue:I,execContext:a})):(Fm(i,I),I)}),this.freezeResults,{result:r,missing:o}},n}();function Fm(n,e){if(!n.selectionSet&&Is(e))throw new Nn(10)}function d_(){return!0}function RE(n){invariant(isIdValue(n),11)}function f_(n,e,t,i,r,a){var o=a.resultKey,v=a.directives,I=t;(i||v)&&(I=Sl(I,i,v));var G=void 0;if(n&&(G=n[I],typeof G=="undefined"&&r.cacheRedirects&&typeof e=="string")){var Q=r.cacheRedirects[e];if(Q){var re=Q[t];re&&(G=re(n,i,{getCacheKey:function(le){var ge=r.dataIdFromObject(le);return ge&&Ja({id:ge,typename:le.__typename})}}))}}return typeof G=="undefined"?{result:G,missing:[{object:n,fieldName:I,tolerable:!1}]}:(Eo(G)&&(G=G.json),{result:G})}var hu=function(){function n(e){e===void 0&&(e=Object.create(null)),this.data=e}return n.prototype.toObject=function(){return this.data},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){this.data[e]=t},n.prototype.delete=function(e){this.data[e]=void 0},n.prototype.clear=function(){this.data=Object.create(null)},n.prototype.replace=function(e){this.data=e||Object.create(null)},n}();function EE(n){return new hu(n)}var h_=function(n){Bn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="WriteError",t}return e}(Error);function m_(n,e){var t=new h_(`Error writing result to store for query:
 `+JSON.stringify(e));return t.message+=`
`+n.message,t.stack=n.stack,t}var p_=function(){function n(){}return n.prototype.writeQueryToStore=function(e){var t=e.query,i=e.result,r=e.store,a=r===void 0?xm():r,o=e.variables,v=e.dataIdFromObject,I=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:i,document:t,store:a,variables:o,dataIdFromObject:v,fragmentMatcherFunction:I})},n.prototype.writeResultToStore=function(e){var t=e.dataId,i=e.result,r=e.document,a=e.store,o=a===void 0?xm():a,v=e.variables,I=e.dataIdFromObject,G=e.fragmentMatcherFunction,Q=Ct(r);try{return this.writeSelectionSetToStore({result:i,dataId:t,selectionSet:Q.selectionSet,context:{store:o,processedData:{},variables:Co({},wn(Q),v),dataIdFromObject:I,fragmentMap:hn(Ei(r)),fragmentMatcherFunction:G}})}catch(re){throw m_(re,r)}},n.prototype.writeSelectionSetToStore=function(e){var t=this,i=e.result,r=e.dataId,a=e.selectionSet,o=e.context,v=o.variables,I=o.store,G=o.fragmentMap;return a.selections.forEach(function(Q){var re;if(Za(Q,v))if(gr(Q)){var le=ea(Q),ge=i[le];if(typeof ge!="undefined")t.writeFieldToStore({dataId:r,value:ge,field:Q,context:o});else{var Re=!1,Ie=!1;Q.directives&&Q.directives.length&&(Re=Q.directives.some(function(We){return We.name&&We.name.value==="defer"}),Ie=Q.directives.some(function(We){return We.name&&We.name.value==="client"})),!Re&&!Ie&&o.fragmentMatcherFunction}}else{var Oe=void 0;As(Q)?Oe=Q:(Oe=(G||{})[Q.name.value],xi(Oe,3));var ue=!0;if(o.fragmentMatcherFunction&&Oe.typeCondition){var ye=r||"self",Te=Ja({id:ye,typename:void 0}),Ae={store:new hu((re={},re[ye]=i,re)),cacheRedirects:{}},Ue=o.fragmentMatcherFunction(Te,Oe.typeCondition.name.value,Ae);tf(),ue=!!Ue}ue&&t.writeSelectionSetToStore({result:i,selectionSet:Oe.selectionSet,dataId:r,context:o})}}),I},n.prototype.writeFieldToStore=function(e){var t,i=e.field,r=e.value,a=e.dataId,o=e.context,v=o.variables,I=o.dataIdFromObject,G=o.store,Q,re,le=Da(i,v);if(!i.selectionSet||r===null)Q=r!=null&&typeof r=="object"?{type:"json",json:r}:r;else if(Array.isArray(r)){var ge=a+"."+le;Q=this.processArrayValue(r,ge,i.selectionSet,o)}else{var Re=a+"."+le,Ie=!0;if(rd(Re)||(Re="$"+Re),I){var Oe=I(r);xi(!Oe||!rd(Oe),4),(Oe||typeof Oe=="number"&&Oe===0)&&(Re=Oe,Ie=!1)}Lm(Re,i,o.processedData)||this.writeSelectionSetToStore({dataId:Re,result:r,selectionSet:i.selectionSet,context:o});var ue=r.__typename;Q=Ja({id:Re,typename:ue},Ie),re=G.get(a);var ye=re&&re[le];if(ye!==Q&&Is(ye)){var Te=ye.typename!==void 0,Ae=ue!==void 0,Ue=Te&&Ae&&ye.typename!==ue;xi(!Ie||ye.generated||Ue,5),xi(!Te||Ae,6),ye.generated&&(Ue?Ie||G.delete(ye.id):Om(ye.id,Q.id,G))}}re=G.get(a),(!re||!Se(Q,re[le]))&&G.set(a,_t(_t({},re),(t={},t[le]=Q,t)))},n.prototype.processArrayValue=function(e,t,i,r){var a=this;return e.map(function(o,v){if(o===null)return null;var I=t+"."+v;if(Array.isArray(o))return a.processArrayValue(o,I,i,r);var G=!0;if(r.dataIdFromObject){var Q=r.dataIdFromObject(o);Q&&(I=Q,G=!1)}return Lm(I,i,r.processedData)||a.writeSelectionSetToStore({dataId:I,result:o,selectionSet:i,context:r}),Ja({id:I,typename:o.__typename},G)})},n}();function rd(n){return n[0]==="$"}function Om(n,e,t){if(n===e)return!1;var i=t.get(n),r=t.get(e),a=!1;Object.keys(i).forEach(function(v){var I=i[v],G=r[v];Is(I)&&rd(I.id)&&Is(G)&&!Se(I,G)&&Om(I.id,G.id,t)&&(a=!0)}),t.delete(n);var o=_t(_t({},i),r);return Se(o,r)?a:(t.set(e,o),!0)}function Lm(n,e,t){if(!t)return!1;if(t[n]){if(t[n].indexOf(e)>=0)return!0;t[n].push(e)}else t[n]=[e];return!1}var v_={fragmentMatcher:new u_,dataIdFromObject:g_,addTypename:!0,resultCaching:!0,freezeResults:!1};function g_(n){if(n.__typename){if(n.id!==void 0)return n.__typename+":"+n.id;if(n._id!==void 0)return n.__typename+":"+n._id}return null}var b_=Object.prototype.hasOwnProperty,Um=function(n){Bn(e,n);function e(t,i,r){var a=n.call(this,Object.create(null))||this;return a.optimisticId=t,a.parent=i,a.transaction=r,a}return e.prototype.toObject=function(){return _t(_t({},this.parent.toObject()),this.data)},e.prototype.get=function(t){return b_.call(this.data,t)?this.data[t]:this.parent.get(t)},e}(hu),y_=function(n){Bn(e,n);function e(t){t===void 0&&(t={});var i=n.call(this)||this;i.watches=new Set,i.typenameDocumentCache=new Map,i.cacheKeyRoot=new id(Ku),i.silenceBroadcast=!1,i.config=_t(_t({},v_),t),i.config.customResolvers&&(i.config.cacheRedirects=i.config.customResolvers),i.config.cacheResolvers&&(i.config.cacheRedirects=i.config.cacheResolvers),i.addTypename=!!i.config.addTypename,i.data=i.config.resultCaching?new io:new hu,i.optimisticData=i.data,i.storeWriter=new p_,i.storeReader=new c_({cacheKeyRoot:i.cacheKeyRoot,freezeResults:t.freezeResults});var r=i,a=r.maybeBroadcastWatch;return i.maybeBroadcastWatch=el(function(o){return a.call(i,o)},{makeCacheKey:function(o){if(!o.optimistic&&!o.previousResult&&r.data instanceof io)return r.cacheKeyRoot.lookup(o.query,JSON.stringify(o.variables))}}),i}return e.prototype.restore=function(t){return t&&this.data.replace(t),this},e.prototype.extract=function(t){return t===void 0&&(t=!1),(t?this.optimisticData:this.data).toObject()},e.prototype.read=function(t){if(typeof t.rootId=="string"&&typeof this.data.get(t.rootId)=="undefined")return null;var i=this.config.fragmentMatcher,r=i&&i.match;return this.storeReader.readQueryFromStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,rootId:t.rootId,fragmentMatcherFunction:r,previousResult:t.previousResult,config:this.config})||null},e.prototype.write=function(t){var i=this.config.fragmentMatcher,r=i&&i.match;this.storeWriter.writeResultToStore({dataId:t.dataId,result:t.result,variables:t.variables,document:this.transformDocument(t.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:r}),this.broadcastWatches()},e.prototype.diff=function(t){var i=this.config.fragmentMatcher,r=i&&i.match;return this.storeReader.diffQueryAgainstStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,returnPartialData:t.returnPartialData,previousResult:t.previousResult,fragmentMatcherFunction:r,config:this.config})},e.prototype.watch=function(t){var i=this;return this.watches.add(t),function(){i.watches.delete(t)}},e.prototype.evict=function(t){throw new Nn(7)},e.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){for(var i=[],r=0,a=this.optimisticData;a instanceof Um;)a.optimisticId===t?++r:i.push(a),a=a.parent;if(r>0){for(this.optimisticData=a;i.length>0;){var o=i.pop();this.performTransaction(o.transaction,o.optimisticId)}this.broadcastWatches()}},e.prototype.performTransaction=function(t,i){var r=this,a=r.data,o=r.silenceBroadcast;this.silenceBroadcast=!0,typeof i=="string"&&(this.data=this.optimisticData=new Um(i,this.optimisticData,t));try{t(this)}finally{this.silenceBroadcast=o,this.data=a}this.broadcastWatches()},e.prototype.recordOptimisticTransaction=function(t,i){return this.performTransaction(t,i)},e.prototype.transformDocument=function(t){if(this.addTypename){var i=this.typenameDocumentCache.get(t);return i||(i=Mv(t),this.typenameDocumentCache.set(t,i),this.typenameDocumentCache.set(i,i)),i}return t},e.prototype.broadcastWatches=function(){var t=this;this.silenceBroadcast||this.watches.forEach(function(i){return t.maybeBroadcastWatch(i)})},e.prototype.maybeBroadcastWatch=function(t){t.callback(this.diff({query:t.query,variables:t.variables,previousResult:t.previousResult&&t.previousResult(),optimistic:t.optimistic}))},e}($w);function w_(n){return new Lr(function(e,t){var i=Yr(e,[]);return new ar(function(r){var a;return Promise.resolve(i).then(function(o){return n(o,e.getContext())}).then(e.setContext).then(function(){a=t(e).subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)})}).catch(r.error.bind(r)),function(){a&&a.unsubscribe()}})})}var __=Kt(70585),k_={includeQuery:!0,includeExtensions:!1},S_={accept:"*/*","content-type":"application/json"},R_={method:"POST"},E_={http:k_,headers:S_,options:R_},Bm=function(n,e,t){var i=new Error(t);throw i.name="ServerError",i.response=n,i.statusCode=n.status,i.result=e,i},T_=function(n){return function(e){return e.text().then(function(t){try{return JSON.parse(t)}catch(r){var i=r;return i.name="ServerParseError",i.response=e,i.statusCode=e.status,i.bodyText=t,Promise.reject(i)}}).then(function(t){return e.status>=300&&Bm(e,t,"Response not successful: Received status code "+e.status),!Array.isArray(t)&&!t.hasOwnProperty("data")&&!t.hasOwnProperty("errors")&&Bm(e,t,"Server response was missing for query '"+(Array.isArray(n)?n.map(function(i){return i.operationName}):n.operationName)+"'."),t})}},N_=function(n){if(!n&&typeof fetch=="undefined"){var e="unfetch";throw typeof window=="undefined"&&(e="node-fetch"),new Nn(1)}},C_=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var n=new AbortController,e=n.signal;return{controller:n,signal:e}},P_=function(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];var r=_t({},e.options,{headers:e.headers,credentials:e.credentials}),a=e.http;t.forEach(function(re){r=_t({},r,re.options,{headers:_t({},r.headers,re.headers)}),re.credentials&&(r.credentials=re.credentials),a=_t({},a,re.http)});var o=n.operationName,v=n.extensions,I=n.variables,G=n.query,Q={operationName:o,variables:I};return a.includeExtensions&&(Q.extensions=v),a.includeQuery&&(Q.query=(0,__.y)(G)),{options:r,body:Q}},ad=function(n,e){var t;try{t=JSON.stringify(n)}catch(r){var i=new Nn(2);throw i.parseError=r,i}return t},M_=function(n,e){var t=n.getContext(),i=t.uri;return i||(typeof e=="function"?e(n):e||"/graphql")},qm=function(n){n===void 0&&(n={});var e=n.uri,t=e===void 0?"/graphql":e,i=n.fetch,r=n.includeExtensions,a=n.useGETForQueries,o=Yr(n,["uri","fetch","includeExtensions","useGETForQueries"]);N_(i),i||(i=fetch);var v={http:{includeExtensions:r},options:o.fetchOptions,credentials:o.credentials,headers:o.headers};return new Lr(function(I){var G=M_(I,t),Q=I.getContext(),re={};if(Q.clientAwareness){var le=Q.clientAwareness,ge=le.name,Re=le.version;ge&&(re["apollographql-client-name"]=ge),Re&&(re["apollographql-client-version"]=Re)}var Ie=_t({},re,Q.headers),Oe={http:Q.http,options:Q.fetchOptions,credentials:Q.credentials,headers:Ie},ue=P_(I,E_,v,Oe),ye=ue.options,Te=ue.body,Ae;if(!ye.signal){var Ue=C_(),We=Ue.controller,ze=Ue.signal;Ae=We,Ae&&(ye.signal=ze)}var bt=function(Si){return Si.kind==="OperationDefinition"&&Si.operation==="mutation"};if(a&&!I.query.definitions.some(bt)&&(ye.method="GET"),ye.method==="GET"){var It=A_(G,Te),ui=It.newURI,pn=It.parseError;if(pn)return lf(pn);G=ui}else try{ye.body=ad(Te,"Payload")}catch(Si){return lf(Si)}return new ar(function(Si){return i(G,ye).then(function(Vi){return I.setContext({response:Vi}),Vi}).then(T_(I)).then(function(Vi){return Si.next(Vi),Si.complete(),Vi}).catch(function(Vi){Vi.name!=="AbortError"&&(Vi.result&&Vi.result.errors&&Vi.result.data&&Si.next(Vi.result),Si.error(Vi))}),function(){Ae&&Ae.abort()}})})};function A_(n,e){var t=[],i=function(re,le){t.push(re+"="+encodeURIComponent(le))};if("query"in e&&i("query",e.query),e.operationName&&i("operationName",e.operationName),e.variables){var r=void 0;try{r=ad(e.variables,"Variables map")}catch(re){return{parseError:re}}i("variables",r)}if(e.extensions){var a=void 0;try{a=ad(e.extensions,"Extensions map")}catch(re){return{parseError:re}}i("extensions",a)}var o="",v=n,I=n.indexOf("#");I!==-1&&(o=n.substr(I),v=n.substr(0,I));var G=v.indexOf("?")===-1?"?":"&",Q=v+G+t.join("&")+o;return{newURI:Q}}var TE=function(n){Bn(e,n);function e(t){return n.call(this,qm(t).request)||this}return e}(Lr),I_=Object.defineProperty,D_=(n,e,t)=>e in n?I_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gn=(n,e,t)=>D_(n,typeof e!="symbol"?e+"":e,t);const Hm=s.l10n.t("Try again?"),x_=s.l10n.t("Cancel"),Gm=s.l10n.t("Sign In"),F_=s.l10n.t("Don't Show Again"),$m=s.l10n.t("prompt for sign in"),Vm="login",O_=["read:user","user:email","repo"],ua=["read:user","user:email","repo","workflow"],Ba=["read:user","user:email","repo","workflow","project","read:org"],jm="githubPullRequest.lastUsedScopes",Wm="githubPullRequest.lastUsedScopesEnterprise",zm=class _r extends g{constructor(e,t){super(),this._telemetry=e,this.context=t,Gn(this,"_githubAPI"),Gn(this,"_sessionId"),Gn(this,"_githubEnterpriseAPI"),Gn(this,"_enterpriseSessionId"),Gn(this,"_isInitialized",!1),Gn(this,"_onDidInitialize",new s.EventEmitter),Gn(this,"onDidInitialize",this._onDidInitialize.event),Gn(this,"_scopes",ua),Gn(this,"_scopesEnterprise",ua),Gn(this,"_isSamling",!1),Gn(this,"_onDidChangeSessions",new s.EventEmitter),Gn(this,"onDidChangeSessions",this._onDidChangeSessions.event),Gn(this,"_onDidGetSession",new s.EventEmitter),Gn(this,"onDidGetSession",this._onDidGetSession.event),Gn(this,"_onDidUpgradeSession",new s.EventEmitter),Gn(this,"onDidUpgradeSession",this._onDidUpgradeSession.event),this.setScopesFromState(),this._register(s.authentication.onDidChangeSessions(i=>this.handlOnDidChangeSessions(i)))}async handlOnDidChangeSessions(e){var t;const i=e.provider.id===li.github&&this._githubAPI?li.github:e.provider.id===li.githubEnterprise&&this._githubEnterpriseAPI?li.githubEnterprise:void 0;if((this._githubAPI||this._githubEnterpriseAPI)&&!i)return;if(i){if(((t=(await this.getSession(i,{silent:!0},i===li.github?this._scopes:this._scopesEnterprise,!0)).session)==null?void 0:t.id)===this._sessionId)return;i===li.github?(this._githubAPI=void 0,this._sessionId=void 0):(this._githubEnterpriseAPI=void 0,this._enterpriseSessionId=void 0)}const r=[];this.isAuthenticated(li.github)||r.push(this.initialize(li.github)),!this.isAuthenticated(li.githubEnterprise)&&Cr()&&r.push(this.initialize(li.githubEnterprise)),await Promise.all(r),this.isAnyAuthenticated()?this._onDidGetSession.fire():this._isSamling||this._onDidChangeSessions.fire(e)}allScopesIncluded(e,t){return t.every(i=>e.includes(i))}setScopesFromState(){this._scopes=this.context.globalState.get(jm,ua),this._scopesEnterprise=this.context.globalState.get(Wm,ua)}async saveScopesInState(){await this.context.globalState.update(jm,this._scopes),await this.context.globalState.update(Wm,this._scopesEnterprise)}async initialize(e,t={},i=Jn(e)?this._scopesEnterprise:this._scopes,r){if(b.debug(`Initializing GitHub${mu(e)} authentication provider.`,"Authentication"),Jn(e)&&!Cr())return b.debug("GitHub Enterprise provider selected without URI.","Authentication"),{canceled:!1};t.createIfNone===void 0&&t.forceNewSession===void 0&&(t.createIfNone=!1);let a,o=!1,v=ua;const I=this._scopes,G=this._scopesEnterprise,Q={canceled:!1};try{Jn(e)?this._scopesEnterprise=i:this._scopes=i;const re=await this.getSession(e,t,i,!!r);v=re.scopes,a=re.session,o=re.isNew}catch(re){this._scopes=I,this._scopesEnterprise=G;const le=re.message==="User did not consent to login.";if(le&&(Q.canceled=!0),!(t.forceNewSession&&le))throw re}if(a){Jn(e)?this._enterpriseSessionId=a.id:this._sessionId=a.id;let re;try{re=await this.createHub(a.accessToken,e)}catch(le){if(le.message==="Bad credentials"&&!t.forceNewSession)return b.debug(`Creating hub failed ${le.message}`,_r.ID),t.forceNewSession=!0,t.silent=!1,this.initialize(e,t,i,r);console.log(le),b.error(`Creating hub failed ${le.message}`,_r.ID),s.window.showErrorMessage(s.l10n.t("Unable to sign in with the provided credentials"))}return Jn(e)?(b.debug("Setting enterprise hub and scopes",_r.ID),this._githubEnterpriseAPI=re,this._scopesEnterprise=v):(b.debug("Setting hub and scopes",_r.ID),this._githubAPI=re,this._scopes=v),await this.saveScopesInState(),(!this._isInitialized||o&&!this._isSamling)&&(this._isInitialized=!0,this._onDidInitialize.fire()),o&&this._telemetry.sendTelemetryEvent("auth.session"),Q}else return b.debug(`No GitHub${mu(e)} token found.`,_r.ID),Q}async doCreate(e,t=!1){let i;const r=async()=>{i=await this.initialize(li.githubEnterprise,e,t?Ba:void 0,t)};Cr()?await r():xr(jr,hr,Cr,r,this.context.subscriptions);let a;return i||(a=await this.initialize(li.github,e,t?Ba:void 0,t)),{canceled:!!(a&&a.canceled)||!!(i&&i.canceled)}}async create(e={},t=!1){return this.doCreate(e,t)}async recreate(e){return this.doCreate({forceNewSession:e?{detail:e}:!0})}async reset(){return this._githubAPI=void 0,this._githubEnterpriseAPI=void 0,this.create()}isAnyAuthenticated(){return this.isAuthenticated(li.github)||this.isAuthenticated(li.githubEnterprise)}isAuthenticated(e){return Jn(e)?!!this._githubEnterpriseAPI:!!this._githubAPI}isAuthenticatedWithAdditionalScopes(e){return Jn(e)?!!this._githubEnterpriseAPI&&this.allScopesIncluded(this._scopesEnterprise,Ba):!!this._githubAPI&&this.allScopesIncluded(this._scopes,Ba)}getHub(e){return Jn(e)?this._githubEnterpriseAPI:this._githubAPI}areScopesOld(e){return Jn(e)?!this.allScopesIncluded(this._scopesEnterprise,ua):!this.allScopesIncluded(this._scopes,ua)}areScopesExtra(e){return Jn(e)?this.allScopesIncluded(this._scopesEnterprise,Ba):this.allScopesIncluded(this._scopes,Ba)}async getHubEnsureAdditionalScopes(e){const t=this.isAuthenticatedWithAdditionalScopes(e);return await this.initialize(e,{createIfNone:!t},Ba,!0),t||this._onDidUpgradeSession.fire(),this.getHub(e)}async getHubOrLogin(e){var t,i;return Jn(e)?(i=this._githubEnterpriseAPI)!=null?i:await this.login(e):(t=this._githubAPI)!=null?t:await this.login(e)}async showSignInNotification(e){if(Jh($m,Vm)===!1)return;if(await s.window.showInformationMessage(s.l10n.t("In order to use the Pull Requests functionality, you must sign in to GitHub{0}",mu(e)),Gm,F_)===Gm)return await this.login(e);Zh($m,Vm,!1),this._telemetry.sendTelemetryEvent("auth.cancel")}async login(e){this._telemetry.sendTelemetryEvent("auth.start");const t=s.l10n.t("Error signing in to GitHub{0}",mu(e));let i=!0,r;const a={createIfNone:!0};let o=!1;for(;i;){try{await this.initialize(e,a)}catch(v){b.error(`Login error: ${t}: ${v}`,_r.ID),v instanceof Error&&v.stack&&b.error(v.stack,_r.ID),v.message==="Cancelled"&&(o=!0)}r=this.getHub(e),r||o?i=!1:(i=await s.window.showErrorMessage(t,Hm,x_)===Hm,i&&(a.forceNewSession=!0,a.createIfNone=void 0))}return r?this._telemetry.sendTelemetryEvent("auth.success"):this._telemetry.sendTelemetryEvent("auth.fail"),r}async showSamlMessageAndAuth(e){this._isSamling=!0;const t=await this.recreate(s.l10n.t("GitHub Pull Requests requires that you provide SAML access to your organization ({0}) when you sign in.",e.join(", ")));return this._isSamling=!1,t}async isCurrentUser(e){var t,i,r,a;return((i=await((t=this._githubAPI)==null?void 0:t.currentUser))==null?void 0:i.login)===e||((a=await((r=this._githubEnterpriseAPI)==null?void 0:r.currentUser))==null?void 0:a.login)==e}async getIsEmu(e){const t=this.getHub(e);return!!await(t==null?void 0:t.isEmu)}getCurrentUser(e){const t=this.getHub(e);return(t==null?void 0:t.octokit)&&(t==null?void 0:t.currentUser)}setCurrentUser(e){const t=new Promise(i=>{b.debug("Getting current user",_r.ID),e.octokit.call(e.octokit.api.users.getAuthenticated,{}).then(r=>{b.debug(`Got current user ${r.data.login}`,_r.ID),i(r)}).catch(r=>{s.window.showErrorMessage(s.l10n.t("Unable to get the currently logged in user, GitHub Pull Requests will not work correctly")),b.error(`Failed to get current user: ${r}, ${r.message}`,_r.ID)})});e.currentUser=t.then(i=>Bs(i.data)),e.isEmu=t.then(i=>{var r;return((r=i.data.plan)==null?void 0:r.name)==="emu_user"})}async getSession(e,t,i,r){const a=t.forceNewSession||r?void 0:await this.findExistingScopes(e);if(a!=null&&a.session)return{session:a.session,isNew:!1,scopes:a.scopes};const o=await s.authentication.getSession(e,r?i:ua,t);return{session:o,isNew:!!o,scopes:r?i:ua}}async findExistingScopes(e){const t=[Ba,ua,O_];for(const i of t){const r=await s.authentication.getSession(e,i,{silent:!0});if(r)return{session:r,scopes:i}}}async createHub(e,t){let i="https://api.github.com",r;b.appendLine(`Creating hub for ${Jn(t)?"enterprise":".com"}`,_r.ID),Jn(t)&&(r=Hs());const a=r==null?void 0:r.authority.endsWith("ghe.com");r&&(b.appendLine(`Enterprise server authority ${r.authority}`,_r.ID),a?i=`${r.scheme}://api.${r.authority}`:i=`${r.scheme}://${r.authority}/api/v3`);let o;s.env.uiKind===s.UIKind.Web&&(o=(le,ge)=>{if(ge.headers!==void 0){const{"user-agent":Re,...Ie}=ge.headers;Re&&(ge.headers=Ie)}return ft()(le,ge)});const v=new Bw({request:{agent:xh,fetch:o},userAgent:"GitHub VSCode Pull Requests",previews:["shadow-cat-preview","merge-info-preview"],auth:`${e||""}`,baseUrl:i});let I=i;r&&!a&&(I=`${r.scheme}://${r.authority}/api`);const G=new hg({link:U_(I,e||""),cache:new y_,defaultOptions:{query:{fetchPolicy:"no-cache"}}}),Q=new ib(this._telemetry,Jn(t)),re={octokit:new rb(v,Q),graphql:new nb(G,Q)};return this.setCurrentUser(re),re}};Gn(zm,"ID","Authentication");let L_=zm;const U_=(n,e)=>w_((t,{headers:i})=>({headers:{...i,authorization:e?`Bearer ${e}`:"",Accept:"application/vnd.github.merge-info-preview"}})).concat(qm({uri:`${n}/graphql`,fetch:ft()}));function mu(n){return Jn(n)?" Enterprise":""}var B_=Object.defineProperty,q_=(n,e,t)=>e in n?B_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ca=(n,e,t)=>q_(n,typeof e!="symbol"?e+"":e,t);const Km=class Ev extends g{constructor(e,t){super(),this._credentialStore=e,this._telemetry=t,ca(this,"_folderManagers",[]),ca(this,"_subs"),ca(this,"_onDidChangeState",new s.EventEmitter),ca(this,"onDidChangeState",this._onDidChangeState.event),ca(this,"_onDidChangeFolderRepositories",new s.EventEmitter),ca(this,"onDidChangeFolderRepositories",this._onDidChangeFolderRepositories.event),ca(this,"_onDidLoadAnyRepositories",new s.EventEmitter),ca(this,"onDidLoadAnyRepositories",this._onDidLoadAnyRepositories.event),ca(this,"_state",aa.Initializing),this._subs=new Map,s.commands.executeCommand("setContext",Vh,this._state)}updateActiveReviewCount(){let e=0;for(const t of this._folderManagers)t.activePullRequest&&e++;lt.setContext(Ri.ACTIVE_PR_COUNT,e)}get folderManagers(){return this._folderManagers}registerFolderListeners(e){const t=[e.onDidLoadRepositories(i=>{this.state=i,this._onDidLoadAnyRepositories.fire()}),e.onDidChangeActivePullRequest(()=>this.updateActiveReviewCount()),e.onDidDispose(()=>this.removeRepo(e.repository))];this._subs.set(e,t)}insertFolderManager(e){this.registerFolderListeners(e);const t=s.workspace.workspaceFolders;if(t){const i=t.findIndex(r=>Z(r.uri.fsPath,e.repository.rootUri.fsPath)||Z(e.repository.rootUri.fsPath,r.uri.fsPath));if(i>-1){const r=this._folderManagers.slice(i,this._folderManagers.length);this._folderManagers=this._folderManagers.slice(0,i),this._folderManagers.push(e),this._folderManagers.push(...r),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({added:e});return}}this._folderManagers.push(e),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({added:e})}removeRepo(e){const t=this._folderManagers.findIndex(i=>i.repository.rootUri.toString()===e.rootUri.toString());if(t>-1){const i=this._folderManagers[t];_(this._subs.get(i)),this._subs.delete(i),this._folderManagers.splice(t),i.dispose(),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({})}}getManagerForIssueModel(e){if(e!==void 0)return this.getManagerForRepository(e.remote.owner,e.remote.repositoryName)}getManagerForFile(e){if(e.scheme==="untitled")return this._folderManagers[0];const t=e.scheme===$t.Repo?Tc(e):void 0,i=e.scheme===$t.Pr?cn(e):void 0,r=this._folderManagers.slice().sort((a,o)=>o.repository.rootUri.path.length-a.repository.rootUri.path.length);for(const a of r){const o=a.repository.rootUri.path;if(t&&a.findExistingGitHubRepository({owner:t.owner,repositoryName:t.repo}))return a;if(i&&a.repository.state.remotes.find(v=>v.name===i.remoteName))return a;{const v=e.path.substring(o.length>1?o.length+1:o.length);if(pe(s.Uri.joinPath(a.repository.rootUri,v).path,e.path)===0)return a}}}getManagerForRepository(e,t){const i=`${e.toLowerCase()}/${t.toLowerCase()}`;for(const r of this._folderManagers)if(r.gitHubRepositories.map(a=>`${a.remote.owner.toLowerCase()}/${a.remote.repositoryName.toLowerCase()}`).includes(i))return r}get state(){return this._state}set state(e){const t=e!==this._state;this._state=e,t&&(s.commands.executeCommand("setContext",Vh,e),this._onDidChangeState.fire())}get credentialStore(){return this._credentialStore}async clearCredentialCache(){await this._credentialStore.reset(),this.state=aa.Initializing}async authenticate(e){var t,i;if(e===!1)return!!this._credentialStore.login(li.github);const{dotComRemotes:r,enterpriseRemotes:a,unknownRemotes:o}=await rh(this.folderManagers),v=s.l10n.t("Yes");if(e){let re=(i=(t=Hs())==null?void 0:t.toString())!=null?i:a.length?a[0].normalizedHost:o.length?o[0].normalizedHost:void 0;if(a.length===0&&o.length===0&&b.appendLine(`Enterprise login selected, but no possible enterprise remotes discovered (${r.length} .com)`,Ev.ID),re){const le=s.l10n.t("No, manually set {0}","github-enterprise.uri"),ge=await s.window.showInformationMessage(s.l10n.t("Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",re),{modal:!0},v,le);if(ge===v)await hc(re);else if(ge===le)re=void 0;else return!1}if(!re){const le=await s.window.showInputBox({placeHolder:s.l10n.t("Set a GitHub Enterprise server URL"),ignoreFocusOut:!0,validateInput:ge=>{if(!/^(?:$|(https?):\/\/(?!github\.com).*)/.test(ge))return s.l10n.t('Please enter a valid GitHub Enterprise server URL. A "github.com" URL is not valid for GitHub Enterprise.')}});if(le)await hc(le);else return!1}}else if(!Cr()&&r.length===0&&a.length>0){const re=await s.window.showInformationMessage(s.l10n.t("It looks like you might be using GitHub Enterprise. Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",a[0].normalizedHost),{modal:!0},v,s.l10n.t("No, use GitHub.com"));if(re===v)await hc(a[0].normalizedHost);else if(re===void 0)return!1}let I;const G=a.length>0||o.length>0;(Cr()||r.length===0)&&G&&(I=await this._credentialStore.login(li.githubEnterprise));let Q;return!I&&(!Cr()||a.length===0)&&(Q=await this._credentialStore.login(li.github)),!!Q||!!I}dispose(){this._subs.forEach(e=>_(e))}};ca(Km,"ID","RepositoriesManager");let H_=Km;function NE(n){switch(n){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}var G_=Object.defineProperty,$_=(n,e,t)=>e in n?G_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ka=(n,e,t)=>$_(n,typeof e!="symbol"?e+"":e,t);class sd extends g{constructor(e){super(),ka(this,"_onDidOpenRepository",new s.EventEmitter),ka(this,"onDidOpenRepository",this._onDidOpenRepository.event),ka(this,"_onDidCloseRepository",new s.EventEmitter),ka(this,"onDidCloseRepository",this._onDidCloseRepository.event),ka(this,"_onDidChangeState",new s.EventEmitter),ka(this,"onDidChangeState",this._onDidChangeState.event),ka(this,"_onDidPublish",new s.EventEmitter),ka(this,"onDidPublish",this._onDidPublish.event),ka(this,"_gitAPI");const t=e.exports;try{this._gitAPI=t.getAPI(1)}catch(i){throw lt.setContext("gitNotInstalled",!0),i}this._register(this._gitAPI.onDidCloseRepository(i=>this._onDidCloseRepository.fire(i))),this._register(this._gitAPI.onDidOpenRepository(i=>this._onDidOpenRepository.fire(i))),this._register(this._gitAPI.onDidChangeState(i=>this._onDidChangeState.fire(i))),this._register(this._gitAPI.onDidPublish(i=>this._onDidPublish.fire(i)))}get repositories(){return this._gitAPI.repositories}get state(){return this._gitAPI.state}static async createProvider(){const e=s.extensions.getExtension("vscode.git");if(e)return await e.activate(),new sd(e)}registerPostCommitCommandsProvider(e){return this._gitAPI.registerPostCommitCommandsProvider?this._gitAPI.registerPostCommitCommandsProvider(e):{dispose:()=>{}}}}var V_=Object.defineProperty,j_=(n,e,t)=>e in n?V_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$n=(n,e,t)=>j_(n,typeof e!="symbol"?e+"":e,t);class W_ extends g{constructor(e){super(),this._liveShareAPI=e,$n(this,"_onDidOpenRepository",this._register(new s.EventEmitter)),$n(this,"onDidOpenRepository",this._onDidOpenRepository.event),$n(this,"_onDidCloseRepository",this._register(new s.EventEmitter)),$n(this,"onDidCloseRepository",this._onDidCloseRepository.event),$n(this,"_openRepositories",[]),$n(this,"_sharedServiceProxy")}get repositories(){return this._openRepositories}async initialize(){this._sharedServiceProxy=await this._liveShareAPI.getSharedService(Sh)||void 0,this._sharedServiceProxy&&(this._sharedServiceProxy.isServiceAvailable&&await this._refreshWorkspaces(!0),this._register(this._sharedServiceProxy.onDidChangeIsServiceAvailable(async e=>{await this._refreshWorkspaces(e)})),this._register(s.workspace.onDidChangeWorkspaceFolders(this._onDidChangeWorkspaceFolders.bind(this))))}async _onDidChangeWorkspaceFolders(e){e.added.forEach(async t=>{t.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.openVSLSRepository(t)}),e.removed.forEach(async t=>{t.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.closeVSLSRepository(t)})}async _refreshWorkspaces(e){s.workspace.workspaceFolders&&s.workspace.workspaceFolders.forEach(async t=>{t.uri.scheme==="vsls"&&(e?await this.openVSLSRepository(t):await this.closeVSLSRepository(t))})}async openVSLSRepository(e){if(this.getRepository(e))return;const i=new Q_(e,this._sharedServiceProxy),r=new z_,a=new Proxy(i,r);await a.initialize(),this.openRepository(a)}async closeVSLSRepository(e){const t=this.getRepository(e);t&&this.closeRepository(t)}openRepository(e){this._openRepositories.push(e),this._onDidOpenRepository.fire(e)}closeRepository(e){this._openRepositories=this._openRepositories.filter(t=>t!==e),this._onDidCloseRepository.fire(e)}getRepository(e){return this._openRepositories.filter(t=>t.workspaceFolder===e)[0]}}class z_{constructor(){}get(e,t){return t in e?e[t]:function(...i){return e.proxy.request(Nc,[t,e.workspaceFolder.uri.toString(),...i])}}}class K_{constructor(e){$n(this,"HEAD"),$n(this,"remotes"),$n(this,"submodules",[]),$n(this,"rebaseCommit"),$n(this,"mergeChanges",[]),$n(this,"indexChanges",[]),$n(this,"workingTreeChanges",[]),$n(this,"_onDidChange",new s.EventEmitter),$n(this,"onDidChange",this._onDidChange.event),this.HEAD=e.HEAD,this.remotes=e.remotes}update(e){this.HEAD=e.HEAD,this.remotes=e.remotes,this._onDidChange.fire()}}class Q_{constructor(e,t){this.workspaceFolder=e,this.proxy=t,$n(this,"rootUri"),$n(this,"state")}async initialize(){const e=await this.proxy.request(Nc,[Rh,this.workspaceFolder.uri.toString()]);this.state=new K_(e),this.rootUri=s.Uri.parse(e.rootUri),this.proxy.onNotify(Eh,this._notifyHandler.bind(this))}_notifyHandler(e){var t;(t=this.state)==null||t.update(e)}}var Y_=Object.defineProperty,X_=(n,e,t)=>e in n?Y_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,J_=(n,e,t)=>X_(n,typeof e!="symbol"?e+"":e,t);class Z_ extends g{constructor(e,t){super(),this._liveShareAPI=e,this._api=t,J_(this,"_sharedService")}async initialize(){this._sharedService=await this._liveShareAPI.shareService(Sh)||void 0,this._sharedService&&this._sharedService.onRequest(Nc,this._gitHandler.bind(this))}async _gitHandler(e){const t=e[0],i=e[1],r=s.Uri.parse(i),a=this._liveShareAPI.convertSharedUriToLocal(r),o=this._api.getGitProvider(a);if(!o)return;const v=o.repositories.filter(I=>I.rootUri.toString()===a.toString())[0];if(v){const I=e.slice(2);if(t===Rh)return this._register(v.state.onDidChange(G=>{this._sharedService.notify(Eh,{HEAD:v.state.HEAD,remotes:v.state.remotes,refs:v.state.refs})})),{HEAD:v.state.HEAD,remotes:v.state.remotes,refs:v.state.refs,rootUri:r.toString()};if(t==="show"){const G=I[1],Q=r.with({path:G}),re=this._liveShareAPI.convertSharedUriToLocal(Q);return I[1]=re.fsPath,v[t](...I)}if(v[t])return v[t](...I)}else return null}}var ek=Object.defineProperty,tk=(n,e,t)=>e in n?ek(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,pu=(n,e,t)=>tk(n,typeof e!="symbol"?e+"":e,t);async function ik(){const n=s.extensions.getExtension("ms-vsliveshare.vsliveshare");if(!n)return null;const e=n.isActive?n.exports:await n.activate();if(!e)return null;const t="0.3.967";return e.getApi?e.getApi(t):e.getApiAsync(t)}class nk extends g{constructor(e){super(),this._api=e,pu(this,"_liveShareAPI"),pu(this,"_host"),pu(this,"_guest"),pu(this,"_localDisposables",[]),this._register({dispose:()=>_(this._localDisposables)})}async initialize(){if(this._liveShareAPI||(this._liveShareAPI=await ik()),!!this._liveShareAPI)return this._register(this._liveShareAPI.onDidChangeSession(e=>this._onDidChangeSession(e.session),this)),this._liveShareAPI.session&&this._onDidChangeSession(this._liveShareAPI.session),this._liveShareAPI}async _onDidChangeSession(e){if(_(this._localDisposables),e.role===1){this._host=new Z_(this._liveShareAPI,this._api),this._localDisposables.push(this._host),await this._host.initialize();return}e.role===2&&(this._guest=new W_(this._liveShareAPI),this._localDisposables.push(this._guest),await this._guest.initialize(),this._localDisposables.push(this._api.registerGitProvider(this._guest)))}}function rk(n){return new nk(n)}async function ak(n,e){const t=await sd.createProvider();if(t)return e.registerGitProvider(t),t}var sk=Object.defineProperty,ok=(n,e,t)=>e in n?sk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Qm=(n,e,t)=>ok(n,typeof e!="symbol"?e+"":e,t);class lk{constructor(e){this.pullRequestManager=e,Qm(this,"onNotifiedEmitter",new s.EventEmitter),Qm(this,"onNotified",this.onNotifiedEmitter.event),e.folderManagers.forEach(t=>{t.onDidChangeAssignableUsers(i=>{this.notifySuggestedAccounts(i)})})}async requestAsync(e,t,i){let r=null;switch(e){case"initialize":r={description:"Pullrequest",capabilities:{supportsDispose:!1,supportsInviteLink:!1,supportsPresence:!1,supportsContactPresenceRequest:!1,supportsPublishPresence:!1}};const a=new Map;for(const o of this.pullRequestManager.folderManagers){const v=o.getAllAssignableUsers();if(v)for(const I of v)a.has(I.login)||a.set(I.login,I)}a.size>0&&this.notifySuggestedAccounts(Array.from(a.values()));break;default:throw new Error(`type:${e} not supported`)}return r}async notifySuggestedAccounts(e){let t;try{t=await this.getCurrentUserLogin()}catch{}t&&e.findIndex(i=>i.login===t)!==-1&&this.notifySuggestedUsers(e.filter(i=>i.email).map(i=>({id:i.login,displayName:i.name?i.name:i.login,email:i.email})),!0)}async getCurrentUserLogin(){var e;if(this.pullRequestManager.folderManagers.length===0)return;const t=await((e=this.pullRequestManager.folderManagers[0])==null?void 0:e.getOrigin());if(t){const i=t.hub.currentUser?await t.hub.currentUser:void 0;if(i)return i.login}}notify(e,t){this.onNotifiedEmitter.fire({type:e,body:t})}notifySuggestedUsers(e,t){this.notify("suggestedUsers",{contacts:e,exclusive:t})}}var uk=Object.defineProperty,ck=(n,e,t)=>e in n?uk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dk=(n,e,t)=>ck(n,typeof e!="symbol"?e+"":e,t);class fk extends g{constructor(){super(),dk(this,"_extensionsDisposable"),this._extensionsDisposable=this._register(s.extensions.onDidChange(this.onExtensionsChanged,this)),this.onExtensionsChanged()}register(e){e&&this._register(e.registerActionRunner("createPullRequest",{partnerId:"ghpr",name:"GitHub Pull Requests and Issues",label:"Create Pull Request",run:function(t){t.branch.isRemote||s.commands.executeCommand("pr.create",{repoPath:t.repoPath,compareBranch:t.branch.name})}}))}async onExtensionsChanged(){var e;const t=(e=s.extensions.getExtension("eamodio.gitlens"))!=null?e:s.extensions.getExtension("eamodio.gitlens-insiders");if(t)if(this._extensionsDisposable.dispose(),t.isActive)this.register(await t.exports);else{let i=0;const r=setInterval(async()=>{t.isActive?(clearInterval(r),this.register(await t.exports)):(i++,i>60&&clearInterval(r))},1e3)}}}function Ym(){return s.workspace.getConfiguration(it).get(dr,!1)?lt.QUICK_CHAT_OPEN:lt.OPEN_CHAT}var hk=Object.defineProperty,mk=(n,e,t)=>e in n?hk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,no=(n,e,t)=>mk(n,typeof e!="symbol"?e+"":e,t);class Xm extends g{constructor(e,t,i,r,a){super(),this.issueModel=e,this.manager=t,this.stateManager=i,this.shouldPromptForBranch=a,no(this,"_branchName"),no(this,"user"),no(this,"repo"),no(this,"_repoDefaults"),no(this,"_onDidChangeCurrentIssueState",this._register(new s.EventEmitter)),no(this,"onDidChangeCurrentIssueState",this._onDidChangeCurrentIssueState.event),this.setRepo(r!=null?r:this.issueModel.githubRepository.remote)}setRepo(e){var t;for(let i=0;i<this.stateManager.gitAPI.repositories.length;i++){const r=this.stateManager.gitAPI.repositories[i];for(let a=0;a<r.state.remotes.length;a++){const o=r.state.remotes[a];if(o.name===(e==null?void 0:e.remoteName)&&((t=o.fetchUrl)==null?void 0:t.toLowerCase().search(`${e.owner.toLowerCase()}/${e.repositoryName.toLowerCase()}`))!==-1){this.repo=r;return}}}}get branchName(){return this._branchName}get repoDefaults(){return this._repoDefaults}get issue(){return this.issueModel}async startWorking(e=!1){var t;try{if(this._repoDefaults=await this.manager.getPullRequestDefaults(),await this.createIssueBranch(e)){await this.setCommitMessageAndGitEvent(),this._onDidChangeCurrentIssueState.fire();const i=(await this.manager.getCurrentUser(this.issueModel.githubRepository)).login;return s.workspace.getConfiguration(Xt).get(Mi)&&!((t=this.issueModel.assignees)!=null&&t.find(r=>r.login===i))&&(this.manager.gitHubRepositories.find(r=>r.remote.owner===this.issueModel.remote.owner&&r.remote.repositoryName===this.issueModel.remote.repositoryName)&&await this.manager.assignIssue(this.issueModel,i),await this.stateManager.refresh(this.manager)),!0}}catch{s.window.showErrorMessage(s.l10n.t("There is no remote. Can't start working on an issue."))}return!1}async stopWorking(e){if(this.repo&&(this.repo.inputBox.value=""),this._repoDefaults&&e)try{await this.manager.repository.checkout(this._repoDefaults.base)}catch(t){throw t.gitErrorCode===rt.DirtyWorkTree&&s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")),t}this._onDidChangeCurrentIssueState.fire(),this.dispose()}getBasicBranchName(e){return`${e}/issue${this.issueModel.number}`}async getBranch(e){try{return await this.manager.repository.getBranch(e)}catch{}}async createOrCheckoutBranch(e){try{return await this.getBranch(e)?await this.manager.repository.checkout(e):await this.manager.repository.createBranch(e,!0),!0}catch(t){return t.message!=="User aborted"&&s.window.showErrorMessage(`Unable to checkout branch ${e}. There may be file conflicts that prevent this branch change. Git error: ${t.error}`),!1}}async getUser(){return this.user||(this.user=await this.issueModel.githubRepository.getAuthenticatedUser()),this.user}async getBranchTitle(){var e;return(e=s.workspace.getConfiguration(Xt).get(rn))!=null?e:this.getBasicBranchName(await this.getUser())}validateBranchName(e){const t=/[^ \\@\~\^\?\*\[]+/,i=e.match(t);if(i&&i.length>0&&i[0]!==e)return s.l10n.t("Branch name cannot contain a space or the following characters: \\@~^?*[")}showBranchNameError(e){const t="Edit Setting";s.window.showErrorMessage(e,t).then(i=>{i===t&&s.commands.executeCommand("workbench.action.openSettings",`${Xt}.${rn}`)})}async offerNewBranch(e,t,i){var r,a,o,v;const I=await this.manager.getMatchingPullRequestMetadataFromGitHub(e,(r=e.upstream)==null?void 0:r.remote,(a=e.upstream)==null?void 0:a.name);if(I&&I.model.state!==Gt.Open){const G=s.l10n.t("The pull request for {0} has been merged. Do you want to create a new branch?",(o=e.name)!=null?o:"unknown branch"),Q=s.l10n.t("The pull request for {0} has been closed. Do you want to create a new branch?",(v=e.name)!=null?v:"unknown branch"),re=s.l10n.t("Create New Branch");if(await s.window.showInformationMessage(I.model.state===Gt.Merged?G:Q,{modal:!0},re)===re){const ge=(i==null?void 0:i.length)===4?Number(i[3])+1:1;return`${t}_${ge}`}}return t}async createIssueBranch(e){var t;const i=this.shouldPromptForBranch?"prompt":s.workspace.getConfiguration(Xt).get(dn);if(i==="off")return!0;const r=this.stateManager.getSavedIssueState(this.issueModel.number);this._branchName=this.shouldPromptForBranch?void 0:r.branch;const a=await Gs(await this.getBranchTitle(),this.issue,void 0,await this.getUser()),o=(t=this._branchName)==null?void 0:t.match(new RegExp("^("+a+")(_)?(\\d*)"));if(i==="on"){const I=await this.getBranch(this._branchName);I?e||(this._branchName=await this.offerNewBranch(I,a,o)):o||(this._branchName=a)}if(this._branchName||(this._branchName=await s.window.showInputBox({value:a,prompt:s.l10n.t("Enter the label for the new branch.")})),!this._branchName)return!1;const v=this.validateBranchName(this._branchName);return v?(this.showBranchNameError(v),!1):(r.branch=this._branchName,await this.stateManager.setSavedIssueState(this.issueModel,r),await this.createOrCheckoutBranch(this._branchName)?!0:(this._branchName=void 0,!1))}async getCommitMessage(){const e=s.workspace.getConfiguration(Xt).get(ji);if(typeof e=="string")return Gs(e,this.issueModel,this._repoDefaults)}async setCommitMessageAndGitEvent(){const e=await this.getCommitMessage();this.repo&&e&&(this.repo.inputBox.value=e)}}function Jm(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let ro=Jm();function pk(n){ro=n}const vk=/[&<>"']/,gk=/[&<>"']/g,bk=/[<>"']|&(?!#?\w+;)/,yk=/[<>"']|&(?!#?\w+;)/g,wk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zm=n=>wk[n];function Ln(n,e){if(e){if(vk.test(n))return n.replace(gk,Zm)}else if(bk.test(n))return n.replace(yk,Zm);return n}const _k=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ep(n){return n.replace(_k,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const kk=/(^|[^\[])\^/g;function en(n,e){n=n.source||n,e=e||"";const t={replace:(i,r)=>(r=r.source||r,r=r.replace(kk,"$1"),n=n.replace(i,r),t),getRegex:()=>new RegExp(n,e)};return t}const Sk=/[^\w:]/g,Rk=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function tp(n,e,t){if(n){let i;try{i=decodeURIComponent(ep(t)).replace(Sk,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}e&&!Rk.test(t)&&(t=Ck(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const vu={},Ek=/^[^:]+:\/*[^/]*$/,Tk=/^([^:]+:)[\s\S]*$/,Nk=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Ck(n,e){vu[" "+n]||(Ek.test(n)?vu[" "+n]=n+"/":vu[" "+n]=bu(n,"/",!0)),n=vu[" "+n];const t=n.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:n.replace(Tk,"$1")+e:e.charAt(0)==="/"?t?e:n.replace(Nk,"$1")+e:n+e}const gu={exec:function(){}};function qr(n){let e=1,t,i;for(;e<arguments.length;e++){t=arguments[e];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}function ip(n,e){const t=n.replace(/\|/g,(a,o,v)=>{let I=!1,G=o;for(;--G>=0&&v[G]==="\\";)I=!I;return I?"|":" |"}),i=t.split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i[i.length-1].trim()||i.pop(),i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function bu(n,e,t){const i=n.length;if(i===0)return"";let r=0;for(;r<i;){const a=n.charAt(i-r-1);if(a===e&&!t)r++;else if(a!==e&&t)r++;else break}return n.substr(0,i-r)}function Pk(n,e){if(n.indexOf(e[1])===-1)return-1;const t=n.length;let i=0,r=0;for(;r<t;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])i++;else if(n[r]===e[1]&&(i--,i<0))return r;return-1}function np(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function rp(n,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=n),e>>=1,n+=n;return t+n}function ap(n,e,t,i){const r=e.href,a=e.title?Ln(e.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const v={type:"link",raw:t,href:r,title:a,text:o,tokens:i.inlineTokens(o,[])};return i.state.inLink=!1,v}else return{type:"image",raw:t,href:r,title:a,text:Ln(o)}}function Mk(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(r=>{const a=r.match(/^\s+/);if(a===null)return r;const[o]=a;return o.length>=i.length?r.slice(i.length):r}).join(`
`)}class od{constructor(e){this.options=e||ro}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:bu(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],r=Mk(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const a=bu(i,"#");(this.options.pedantic||!a||/ $/.test(a))&&(i=a.trim())}const r={type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const i=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(i,[]),text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i,r,a,o,v,I,G,Q,re,le,ge,Re,Ie=t[1].trim();const Oe=Ie.length>1,ue={type:"list",raw:"",ordered:Oe,start:Oe?+Ie.slice(0,-1):"",loose:!1,items:[]};Ie=Oe?`\\d{1,9}\\${Ie.slice(-1)}`:`\\${Ie}`,this.options.pedantic&&(Ie=Oe?Ie:"[*+-]");const ye=new RegExp(`^( {0,3}${Ie})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(Re=!1,!(!(t=ye.exec(e))||this.rules.block.hr.test(e)));){if(i=t[0],e=e.substring(i.length),Q=t[2].split(`
`,1)[0],re=e.split(`
`,1)[0],this.options.pedantic?(o=2,ge=Q.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,ge=Q.slice(o),o+=t[1].length),I=!1,!Q&&/^ *$/.test(re)&&(i+=re+`
`,e=e.substring(re.length+1),Re=!0),!Re){const Ae=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(le=e.split(`
`,1)[0],Q=le,this.options.pedantic&&(Q=Q.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!Ae.test(Q));){if(Q.search(/[^ ]/)>=o||!Q.trim())ge+=`
`+Q.slice(o);else if(!I)ge+=`
`+Q;else break;!I&&!Q.trim()&&(I=!0),i+=le+`
`,e=e.substring(le.length+1)}}ue.loose||(G?ue.loose=!0:/\n *\n *$/.test(i)&&(G=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(ge),r&&(a=r[0]!=="[ ] ",ge=ge.replace(/^\[[ xX]\] +/,""))),ue.items.push({type:"list_item",raw:i,task:!!r,checked:a,loose:!1,text:ge}),ue.raw+=i}ue.items[ue.items.length-1].raw=i.trimRight(),ue.items[ue.items.length-1].text=ge.trimRight(),ue.raw=ue.raw.trimRight();const Te=ue.items.length;for(v=0;v<Te;v++){this.lexer.state.top=!1,ue.items[v].tokens=this.lexer.blockTokens(ue.items[v].text,[]);const Ae=ue.items[v].tokens.filter(We=>We.type==="space"),Ue=Ae.every(We=>{const ze=We.raw.split("");let bt=0;for(const It of ze)if(It===`
`&&(bt+=1),bt>1)return!0;return!1});!ue.loose&&Ae.length&&Ue&&(ue.loose=!0,ue.items[v].loose=!0)}return ue}}html(e){const t=this.rules.block.html.exec(e);if(t){const i={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};return this.options.sanitize&&(i.type="paragraph",i.text=this.options.sanitizer?this.options.sanitizer(t[0]):Ln(t[0]),i.tokens=[],this.lexer.inline(i.text,i.tokens)),i}}def(e){const t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){const t=this.rules.block.table.exec(e);if(t){const i={type:"table",header:ip(t[1]).map(r=>({text:r})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=t[0];let r=i.align.length,a,o,v,I;for(a=0;a<r;a++)/^ *-+: *$/.test(i.align[a])?i.align[a]="right":/^ *:-+: *$/.test(i.align[a])?i.align[a]="center":/^ *:-+ *$/.test(i.align[a])?i.align[a]="left":i.align[a]=null;for(r=i.rows.length,a=0;a<r;a++)i.rows[a]=ip(i.rows[a],i.header.length).map(G=>({text:G}));for(r=i.header.length,o=0;o<r;o++)i.header[o].tokens=[],this.lexer.inlineTokens(i.header[o].text,i.header[o].tokens);for(r=i.rows.length,o=0;o<r;o++)for(I=i.rows[o],v=0;v<I.length;v++)I[v].tokens=[],this.lexer.inlineTokens(I[v].text,I[v].tokens);return i}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const i={type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i={type:"paragraph",raw:t[0],text:t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}text(e){const t=this.rules.block.text.exec(e);if(t){const i={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Ln(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Ln(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const o=bu(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{const o=Pk(t[2],"()");if(o>-1){const I=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,I).trim(),t[3]=""}}let r=t[2],a="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],a=o[3])}else a=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(i)?r=r.slice(1):r=r.slice(1,-1)),ap(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let r=(i[2]||i[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r||!r.href){const a=i[0].charAt(0);return{type:"text",raw:a,text:a}}return ap(i,r,i[0],this.lexer)}}emStrong(e,t,i=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))return;const a=r[1]||r[2]||"";if(!a||a&&(i===""||this.rules.inline.punctuation.exec(i))){const o=r[0].length-1;let v,I,G=o,Q=0;const re=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(re.lastIndex=0,t=t.slice(-1*e.length+o);(r=re.exec(t))!=null;){if(v=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!v)continue;if(I=v.length,r[3]||r[4]){G+=I;continue}else if((r[5]||r[6])&&o%3&&!((o+I)%3)){Q+=I;continue}if(G-=I,G>0)continue;if(I=Math.min(I,I+G+Q),Math.min(o,I)%2){const ge=e.slice(1,o+r.index+I);return{type:"em",raw:e.slice(0,o+r.index+I+1),text:ge,tokens:this.lexer.inlineTokens(ge,[])}}const le=e.slice(2,o+r.index+I-1);return{type:"strong",raw:e.slice(0,o+r.index+I+1),text:le,tokens:this.lexer.inlineTokens(le,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const r=/[^ ]/.test(i),a=/^ /.test(i)&&/ $/.test(i);return r&&a&&(i=i.substring(1,i.length-1)),i=Ln(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const i=this.rules.inline.autolink.exec(e);if(i){let r,a;return i[2]==="@"?(r=Ln(this.options.mangle?t(i[1]):i[1]),a="mailto:"+r):(r=Ln(i[1]),a=r),{type:"link",raw:i[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}url(e,t){let i;if(i=this.rules.inline.url.exec(e)){let r,a;if(i[2]==="@")r=Ln(this.options.mangle?t(i[0]):i[0]),a="mailto:"+r;else{let o;do o=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(o!==i[0]);r=Ln(i[0]),i[1]==="www."?a="http://"+r:a=r}return{type:"link",raw:i[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,t){const i=this.rules.inline.text.exec(e);if(i){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):Ln(i[0]):i[0]:r=Ln(this.options.smartypants?t(i[0]):i[0]),{type:"text",raw:i[0],text:r}}}}const fi={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:gu,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};fi._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,fi._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,fi.def=en(fi.def).replace("label",fi._label).replace("title",fi._title).getRegex(),fi.bullet=/(?:[*+-]|\d{1,9}[.)])/,fi.listItemStart=en(/^( *)(bull) */).replace("bull",fi.bullet).getRegex(),fi.list=en(fi.list).replace(/bull/g,fi.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+fi.def.source+")").getRegex(),fi._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",fi._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,fi.html=en(fi.html,"i").replace("comment",fi._comment).replace("tag",fi._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),fi.paragraph=en(fi._paragraph).replace("hr",fi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",fi._tag).getRegex(),fi.blockquote=en(fi.blockquote).replace("paragraph",fi.paragraph).getRegex(),fi.normal=qr({},fi),fi.gfm=qr({},fi.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),fi.gfm.table=en(fi.gfm.table).replace("hr",fi.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",fi._tag).getRegex(),fi.gfm.paragraph=en(fi._paragraph).replace("hr",fi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",fi.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",fi._tag).getRegex(),fi.pedantic=qr({},fi.normal,{html:en(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",fi._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:gu,paragraph:en(fi.normal._paragraph).replace("hr",fi.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",fi.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Zt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:gu,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:gu,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Zt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Zt.punctuation=en(Zt.punctuation).replace(/punctuation/g,Zt._punctuation).getRegex(),Zt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Zt.escapedEmSt=/\\\*|\\_/g,Zt._comment=en(fi._comment).replace("(?:-->|$)","-->").getRegex(),Zt.emStrong.lDelim=en(Zt.emStrong.lDelim).replace(/punct/g,Zt._punctuation).getRegex(),Zt.emStrong.rDelimAst=en(Zt.emStrong.rDelimAst,"g").replace(/punct/g,Zt._punctuation).getRegex(),Zt.emStrong.rDelimUnd=en(Zt.emStrong.rDelimUnd,"g").replace(/punct/g,Zt._punctuation).getRegex(),Zt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Zt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Zt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Zt.autolink=en(Zt.autolink).replace("scheme",Zt._scheme).replace("email",Zt._email).getRegex(),Zt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Zt.tag=en(Zt.tag).replace("comment",Zt._comment).replace("attribute",Zt._attribute).getRegex(),Zt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Zt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Zt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Zt.link=en(Zt.link).replace("label",Zt._label).replace("href",Zt._href).replace("title",Zt._title).getRegex(),Zt.reflink=en(Zt.reflink).replace("label",Zt._label).replace("ref",fi._label).getRegex(),Zt.nolink=en(Zt.nolink).replace("ref",fi._label).getRegex(),Zt.reflinkSearch=en(Zt.reflinkSearch,"g").replace("reflink",Zt.reflink).replace("nolink",Zt.nolink).getRegex(),Zt.normal=qr({},Zt),Zt.pedantic=qr({},Zt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:en(/^!?\[(label)\]\((.*?)\)/).replace("label",Zt._label).getRegex(),reflink:en(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Zt._label).getRegex()}),Zt.gfm=qr({},Zt.normal,{escape:en(Zt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Zt.gfm.url=en(Zt.gfm.url,"i").replace("email",Zt.gfm._extended_email).getRegex(),Zt.breaks=qr({},Zt.gfm,{br:en(Zt.br).replace("{2,}","*").getRegex(),text:en(Zt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Ak(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function sp(n){let e="",t,i;const r=n.length;for(t=0;t<r;t++)i=n.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),e+="&#"+i+";";return e}class Sa{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ro,this.options.tokenizer=this.options.tokenizer||new od,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:fi.normal,inline:Zt.normal};this.options.pedantic?(t.block=fi.pedantic,t.inline=Zt.pedantic):this.options.gfm&&(t.block=fi.gfm,this.options.breaks?t.inline=Zt.breaks:t.inline=Zt.gfm),this.tokenizer.rules=t}static get rules(){return{block:fi,inline:Zt}}static lex(e,t){return new Sa(t).lex(e)}static lexInline(e,t){return new Sa(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let i,r,a,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(v=>(i=v.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let v=1/0;const I=e.slice(1);let G;this.options.extensions.startBlock.forEach(function(Q){G=Q.call({lexer:this},I),typeof G=="number"&&G>=0&&(v=Math.min(v,G))}),v<1/0&&v>=0&&(a=e.substring(0,v+1))}if(this.state.top&&(i=this.tokenizer.paragraph(a))){r=t[t.length-1],o&&r.type==="paragraph"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i),o=a.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(e){const v="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let i,r,a,o=e,v,I,G;if(this.tokens.links){const Q=Object.keys(this.tokens.links);if(Q.length>0)for(;(v=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)Q.includes(v[0].slice(v[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,v.index)+"["+rp("a",v[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(v=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,v.index)+"["+rp("a",v[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(v=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,v.index)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(I||(G=""),I=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Q=>(i=Q.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),r=t[t.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,o,G)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e,sp)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e,sp))){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let Q=1/0;const re=e.slice(1);let le;this.options.extensions.startInline.forEach(function(ge){le=ge.call({lexer:this},re),typeof le=="number"&&le>=0&&(Q=Math.min(Q,le))}),Q<1/0&&Q>=0&&(a=e.substring(0,Q+1))}if(i=this.tokenizer.inlineText(a,Ak)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(G=i.raw.slice(-1)),I=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(e){const Q="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(Q);break}else throw new Error(Q)}}return t}}class yu{constructor(e){this.options=e||ro}code(e,t,i){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const a=this.options.highlight(e,r);a!=null&&a!==e&&(i=!0,e=a)}return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+Ln(r,!0)+'">'+(i?e:Ln(e,!0))+`</code></pre>
`:"<pre><code>"+(i?e:Ln(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,t,i,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(i)+'">'+e+"</h"+t+`>
`:"<h"+t+">"+e+"</h"+t+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,i){const r=t?"ol":"ul",a=t&&i!==1?' start="'+i+'"':"";return"<"+r+a+`>
`+e+"</"+r+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,i){if(e=tp(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let r='<a href="'+Ln(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+i+"</a>",r}image(e,t,i){if(e=tp(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let r='<img src="'+e+'" alt="'+i+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class op{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class lp{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let i=e,r=0;if(this.seen.hasOwnProperty(i)){r=this.seen[e];do r++,i=e+"-"+r;while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=r,this.seen[i]=0),i}slug(e,t={}){const i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)}}class Ra{constructor(e){this.options=e||ro,this.options.renderer=this.options.renderer||new yu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new op,this.slugger=new lp}static parse(e,t){return new Ra(t).parse(e)}static parseInline(e,t){return new Ra(t).parseInline(e)}parse(e,t=!0){let i="",r,a,o,v,I,G,Q,re,le,ge,Re,Ie,Oe,ue,ye,Te,Ae,Ue,We;const ze=e.length;for(r=0;r<ze;r++){if(ge=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ge.type]&&(We=this.options.extensions.renderers[ge.type].call({parser:this},ge),We!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ge.type))){i+=We||"";continue}switch(ge.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{i+=this.renderer.heading(this.parseInline(ge.tokens),ge.depth,ep(this.parseInline(ge.tokens,this.textRenderer)),this.slugger);continue}case"code":{i+=this.renderer.code(ge.text,ge.lang,ge.escaped);continue}case"table":{for(re="",Q="",v=ge.header.length,a=0;a<v;a++)Q+=this.renderer.tablecell(this.parseInline(ge.header[a].tokens),{header:!0,align:ge.align[a]});for(re+=this.renderer.tablerow(Q),le="",v=ge.rows.length,a=0;a<v;a++){for(G=ge.rows[a],Q="",I=G.length,o=0;o<I;o++)Q+=this.renderer.tablecell(this.parseInline(G[o].tokens),{header:!1,align:ge.align[o]});le+=this.renderer.tablerow(Q)}i+=this.renderer.table(re,le);continue}case"blockquote":{le=this.parse(ge.tokens),i+=this.renderer.blockquote(le);continue}case"list":{for(Re=ge.ordered,Ie=ge.start,Oe=ge.loose,v=ge.items.length,le="",a=0;a<v;a++)ye=ge.items[a],Te=ye.checked,Ae=ye.task,ue="",ye.task&&(Ue=this.renderer.checkbox(Te),Oe?ye.tokens.length>0&&ye.tokens[0].type==="paragraph"?(ye.tokens[0].text=Ue+" "+ye.tokens[0].text,ye.tokens[0].tokens&&ye.tokens[0].tokens.length>0&&ye.tokens[0].tokens[0].type==="text"&&(ye.tokens[0].tokens[0].text=Ue+" "+ye.tokens[0].tokens[0].text)):ye.tokens.unshift({type:"text",text:Ue}):ue+=Ue),ue+=this.parse(ye.tokens,Oe),le+=this.renderer.listitem(ue,Ae,Te);i+=this.renderer.list(le,Re,Ie);continue}case"html":{i+=this.renderer.html(ge.text);continue}case"paragraph":{i+=this.renderer.paragraph(this.parseInline(ge.tokens));continue}case"text":{for(le=ge.tokens?this.parseInline(ge.tokens):ge.text;r+1<ze&&e[r+1].type==="text";)ge=e[++r],le+=`
`+(ge.tokens?this.parseInline(ge.tokens):ge.text);i+=t?this.renderer.paragraph(le):le;continue}default:{const bt='Token with "'+ge.type+'" type was not found.';if(this.options.silent){console.error(bt);return}else throw new Error(bt)}}}return i}parseInline(e,t){t=t||this.renderer;let i="",r,a,o;const v=e.length;for(r=0;r<v;r++){if(a=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]&&(o=this.options.extensions.renderers[a.type].call({parser:this},a),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type))){i+=o||"";continue}switch(a.type){case"escape":{i+=t.text(a.text);break}case"html":{i+=t.html(a.text);break}case"link":{i+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break}case"image":{i+=t.image(a.href,a.title,a.text);break}case"strong":{i+=t.strong(this.parseInline(a.tokens,t));break}case"em":{i+=t.em(this.parseInline(a.tokens,t));break}case"codespan":{i+=t.codespan(a.text);break}case"br":{i+=t.br();break}case"del":{i+=t.del(this.parseInline(a.tokens,t));break}case"text":{i+=t.text(a.text);break}default:{const I='Token with "'+a.type+'" type was not found.';if(this.options.silent){console.error(I);return}else throw new Error(I)}}}return i}}function vi(n,e,t){if(typeof n=="undefined"||n===null)throw new Error("marked(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=qr({},vi.defaults,e||{}),np(e),t){const i=e.highlight;let r;try{r=Sa.lex(n,e)}catch(v){return t(v)}const a=function(v){let I;if(!v)try{e.walkTokens&&vi.walkTokens(r,e.walkTokens),I=Ra.parse(r,e)}catch(G){v=G}return e.highlight=i,v?t(v):t(null,I)};if(!i||i.length<3||(delete e.highlight,!r.length))return a();let o=0;vi.walkTokens(r,function(v){v.type==="code"&&(o++,setTimeout(()=>{i(v.text,v.lang,function(I,G){if(I)return a(I);G!=null&&G!==v.text&&(v.text=G,v.escaped=!0),o--,o===0&&a()})},0))}),o===0&&a();return}try{const i=Sa.lex(n,e);return e.walkTokens&&vi.walkTokens(i,e.walkTokens),Ra.parse(i,e)}catch(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Ln(i.message+"",!0)+"</pre>";throw i}}vi.options=vi.setOptions=function(n){return qr(vi.defaults,n),pk(vi.defaults),vi},vi.getDefaults=Jm,vi.defaults=ro,vi.use=function(...n){const e=qr({},...n),t=vi.defaults.extensions||{renderers:{},childTokens:{}};let i;n.forEach(r=>{if(r.extensions&&(i=!0,r.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if(a.renderer){const o=t.renderers?t.renderers[a.name]:null;o?t.renderers[a.name]=function(...v){let I=a.renderer.apply(this,v);return I===!1&&(I=o.apply(this,v)),I}:t.renderers[a.name]=a.renderer}if(a.tokenizer){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[a.level]?t[a.level].unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}a.childTokens&&(t.childTokens[a.name]=a.childTokens)})),r.renderer){const a=vi.defaults.renderer||new yu;for(const o in r.renderer){const v=a[o];a[o]=(...I)=>{let G=r.renderer[o].apply(a,I);return G===!1&&(G=v.apply(a,I)),G}}e.renderer=a}if(r.tokenizer){const a=vi.defaults.tokenizer||new od;for(const o in r.tokenizer){const v=a[o];a[o]=(...I)=>{let G=r.tokenizer[o].apply(a,I);return G===!1&&(G=v.apply(a,I)),G}}e.tokenizer=a}if(r.walkTokens){const a=vi.defaults.walkTokens;e.walkTokens=function(o){r.walkTokens.call(this,o),a&&a.call(this,o)}}i&&(e.extensions=t),vi.setOptions(e)})},vi.walkTokens=function(n,e){for(const t of n)switch(e.call(vi,t),t.type){case"table":{for(const i of t.header)vi.walkTokens(i.tokens,e);for(const i of t.rows)for(const r of i)vi.walkTokens(r.tokens,e);break}case"list":{vi.walkTokens(t.items,e);break}default:vi.defaults.extensions&&vi.defaults.extensions.childTokens&&vi.defaults.extensions.childTokens[t.type]?vi.defaults.extensions.childTokens[t.type].forEach(function(i){vi.walkTokens(t[i],e)}):t.tokens&&vi.walkTokens(t.tokens,e)}},vi.parseInline=function(n,e){if(typeof n=="undefined"||n===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");e=qr({},vi.defaults,e||{}),np(e);try{const t=Sa.lexInline(n,e);return e.walkTokens&&vi.walkTokens(t,e.walkTokens),Ra.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Ln(t.message+"",!0)+"</pre>";throw t}},vi.Parser=Ra,vi.parser=Ra.parse,vi.Renderer=yu,vi.TextRenderer=op,vi.Lexer=Sa,vi.lexer=Sa.lex,vi.Tokenizer=od,vi.Slugger=lp,vi.parse=vi;const CE=vi.options,PE=vi.setOptions,ME=vi.use,AE=vi.walkTokens,IE=vi.parseInline,ld=vi,DE=Ra.parse,xE=Sa.lex;var FE=Kt(48318);const up=/http(s)?\:\/\/github\.com\/([^\/]+)\/([^\/]+)\/blob\/([0-9a-fA-F]{40})\/([^#]+)#L(\d+)(-L(\d+))?/;function cp(n){return n.match(up)}function Ik(n){return!!cp(n.body)}async function dp(n,e,t=!0){const i=n[2],r=n[3],a=n[5],o=Number(n[6])-1,v=n[8]?Number(n[8])-1:o;let I;for(const Q of e.folderManagers){const re=await Q.getGitHubRemotes();for(const le of re)if(i.toLowerCase()===le.owner.toLowerCase()&&r.toLowerCase()===le.repositoryName.toLowerCase()){I=Q;break}if(I)break}if(!I)return;const G=s.Uri.joinPath(I.repository.rootUri,a);try{await s.workspace.fs.stat(G)}catch{return}return{file:G,start:o,end:v}}async function Dk(n,e){const t=cp(n.body);if(!t){s.window.showInformationMessage(s.l10n.t("Issue has no link."));return}const i=await dp(t,e,!1);if(!i)return s.env.openExternal(s.Uri.parse(t[0]));const r=await s.workspace.openTextDocument(i==null?void 0:i.file),a=r.lineAt(i.end<r.lineCount?i.end:r.lineCount-1),o=new s.Range(i.start,0,i.end,a.text.length);return s.window.showTextDocument(i.file,{selection:o})}function xk(n){switch(n.state){case Gt.Open:return n instanceof Mn?"$(git-pull-request)":"$(issues)";case Gt.Closed:return n instanceof Mn?"$(git-pull-request)":"$(issue-closed)";case Gt.Merged:return"$(git-merge)"}}function Fk(n){if(n instanceof Mn)return xk(n);switch(n.state){case Gt.Open:return'<span style="color:#22863a;">$(issues)</span>';case Gt.Closed:return'<span style="color:#cb2431;">$(issue-closed)</span>'}}function Ok(n,e){let t;return n.commitContributions.forEach(i=>{e.toLowerCase()===i.repoNameWithOwner.toLowerCase()&&(t=i.createdAt.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"}))}),t}function fp(n,e){const t=new s.MarkdownString(void 0,!0);t.appendMarkdown(`![Avatar](${e.avatarUrl}|height=50,width=50) ${e.name?`**${e.name}** `:""}[${e.login}](${e.url})`),e.bio&&t.appendText(`  \r
`+e.bio.replace(/\r\n/g," "));const i=Ok(e,n.owner+"/"+n.repo);return(e.location||i)&&t.appendMarkdown(`  \r
\r
---`),e.location&&t.appendMarkdown(`  \r
${s.l10n.t("{0} {1}","$(location)",e.location)}`),i&&t.appendMarkdown(`  \r
${s.l10n.t("{0} Committed to this repository on {1}","$(git-commit)",i)}`),e.company&&t.appendMarkdown(`  \r
${s.l10n.t({message:"{0} Member of {1}",args:["$(jersey)",e.company],comment:["An organization that the user is a member of.","The first placeholder is an icon and shouldn't be localized.","The second placeholder is the name of the organization."]})}`),t}async function hp(n,e,t){let i=n.search(e),r=0;for(;i>=0&&i<n.length;){let a;if(i===0||n.charAt(i-1)!=="&"){const v=n.substring(i).match(e);if(v){const I=await t(v);I&&(a=n.slice(0,i)+I,n=a+n.slice(i+v[0].length))}}r=a?a.length:i+1;const o=n.substring(r).search(e);i=o>0?r+o:o}return n}function mp(n,e){return hp(n,as,async t=>{const i=Ls(t);if(i){const r=mc(i);return(!i.owner||!i.name)&&(i.owner=e.remote.owner,i.name=e.remote.repositoryName),`[${r}](https://github.com/${i.owner}/${i.name}/issues/${i.issueNumber})`}})}async function Lk(n,e){return hp(n,up,async t=>{const i=await dp(t,e);if(i){b.trace("finding code links in issue","Issues");const r=await s.workspace.openTextDocument(i==null?void 0:i.file),a=r.lineAt(i.end<r.lineCount?i.end:r.lineCount-1),o=[i.file,{selection:{start:{line:i.start,character:0},end:{line:i.end,character:a.text.length}}}],v=s.Uri.parse(`command:vscode.open?${encodeURIComponent(JSON.stringify(o))}`);return`[${t[0]}](${v} "Open ${i.file.fsPath}")`}})}const wu=200;async function _u(n,e,t,i,r){var a;const o=new s.MarkdownString(void 0,!0);o.supportHtml=!0;const v=new Date(n.createdAt),I=`${n.remote.owner}/${n.remote.repositoryName}`;o.appendMarkdown(`[${I}](https://github.com/${I}) on ${v.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"})}  
`);const G=ld(n.title,{renderer:new ud}).trim();o.appendMarkdown(`${Fk(n)} **${G}** [#${n.number}](${n.html_url})  
`);let Q=ld(n.body,{renderer:new ud});if(o.appendMarkdown(`  
`),Q=Q.length>wu?Q.substr(0,wu)+"...":Q,Q=await mp(Q,n),Q=await Lk(Q,t),o.appendMarkdown(Q+`  
`),n.item.labels.length>0&&(o.appendMarkdown(`&nbsp;  
`),n.item.labels.forEach(re=>{o.appendMarkdown(`[${ah(re)}](https://github.com/${I}/labels/${encodeURIComponent(re.name)}) `)})),n.item.comments&&i){for(const re of n.item.comments)if(re.databaseId===i){o.appendMarkdown(`  \r
\r
---\r
`),o.appendMarkdown(`&nbsp;  
`),o.appendMarkdown(`![Avatar](${re.author.avatarUrl}|height=15,width=15) &nbsp;&nbsp;**${re.author.login}** commented`),o.appendMarkdown(`&nbsp;  
`);let le=ld(re.body.length>wu?re.body.substr(0,wu)+"...":re.body,{renderer:new ud});le=await mp(le,n),o.appendMarkdown(le)}}if(r){const re=(a=pp(r))==null?void 0:a.tooltip;re&&(o.appendMarkdown(`  \r
\r
`),o.appendMarkdown(`_${re}_`))}return o}class ud extends yu{code(e,t){return e}blockquote(e){return e}html(e){return""}heading(e,t,i,r){return e+" "}hr(){return""}list(e,t,i){return e}listitem(e){return" "+e}checkbox(e){return""}paragraph(e){return e.replace(/\</g,"\\<").replace(/\>/g,"\\>")+" "}table(e,t){return e+" "+t}tablerow(e){return e}tablecell(e,t){return e}strong(e){return e}em(e){return e}codespan(e){return`\\\`${e}\\\``}br(){return" "}del(e){return e}image(e,t,i){return""}text(e){return e}link(e,t,i){return i+" "}}function pp(n){if(n&sr.CIFailed&&n&sr.ReviewRequired)return{propagate:!1,badge:new s.ThemeIcon("close",new s.ThemeColor("list.errorForeground")),tooltip:"Review required and some checks have failed"};if(n&sr.CIFailed)return{propagate:!1,badge:new s.ThemeIcon("close",new s.ThemeColor("list.errorForeground")),tooltip:"Some checks have failed"};if(n&sr.ChangesRequested)return{propagate:!1,badge:new s.ThemeIcon("request-changes",new s.ThemeColor("list.errorForeground")),tooltip:"Changes requested"};if(n&sr.CIPending)return{propagate:!1,badge:new s.ThemeIcon("sync",new s.ThemeColor("list.warningForeground")),tooltip:"Checks pending"};if(n&sr.ReviewRequired)return{propagate:!1,badge:new s.ThemeIcon("circle-filled",new s.ThemeColor("list.warningForeground")),tooltip:"Review required"};if(n===sr.None)return{propagate:!1,badge:new s.ThemeIcon("check-all",new s.ThemeColor("issues.open")),tooltip:"All checks passed"}}var Uk=Kt(11138),Bk=Kt(69749),qk=Kt.n(Bk),Hk=Object.defineProperty,Gk=(n,e,t)=>e in n?Hk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,vp=(n,e,t)=>Gk(n,typeof e!="symbol"?e+"":e,t);const cd=/\@([^\s]+)/,$k=150,hs="Permalink";async function gp(n,e,t,i){var r;const a=(r=n.resolvedIssues.get(e.repository.rootUri.path))==null?void 0:r.get(t);if(a)return a;{let o,v,I;const G=await e.getGitHubRemotes();for(const Q of G){if(i)o=i.owner?i.owner:Q.owner,v=i.name?i.name:Q.repositoryName,I=i.issueNumber;else{const re=Ls(t.match(as));re&&(!re.name||!re.owner)&&(o=Q.owner,v=Q.repositoryName)}if(o&&v&&I!==void 0){let re=await e.resolveIssue(o,v,I,!!i.commentNumber);if(re||(re=await e.resolvePullRequest(o,v,I)),re){let le;return n.resolvedIssues.has(e.repository.rootUri.path)?le=n.resolvedIssues.get(e.repository.rootUri.path):n.resolvedIssues.set(e.repository.rootUri.path,le=new(qk())(50)),le.set(t,re),re}}}}}class bp extends s.CompletionItem{constructor(){super(...arguments),vp(this,"login"),vp(this,"uri")}}const yp="HEAD",Vk=1,jk=2,Wk=3,wp=4,ku=new Map([["upstream",Vk],["ups",jk],["origin",Wk]]);async function zk(n,e,t){var i,r,a,o;const v=(i=e.state.HEAD)!=null&&i.upstream&&!ku.has(e.state.HEAD.upstream.remote)?e.state.HEAD.upstream.remote:void 0;let I;const G=e.state.remotes.map(Re=>({name:Re.name,remote:Re})).filter(Re=>(Re.name===v&&(I=Re.remote),ku.has(Re.name))).sort((Re,Ie)=>{var Oe,ue;const ye=(Oe=ku.get(Re.name))!=null?Oe:wp,Te=(ue=ku.get(Ie.name))!=null?ue:wp;return ye-Te});v&&G.push({name:v,remote:I});const Q=[yp];(r=e.state.HEAD)!=null&&r.name&&e.state.HEAD.name!==yp&&Q.unshift((a=e.state.HEAD)==null?void 0:a.name);let re;try{re=await((o=n.getManagerForFile(e.rootUri))==null?void 0:o.getPullRequestDefaults())}catch(Re){if(!(Re instanceof $h))throw Re}re&&Q.push(re.base);let le,ge;for(let Re=0;Re<Q.length&&!le;Re++)for(let Ie=0;Ie<G.length&&!le;Ie++)try{const Oe=(await e.getBranches({contains:t,remote:!0,pattern:`remotes/${G[Ie].name}/${Q[Re]}`,count:1})).filter(ue=>ue.remote&&ue.name);Oe&&Oe.length>0&&(le=Oe[0],ge=G[Ie].remote)}catch{}return ge}function Kk(n){return n instanceof s.Uri?{fileUri:n,lineNumber:void 0}:n!==void 0&&"lineNumber"in n&&"uri"in n?{fileUri:n.uri,lineNumber:n.lineNumber}:{fileUri:void 0,lineNumber:void 0}}function _p(n,e){var t,i;b.debug("getting file and position",hs);let r,a;const{fileUri:o,lineNumber:v}=Kk(n);if(o)r=o,((t=s.window.activeTextEditor)==null?void 0:t.document.uri.fsPath)===r.fsPath&&!s.window.activeNotebookEditor&&(v!==void 0&&(s.window.activeTextEditor.selection.isEmpty||!s.window.activeTextEditor.selection.contains(new s.Position(v-1,0)))?a=new s.Range(new s.Position(v-1,0),new s.Position(v-1,1)):a=s.window.activeTextEditor.selection);else if(!e&&s.window.activeTextEditor)r=s.window.activeTextEditor.document.uri,a=s.window.activeTextEditor.selection;else if(!e&&s.window.activeNotebookEditor)r=s.window.activeNotebookEditor.notebook.uri,a=s.window.activeNotebookEditor.selection;else if(!e&&((i=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:i.input)instanceof s.TabInputCustom)r=s.window.tabGroups.activeTabGroup.activeTab.input.uri;else if(e)r=e.document.uri,a=e.range;else return{uri:void 0,range:void 0};return b.debug(`got file and position: ${r.fsPath} ${a!=null&&a.start?a.start instanceof s.Position?`${a.start.line}:${a.start.character}`:a.start:"unknown"}`,hs),{uri:r,range:a}}function Su(n){var e;const t=(e=n.state.HEAD)==null?void 0:e.upstream;for(const i of n.state.remotes)if(!t||t.remote===i.name)return i}async function kp(n,e,t){const i=new Promise(a=>{a(Su(e))});let r=t?await Promise.race([zk(n,e,t),new Promise(a=>{setTimeout(()=>{a(i)},1500)})]):await i;if(!((!r||!r.fetchUrl)&&(r=await i,!r||!r.fetchUrl)))return r}function Sp(n,e,t){const i=n.getManagerForFile(e.rootUri),r=i==null?void 0:i.gitHubRepositories.find(a=>a.remote.remoteName===t.name);return r?`${r.remote.owner}/${r.remote.repositoryName}`:new Kn(t.fetchUrl).nameWithOwner}async function dd(n,e,t,i,r,a){var o,v,I;const{uri:G,range:Q}=_p(a,r);if(!G)return{permalink:void 0,error:s.l10n.t("No active text editor position to create permalink from."),originalFile:void 0};const re=fc(e,G);if(!re)return{permalink:void 0,error:s.l10n.t("The current file isn't part of repository."),originalFile:G};let le;if(G.scheme===$t.Review&&(le=Ur(G.query).commit),!le)try{const ye=await re.log({maxEntries:1,path:G.fsPath});if(ye.length===0)return{permalink:void 0,error:s.l10n.t("No branch on a remote contains the most recent commit for the file."),originalFile:G};(o=re.state.HEAD)!=null&&o.commit&&ye[0].hash!==((v=re.state.HEAD)==null?void 0:v.commit)?le=re.state.HEAD.commit:le=ye[0].hash}catch{le=(I=re.state.HEAD)==null?void 0:I.commit}b.debug(`commit hash: ${le}`,hs);const ge=await kp(n,re,le);if(!ge||!ge.fetchUrl)return{permalink:void 0,error:s.l10n.t("The selection may not exist on any remote."),originalFile:G};const Re=ge;b.debug(`upstream: ${Re.fetchUrl}`,hs);const Ie=Ru(G.path.substring(re.rootUri.path.length)),ue={permalink:`${fd(ge).replace(/\/$/,"")}/${Sp(n,re,Re)}/blob/${le}${i?`${Ie}${t?hd(Q):""}`:""}`,error:void 0,originalFile:G};return b.debug(`permalink generated: ${ue.permalink}`,hs),ue}async function Qk(n,e,t,i,r,a){return s.window.withProgress({location:s.ProgressLocation.Window},async o=>{o.report({message:s.l10n.t("Creating permalink...")});let v=0,I=a?a[v++]:void 0;const G=[];do G.push(dd(n,e,t,i,r,I)),I=a?a[v++]:void 0;while(I);return Promise.all(G)})}function fd(n,e="github.com"){var t;const i=Hs();let r=n.fetchUrl;if(i&&r){if(r.startsWith("https://")&&!r.startsWith("https://github.com/")){const a=new Uk.URL(r).host;(a.startsWith(i.authority)||!a.includes("github.com"))&&(e=i.authority)}if(r.startsWith("ssh://")&&(r=r.substr(6)),(r.startsWith("git@")||r.includes("@git"))&&!r.startsWith("git@github.com")){const a=(t=r.split("@")[1])==null?void 0:t.split(":")[0];(a.startsWith(i.authority)||!a.includes("github.com"))&&(e=i.authority)}}return`https://${e}`}function Ru(n){return n.split("/").map(e=>encodeURIComponent(e)).join("/")}function hd(n){if(!n||n instanceof s.NotebookRange)return"";let e=`#L${n.start.line+1}`;return n.start.line!==n.end.line&&(e+=`-L${n.end.line+1}`),e}async function Yk(n,e,t){var i;const{uri:r,range:a}=_p(e);if(!r)return{permalink:void 0,error:s.l10n.t("No active text editor position to create permalink from."),originalFile:void 0};const o=n.getManagerForFile(r);if(!o)return{permalink:void 0,error:s.l10n.t("Current file does not belong to an open repository."),originalFile:void 0};let v=(i=o.repository.state.HEAD)==null?void 0:i.name;v||(v=(await(await o.getOrigin()).getMetadata()).default_branch);const I=Su(o.repository);if(!(I!=null&&I.fetchUrl))return{permalink:void 0,error:s.l10n.t("Repository does not have any remotes."),originalFile:void 0};const G=r.path.substring(o.repository.rootUri.path.length),Q=fd(I).replace(/\/$/,""),re=Ru(`${v}${G}`);return{permalink:`${Q}/${new Kn(I.fetchUrl).nameWithOwner}/blob/${re}${t?hd(a):""}`,error:void 0,originalFile:r}}async function Xk(n,e,t){let i=0,r=e?e[i++]:void 0;const a=[];do a.push(Yk(n,r,t)),r=e?e[i++]:void 0;while(r);return Promise.all(a)}async function Rp(n,e,t){var i;const r=await((i=e.currentIssue(n.repository.rootUri))==null?void 0:i.getCommitMessage());if(r)return n.repository.commit(r,{all:t})}const Ep=s.l10n.t("Commit Staged"),Tp=s.l10n.t("Commit All");async function Jk(n,e,t){var i,r;if(n.repository.state.workingTreeChanges.length>0||n.repository.state.indexChanges.length>0){const a=[];switch(n.repository.state.indexChanges&&a.push(Ep),n.repository.state.workingTreeChanges&&a.push(Tp),await s.window.showInformationMessage(s.l10n.t("There are uncommitted changes. Do you want to commit them with the default commit message?"),{modal:!0},...a)){case Ep:{await Rp(n,t,!1);break}case Tp:{await Rp(n,t,!0);break}default:return!1}}if((i=n.repository.state.HEAD)!=null&&i.upstream)return await n.repository.push(),await e.createPullRequest(void 0),!0;{let a;return n.repository.state.remotes.length===1?a=n.repository.state.remotes[0].name:n.repository.state.remotes.length>1&&(a=await s.window.showQuickPick(n.repository.state.remotes.map(o=>o.name),{placeHolder:s.l10n.t("Remote to push to")})),a?(await n.repository.push(a,(r=n.repository.state.HEAD)==null?void 0:r.name,!0),await e.createPullRequest(void 0),!0):(s.window.showWarningMessage(s.l10n.t("The current repository has no remotes to push to. Please set up a remote and try again.")),!1)}}async function md(n,e){return!(n.languageId!=="markdown"&&n.languageId!=="plaintext"&&(await s.languages.getTokenInformationAtPosition(n,e)).type!==s.StandardTokenType.Comment)}async function Np(n,e){return n.lineAt(e.line).range.end.character>1e4?!1:md(n,e)}function Cp(n){const e=new URLSearchParams(n.query).get("rootUri");return e?s.Uri.parse(e):void 0}function Zk(n){return n.replace(/([_~*])/g,"\\$1")}class Pp extends s.CompletionItem{constructor(e){super(`${e.number}: ${e.title}`,s.CompletionItemKind.Issue),this.issue=e}}class e1{constructor(e,t,i){this.stateManager=e,this.repositoriesManager=t,this.context=i}async provideCompletionItems(e,t,i,r){var a,o,v,I,G,Q,re;let le=e.getWordRangeAtPosition(t),ge=le?e.getText(le):void 0;if(!le||(ge==null?void 0:ge.charAt(0))!=="#"){const Ue=(a=le==null?void 0:le.start)!=null?a:t,We=new s.Range(Ue.translate(void 0,Ue.character?-1:0),t),ze=e.getText(We);ze.charAt(0)==="#"&&(le=We,ge=ze)}if(e.languageId!=="scminput"&&e.uri.scheme!=="comment"&&t.character>0&&r.triggerKind===s.CompletionTriggerKind.Invoke&&!(ge!=null&&ge.match(/#[0-9]*$/)))return[];if(t.character<=6&&e.languageId==="markdown"&&e.getText(new s.Range(t.with(void 0,0),t))===new Array(t.character+1).join("#")&&e.uri.scheme!=="comment"&&r.triggerKind===s.CompletionTriggerKind.TriggerCharacter)return[];if(r.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&s.workspace.getConfiguration(Xt).get(fn,[]).find(Ue=>Ue===e.languageId))return[];if(e.languageId!=="scminput"&&e.languageId!=="git-commit"&&!await md(e,t))return[];let Re=new s.Range(t,t);t.character-1>=0&&le&&((ge==null?void 0:ge.charAt(0))==="#"||e.languageId==="scminput"||e.languageId==="git-commit")&&(Re=le);let Ie;if(ge==="#"&&le&&le.start.character>=3){const Ue=new s.Range(le.start.with(void 0,0),le.start),ze=e.getText(Ue).match(/([^\s]+)\/([^\s]+)/);ze&&(Ie={owner:ze[1],repo:ze[2]})}const Oe=new Map;let ue,ye;if(e.languageId==="scminput")ye=Cp(e.uri);else if(e.uri.scheme==="comment"&&((o=s.workspace.workspaceFolders)!=null&&o.length))for(const Ue of s.window.visibleTextEditors){const We=s.workspace.workspaceFolders[0].uri.with({path:Ue.document.uri.path}),ze=s.workspace.getWorkspaceFolder(We);if(ze){ye=ze.uri;break}}else ye=e.uri.scheme===$t.NewIssue&&(I=(v=Xl(e.uri))==null?void 0:v.originUri)!=null?I:e.uri;if(!ye)return[];let Te;try{Te=this.repositoriesManager.getManagerForFile(ye),ue=await(Te==null?void 0:Te.getPullRequestDefaults())}catch{}const Ae=this.stateManager.getIssueCollection((G=Te==null?void 0:Te.repository.rootUri)!=null?G:ye);for(const Ue of Ae){const We=await Ue[1];if(((Q=We.issues)!=null?Q:[]).length!==0)for(const ze of(re=We.issues)!=null?re:[])Ie&&(ze.remote.owner!==Ie.owner||ze.remote.repositoryName!==Ie.repo)||Oe.set(Bo(ze),await this.completionItemFromIssue(ue,ze,Re,e))}return[...Oe.values()]}async completionItemFromIssue(e,t,i,r,a){var o;const v=new Pp(t);if(r.languageId==="markdown")v.insertText=`[${Bo(t,e)}](${t.html_url})`;else{const I=s.workspace.getConfiguration(Xt).get(an);r.uri.path.match(/git\/scm\d\/input/)&&typeof I=="string"?v.insertText=await Gs(I,t,e):v.insertText=`${Bo(t,e)}`}return v.documentation=t.body,v.range=i,v.detail=a?a.title:(o=t.milestone)==null?void 0:o.title,v.sortText=`${new Date(t.updatedAt).getTime()}`,v.filterText=`${v.detail} # ${t.number} ${t.title} ${v.documentation}`,v}async resolveCompletionItem(e,t){return e instanceof Pp&&(e.documentation=await _u(e.issue,this.context,this.repositoriesManager),e.command={command:"issues.issueCompletion",title:s.l10n.t("Issue Completion Choose,")}),e}}var t1=Object.defineProperty,i1=(n,e,t)=>e in n?t1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,tl=(n,e,t)=>i1(n,typeof e!="symbol"?e+"":e,t);const ao=s.l10n.t("Assignees:"),so=s.l10n.t("Labels:"),il=s.l10n.t("Milestone:"),oo=s.l10n.t("Projects:"),pd="newIssue.cache";class n1{constructor(e){this.cache=e,tl(this,"content"),tl(this,"createTime",0),tl(this,"modifiedTime",0),tl(this,"_onDidChangeFile",new s.EventEmitter),tl(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,t){const i=this.onDidChangeFile(r=>{r.length===0&&r[0].type===s.FileChangeType.Deleted&&i.dispose()});return i}stat(e){var t,i;return{type:s.FileType.File,ctime:this.createTime,mtime:this.modifiedTime,size:(i=(t=this.content)==null?void 0:t.length)!=null?i:0}}readDirectory(e){return[]}createDirectory(e){}readFile(e){var t;return(t=this.content)!=null?t:new Uint8Array(0)}writeFile(e,t,i={create:!1,overwrite:!1}){const r=this.content;this.content=t,r===void 0?(this.createTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Created}])):(this.modifiedTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Changed}])),this.cache.cache(t)}delete(e,t){this.content=void 0,this.createTime=0,this.modifiedTime=0,this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Deleted}])}rename(e,t,i){}}class r1{constructor(e){this.manager=e}async provideCompletionItems(e,t,i,r){var a,o;const v=e.lineAt(t.line).text;if(!v.startsWith(so)&&!v.startsWith(il)&&!v.startsWith(oo))return[];const I=(o=(a=Xl(e.uri))==null?void 0:a.repoUriParams)==null?void 0:o.repoRootUri;if(!I)return[];const G=this.manager.getManagerForFile(I);if(!G)return[];const Q=await G.getPullRequestDefaults();return v.startsWith(so)?this.provideLabelCompletionItems(G,Q):v.startsWith(il)?this.provideMilestoneCompletionItems(G):v.startsWith(oo)?this.provideProjectCompletionItems(G):[]}async provideLabelCompletionItems(e,t){return(await e.getLabels(void 0,t)).map(r=>{const a=new s.CompletionItem(r.name,s.CompletionItemKind.Color);return a.documentation=`#${r.color}`,a.commitCharacters=[" ",","],a})}async provideMilestoneCompletionItems(e){var t,i;return((i=await((t=await e.getPullRequestDefaultRepo())==null?void 0:t.getMilestones()))!=null?i:[]).map(a=>{const o=new s.CompletionItem(a.title,s.CompletionItemKind.Event);return o.commitCharacters=[" ",","],o})}async provideProjectCompletionItems(e){var t;const i=await e.getPullRequestDefaultRepo();return((t=await e.getAllProjects(i))!=null?t:[]).map(a=>{const o=new s.CompletionItem(a.title,s.CompletionItemKind.Event);return o.commitCharacters=[" ",","],o})}}class a1{constructor(e){this.context=e,this.clear()}cache(e){this.context.workspaceState.update(pd,e)}clear(){this.context.workspaceState.update(pd,void 0)}get(){const e=this.context.workspaceState.get(pd);if(e)return new TextDecoder().decode(e)}}async function s1(n){var e,t;let i;if(!s.window.activeTextEditor||s.window.activeTextEditor.document.uri.scheme!==$t.NewIssue)return;const r=Xl(s.window.activeTextEditor.document.uri),a=r==null?void 0:r.originUri;if(!a)return;let o;if((e=r.repoUriParams)!=null&&e.repoRootUri?o=n.getManagerForFile(r.repoUriParams.repoRootUri):o=n.getManagerForFile(a),!o)return;const v=await o.getPullRequestDefaultRepo();i=s.window.activeTextEditor.document.getText();const I=i.indexOf(`\r
\r
`),G=i.indexOf(`

`);let Q;if(I<0&&G<0)return;I<0?Q=G:G<0?Q=I:Q=Math.min(I,G);const re=i.substring(0,Q);if(!re)return;let le;if(i=i.substring(Q+2).trim(),i.startsWith("<!--")){const ue=i.indexOf("-->");if(ue<0)return;i=i.substring(ue+3).trim()}if(i.startsWith(ao)){const ue=i.split(/\r\n|\n/,1);ue.length===1&&(le=ue[0].substring(ao.length).split(",").map(ye=>(ye=ye.trim(),ye.startsWith("@")&&(ye=ye.substring(1)),ye)),i=i.substring(ue[0].length).trim())}let ge;if(i.startsWith(so)){const ue=i.split(/\r\n|\n/,1);ue.length===1&&(ge=ue[0].substring(so.length).split(",").map(ye=>ye.trim()).filter(ye=>ye),i=i.substring(ue[0].length).trim())}let Re;if(i.startsWith(il)){const ue=i.split(/\r\n|\n/,1);if(ue.length===1){const ye=ue[0].substring(il.length).trim();if(ye){const Te=await v.getMilestones();Re=(t=Te==null?void 0:Te.find(Ae=>Ae.title===ye))==null?void 0:t.number}i=i.substring(ue[0].length).trim()}}let Ie;if(i.startsWith(oo)){const ue=i.split(/\r\n|\n/,1);if(ue.length===1){if(await v.canGetProjectsNow()){const ye=await o.getAllProjects(v);Ie=ue[0].substring(oo.length).split(",").map(Te=>(Te=Te.trim(),ye.find(Ae=>Ae.title===Te))).filter(Te=>!!Te)}i=i.substring(ue[0].length).trim()}}const Oe=i!=null?i:"";return{labels:ge,milestone:Re,projects:Ie,assignees:le,title:re,body:Oe,originUri:a}}class o1{constructor(e,t,i,r){this.manager=e,this.stateManager=t,this.context=i,this.telemetry=r}async provideHover(e,t,i){var r;if(!await Np(e,t))return;let a=e.getWordRangeAtPosition(t,as);if(a&&a.start.character>0){a=new s.Range(new s.Position(a.start.line,a.start.character),a.end);const v=e.getText(a).match(as),I=Ls(v),G=(r=this.manager.getManagerForFile(e.uri))!=null?r:this.manager.folderManagers[0];if(!G)return;if(I&&v&&(I.owner||I.issueNumber<=this.stateManager.maxIssueNumber(G.repository.rootUri)))return this.createHover(G,v[0],I,a)}else return}async createHover(e,t,i,r){const a=await gp(this.stateManager,e,t,i);if(a)return this.telemetry.sendTelemetryEvent("issues.issueHover"),new s.Hover(await _u(a,this.context,this.manager,i.commentNumber),r)}}var l1=Object.defineProperty,u1=(n,e,t)=>e in n?l1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Mp=(n,e,t)=>u1(n,typeof e!="symbol"?e+"":e,t);class nl{constructor(e,t,i){this.repoRootUri=e,this.queryLabel=t,this.isFirst=i}}class Eu{constructor(e,t,i,r,a,o,v){this.repoRootUri=e,this.queryLabel=t,this.isInFirstQuery=i,this.groupLevel=r,this.group=a,this.groupByOrder=o,this.issuesInGroup=v}}class c1{constructor(e,t,i){this.stateManager=e,this.manager=t,this.context=i,Mp(this,"_onDidChangeTreeData",new s.EventEmitter),Mp(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),i.subscriptions.push(this.manager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeIssueData(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeCurrentIssue(()=>{this._onDidChangeTreeData.fire()}))}getFolderRepoItem(e){return new s.TreeItem(L.basename(e.repository.rootUri.fsPath),gd(this.context,e,s.TreeItemCollapsibleState.Expanded))}getQueryItem(e){const t=new s.TreeItem(e.queryLabel,gd(this.context,e,e.isFirst?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed));return t.contextValue="query",t}getIssueGroupItem(e){return new s.TreeItem(e.group,gd(this.context,e,e.isInFirstQuery?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed))}async getIssueTreeItem(e){var t,i;const r=new s.TreeItem(e.title,s.TreeItemCollapsibleState.None);return r.iconPath=(t=(await na.avatarCirclesAsImageDataUris(this.context,[e.author],16,16))[0])!=null?t:e.isOpen?new s.ThemeIcon("issues",new s.ThemeColor("issues.open")):new s.ThemeIcon("issue-closed",new s.ThemeColor("issues.closed")),r.command={command:"issue.openDescription",title:s.l10n.t("View Issue Description"),arguments:[e]},((i=this.stateManager.currentIssue(e.uri))==null?void 0:i.issue.number)===e.number?(r.label=`\u2713 ${r.label}`,r.contextValue="currentissue"):this.stateManager.getSavedIssueState(e.number).branch?r.contextValue="continueissue":r.contextValue="issue",Ik(e)&&(r.contextValue="link"+r.contextValue),r}async getTreeItem(e){return e instanceof Qs?this.getFolderRepoItem(e):e instanceof nl?this.getQueryItem(e):e instanceof Eu?this.getIssueGroupItem(e):this.getIssueTreeItem(e)}getChildren(e){return e===void 0&&this.manager.state!==aa.RepositoriesLoaded?this.getStateChildren():this.getIssuesChildren(e)}async resolveTreeItem(e,t){return t instanceof Pn&&(e.tooltip=await _u(t,this.context,this.manager)),e}getStateChildren(){return this.manager.state===aa.NeedsAuthentication||!this.manager.folderManagers.length?[]:(lt.setContext(Ri.LOADING_ISSUES_TREE,!0),[])}getRootChildren(){return this.manager.folderManagers.length===1?this.getRepoChildren(this.manager.folderManagers[0]):this.manager.folderManagers.length>1?this.manager.folderManagers:[]}getRepoChildren(e){const t=this.stateManager.getIssueCollection(e.repository.rootUri),i=Array.from(t.keys());return i.length===1?this.getQueryNodeChildren(new nl(e.repository.rootUri,i[0],!0)):i.map((r,a)=>new nl(e.repository.rootUri,r,a===0))}async getQueryNodeChildren(e){var t;const r=await this.stateManager.getIssueCollection(e.repoRootUri).get(e.queryLabel);return r?this.getIssueGroupsForGroupIndex(e.repoRootUri,e.queryLabel,e.isFirst,r.groupBy,0,(t=r.issues)!=null?t:[]):[]}getIssueGroupsForGroupIndex(e,t,i,r,a,o){if(r.length<=a)return o;const v=r[a];if(v!=="milestone"&&v!=="repository"||r.findIndex(Q=>Q===v)!==a)return this.getIssueGroupsForGroupIndex(e,t,i,r,a+1,o);const I=te(o,Q=>{var re,le;return v==="repository"?`${Q.remote.owner}/${Q.remote.repositoryName}`:(le=(re=Q.milestone)==null?void 0:re.title)!=null?le:"No Milestone"}),G=[];for(const Q in I)G.push(new Eu(e,t,i,a,Q,r,I[Q]));return G}async getIssueGroupChildren(e){return this.getIssueGroupsForGroupIndex(e.repoRootUri,e.queryLabel,e.isInFirstQuery,e.groupByOrder,e.groupLevel+1,e.issuesInGroup)}getIssuesChildren(e){return e===void 0?this.getRootChildren():e instanceof Qs?this.getRepoChildren(e):e instanceof nl?this.getQueryNodeChildren(e):e instanceof Eu?this.getIssueGroupChildren(e):[]}}const vd="expandedIssuesState";function Ap(n){let e;return n instanceof Qs?e=n.repository.rootUri.toString():n instanceof nl?e=`${n.repoRootUri.toString()}/${n.queryLabel}`:n instanceof Eu&&(e=`${n.repoRootUri.toString()}/${n.queryLabel}/${n.groupLevel}/${n.group}`),e}function Ip(n,e,t){const i=Ap(e);if(i){const r=new Set(n.workspaceState.get(vd,[]));t?r.add(i):r.delete(i),n.workspaceState.update(vd,Array.from(r.keys()))}}function gd(n,e,t=s.TreeItemCollapsibleState.Expanded){const i=Ap(e);if(i){const r=n.workspaceState.get(vd);return r?new Set(r).has(i)?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed:t}return s.TreeItemCollapsibleState.None}var d1=Object.defineProperty,f1=(n,e,t)=>e in n?d1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,h1=(n,e,t)=>f1(n,typeof e!="symbol"?e+"":e,t);function m1(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}class p1{constructor(e){h1(this,"expression"),e.subscriptions.push(s.workspace.onDidChangeConfiguration(()=>{this.updateTriggers()})),this.updateTriggers()}updateTriggers(){const e=s.workspace.getConfiguration(Xt).get(tn,[]);this.expression=e.length>0?new RegExp(e.map(t=>m1(t)).join("|")):void 0}async provideCodeActions(e,t,i,r){var a;if(this.expression===void 0||i.only&&i.only!==s.CodeActionKind.QuickFix)return[];const o=[];let v=t.start.line;do{const I=e.lineAt(v).text,G=I.substring(0,$k);if(!G.match(as)){const re=G.match(this.expression),le=(a=re==null?void 0:re.index)!=null?a:-1;if(le>=0&&re){const ge=new s.CodeAction(s.l10n.t("Create GitHub Issue"),s.CodeActionKind.QuickFix);ge.ranges=[new s.Range(v,le,v,le+re[0].length)];const Re=G.substring(le).search(/\s/),Ie=le+(Re>0?Re:G.match(this.expression)[0].length);ge.command={title:s.l10n.t("Create GitHub Issue"),command:"issue.createIssueFromSelection",arguments:[{document:e,lineNumber:v,line:I,insertIndex:Ie,range:t}]},o.push(ge);break}}v++}while(t.end.line>=v);return o}}var v1=Object.defineProperty,g1=(n,e,t)=>e in n?v1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Dp=(n,e,t)=>g1(n,typeof e!="symbol"?e+"":e,t);class b1 extends g{constructor(e,t){super(),s.window.registerShareProvider&&(this._register(new w1(e,t)),this._register(new xp(e,t)),this._register(new _1(e,t)),this._register(new k1(e,t)))}}const y1=[$t.File,$t.Review,$t.Pr,$t.VscodeVfs];class bd extends g{constructor(e,t,i,r,a,o="github.com"){super(),this.repositoryManager=e,this.gitAPI=t,this.id=i,this.label=r,this.priority=a,this.origin=o,Dp(this,"shareProviderRegistrations"),this.initialize()}dispose(){super.dispose(),this.unregister()}async initialize(){await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register(),this._register(this.repositoryManager.onDidLoadAnyRepositories(async()=>{await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register()})),this._register(this.gitAPI.onDidCloseRepository(()=>{this.hasGitHubRepositories()||this.unregister()}))}async hasGitHubRepositories(){for(const e of this.repositoryManager.folderManagers)return!!(await e.computeAllGitHubRemotes()).length}register(){this.shareProviderRegistrations||(this.shareProviderRegistrations=y1.map(e=>s.window.registerShareProvider({scheme:e},this)))}unregister(){this.shareProviderRegistrations&&(_(this.shareProviderRegistrations),this.shareProviderRegistrations=void 0)}async provideShare(e){const t=this.repositoryManager.getManagerForFile(e.resourceUri);if(!t)throw new Error(s.l10n.t("Current file does not belong to an open repository."));const i=await this.getBlob(t,e.resourceUri),r=t.repository,a=await this.getUpstream(r,i);if(!a||!a.fetchUrl)throw new Error(s.l10n.t("The selection may not exist on any remote."));const o=fd(a,this.origin).replace(/\/$/,""),v=Ru(e.resourceUri.path.substring(r.rootUri.path.length)),I=S1(e);return s.Uri.parse([o,"/",Sp(this.repositoryManager,r,{...a,fetchUrl:a.fetchUrl}),"/blob/",i,v,I].join(""))}}class w1 extends bd{constructor(e,t){super(e,t,"githubDevLink",s.l10n.t("Copy github.dev Link"),10,"github.dev")}shouldRegister(){return s.env.appHost==="github.dev"}async getBlob(e){return Op(e)}async getUpstream(e){return Su(e)}}class xp extends bd{constructor(e,t,i="githubComPermalink",r=s.l10n.t("Copy GitHub Permalink"),a=11){super(e,t,i,r,a)}shouldRegister(){return!0}async getBlob(e,t){var i,r,a;let o,v;if(t.scheme===$t.Review&&(v=Ur(t.query).commit),!v){const I=e.repository;try{const G=await I.log({maxEntries:1,path:t.fsPath});if(G.length===0)throw new Error(s.l10n.t("No branch on a remote contains the most recent commit for the file."));(i=I.state.HEAD)!=null&&i.commit&&G[0].hash!==((r=I.state.HEAD)==null?void 0:r.commit)&&(o=await I.getCommit(I.state.HEAD.commit)),o||(o=G[0]),v=o.hash}catch{v=(a=I.state.HEAD)==null?void 0:a.commit}}if(v)return v;throw new Error}async getUpstream(e,t){return kp(this.repositoryManager,e,(await e.getCommit(t)).hash)}}const Fp=class Tv extends xp{constructor(e,t){super(e,t,"githubComPermalinkAsMarkdown",s.l10n.t("Copy GitHub Permalink as Markdown"),12)}async provideShare(e){var t;b.trace("providing permalink markdown share",Tv.ID);const i=await super.provideShare(e),r=await this.getMarkdownLinkText(e);if(i)return`[${(t=r==null?void 0:r.trim())!=null?t:""}](${i.toString()})`}async getMarkdownLinkText(e){const t=L.basename(e.resourceUri.path);if(e.selection){const i=await s.workspace.openTextDocument(e.resourceUri),r=e.selection.start===e.selection.end?e.selection:new s.Range(e.selection.start,new s.Position(e.selection.start.line+1,0)),a=i.getText(r);if(a)return a;const o=i.getWordRangeAtPosition(e.selection.start);if(o)return i.getText(o)}return t}};Dp(Fp,"ID","GitHubPermalinkAsMarkdownShareProvider");let _1=Fp;class k1 extends bd{constructor(e,t){super(e,t,"githubComHeadLink",s.l10n.t("Copy GitHub HEAD Link"),13)}shouldRegister(){return!0}async getBlob(e){return Op(e)}async getUpstream(e){return Su(e)}}function S1(n){return n.resourceUri.scheme==="vscode-notebook-cell"?"":hd(n.selection)}async function Op(n){var e;let t=(e=n.repository.state.HEAD)==null?void 0:e.name;return t||(t=(await(await n.getOrigin()).getMetadata()).default_branch),Ru(t)}var R1=Object.defineProperty,E1=(n,e,t)=>e in n?R1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,yr=(n,e,t)=>E1(n,typeof e!="symbol"?e+"":e,t);const T1="currentIssue",yd="issues",Tu=[{label:s.l10n.t("My Issues"),query:"is:open assignee:@me repo:${owner}/${repository}",groupBy:["milestone"]}];class OE extends Pn{constructor(){super(...arguments),yr(this,"uri")}}class N1{constructor(e,t,i){this.gitAPI=e,this.manager=t,this.context=i,yr(this,"resolvedIssues",new Map),yr(this,"_singleRepoStates",new Map),yr(this,"_onRefreshCacheNeeded",new s.EventEmitter),yr(this,"onRefreshCacheNeeded",this._onRefreshCacheNeeded.event),yr(this,"_onDidChangeIssueData",new s.EventEmitter),yr(this,"onDidChangeIssueData",this._onDidChangeIssueData.event),yr(this,"_queries",[]),yr(this,"_onDidChangeCurrentIssue",new s.EventEmitter),yr(this,"onDidChangeCurrentIssue",this._onDidChangeCurrentIssue.event),yr(this,"initializePromise"),yr(this,"statusBarItem"),yr(this,"isSettingIssue",!1)}getIssueCollection(e){var t;let i=(t=this._singleRepoStates.get(e.path))==null?void 0:t.issueCollection;return i||(i=new Map,i)}getOrCreateSingleRepoState(e,t){let i=this._singleRepoStates.get(e.path);return i||(t||(t=this.manager.getManagerForFile(e)),i={issueCollection:new Map,maxIssueNumber:0,folderManager:t},this._singleRepoStates.set(e.path,i),i)}async tryInitializeAndWait(){return this.initializePromise||(this.initializePromise=new Promise(e=>{if(this.manager.credentialStore.isAnyAuthenticated())if(this.manager.state===aa.RepositoriesLoaded)this.doInitialize().then(()=>e());else{const t=this.manager.onDidChangeState(()=>{this.manager.state===aa.RepositoriesLoaded&&this.doInitialize().then(()=>{t.dispose(),e()})});this.context.subscriptions.push(t)}else{const t=this.manager.credentialStore.onDidGetSession(()=>{t.dispose(),this.doInitialize()});e()}})),this.initializePromise}registerRepositoryChangeEvent(){async function e(i,r){var a;const o=i.getOrCreateSingleRepoState(r.rootUri),v=o.lastHead,I=o.lastBranch,G=r.state.HEAD?r.state.HEAD.commit:void 0;(r.state.HEAD?r.state.HEAD.commit:void 0)!==v&&await i.setIssueData(o.folderManager);const Q=(a=r.state.HEAD)==null?void 0:a.name;(v!==G||I!==Q)&&(!o.currentIssue||Q!==o.currentIssue.branchName)&&(Q?o.folderManager&&await i.setCurrentIssueFromBranch(o,Q,!0):await i.setCurrentIssue(o,void 0,!0)),o.lastHead=r.state.HEAD?r.state.HEAD.commit:void 0,o.lastBranch=r.state.HEAD?r.state.HEAD.name:void 0}function t(i,r){i.context.subscriptions.push(r.state.onDidChange(async()=>{e(i,r)}))}this.context.subscriptions.push(this.gitAPI.onDidOpenRepository(i=>{e(this,i),t(this,i)})),this.gitAPI.repositories.forEach(i=>{t(this,i)})}refreshCacheNeeded(){this._onRefreshCacheNeeded.fire()}async refresh(e){return e?this.setIssueData(e):this.setAllIssueData()}async doInitialize(){var e;this.cleanIssueState(),this._queries=s.workspace.getConfiguration(Xt,null).get(st,Tu),this._queries.length===0&&(this._queries=Tu),this.context.subscriptions.push(s.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(`${Xt}.${st}`)?(this._queries=s.workspace.getConfiguration(Xt,null).get(st,Tu),this._onRefreshCacheNeeded.fire()):t.affectsConfiguration(`${Xt}.${ci}`)&&this._onRefreshCacheNeeded.fire()})),this.registerRepositoryChangeEvent(),await this.setAllIssueData(),this.context.subscriptions.push(this.onRefreshCacheNeeded(async()=>{await this.refresh()}));for(const t of this.manager.folderManagers){this.context.subscriptions.push(t.onDidChangeRepositories(async a=>{if(a.added){const o=this.getOrCreateSingleRepoState(t.repository.rootUri);(o.issueCollection.size===0||(await Promise.all(o.issueCollection.values())).some(v=>v.issues===void 0))&&this.refresh(t)}}));const i=this.getOrCreateSingleRepoState(t.repository.rootUri,t);i.lastHead=t.repository.state.HEAD?t.repository.state.HEAD.commit:void 0,this._singleRepoStates.set(t.repository.rootUri.path,i);const r=(e=t.repository.state.HEAD)==null?void 0:e.name;!i.currentIssue&&r&&await this.setCurrentIssueFromBranch(i,r,!0)}}cleanIssueState(){const e=this.context.workspaceState.get(yd),t=e?JSON.parse(e):{issues:[],branches:[]},i=new Date().valueOf()-30*864e5;for(const r in t.issues)t.issues[r].stateModifiedTime<i&&(t.branches&&t.branches[r]&&delete t.branches[r],delete t.issues[r])}async getUsers(e){var t;await this.initializePromise;const i=await((t=this.manager.getManagerForFile(e))==null?void 0:t.getAssignableUsers()),r=new Map;for(const a in i)i[a].forEach(o=>{r.set(o.login,o)});return r}async getUserMap(e){if(!this.initializePromise)return Promise.resolve(new Map);const t=this.getOrCreateSingleRepoState(e);return(!t.userMap||(await t.userMap).size===0)&&(t.userMap=this.getUsers(e)),t.userMap}async getCurrentUser(e){var t;return(t=await this.manager.credentialStore.getCurrentUser(e))==null?void 0:t.login}async setAllIssueData(){return Promise.all(this.manager.folderManagers.map(e=>this.setIssueData(e)))}async setIssueData(e){var t,i;const r=this.getOrCreateSingleRepoState(e.repository.rootUri,e);r.issueCollection.clear();const a=ba(e.repository).filter(v=>v.isEnterprise),o=await this.getCurrentUser(a.length?li.githubEnterprise:li.github);for(let v of this._queries){let I;v.query===gi&&(v=Tu[0]),I=this.setIssues(e,await Gs(v.query,void 0,void 0,o)).then(G=>{var Q;return{groupBy:(Q=v.groupBy)!=null?Q:[],issues:G}}),I&&r.issueCollection.set(v.label,I)}r.maxIssueNumber=await e.getMaxIssue(),r.lastHead=(t=e.repository.state.HEAD)==null?void 0:t.commit,r.lastBranch=(i=e.repository.state.HEAD)==null?void 0:i.name}setIssues(e,t){return new Promise(async i=>{const r=await e.getIssues(t);this._onDidChangeIssueData.fire(),i(r==null?void 0:r.items.map(a=>{const o=a;return o.uri=e.repository.rootUri,o}))})}async setCurrentIssueFromBranch(e,t,i=!1){if(s.workspace.getConfiguration(Xt).get(dn)==="off")return;let a;try{a=await e.folderManager.getPullRequestDefaults()}catch{return}if(t===a.base){await this.setCurrentIssue(e,void 0,!1);return}if(e.currentIssue&&e.currentIssue.branchName===t)return;const o=this.getSavedState();for(const v in o.branches)if(v===t){const I=await e.folderManager.resolveIssue(o.branches[v].owner,o.branches[v].repositoryName,o.branches[v].number);I&&await this.setCurrentIssue(e,new Xm(I,e.folderManager,this),!1,i);return}}currentIssue(e){var t;return(t=this._singleRepoStates.get(e.path))==null?void 0:t.currentIssue}currentIssues(){return Array.from(this._singleRepoStates.values()).filter(e=>e==null?void 0:e.currentIssue).map(e=>e.currentIssue)}maxIssueNumber(e){var t,i;return(i=(t=this._singleRepoStates.get(e.path))==null?void 0:t.maxIssueNumber)!=null?i:0}async setCurrentIssue(e,t,i,r=!1){if(!(this.isSettingIssue&&t===void 0)){if(this.isSettingIssue=!0,e instanceof Qs){const a=this._singleRepoStates.get(e.repository.rootUri.path);if(!a)return;e=a}try{if(e.currentIssue&&(t==null?void 0:t.issue.number)===e.currentIssue.issue.number)return;e.currentIssue&&await e.currentIssue.stopWorking(i),t&&this.context.subscriptions.push(t.onDidChangeCurrentIssueState(()=>this.updateStatusBar())),this.context.workspaceState.update(T1,t==null?void 0:t.issue.number),(!t||await t.startWorking(r))&&(e.currentIssue=t,this.updateStatusBar()),this._onDidChangeCurrentIssue.fire()}catch{}finally{this.isSettingIssue=!1}}}updateStatusBar(){const e=this.currentIssues(),t=e.length>0;if(!t){this.statusBarItem&&(this.statusBarItem.hide(),this.statusBarItem.dispose(),this.statusBarItem=void 0);return}t&&!this.statusBarItem&&(this.statusBarItem=s.window.createStatusBarItem("github.issues.status",s.StatusBarAlignment.Left,0),this.statusBarItem.name=s.l10n.t("GitHub Active Issue"));const i=this.statusBarItem;i.text=s.l10n.t("{0} Issue {1}","$(issues)",e.map(r=>Bo(r.issue,r.repoDefaults)).join(", ")),i.tooltip=e.map(r=>r.issue.title).join(", "),i.command="issue.statusBar",i.show()}getSavedState(){const e=this.context.workspaceState.get(yd);return e?JSON.parse(e):{issues:Object.create(null),branches:Object.create(null)}}getSavedIssueState(e){var t;return(t=this.getSavedState().issues[`${e}`])!=null?t:{}}async setSavedIssueState(e,t){const i=this.getSavedState();return i.issues[`${e.number}`]={...t,stateModifiedTime:new Date().valueOf()},t.branch&&(i.branches||(i.branches=Object.create(null)),i.branches[t.branch]={number:e.number,owner:e.remote.owner,repositoryName:e.remote.repositoryName}),this.context.workspaceState.update(yd,JSON.stringify(i))}}var C1=Object.defineProperty,P1=(n,e,t)=>e in n?C1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rl=(n,e,t)=>P1(n,typeof e!="symbol"?e+"":e,t);const Lp=class ys{constructor(e,t,i){this.stateManager=e,this.manager=t,rl(this,"_gitBlameCache",{}),rl(this,"cachedPrUsers",[]),rl(this,"cachedPrTimelineEvents",[]),rl(this,"cachedForPrNumber")}async provideCompletionItems(e,t,i,r){var a,o,v,I,G;let Q=e.getWordRangeAtPosition(t),re=Q?e.getText(Q):void 0;if(!Q||(re==null?void 0:re.charAt(0))!=="@"){const ye=(a=Q==null?void 0:Q.start)!=null?a:t,Te=new s.Range(ye.translate(void 0,ye.character?-1:0),t),Ae=e.getText(Te);Ae.charAt(0)==="@"&&(Q=Te,re=Ae)}if(e.languageId!=="scminput"&&e.uri.scheme!==$t.NewIssue&&t.character>0&&r.triggerKind===s.CompletionTriggerKind.Invoke&&(re==null?void 0:re.charAt(0))!=="@")return[];if(e.uri.scheme===$t.NewIssue&&r.triggerKind===s.CompletionTriggerKind.Invoke&&e.getText(new s.Range(t.with(void 0,0),t.with(void 0,ao.length)))!==ao)return[];if(r.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&s.workspace.getConfiguration(Xt).get(Yi,[]).find(ye=>ye===e.languageId))return[];if(!this.isCodeownersFiles(e.uri)&&e.languageId!=="scminput"&&e.languageId!=="git-commit"&&!await md(e,t))return[];let le=new s.Range(t,t);t.character-1>=0&&Q&&(re==null?void 0:re.charAt(0))==="@"&&(le=Q);let ge=e.uri;if(e.uri.scheme===$t.NewIssue){const ye=Xl(e.uri);ge=(o=ye==null?void 0:ye.originUri)!=null?o:e.uri}else if(e.languageId==="scminput")ge=Cp(e.uri);else if(e.uri.scheme===$t.Comment){const ye=(v=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:v.input;ge=ye instanceof s.TabInputText?ye.uri:ye instanceof s.TabInputTextDiff?ye.modified:void 0}if(!ge)return[];const Re=(G=(I=this.manager.getManagerForFile(ge))==null?void 0:I.repository.rootUri)!=null?G:ge;let Ie=[];const Oe=await this.stateManager.getUserMap(Re);Oe.forEach(ye=>{var Te;const Ae=(Te=ye.specialDisplayName)!=null?Te:ye.login,Ue=new bp({label:Ae,description:ye.name},s.CompletionItemKind.User);Ue.insertText=`@${Ae}`,Ue.login=ye.login,Ue.uri=Re,Ue.range=le,Ue.detail=ye.name,Ue.filterText=`@ ${ye.login} ${ye.name}`,e.uri.scheme===$t.NewIssue&&(Ue.commitCharacters=[" ",","]),Ie.push(Ue)});const ue=await this.getCommentSpecificSuggestions(Oe,e,t);return ue&&(Ie=Ie.concat(ue)),Ie}isCodeownersFiles(e){const t=this.manager.getManagerForFile(e);if(!t||!Z(t.repository.rootUri.fsPath,e.fsPath))return!1;const i=e.path.substring(t.repository.rootUri.path.length).toLowerCase();return!!["/codeowners","/docs/codeowners","/.github/codeowners"].find(a=>a===i)}async resolveCompletionItem(e,t){const i=this.manager.getManagerForFile(e.uri);if(!i)return e;const r=await i.getPullRequestDefaults(),a=await i.resolveUser(r.owner,r.repo,e.login);return a&&(e.documentation=fp(r,a),e.command={command:"issues.userCompletion",title:s.l10n.t("User Completion Chosen")}),e}async getCommentSpecificSuggestions(e,t,i){try{const r=JSON.parse(t.uri.query);if(t.uri.scheme!==$t.Comment||pe(r.extensionId,wa)!==0)return;const a=t.getWordRangeAtPosition(i,/@([a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38})?/i);if(!a||a.isEmpty)return;const o=s.window.visibleTextEditors;if(!o.length)return;let v,I,G,Q;for(const Ae of o)if(v=this.manager.getManagerForFile(Ae.document.uri),v){if(v.activePullRequest){G=v.activePullRequest.number,Q=v.activePullRequest.remote.remoteName;break}else if(Ae.document.uri.scheme===$t.Pr){const Ue=cn(Ae.document.uri);G=Ue.prNumber,Q=Ue.remoteName;break}}if(!v)return;const re=v;if(G&&G===this.cachedForPrNumber)return this.cachedPrUsers;let le=[];const ge={};let Re={};const Ie=new Promise(async Ae=>{if(G&&Q){if(b.debug("get Timeline Events and parse users",ys.ID),this.cachedForPrNumber===G)return this.cachedPrTimelineEvents;const Ue=re.gitHubRepositories.find(We=>We.remote.remoteName===Q);if(Ue){const We=await Ue.getPullRequest(G);this.cachedForPrNumber=G,this.cachedPrTimelineEvents=await We.getTimelineEvents()}le=N0(this.cachedPrTimelineEvents),Ae()}Ae()}),Oe=new Promise(async Ae=>{if(o.length)try{b.debug("git blame and parse users",ys.ID);const Ue=L.resolve(o[0].document.uri.fsPath);let We;this._gitBlameCache[Ue]?We=this._gitBlameCache[Ue]:(We=await re.repository.blame(Ue),this._gitBlameCache[Ue]=We);const ze=We.split(`
`);for(const bt of ze){const It=/^\w{11} \S*\s*\((.*)\s*\d{4}\-/.exec(bt);if(It&&It.length===2){const ui=It[1].trim();ge[ui]=!0}}}catch(Ue){b.debug(Ue,ys.ID)}Ae()}),ue=new Promise(async Ae=>{b.debug("get mentionable users",ys.ID),Re=await re.getMentionableUsers(),Ae()});await Promise.all([Ie,Oe,ue]),this.cachedPrUsers=[];const ye={};b.debug("prepare user suggestions",ys.ID),le.forEach(Ae=>{ye[Ae.login]||(ye[Ae.login]=Ae)});const Te={};for(const Ae in Re)for(const Ue of Re[Ae])if(!ye[Ue.login]&&!Te[Ue.login]&&!e.get(Ue.login)){Te[Ue.login]=!0;let We=2;(ge[Ue.login]||Ue.name&&ge[Ue.name])&&(We=1),ye[Ue.login]&&(We=0);const ze=new bp({label:Ue.login,description:Ue.name},s.CompletionItemKind.User);ze.insertText=`@${Ue.login}`,ze.login=Ue.login,ze.uri=re.repository.rootUri,ze.detail=Ue.name,ze.filterText=`@ ${Ue.login} ${Ue.name}`,ze.sortText=`${We}_${Ue.login}`,(I==null?void 0:I.document.uri.scheme)===$t.NewIssue&&(ze.commitCharacters=[" ",","]),this.cachedPrUsers.push(ze)}return b.debug("done",ys.ID),this.cachedPrUsers}catch{return[]}}};rl(Lp,"ID","UserCompletionProvider");let M1=Lp;class A1{constructor(e,t){this.manager=e,this.telemetry=t}async provideHover(e,t,i){if(!await Np(e,t))return;let r=e.getWordRangeAtPosition(t,cd);if(r&&r.start.character>0){r=new s.Range(new s.Position(r.start.line,r.start.character),r.end);const o=e.getText(r).match(cd);if(o){const v=o[1];return["javascript","javascriptreact","typescript","typescriptreact"].includes(e.languageId)&&yf.indexOf(v)>=0||e.languageId==="php"&&wf.indexOf(v)>=0||(e.languageId==="cpp"||e.languageId==="c"||e.languageId==="csharp"||e.languageId==="java"||e.languageId==="objective-c"||e.languageId==="php")&&Pg.indexOf(v)>=0?void 0:this.createHover(e.uri,v,r)}}else return}async createHover(e,t,i){try{const r=this.manager.getManagerForFile(e);if(!r)return;const a=await r.getPullRequestDefaults(),o=await r.resolveUser(a.owner,a.repo,t);return o&&o.name?(this.telemetry.sendTelemetryEvent("issues.userHover"),new s.Hover(fp(a,o),i)):void 0}catch{return}}}var I1=Object.defineProperty,D1=(n,e,t)=>e in n?I1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,al=(n,e,t)=>D1(n,typeof e!="symbol"?e+"":e,t);const Up="issues.creatingFromFile",Bp=class Nv extends g{constructor(e,t,i,r,a){super(),this.gitAPI=e,this.manager=t,this.reviewsManager=i,this.context=r,this.telemetry=a,al(this,"_stateManager"),al(this,"_newIssueCache"),al(this,"createIssueInfo"),al(this,"documentFilters",[{language:"php"},{language:"powershell"},{language:"jade"},{language:"python"},{language:"r"},{language:"razor"},{language:"ruby"},{language:"rust"},{language:"scminput"},{language:"scss"},{language:"search-result"},{language:"shaderlab"},{language:"shellscript"},{language:"sql"},{language:"swift"},{language:"typescript"},{language:"vb"},{language:"xml"},{language:"yaml"},{language:"markdown"},{language:"bat"},{language:"clojure"},{language:"coffeescript"},{language:"jsonc"},{language:"c"},{language:"cpp"},{language:"csharp"},{language:"css"},{language:"dockerfile"},{language:"fsharp"},{language:"git-commit"},{language:"go"},{language:"groovy"},{language:"handlebars"},{language:"hlsl"},{language:"html"},{language:"ini"},{language:"java"},{language:"javascriptreact"},{language:"javascript"},{language:"json"},{language:"less"},{language:"log"},{language:"lua"},{language:"makefile"},{language:"ignore"},{language:"properties"},{language:"objective-c"},{language:"perl"},{language:"perl6"},{language:"typescriptreact"},{language:"yml"},"*"]),this._stateManager=new N1(e,this.manager,this.context),this._newIssueCache=new a1(r)}async initialize(){this._register(s.workspace.registerFileSystemProvider($t.NewIssue,new n1(this._newIssueCache))),this._register(s.languages.registerCompletionItemProvider({scheme:$t.NewIssue},new r1(this.manager)," ",","));const e=s.window.createTreeView("issues:github",{showCollapseAll:!0,treeDataProvider:new c1(this._stateManager,this.manager,this.context)});this._register(e),this._register(e.onDidCollapseElement(i=>Ip(this.context,i.element,!1))),this._register(e.onDidExpandElement(i=>Ip(this.context,i.element,!0))),this._register(s.commands.registerCommand("issue.createIssueFromSelection",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromSelection"),this.createTodoIssue(i,r)),this)),this._register(s.commands.registerCommand("issue.createIssueFromClipboard",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromClipboard"),this.createTodoIssueClipboard()),this)),this._register(s.commands.registerCommand("issue.copyGithubPermalink",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalink"),this.copyPermalink(this.manager,r&&r.length>0?r:[i])),this)),this._register(s.commands.registerCommand("issue.copyGithubHeadLink",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLink"),this.copyHeadLink(r&&r.length>0?r:[i])),this)),this._register(s.commands.registerCommand("issue.copyGithubPermalinkWithoutRange",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalinkWithoutRange"),this.copyPermalink(this.manager,r&&r.length>0?r:[i],!1)),this)),this._register(s.commands.registerCommand("issue.copyGithubHeadLinkWithoutRange",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLinkWithoutRange"),this.copyHeadLink(r&&r.length>0?r:[i],!1)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLinkWithoutRange",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkWithoutRange"),this.copyPermalink(this.manager,r&&r.length>0?r:[i],!1,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLink",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLink"),this.copyPermalink(this.manager,r&&r.length>0?r:[i],!0,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLinkFile",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkFile"),this.copyPermalink(this.manager,r&&r.length>0?r:[i],!1,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyMarkdownGithubPermalink",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalink"),this.copyMarkdownPermalink(this.manager,r&&r.length>0?r:[i])),this)),this._register(s.commands.registerCommand("issue.copyMarkdownGithubPermalinkWithoutRange",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalinkWithoutRange"),this.copyMarkdownPermalink(this.manager,r&&r.length>0?r:[i],!1)),this)),this._register(s.commands.registerCommand("issue.openGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.openGithubPermalink"),this.openPermalink(this.manager)),this)),this._register(new b1(this.manager,this.gitAPI)),this._register(s.commands.registerCommand("issue.openIssue",i=>(this.telemetry.sendTelemetryEvent("issue.openIssue"),this.openIssue(i)))),this._register(s.commands.registerCommand("issue.startWorking",i=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(i)),this)),this._register(s.commands.registerCommand("issue.startWorkingBranchDescriptiveTitle",i=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(i)),this)),this._register(s.commands.registerCommand("issue.continueWorking",i=>(this.telemetry.sendTelemetryEvent("issue.continueWorking"),this.startWorking(i)),this)),this._register(s.commands.registerCommand("issue.startWorkingBranchPrompt",i=>(this.telemetry.sendTelemetryEvent("issue.startWorkingBranchPrompt"),this.startWorkingBranchPrompt(i)),this)),this._register(s.commands.registerCommand("issue.stopWorking",i=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(i)),this)),this._register(s.commands.registerCommand("issue.stopWorkingBranchDescriptiveTitle",i=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(i)),this)),this._register(s.commands.registerCommand("issue.statusBar",()=>(this.telemetry.sendTelemetryEvent("issue.statusBar"),this.statusBar()),this)),this._register(s.commands.registerCommand("issue.copyIssueNumber",i=>(this.telemetry.sendTelemetryEvent("issue.copyIssueNumber"),this.copyIssueNumber(i)))),this._register(s.commands.registerCommand("issue.copyIssueUrl",i=>(this.telemetry.sendTelemetryEvent("issue.copyIssueUrl"),this.copyIssueUrl(i)))),this._register(s.commands.registerCommand("issue.refresh",()=>(this.telemetry.sendTelemetryEvent("issue.refresh"),this.refreshView()),this)),this._register(s.commands.registerCommand("issue.suggestRefresh",()=>(this.telemetry.sendTelemetryEvent("issue.suggestRefresh"),this.suggestRefresh()),this)),this._register(s.commands.registerCommand("issue.getCurrent",()=>(this.telemetry.sendTelemetryEvent("issue.getCurrent"),this.getCurrent()),this)),this._register(s.commands.registerCommand("issue.editQuery",i=>(this.telemetry.sendTelemetryEvent("issue.editQuery"),Wr(Xt,i.queryLabel)),this)),this._register(s.commands.registerCommand("issue.createIssue",()=>(this.telemetry.sendTelemetryEvent("issue.createIssue"),this.createIssue()),this)),this._register(s.commands.registerCommand("issue.createIssueFromFile",async()=>{this.telemetry.sendTelemetryEvent("issue.createIssueFromFile"),await s.commands.executeCommand("setContext",Up,!0),await this.createIssueFromFile(),await s.commands.executeCommand("setContext",Up,!1)},this)),this._register(s.commands.registerCommand("issue.issueCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.issueCompletion")})),this._register(s.commands.registerCommand("issue.userCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.userCompletion")})),this._register(s.commands.registerCommand("issue.signinAndRefreshList",async()=>this.manager.authenticate())),this._register(s.commands.registerCommand("issue.goToLinkedCode",async i=>Dk(i,this.manager)));const t=Ym();this._register(s.commands.registerCommand("issue.chatSummarizeIssue",i=>{if(i instanceof Pn||i instanceof er)if(this.telemetry.sendTelemetryEvent("issue.chatSummarizeIssue"),i instanceof Pn)lt.executeCommand(t,s.l10n.t("@githubpr Summarize issue {0}/{1}#{2}",i.remote.owner,i.remote.repositoryName,i.number));else{const r=i.pullRequestModel,a=r.githubRepository.remote;lt.executeCommand(t,s.l10n.t("@githubpr Summarize PR {0}/{1}#{2}",a.owner,a.repositoryName,r.number))}})),this._register(s.commands.registerCommand("issue.chatSuggestFix",i=>{i instanceof Pn&&(this.telemetry.sendTelemetryEvent("issue.chatSuggestFix"),lt.executeCommand(t,s.l10n.t("@githubpr Find a fix for issue {0}/{1}#{2}",i.remote.owner,i.remote.repositoryName,i.number)))})),this._register(s.commands.registerCommand("issues.configureIssuesViewlet",async()=>s.commands.executeCommand("workbench.action.openSettings",`@ext:${wa} issues`))),this._stateManager.tryInitializeAndWait().then(()=>{this.registerCompletionProviders(),this._register(s.languages.registerHoverProvider("*",new o1(this.manager,this._stateManager,this.context,this.telemetry))),this._register(s.languages.registerHoverProvider("*",new A1(this.manager,this.telemetry))),this._register(s.languages.registerCodeActionsProvider("*",new p1(this.context),{providedCodeActionKinds:[s.CodeActionKind.QuickFix]}))})}registerCompletionProviders(){const e=[{provider:e1,trigger:"#",disposable:void 0,configuration:`${oi}.${Oi}`},{provider:M1,trigger:"@",disposable:void 0,configuration:`${yi}.${Oi}`}];for(const t of e)s.workspace.getConfiguration(Xt).get(t.configuration,!0)&&this._register(t.disposable=s.languages.registerCompletionItemProvider(this.documentFilters,new t.provider(this._stateManager,this.manager,this.context),t.trigger));this._register(s.workspace.onDidChangeConfiguration(t=>{for(const i of e)if(t.affectsConfiguration(`${Xt}.${i.configuration}`)){const r=s.workspace.getConfiguration(Xt).get(i.configuration,!0);!r&&i.disposable?(i.disposable.dispose(),i.disposable=void 0):r&&!i.disposable&&this._register(i.disposable=s.languages.registerCompletionItemProvider(this.documentFilters,new i.provider(this._stateManager,this.manager,this.context),i.trigger));break}}))}async createIssue(){var e,t,i;let r=(e=s.window.activeTextEditor)==null?void 0:e.document.uri,a=r?this.manager.getManagerForFile(r):void 0;const o=s.workspace.getConfiguration(Xt).get(Ar);if((!a||o)&&(a=await this.chooseRepo(s.l10n.t("Select the repo to create the issue in.")),r=a==null?void 0:a.repository.rootUri),!a||!r)return;const v=await this.chooseTemplate(a);this._newIssueCache.clear();const I=(i=(t=a.repository.state.HEAD)==null?void 0:t.upstream)==null?void 0:i.remote;let G=I?a.repository.state.remotes.find(re=>re.name===I):void 0;if(!G){const le=a.repository.state.remotes.filter(Re=>Re.fetchUrl||Re.pushUrl).map(Re=>({label:`${Re.name}: ${Re.fetchUrl||Re.pushUrl}`,remote:Re})),ge=await s.window.showQuickPick(le,{placeHolder:s.l10n.t("Select a remote to file this issue to")});if(!ge)return;G=ge.remote}let Q={remote:G};v&&(Q={...Q,title:v.title,body:v.body}),this.makeNewIssueFile(r,Q)}async createIssueFromFile(){var e,t,i,r;const a=await s1(this.manager);if(!a||!s.window.activeTextEditor)return;const o=await this.doCreateIssue((e=this.createIssueInfo)==null?void 0:e.document,(t=this.createIssueInfo)==null?void 0:t.newIssue,a.title,a.body,a.assignees,a.labels,a.milestone,a.projects,(i=this.createIssueInfo)==null?void 0:i.lineNumber,(r=this.createIssueInfo)==null?void 0:r.insertIndex,a.originUri);this.createIssueInfo=void 0,o&&s.window.tabGroups.activeTabGroup.activeTab&&(await s.window.activeTextEditor.document.save(),await s.window.tabGroups.close(s.window.tabGroups.activeTabGroup.activeTab),this._newIssueCache.clear())}getCurrent(){const e=this._stateManager.currentIssues();if(e.length>0)return{owner:e[0].issue.remote.owner,repo:e[0].issue.remote.repositoryName,number:e[0].issue.number}}refreshView(){this._stateManager.refreshCacheNeeded()}async suggestRefresh(){return await s.commands.executeCommand("hideSuggestWidget"),await this._stateManager.refresh(),s.commands.executeCommand("editor.action.triggerSuggest")}openIssue(e){if(e instanceof Pn)return s.env.openExternal(s.Uri.parse(e.html_url))}async doStartWorking(e,t,i){let r=e,a=t.githubRepository,o=t.remote;if(!r){if(r=await this.chooseRepo(s.l10n.t("Choose which repository you want to work on this isssue in.")),!r)return;a=await r.getOrigin(),o=a.remote}const v=await r.findUpstreamForItem({githubRepository:a,remote:o});v.needsFork&&await r.tryOfferToFork(a)===void 0||await this._stateManager.setCurrentIssue(r,new Xm(t,r,this._stateManager,v.remote,i),!0)}async startWorking(e){if(e instanceof Pn)return this.doStartWorking(this.manager.getManagerForIssueModel(e),e);if(e instanceof s.Uri){const t=e.toString().match(as),i=Ls(t),r=this.manager.folderManagers.find(a=>a.gitHubRepositories.find(o=>o.remote.owner===(i==null?void 0:i.owner)&&o.remote.repositoryName===i.name));if(i&&r){const a=await gp(this._stateManager,r,e.toString(),i);if(a)return this.doStartWorking(r,a)}}}async startWorkingBranchPrompt(e){e instanceof Pn&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e,!0)}async stopWorking(e){var t;let i=this.manager.getManagerForIssueModel(e);!i&&(i=await this.chooseRepo(s.l10n.t("Choose which repository you want to stop working on this issue in.")),!i)||e instanceof Pn&&((t=this._stateManager.currentIssue(i.repository.rootUri))==null?void 0:t.issue.number)===e.number&&await this._stateManager.setCurrentIssue(i,void 0,!0)}async statusBarActions(e){const t=s.l10n.t("{0} Open #{1} {2}","$(globe)",e.issue.number,e.issue.title),i=s.l10n.t({message:"{0} Create pull request for #{1} (pushes branch)",args:["$(git-pull-request)",e.issue.number],comment:["The first placeholder is an icon and shouldn't be localized","The second placeholder is the ID number of a GitHub Issue."]});let r;try{r=await e.manager.getPullRequestDefaults()}catch{}const a=s.l10n.t("{0} Stop working on #{1}","$(primitive-square)",e.issue.number),o=e.branchName&&r?[t,i,a]:[t,i,a];switch(await s.window.showQuickPick(o,{placeHolder:s.l10n.t("Current issue options")})){case t:return this.openIssue(e.issue);case i:{const I=br.getReviewManagerForFolderManager(this.reviewsManager.reviewManagers,e.manager);if(I)return Jk(e.manager,I,this._stateManager);break}case a:return this._stateManager.setCurrentIssue(e.manager,void 0,!0)}}async statusBar(){const e=this._stateManager.currentIssues();if(e.length===1)return this.statusBarActions(e[0]);{const t=e.map(r=>({label:s.l10n.t("#{0} from {1}",r.issue.number,`${r.issue.githubRepository.remote.owner}/${r.issue.githubRepository.remote.repositoryName}`),currentIssue:r})),i=await s.window.showQuickPick(t);if(i)return this.statusBarActions(i.currentIssue)}}stringToUint8Array(e){return new TextEncoder().encode(e)}copyIssueNumber(e){if(e instanceof Pn)return s.env.clipboard.writeText(e.number.toString())}copyIssueUrl(e){if(e instanceof Pn)return s.env.clipboard.writeText(e.html_url)}async createTodoIssueClipboard(){return this.createTodoIssue(void 0,await s.env.clipboard.readText())}async createTodoIssueBody(e,t){var i;if(t||e!=null&&e.document.isUntitled)return t;let r="";if(e){const a=this.manager.getManagerForFile(e.document.uri);if(((i=a==null?void 0:a.repository)==null?void 0:i.state.workingTreeChanges.find(v=>v.uri.toString()===e.document.uri.toString()))&&(r=`\`\`\`
${e.line}
\`\`\`

`),a){const v=a.gitRelativeRootPath(e.document.uri.path);r+=s.l10n.t(`In file {0}
`,v)}}return r+=(await dd(this.manager,this.gitAPI,!0,!0,e)).permalink,r}async createTodoIssue(e,t){let i,r,a,o,v,I;if(!e&&s.window.activeTextEditor)i=s.window.activeTextEditor.document,I=i.getText(s.window.activeTextEditor.selection);else if(e)i=e.document,a=e.insertIndex,o=e.lineNumber,r=e.line.substring(a,e.line.length).trim(),I=i.getText(e.range.isEmpty?i.lineAt(e.range.start.line).range:e.range);else return;const G=I.match(cd);G&&G.length===2&&(await this._stateManager.getUserMap(i.uri)).has(G[1])&&(v=[G[1]]);let Q;const re=await this.createTodoIssueBody(e,t),le=s.window.createInputBox();le.value=r!=null?r:"",le.prompt=s.l10n.t("Set the issue title. Confirm to create the issue now or use the edit button to edit the issue title and description."),le.title=s.l10n.t("Create Issue"),le.buttons=[{iconPath:new s.ThemeIcon("edit"),tooltip:s.l10n.t("Edit Description")}],le.onDidAccept(async()=>{Q=le.value,Q&&(le.busy=!0,await this.doCreateIssue(i,e,Q,re,v,void 0,void 0,void 0,o,a),le.busy=!1),le.hide()}),le.onDidTriggerButton(async()=>{Q=le.value,le.busy=!0,this.createIssueInfo={document:i,newIssue:e,lineNumber:o,insertIndex:a},this.makeNewIssueFile(i.uri,{title:Q,body:re,assignees:v}),le.busy=!1,le.hide()}),le.show()}async makeNewIssueFile(e,t){var i,r,a;const o=this.manager.getManagerForFile(e);if(!o)return;const v=(i=o.findRepo(ze=>{var bt;return ze.remote.remoteName===((bt=t==null?void 0:t.remote)==null?void 0:bt.name)}))==null?void 0:i.remote.gitProtocol,I=v!=null&&v.url.toString().endsWith(".git")?v==null?void 0:v.url.toString().slice(0,-4):v==null?void 0:v.url.toString(),G=v?{owner:v==null?void 0:v.owner,repo:v==null?void 0:v.repositoryName,repoRootUri:o.repository.rootUri}:void 0,Q=fb({originUri:e,repoUriParams:G});if(s.window.visibleTextEditors.filter(ze=>ze.document.uri.scheme===$t.NewIssue).length>0)return;await s.workspace.fs.delete(Q);const re=`${ao} ${t!=null&&t.assignees&&t.assignees.length>0?t.assignees.map(ze=>"@"+ze).join(", ")+" ":""}`,le=`${so} `,ge=`${il} `,Re=`${oo} `,Ie=this._newIssueCache.get(),Oe=Ie&&Ie!==""?Ie:`${(r=t==null?void 0:t.title)!=null?r:s.l10n.t("Issue Title")}

${v?`<!-- ${s.l10n.t("This issue will be created in repo {0} ({1}). Changing this line has no effect.",v.nameWithOwner,I)} -->
`:""}
${re}
${le}
${ge}
${Re}

${(a=t==null?void 0:t.body)!=null?a:""}

<!-- ${s.l10n.t('Edit the body of your new issue then click the \u2713 "Create Issue" button in the top right of the editor. The first line will be the issue title. Assignees and Labels follow after a blank line. Leave an empty line before beginning the body of the issue.')} -->`;await s.workspace.fs.writeFile(Q,this.stringToUint8Array(Oe));const ue=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated usernames, either @username or just username."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),ye=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated labels."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),Te=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated projects."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),Ae=s.window.onDidChangeActiveTextEditor(ze=>{if((ze==null?void 0:ze.document.uri.scheme)===$t.NewIssue){const bt=v?4:2,It=bt+0,ui=bt+1,pn=bt+3,Si=ze.document.lineAt(It);Si.text.startsWith(ao)&&ze.setDecorations(ue,[new s.Range(new s.Position(It,0),new s.Position(It,Si.text.length))]);const Vi=ze.document.lineAt(ui);Vi.text.startsWith(so)&&ze.setDecorations(ye,[new s.Range(new s.Position(ui,0),new s.Position(ui,Vi.text.length))]);const wr=ze.document.lineAt(pn);wr.text.startsWith(oo)&&ze.setDecorations(Te,[new s.Range(new s.Position(pn,0),new s.Position(pn,wr.text.length))])}}),Ue=await s.window.showTextDocument(Q),We=s.workspace.onDidCloseTextDocument(ze=>{ze===Ue.document&&(Ae.dispose(),We.dispose())})}async verifyLabels(e,t){var i;if(!t.labels)return!0;const r=(await e.getLabels(void 0,t)).map(v=>v.name),a=[],o=[];if((i=t.labels)==null||i.forEach(v=>{let I=typeof v=="string"?v:v.name;I&&(r.includes(I)?o.push(I):a.push(I))}),a.length>0){const v=s.l10n.t("Yes"),I=s.l10n.t("No");switch(await s.window.showInformationMessage(s.l10n.t(`The following labels don't exist in this repository: {0}. 
Do you want to create these labels?`,a.join(", ")),{modal:!0},v,I)){case v:return!0;case I:return t.labels=o,!0;default:return!1}}return!0}async chooseRepo(e){const t=[];for(const r of this.manager.folderManagers)try{const a=await r.getPullRequestDefaults();t.push({label:`${a.owner}/${a.repo}`,repo:r})}catch{}if(t.length===0)return;if(t.length===1)return t[0].repo;const i=await s.window.showQuickPick(t,{placeHolder:e});return i==null?void 0:i.repo}async chooseTemplate(e){const t=await e.getIssueTemplates();if(t.length===0)return{title:void 0,body:void 0};const r=(await Promise.all(t.map(async o=>{try{const v=await s.workspace.fs.readFile(o),I=new TextDecoder("utf-8").decode(v);return this.getDataFromTemplate(I)}catch(v){b.warn(`Reading issue template failed: ${v}`);return}}))).filter(o=>!!o&&!!(o!=null&&o.name)).map(o=>({label:o.name,description:o.about,template:o}));r.push({label:s.l10n.t("Blank issue"),template:{title:void 0,body:void 0}});const a=await s.window.showQuickPick(r,{placeHolder:s.l10n.t("Select a template for the new issue.")});return a==null?void 0:a.template}getDataFromTemplate(e){var t,i,r,a,o,v,I;const G=(i=(t=e.match(/title:\s*(.*)/))==null?void 0:t[1])==null?void 0:i.replace(/^["']|["']$/g,""),Q=(a=(r=e.match(/name:\s*(.*)/))==null?void 0:r[1])==null?void 0:a.replace(/^["']|["']$/g,""),re=(v=(o=e.match(/about:\s*(.*)/))==null?void 0:o[1])==null?void 0:v.replace(/^["']|["']$/g,""),le=(I=e.match(/---([\s\S]*)---([\s\S]*)/))==null?void 0:I[2];return{title:G,name:Q,about:re,body:le}}async doCreateIssue(e,t,i,r,a,o,v,I,G,Q,re){let le,ge;if(re&&re.scheme===$t.Repo){const Re=Tc(re);if(Re&&(le={owner:Re.owner,repo:Re.repo,base:""},ge=this.manager.getManagerForFile(Re.repoRootUri)),!ge)return s.window.showErrorMessage(s.l10n.t("Could not find the correct repository for the issue; see logs for more details.")),b.error(`Could not find the folder manager for the issue originUri: ${re.toString()}`,Nv.ID),!1}return ge||(e?ge=this.manager.getManagerForFile(e.uri):re&&(ge=this.manager.getManagerForFile(re))),ge||(ge=await this.chooseRepo(s.l10n.t("Choose where to create the issue."))),s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Creating issue")},async Re=>{if(!ge)return!1;Re.report({message:s.l10n.t("Verifying that issue data is valid...")});try{le||(le=await ge.getPullRequestDefaults())}catch{return s.window.showErrorMessage(s.l10n.t("There is no remote. Can't create an issue.")),!1}const Ie=r||t!=null&&t.document.isUntitled?r:(await dd(this.manager,this.gitAPI,!0,!0,t)).permalink,Oe={owner:le.owner,repo:le.repo,title:i,body:Ie,assignees:a,labels:o,milestone:v};if(!await this.verifyLabels(ge,Oe))return!1;Re.report({message:s.l10n.t("Creating issue in {0}...",`${Oe.owner}/${Oe.repo}`)});const ue=await ge.createIssue(Oe);if(ue){if(I&&await ue.updateProjects(I),e!==void 0&&Q!==void 0&&G!==void 0){const ye=new s.WorkspaceEdit,Te=s.workspace.getConfiguration(Xt).get(Ai,"number")==="number"?`#${ue.number}`:ue.html_url;ye.insert(e.uri,new s.Position(G,Q),` ${Te}`),await s.workspace.applyEdit(ye)}else{const ye=s.l10n.t("Copy Issue Link"),Te=s.l10n.t({message:"Open Issue",comment:"Open the issue description in the browser to see it's full contents."});s.window.showInformationMessage(s.l10n.t("Issue created"),ye,Te).then(async Ae=>{switch(Ae){case ye:await s.env.clipboard.writeText(ue.html_url);break;case Te:await s.env.openExternal(s.Uri.parse(ue.html_url));break}})}return this._stateManager.refreshCacheNeeded(),!0}return!1})}async getPermalinkWithError(e,t,i,r){const a=await Qk(e,this.gitAPI,t,i,void 0,r),o=a.find(v=>v.error);return o&&s.window.showWarningMessage(s.l10n.t("Unable to create a GitHub permalink for the selection. {0}",o.error)),a}async getHeadLinkWithError(e,t){const i=await Xk(this.manager,e,t);if(i.length>0){const r=i.find(a=>a.error);r&&s.window.showWarningMessage(s.l10n.t("Unable to create a GitHub link for the selection. {0}",r.error))}return i}async getContextualizedLink(e,t){let i;try{i=await s.env.asExternalUri(e)}catch{return t}const r=i.scheme==="https"&&/^(insiders\.vscode|vscode|github)\./.test(i.authority)?i.authority:void 0;if(!r)return t;const a=s.Uri.parse(t),o=/^(github)\./.test(i.authority)?a.path:`/github${a.path}`;return a.with({authority:r,path:o}).toString()}async permalinkInfoToClipboardText(e,t=!1){const i=e.filter(r=>!!r.permalink);if(i.length!==0){const a=(await Promise.all(i.map(async o=>t&&o.originalFile?await this.getContextualizedLink(o.originalFile,o.permalink):o.permalink))).join(`
`);return b.debug(`Will write ${a} to the clipboard`,hs),a}}async copyPermalink(e,t,i=!0,r=!0,a=!1){const o=await this.getPermalinkWithError(e,i,r,t),v=await this.permalinkInfoToClipboardText(o,a);if(v)return s.env.clipboard.writeText(v)}async copyHeadLink(e,t=!0){const i=await this.getHeadLinkWithError(e,t),r=await this.permalinkInfoToClipboardText(i);if(r)return s.env.clipboard.writeText(r)}getMarkdownLinkText(){if(!s.window.activeTextEditor)return;let e=s.window.activeTextEditor.selection;e.start.line!==e.end.line&&(e=new s.Range(e.start,new s.Position(e.start.line+1,0)));const t=s.window.activeTextEditor.document.getText(e);if(t)return t;if(e=s.window.activeTextEditor.document.getWordRangeAtPosition(e.start),e)return s.window.activeTextEditor.document.getText(e)}async copyMarkdownPermalink(e,t,i=!0){const a=(await this.getPermalinkWithError(e,i,!0,t)).filter(v=>!!v.permalink);if(a.length===1){const v=this.getMarkdownLinkText();if(v)return s.env.clipboard.writeText(`[${v.trim()}](${a[0].permalink})`)}const o=a.map(v=>{var I,G;return`[${(0,L.basename)((G=(I=v.originalFile)==null?void 0:I.fsPath)!=null?G:"")}](${v.permalink})`}).join(`
`);return b.debug(`writing ${o} to the clipboard`,hs),s.env.clipboard.writeText(o)}async openPermalink(e){const i=(await this.getPermalinkWithError(e,!0,!0)).filter(r=>!!r.permalink);if(i.length>0)return s.env.openExternal(s.Uri.parse(i[0].permalink))}};al(Bp,"ID","IssueFeatureRegistrar");let x1=Bp;var Nu=Kt(60937);class F1 extends Nu.PromptElement{render(){return vscpp(vscppf,null,vscpp(Nu.AssistantMessage,null,"Instructions:",vscpp("br",null),"- The user will ask a question related to GitHub, and it may require lots of research to answer correctly. There is a selection of tools that let you perform actions or retrieve helpful context to answer the user's question.",vscpp("br",null),"- If you aren't sure which tool is relevant, you can call multiple tools. You can call tools repeatedly to take actions or gather as much context as needed until you have completed the task fully. Don't give up unless you are sure the request cannot be fulfilled with the tools you have.",vscpp("br",null),"- Don't ask the user for confirmation to use tools, just use them.",vscpp("br",null),"- When talking about issues, be as concise as possible while still conveying all the information you need to. Avoid mentioning the following:",vscpp("br",null),"- The fact that there are no comments.",vscpp("br",null),"- Any info that seems like template info."),vscpp(Nu.UserMessage,null,this.props.userMessage))}}const qp="TOOL_MARKDOWN_RESULT",wd="TOOL_COMMAND_RESULT";class Hp{constructor(e){this.chatParticipantState=e}}async function ms(n){let e="";for await(const t of n)e+=t;return e}class sl extends Hp{constructor(e,t,i){super(i),this.credentialStore=e,this.repositoriesManager=t}async getRepoInfo(e){if(!this.credentialStore.isAnyAuthenticated())throw new Xa;let t,i,r;if(e.owner&&e.name&&!e.owner.includes("owner")&&!e.name.includes("name")&&(t=e.owner,i=e.name,r=this.repositoriesManager.getManagerForRepository(e.owner,e.name)),!r&&this.repositoriesManager.folderManagers.length>0)if(r=this.repositoriesManager.folderManagers[0],t&&i)await r.createGitHubRepositoryFromOwnerName(t,i);else{const a=await r.getPullRequestDefaults();a?(t=a.owner,i=a.repo):(t=r.gitHubRepositories[0].remote.owner,i=r.gitHubRepositories[0].remote.repositoryName)}if(!r||!t||!i)throw new Error(`No repository found for ${t}/${i}. Make sure to have the repository open.`);return{owner:t,name:i,folderManager:r}}getGitHub(){let e;return this.credentialStore.isAuthenticated(li.githubEnterprise)&&Cr()?e=li.githubEnterprise:this.credentialStore.isAuthenticated(li.github)&&(e=li.github),e!==void 0?this.credentialStore.getHub(e):void 0}}var O1=Object.defineProperty,L1=(n,e,t)=>e in n?O1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U1=(n,e,t)=>L1(n,typeof e!="symbol"?e+"":e,t);class B1{constructor(){U1(this,"_messages",[])}get lastToolResult(){for(let e=this._messages.length-1;e>=0;e--){const t=this._messages[e];for(const i of t.content)if(i instanceof s.LanguageModelToolResultPart)return t.content}return[]}get firstUserMessage(){for(let e=0;e<this._messages.length;e++){const t=this._messages[e];if(t.role===s.LanguageModelChatMessageRole.User&&t.content){for(const i of t.content)if(i instanceof s.LanguageModelTextPart)return i}}}get messages(){return this._messages}addMessage(e){this._messages.push(e)}addMessages(e){this._messages.push(...e)}reset(){this._messages=[]}}class q1 extends g{constructor(e,t){super(),this.state=t;const i=this._register(s.chat.createChatParticipant("githubpr",(r,a,o,v)=>this.handleParticipantRequest(r,a,o,v)));i.iconPath=s.Uri.joinPath(e.extensionUri,"resources/icons/github_logo.png")}async handleParticipantRequest(e,t,i,r){this.state.reset();const o=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],v=s.lm.tools.map(ge=>{var Re;return{name:ge.name,description:ge.description,inputSchema:(Re=ge.inputSchema)!=null?Re:{}}}),{messages:I}=await(0,Nu.renderPrompt)(F1,{userMessage:e.prompt},{modelMaxPromptTokens:o.maxInputTokens},o);this.state.addMessages(I);const G=[...e.toolReferences],Q={justification:"Answering user questions pertaining to GitHub."},re=[],le=async()=>{const ge=G.shift();ge?(Q.toolMode=s.LanguageModelChatToolMode.Required,Q.tools=v.filter(Oe=>Oe.name===ge.name)):(Q.toolMode=void 0,Q.tools=v);const Re=[],Ie=await o.sendRequest(this.state.messages,Q,r);for await(const Oe of Ie.stream)if(Oe instanceof s.LanguageModelTextPart)i.markdown(Oe.value);else if(Oe instanceof s.LanguageModelToolCallPart){const ue=s.lm.tools.find(Ae=>Ae.name===Oe.name);if(!ue)throw new Error("Got invalid tool choice: "+Oe.name);let ye;try{ye=Oe.input}catch(Ae){throw new Error(`Got invalid tool use parameters: "${JSON.stringify(Oe.input)}". (${Ae.message})`)}const Te={input:ye,toolInvocationToken:e.toolInvocationToken};Re.push({call:Oe,result:s.lm.invokeTool(ue.name,Te,r),tool:ue})}if(Re.length){const Oe=s.LanguageModelChatMessage.Assistant("");Oe.content=Re.map(ye=>new s.LanguageModelToolCallPart(ye.call.callId,ye.tool.name,ye.call.input)),this.state.addMessage(Oe);let ue=!1;for(const ye of Re){let Te=await ye.result;const Ae=[];let Ue;for(let ze=0;ze<Te.content.length;ze++){const bt=Te.content[ze];if(!(bt instanceof s.LanguageModelTextPart)){Ue=new s.LanguageModelToolResultPart(ye.call.callId,Te.content);continue}if(bt.value===qp){const It=new s.MarkdownString(Te.content[++ze].value);It.supportHtml=!0,i.markdown(It),ue=!0}else bt.value===wd?re.push(JSON.parse(Te.content[++ze].value)):Ue?Ae.push(bt):Ue=new s.LanguageModelToolResultPart(ye.call.callId,[bt])}const We=s.LanguageModelChatMessage.User("");if(We.content=[Ue],this.state.addMessage(We),Ae.length){const ze=s.LanguageModelChatMessage.User("");ze.content=Ae,this.state.addMessage(ze)}}return this.state.addMessage(s.LanguageModelChatMessage.User(`Above is the result of calling the functions ${Re.map(ye=>ye.tool.name).join(", ")}. ${ue?"The user can see the result of the tool call.":""}`)),le()}};await le(),this.addButtons(i,re)}addButtons(e,t){for(const i of t)e.button(i)}}var H1=Object.defineProperty,G1=(n,e,t)=>e in n?H1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$1=(n,e,t)=>G1(n,typeof e!="symbol"?e+"":e,t);class _d{constructor(e){this.folderManagers=e}_findActivePullRequest(){var e,t;const i=this.folderManagers.folderManagers.find(r=>r.activePullRequest);return(t=i==null?void 0:i.activePullRequest)!=null?t:(e=Tr.currentPanel)==null?void 0:e.getCurrentItem()}async prepareInvocation(){const e=this._findActivePullRequest();return{invocationMessage:e?s.l10n.t('Pull request "{0}"',e.title):s.l10n.t("Active pull request")}}async invoke(e,t){var i,r,a,o,v,I,G;let Q=this._findActivePullRequest();if(!Q)return new s.LanguageModelToolResult([new s.LanguageModelTextPart("There is no active pull request")]);const re=await Q.getStatusChecks(),le={title:Q.title,body:Q.body,author:Q.author,assignees:Q.assignees,comments:Q.comments.map(ge=>{var Re;return{author:(Re=ge.user)==null?void 0:Re.login,body:ge.body,commentState:ge.isResolved?"resolved":"unresolved",file:ge.path}}),state:Q.state,statusChecks:(i=re[0])==null?void 0:i.statuses.map(ge=>({context:ge.context,description:ge.description,state:ge.state,name:ge.workflowName,targetUrl:ge.targetUrl})),reviewRequirements:{approvalsNeeded:(a=(r=re[1])==null?void 0:r.count)!=null?a:0,currentApprovals:(v=(o=re[1])==null?void 0:o.approvals.length)!=null?v:0,areChangesRequested:((G=(I=re[1])==null?void 0:I.requestedChanges.length)!=null?G:0)>0},isDraft:Q.isDraft};return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(le))])}}$1(_d,"toolId","github-pull-request_activePullRequest");var V1=Object.defineProperty,j1=(n,e,t)=>e in n?V1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gp=(n,e,t)=>j1(n,typeof e!="symbol"?e+"":e,t);const W1=`Instructions:
You are an expert on GitHub issues. You can help the user identify the most important columns for rendering issues based on a query for issues:
- Include a column related to the sort value, if given.
- Output a newline separated list of columns only, max 4 columns.
- List the columns in the order they should be displayed.
- Don't change the casing.
- Don't include columns that will all have the same value for all the resulting issues.
Here are the possible columns:
`,kd=class Od extends Hp{constructor(e){super(e)}assistantPrompt(e){const t=Object.keys(e[0]);return`${W1}
${t.map(i=>`- ${i}`).join(`
`)}
Here's the data you have about the issues:
`}postProcess(e,t){const i=e.split(`
`),r=Object.keys(t[0]),a=[];for(let o of i)if(o=o.trim(),o!=="")if(r.includes(o))a.push(o);else{const v=o.split(" ");if(v.length>1){const I=v[v.length-1];r.includes(I)&&a.push(I)}}return a}async getImportantColumns(e,t,i){if(!e)return["number","title","state"];const a=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],o={justification:"Answering user questions pertaining to GitHub."},v=[s.LanguageModelChatMessage.Assistant(this.assistantPrompt(t))];v.push(new s.LanguageModelChatMessage(s.LanguageModelChatMessageRole.User,e==null?void 0:e.value));const I=await a.sendRequest(v,o,i),G=this.postProcess(await ms(I.text),t),Q=G.indexOf("url");return G.length===0?["number","title","state"]:(Q>=0&&G.splice(Q,1),G)}renderUser(e){return`[@${Bt(e)}](${e.url})`}issueToRow(e,t){return`| ${t.map(i=>{var r,a;switch(i){case"number":return`[${e[i]}](${e.url})`;case"labels":return(r=e[i])==null?void 0:r.map(I=>I!=null&&I.name&&I.color?ah({name:I.name,color:I.color}):"").join(", ");case"assignees":return(a=e[i])==null?void 0:a.map(I=>this.renderUser(I)).join(", ");case"author":const o=e[i];return o?this.renderUser(o):"";case"createdAt":case"updatedAt":const v=e[i];return v?new Date(v).toLocaleDateString():"";case"milestone":return e[i];default:return e[i]}}).join(" | ")} |`}foundIssuesCount(e){var t,i;return e.totalIssues!==void 0?e.totalIssues:(i=(t=e.arrayOfIssues)==null?void 0:t.length)!=null?i:0}async prepareInvocation(e){const i=this.foundIssuesCount(e.input),r=Math.min(10,i);return r===0?{invocationMessage:s.l10n.t("No issues found")}:r<i?{invocationMessage:s.l10n.t("Found {0} issues. Generating a markdown table of the first {1}",i,r)}:{invocationMessage:s.l10n.t("Found {0} issues. Generating a markdown table",i)}}async invoke(e,t){const i=this.chatParticipantState.firstUserMessage,r=e.input.arrayOfIssues;if(!r||r.length===0)return new s.LanguageModelToolResult([new s.LanguageModelTextPart(s.l10n.t("No issues found. Please try another query."))]);b.debug(`Displaying ${this.foundIssuesCount(e.input)} issues, first issue ${r[0].number}`,Od.ID);const a=await this.getImportantColumns(i,r,t),o=`| ${a.join(" | ")} |`;b.debug(`Columns ${o} issues`,Od.ID);const v=`| ${a.map(()=>"---").join(" | ")} |
`,I=new s.MarkdownString(o);return I.supportHtml=!0,I.appendMarkdown(`
`),I.appendMarkdown(v),I.appendMarkdown(r.slice(0,10).map(G=>this.issueToRow(G,a)).join(`
`)),new s.LanguageModelToolResult([new s.LanguageModelTextPart(qp),new s.LanguageModelTextPart(I.value),new s.LanguageModelTextPart("The issues have been shown to the user. Simply say that you've already displayed the issue or first 10 issues.")])}};Gp(kd,"toolId","github-pull-request_renderIssues"),Gp(kd,"ID","DisplayIssuesTool");let $p=kd;var z1=Object.defineProperty,K1=(n,e,t)=>e in n?z1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Q1=(n,e,t)=>K1(n,typeof e!="symbol"?e+"":e,t);class Sd extends sl{async invoke(e,t){var i,r,a,o;const v=e.input.issueNumber;if(!v)throw new Error("No issue/PR number provided.");const{owner:I,name:G,folderManager:Q}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(r=e.input.repo)==null?void 0:r.name}),re=await Q.resolveIssueOrPullRequest(I,G,v);if(!re)throw new Error(`No issue or PR found for ${I}/${G}/${v}. Make sure the issue or PR exists.`);const le={owner:I,repo:G,title:re.title,body:re.body,comments:(o=(a=re.item.comments)==null?void 0:a.map(ge=>({body:ge.body,author:ge.author.login})))!=null?o:[]};if(re instanceof Mn&&re.isResolved()){const ge=await re.getFileChangesInfo(),Re=[];for(const Ie of ge)Ie instanceof lr&&Re.push({fileName:Ie.fileName,patch:Ie.patch});le.fileChanges=Re}return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(le)),new s.LanguageModelTextPart("Above is a stringified JSON representation of the issue or pull request. This can be passed to other tools for further processing.")])}async prepareInvocation(e){var t,i;if(!e.input.issueNumber)return{invocationMessage:s.l10n.t("Fetching item from GitHub")};const{owner:r,name:a}=await this.getRepoInfo({owner:(t=e.input.repo)==null?void 0:t.owner,name:(i=e.input.repo)==null?void 0:i.name}),o=r&&a?`https://github.com/${r}/${a}/issues/${e.input.issueNumber}`:void 0;return{invocationMessage:o?new s.MarkdownString(s.l10n.t("Fetching item [#{0}]({1}) from GitHub",e.input.issueNumber,o)):s.l10n.t("Fetching item #{0} from GitHub",e.input.issueNumber)}}}Q1(Sd,"toolId","github-pull-request_issue_fetch");var Y1=Object.defineProperty,X1=(n,e,t)=>e in n?Y1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,J1=(n,e,t)=>X1(n,typeof e!="symbol"?e+"":e,t);class Rd extends sl{async prepareInvocation(e){return{invocationMessage:s.l10n.t("Fetching notification from GitHub")}}async invoke(e,t){var i,r;const a=this.getGitHub();if(!a)return;const o=e.input.thread_id;if(o===void 0)return;const I=(await a.octokit.api.activity.getThread({thread_id:o})).data,G=I.subject.url.split("/").pop();if(G===void 0)return;const Q=I.updated_at,re=(i=I.last_read_at)!=null?i:void 0,le=I.unread,ge=I.repository.owner.login,Re=I.repository.name,{folderManager:Ie}=await this.getRepoInfo({owner:ge,name:Re}),Oe=await Ie.resolveIssueOrPullRequest(ge,Re,Number(G));if(!Oe)throw new Error(`No notification found with thread ID #${o}.`);const ue=Oe instanceof Mn?"pr":"issue",ye=th(ge,Re,String(Oe.number)),Te=(r=Oe.item.comments)!=null?r:[];let Ae;re!==void 0&&Te?Ae=Te.filter(We=>We.createdAt>re).map(We=>({body:We.body,author:We.author.login})):Ae=Te.map(We=>({body:We.body,author:We.author.login}));const Ue={lastReadAt:re,lastUpdatedAt:Q,unread:le,comments:Ae,threadId:o,notificationKey:ye,title:Oe.title,body:Oe.body,owner:ge,repo:Re,itemNumber:G,itemType:ue};if(Oe instanceof Mn){const We=await Oe.getFileChangesInfo(),ze=[];for(const bt of We)bt instanceof lr&&ze.push({fileName:bt.fileName,patch:bt.patch});Ue.fileChanges=ze}return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(Ue)),new s.LanguageModelTextPart("Above is a stringified JSON representation of the notification. This can be passed to other tools for further processing or display.")])}}J1(Rd,"toolId","github-pull-request_notification_fetch");var Z1=Object.defineProperty,eS=(n,e,t)=>e in n?Z1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Cu=(n,e,t)=>eS(n,typeof e!="symbol"?e+"":e,t),tS=(n=>(n.is="is",n.type="type",n.state="state",n.in="in",n.linked="linked",n.status="status",n.draft="draft",n.review="review",n.no="no",n))(tS||{});const Vp={is:{possibleValues:["issue","pr","draft","public","private","locked","unlocked"]},assignee:{valueDescription:"A GitHub user name or @me"},author:{valueDescription:"A GitHub user name or @me"},mentions:{valueDescription:"A GitHub user name or @me"},team:{valueDescription:"A GitHub user name"},commenter:{valueDescription:"A GitHub user name or @me"},involves:{valueDescription:"A GitHub user name or @me"},label:{valueDescription:"A GitHub issue/pr label"},type:{possibleValues:["pr","issue"]},state:{possibleValues:["open","closed","merged"]},in:{possibleValues:["title","body","comments"]},user:{valueDescription:"A GitHub user name or @me"},org:{valueDescription:"A GitHub org, without the repo name"},repo:{valueDescription:"A GitHub repo, without the org name"},linked:{possibleValues:["pr","issue"]},milestone:{valueDescription:"A GitHub milestone"},project:{valueDescription:"A GitHub project"},status:{possibleValues:["success","failure","pending"]},head:{valueDescription:"A git commit sha or branch name"},base:{valueDescription:"A git commit sha or branch name"},comments:{valueDescription:"A number"},interactions:{valueDescription:"A number"},reactions:{valueDescription:"A number"},draft:{possibleValues:["true","false"]},review:{possibleValues:["none","required","approved","changes_requested"]},reviewedBy:{valueDescription:"A GitHub user name or @me"},reviewRequested:{valueDescription:"A GitHub user name or @me"},userReviewRequested:{valueDescription:"A GitHub user name or @me"},teamReviewRequested:{valueDescription:"A GitHub user name"},created:{valueDescription:"A date, with an optional < >"},updated:{valueDescription:"A date, with an optional < >"},closed:{valueDescription:"A date, with an optional < >"},no:{possibleValues:["label","milestone","assignee","project"]},sort:{possibleValues:["updated","updated-asc","interactions","interactions-asc","author-date","author-date-asc","committer-date","committer-date-asc","reactions","reactions-asc","reactions-(+1, -1, smile, tada, heart)"]}},Ed=/(?!\B"[^"]*)\s+(?![^"]*"\B)/,Td=class Cv extends sl{async fullQueryAssistantPrompt(e){var t,i,r,a;const o=(a=(r=(t=e.activePullRequest)==null?void 0:t.remote)!=null?r:(i=e.activeIssue)==null?void 0:i.remote)!=null?a:(await e.getPullRequestDefaultRepo()).remote;return`Instructions:
You are an expert on GitHub issue search syntax. GitHub issues are always software engineering related. You can help the user convert a natural language query to a query that can be used to search GitHub issues. Here are some rules to follow:
- Always try to include "repo:" or "org:" in your response.
- "repo" is often formated as "owner/name". If needed, the current repo is ${o.owner}/${o.repositoryName}.
- Ignore display information.
- Respond with only the query.
- Always include a "sort:" parameter. If multiple sorts are possible, choose the one that the user requested.
- Always include a property with the @me value if the query includes "me" or "my".
- Here are some examples of valid queries:
	- repo:microsoft/vscode is:issue state:open sort:updated-asc
	- mentions:@me org:microsoft is:issue state:open sort:updated
	- assignee:@me milestone:"October 2024" is:open is:issue sort:reactions
	- comments:>5 org:contoso is:issue state:closed mentions:@me label:bug
	- interactions:>5 repo:contoso/cli is:issue state:open
	- repo:microsoft/vscode-python is:issue sort:updated -assignee:@me
	- repo:contoso/cli is:issue sort:updated no:milestone
- Go through each word of the natural language query and try to match it to a syntax component.
- Use a "-" in front of a syntax component to indicate that it should be "not-ed".
- Use the "no" syntax component to indicate that a property should be empty.
- As a reminder, here are the components of the query syntax:
	${JSON.stringify(Vp)}
`}async labelsAssistantPrompt(e,t){return`Instructions:
You are an expert on choosing search keywords based on a natural language search query. Here are some rules to follow:
- Choose labels based on what the user wants to search for, not based on the actual words in the query.
- The user might include info on how they want their search results to be displayed. Ignore all of that.
- Labels will be and-ed together, so don't pick a bunch of super specific labels.
- Try to pick just one label.
- Respond with a space-separated list of labels: Examples: 'bug polish', 'accessibility "feature accessibility"'
- Only choose labels that you're sure are relevant. Having no labels is preferable than lables that aren't relevant.
- Don't choose labels that the user has explicitly excluded.
- Respond with label names chosen from this JSON array of options:
${JSON.stringify(t.filter(i=>!i.name.includes("required")&&!i.name.includes("search")&&!i.name.includes("question")&&!i.name.includes("find")).map(i=>({name:i.name,description:i.description})))}
`}freeFormAssistantPrompt(){return`Instructions:
You are getting ready to make a GitHub search query. Given a natural language query, you should find any key words that might be good for searching:
- Only include a max of 1 key word that is relevant to the search query.
- Don't refer to issue numbers.
- Don't refer to product names.
- Don't include any key words that might be related to display or rendering.
- Respond with only your chosen key word.
- It's better to return no keywords than to return irrelevant keywords.
- If an issue is provided, choose a keyword that names the feature or bug that the issue is about.
- Don't include key words or concepts that are already covered by labels.
`}freeFormUserPrompt(e,t){return`I've already included the following labels: [${e.join(", ")}]. The best search keywords in "${t}" are:`}labelsUserPrompt(e){return`The following labels are most appropriate for "${e}":`}fullQueryUserPrompt(e){e=e.replace(/\b(me|my)\b/,i=>i.toUpperCase());const t=new Date;return`Pretend today's date is ${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}, but only include it if needed. How should this be converted to a GitHub issue search query? ${e}`}validateSpecificQueryPart(e,t){switch(e){case"is":return t==="issue"||t==="pr"||t==="draft"||t==="public"||t==="private"||t==="locked"||t==="unlocked";case"type":return t==="pr"||t==="issue";case"state":return t==="open"||t==="closed"||t==="merged";case"in":return t==="title"||t==="body"||t==="comments";case"linked":return t==="pr"||t==="issue";case"status":return t==="success"||t==="failure"||t==="pending";case"draft":return t==="true"||t==="false";case"review":return t==="none"||t==="required"||t==="approved"||t==="changes_requested";case"no":return t==="label"||t==="milestone"||t==="assignee"||t==="project";default:return!0}}validateLabelsList(e,t){const i=o=>o==="AND"||o==="OR",r=e.split(Ed).map(o=>o.trim());let a=[];for(let o of r){if(i(o)){if(a.length===0)continue;a.length>0&&i(a[a.length-1])?a[a.length-1]=o:a.push(o);continue}const v=/^label:(?!\B"[^"]*)\s+(?![^"]*"\B)/,I=o.match(v);let G=o;I&&(G=I[1]),t.find(Q=>Q.name===G)&&a.push(G)}return a.length>0&&i(a[a.length-1])&&(a=a.slice(0,a.length-1)),a}validateFreeForm(e,t,i){return i=i.trim(),i.includes("issue")||i.match(Ed)||i.toLowerCase()==="none"||e.includes(i)||t.includes(i)||t.some(r=>i.includes(r)||r.includes(i))||Object.keys(Vp).find(r=>i.includes(r)||r.includes(i))?"":i}validateQuery(e,t,i){let r="";const a=e.split(Ed);for(const v of a){if(v.startsWith("label:"))continue;const I=v.split(":");if(I.length===2){const Q=I[0].startsWith("-")?I[0].substring(1):I[0],re=I[1];if(!Q.match(/^[a-zA-Z]+$/)||!this.validateSpecificQueryPart(Q,re)||Q==="no"&&re==="label"&&t.length>0)continue}r=`${r} ${v}`}const o=this.validateFreeForm(r,t,i);return r=`${r} ${t.map(v=>`label:${v}`).join(" ")} ${o}`,r.trim()}postProcess(e,t,i){const r=this.findQuery(e);if(!r)return;const a=this.validateQuery(r,i,t);return this.fixRepo(a)}fixRepo(e){const t=/repo:([^ ]+)/,i=/org:([^ ]+)/,r=e.match(t),a=e.match(i);let o=e.trim(),v,I;if(r){const G=r[1];if(G.includes("/")){const Q=G.split("/");v=Q[0],I=Q[1]}a&&G.includes("/")?o=e.replace(i,""):a&&(o=e.replace(t,`repo:${a[1]}/${G}`),v=a[1],I=G)}return{query:o,repo:v&&I?{owner:v,name:I}:void 0}}findQuery(e){if(e.includes("```")){const i=e.indexOf("```"),r=e.indexOf("```",i+3);return e.substring(i+3,r)}const t=e.split(`
`);if(t.length<=1)return t.length===0?e:t[0];for(const i of t)if(i.includes(":"))return i}async generateLabelQuery(e,t,i,r,a,o){const v=[s.LanguageModelChatMessage.Assistant(await this.labelsAssistantPrompt(e,t))];v.push(s.LanguageModelChatMessage.User(this.labelsUserPrompt(a)));const I=await r.sendRequest(v,i,o);return ms(I.text)}async generateFreeFormQuery(e,t,i,r,a,o){const v=[s.LanguageModelChatMessage.Assistant(this.freeFormAssistantPrompt())];v.push(s.LanguageModelChatMessage.User(this.freeFormUserPrompt(a,r)));const I=await i.sendRequest(v,t,o);return ms(I.text)}async generateQuery(e,t,i,r,a){const o=[s.LanguageModelChatMessage.Assistant(await this.fullQueryAssistantPrompt(e))];o.push(s.LanguageModelChatMessage.User(this.fullQueryUserPrompt(r)));const v=await i.sendRequest(o,t,a);return ms(v.text)}async prepareInvocation(e){return{invocationMessage:s.l10n.t("Converting to search syntax")}}async invoke(e,t){var i,r,a;const{owner:o,name:v,folderManager:I}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(r=e.input.repo)==null?void 0:r.name}),G=`${(a=this.chatParticipantState.firstUserMessage)==null?void 0:a.value}, ${e.input.naturalLanguageString}`,Q=await I.getLabels(void 0,{owner:o,repo:v}),le=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],ge={justification:"Answering user questions pertaining to GitHub."},[Re,Ie]=await Promise.all([this.generateQuery(I,ge,le,G,t),this.generateLabelQuery(I,Q,ge,le,G,t)]),Oe=this.validateLabelsList(Ie,Q),ue=await this.generateFreeFormQuery(I,ge,le,G,Oe,t),ye=this.postProcess(Re,ue,Oe);if(!ye)throw new Error("Unable to form a query.");b.debug(`Query \`${ye.query}\``,Cv.ID);const Te={query:ye.query,repo:{owner:o,name:v}};return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(Te)),new s.LanguageModelTextPart("Above is the query in stringified json format. You can pass this VERBATIM to a tool that knows how to search.")])}};Cu(Td,"toolId","github-pull-request_formSearchQuery"),Cu(Td,"ID","ConvertToSearchSyntaxTool");let jp=Td;const Nd=class Ld extends sl{toGitHubUrl(e){return`https://github.com/issues/?q=${encodeURIComponent(e)}`}async prepareInvocation(e){const t=e.input.query,i=new s.MarkdownString;return i.appendText(s.l10n.t('Searching for issues with "{0}".',t)),i.appendMarkdown(s.l10n.t(" [Open on GitHub.com]({0})",Zk(this.toGitHubUrl(t)))),{invocationMessage:i}}async invoke(e,t){var i,r,a,o;const{folderManager:v}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(r=e.input.repo)==null?void 0:r.name}),I=e.input.query;b.debug(`Searching with query \`${I}\``,Ld.ID);const G=await v.getIssues(I);if(!G)throw new Error(`No issues found for ${I}. Make sure the query is valid.`);const re={arrayOfIssues:G.items.slice(0,30).map(le=>{var ge,Re;const Ie=le.item;return{title:Ie.title,url:Ie.url,number:Ie.number,labels:Ie.labels.map(Oe=>({name:Oe.name,color:Oe.color})),state:Ie.state,assignees:(ge=Ie.assignees)==null?void 0:ge.map(Oe=>({login:Oe.login,url:Oe.url})),createdAt:Ie.createdAt,updatedAt:Ie.updatedAt,author:{login:Ie.user.login,url:Ie.user.url},milestone:(Re=Ie.milestone)==null?void 0:Re.title,commentCount:Ie.commentCount,reactionCount:Ie.reactionCount}}),totalIssues:(a=G.totalCount)!=null?a:G.items.length};return b.debug(`Found ${re.totalIssues} issues, first issue ${(o=re.arrayOfIssues[0])==null?void 0:o.number}.`,Ld.ID),new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(re)),new s.LanguageModelTextPart(`Above are the issues I found for the query ${I} in json format. You can pass these to a tool that can display them, or you can reason over the issues to answer a question.`)])}};Cu(Nd,"toolId","github-pull-request_doSearch"),Cu(Nd,"ID","SearchTool");let Wp=Nd;var iS=Object.defineProperty,nS=(n,e,t)=>e in n?iS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rS=(n,e,t)=>nS(n,typeof e!="symbol"?e+"":e,t);class Cd extends sl{constructor(e,t,i){super(e,t,i)}async prepareInvocation(e){return{invocationMessage:e.input.issueNumber?s.l10n.t("Suggesting a fix for issue #{0}",e.input.issueNumber):s.l10n.t("Suggesting a fix for the issue")}}async invoke(e,t){var i,r;const a=e.input.repo,o=a==null?void 0:a.owner,v=a==null?void 0:a.name,I=e.input.issueNumber;if(!a||!o||!v||!I)return;const{folderManager:G}=await this.getRepoInfo(a);if(!G)throw new Error(`No folder manager found for ${a.owner}/${a.name}. Make sure to have the repository open.`);const Q=await G.resolveIssue(o,v,I,!0);if(!Q)throw new Error(`No issue found for ${a.owner}/${a.name}/${e.input.issueNumber}. Make sure the issue exists.`);const re={title:Q.title,body:Q.body,comments:(r=(i=Q.item.comments)==null?void 0:i.map(Ae=>({body:Ae.body})))!=null?r:[]},le=[];le.push(s.LanguageModelChatMessage.Assistant("You are a world-class developer who is capable of solving very difficult bugs and issues.")),le.push(s.LanguageModelChatMessage.Assistant("The user will give you an issue title, body and a list of comments from GitHub. The user wants you to suggest a fix.")),le.push(s.LanguageModelChatMessage.Assistant("Analyze the issue content, the workspace context below and using all this information suggest a fix.")),le.push(s.LanguageModelChatMessage.Assistant("Where possible output code-blocks and reference real files in the workspace with the fix.")),le.push(s.LanguageModelChatMessage.User("The issue content is as follows: ")),le.push(s.LanguageModelChatMessage.User(`Issue Title: ${re.title}`)),le.push(s.LanguageModelChatMessage.User(`Issue Body: ${re.body}`)),re.comments.forEach((Ae,Ue)=>{le.push(s.LanguageModelChatMessage.User(`Comment ${Ue}: ${Ae.body}`))});const ge=s.lm.tools.find(Ae=>Ae.tags.includes("vscode_codesearch"));if(!ge)throw new Error("Could not find the code search tool");const Ie=(await s.lm.invokeTool(ge.name,{toolInvocationToken:void 0,input:{query:re.title}},t)).content[0];if(Ie instanceof s.LanguageModelTextPart){le.push(s.LanguageModelChatMessage.User("Below is some potential relevant workspace context to the issue. The user cannot see this result, so you should explain it to the user if referencing it in your answer."));const Ae=s.LanguageModelChatMessage.User("");Ae.content=[Ie],le.push(Ae)}const ye=await(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0].sendRequest(le,{},t);let Te="";for await(const Ae of ye.text)Te+=Ae;return new s.LanguageModelToolResult([new s.LanguageModelTextPart(Te)])}}rS(Cd,"toolId","github-pull-request_suggest-fix");var aS=Object.defineProperty,sS=(n,e,t)=>e in n?aS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,oS=(n,e,t)=>sS(n,typeof e!="symbol"?e+"":e,t);class Pd{async prepareInvocation(e){if(!e.input.title)return{invocationMessage:s.l10n.t("Summarizing issue")};const i=e.input.title.length>40?e.input.title.substring(0,40):e.input.title;return{invocationMessage:s.l10n.t('Summarizing "{0}',i)}}async invoke(e,t){let i=`
Title : ${e.input.title}
Body : ${e.input.body}
`;const r=e.input.fileChanges;if(r){i+=`
The following are the files changed:
`;for(const Q of r.values())i+=`
File : ${Q.fileName}
Patch: ${Q.patch}
`}const a=e.input.comments;if(a)for(const[Q,re]of a.entries())i+=`
Comment ${Q} :
Author: ${re.author}
Body: ${re.body}
`;const v=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],I=e.input.repo,G=e.input.owner;if(v&&I&&G){const Q=[s.LanguageModelChatMessage.User(this.summarizeInstructions(I,G))];Q.push(s.LanguageModelChatMessage.User("The issue or pull request information is as follows:")),Q.push(s.LanguageModelChatMessage.User(i));const re=await v.sendRequest(Q,{}),le=await ms(re.text);return new s.LanguageModelToolResult([new s.LanguageModelTextPart(le)])}else return new s.LanguageModelToolResult([new s.LanguageModelTextPart(i)])}summarizeInstructions(e,t){return`
You are an AI assistant who is very proficient in summarizing issues and PRs.
You will be given information relative to an issue or PR : the title, the body and the comments. In the case of a PR you will also be given patches of the PR changes.
Your task is to output a summary of all this information.
Do not output code. When you try to summarize PR changes, summarize in a textual format.
Output references to other issues and PRs as Markdown links. The current issue has owner ${t} and is in the repo ${e}.
If a comment references for example issue or PR #123, then output either of the following in the summary depending on if it is an issue or a PR:

[#123](https://github.com/${t}/${e}/issues/123)
[#123](https://github.com/${t}/${e}/pull/123)

When you summarize comments, always give a summary of each comment and always mention the author clearly before the comment. If the author is called 'joe' and the comment is 'this is a comment', then the output should be:

joe: this is a comment

Make sure the summary is at least as short or shorter than the issue or PR with the comments and the patches if there are.
`}}oS(Pd,"toolId","github-pull-request_issue_summarize");var lS=Object.defineProperty,uS=(n,e,t)=>e in n?lS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,cS=(n,e,t)=>uS(n,typeof e!="symbol"?e+"":e,t);class Md{async prepareInvocation(e){const t=e.input;if(!t.itemType||!t.itemNumber)return{invocationMessage:s.l10n.t("Summarizing notification")};const i=t.itemType==="issue"?"issues":"pull",r=`https://github.com/${t.owner}/${t.repo}/${i}/${t.itemNumber}`;return{invocationMessage:new s.MarkdownString(s.l10n.t("Summarizing item [#{0}]({1})",t.itemNumber,r))}}async invoke(e,t){let i="";e.input.lastReadAt||(i+="This thread is viewed for the first time. Here is the main item information of the thread:"),i+=`
Title : ${e.input.title}
Body : ${e.input.body}
`;const a=e.input.fileChanges;if(a){i+=`
The following are the files changed:
`;for(const Re of a.values())i+=`
File : ${Re.fileName}
Patch: ${Re.patch}
`}const o=e.input.comments;if(o&&o.length>0){i+=`
The following are the unread comments of the thread:
`;for(const[Re,Ie]of o.entries())i+=`
Comment ${Re} :
Author: ${Ie.author}
Body: ${Ie.body}
`}const I=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],G=[],Q=e.input.threadId,re=e.input.notificationKey;if(Q&&re){const Re={title:"Mark As Read",command:"notification.markAsRead",arguments:[{threadId:Q,notificationKey:re}]},Ie={title:"Mark As Done",command:"notification.markAsDone",arguments:[{threadId:Q,notificationKey:re}]};G.push(new s.LanguageModelTextPart(wd)),G.push(new s.LanguageModelTextPart(JSON.stringify(Re))),G.push(new s.LanguageModelTextPart(wd)),G.push(new s.LanguageModelTextPart(JSON.stringify(Ie)))}const le=e.input.owner,ge=e.input.repo;if(I&&le&&ge){const Re=[s.LanguageModelChatMessage.User(this.summarizeInstructions(le,ge))];Re.push(s.LanguageModelChatMessage.User("The notification information is as follows:")),Re.push(s.LanguageModelChatMessage.User(i));const Ie=await I.sendRequest(Re,{}),Oe=await ms(Ie.text);G.push(new s.LanguageModelTextPart(Oe))}else G.push(new s.LanguageModelTextPart(i));return G.push(new s.LanguageModelTextPart("Above is a summary of the notification. Extract and output this notification summary directly as is to the user. Do not output the result from the call to the fetch notification tool.")),new s.LanguageModelToolResult(G)}summarizeInstructions(e,t){return`
You are an AI assistant who is very proficient in summarizing notification threads.
You will be given information relative to a notification thread : the title, the body and the comments. In the case of a PR you will also be given patches of the PR changes.
Since you are reviewing a notification thread, part of the content is by definition unread. You will be told what part of the content is yet unread. This can be the comments or it can be both the thread issue/PR as well as the comments.
Your task is to output a summary of all this notification thread information and give an update to the user concerning the unread part of the thread.
Output references to issues and PRs as Markdown links. The current notification is for a thread that has owner ${e} and is in the repo ${t}.
If a comment references for example issue or PR #123, then output either of the following in the summary depending on if it is an issue or a PR:

[#123](https://github.com/${e}/${t}/issues/123)
[#123](https://github.com/${e}/${t}/pull/123)

When you summarize comments, always give a summary of each comment and always mention the author clearly before the comment. If the author is called 'joe' and the comment is 'this is a comment', then the output should be:

joe: this is a comment

Always include in your output, which part of the thread is unread by prefixing that part with the markdown heading of level 1 with text "Unread Thread" or "Unread Comments".
Make sure the summary is at least as short or shorter than the issue or PR with the comments and the patches if there are.
Example output:

# Unread Thread
<summary>
<comments>

or:

<summary>
# Unread Comments
<comments>

Both 'Unread Thread' and 'Unread Comments' should not appear at the same time as markdown titles. The following is incorrect:

# Unread Thread
<summary>
# Unread Comments
<comments>
`}}cS(Md,"toolId","github-pull-request_notification_summarize");function dS(n,e,t,i){fS(n,e,t,i),hS(n),mS(n,e,t,i),pS(n,e,t,i),n.subscriptions.push(s.lm.registerTool(_d.toolId,new _d(t)))}function fS(n,e,t,i){n.subscriptions.push(s.lm.registerTool(Sd.toolId,new Sd(e,t,i))),n.subscriptions.push(s.lm.registerTool(Rd.toolId,new Rd(e,t,i)))}function hS(n){n.subscriptions.push(s.lm.registerTool(Pd.toolId,new Pd)),n.subscriptions.push(s.lm.registerTool(Md.toolId,new Md))}function mS(n,e,t,i){n.subscriptions.push(s.lm.registerTool(Cd.toolId,new Cd(e,t,i)))}function pS(n,e,t,i){n.subscriptions.push(s.lm.registerTool(jp.toolId,new jp(e,t,i))),n.subscriptions.push(s.lm.registerTool(Wp.toolId,new Wp(e,t,i))),n.subscriptions.push(s.lm.registerTool($p.toolId,new $p(i)))}const zp="prompts",Kp="createPROnPublish";async function vS(n){await gS(),await bS(n)}async function gS(){Jh(zp,Kp)===!1&&(await s.workspace.getConfiguration(it).update(Vt,"never",s.ConfigurationTarget.Global),Zh(zp,Kp,!0))}const Pu="hasMigratedQueries";async function bS(n){const e=n.globalState.get(Pu,!1),t=n.workspaceState.get(Pu,!1);if(e&&t)return;const i=s.workspace.getConfiguration(it),r=i.inspect(st),a=o=>o.map(v=>({label:v.label,query:v.query.includes("repo:")?v.query:`repo:\${owner}/\${repository} ${v.query}`}));!e&&(r!=null&&r.globalValue)&&(await i.update(st,a(r.globalValue),s.ConfigurationTarget.Global),n.globalState.update(Pu,!0)),!t&&(r!=null&&r.workspaceValue)&&(await i.update(st,a(r.workspaceValue),s.ConfigurationTarget.Workspace),n.workspaceState.update(Pu,!0))}var yS=Object.defineProperty,wS=(n,e,t)=>e in n?yS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,da=(n,e,t)=>wS(n,typeof e!="symbol"?e+"":e,t),Mu=(n=>(n.Timestamp="Timestamp",n.Priority="Priority",n))(Mu||{});class _S extends g{constructor(e,t){super(),this._notificationProvider=e,this._credentialStore=t,da(this,"_onDidChangeTreeData",this._register(new s.EventEmitter)),da(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),da(this,"_onDidChangeNotifications",this._register(new s.EventEmitter)),da(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),da(this,"_pageCount",1),da(this,"_hasNextPage",!1),da(this,"_dateTime",new Date),da(this,"_fetchNotifications",!1),da(this,"_notifications",new Map),da(this,"_sortingMethod","Timestamp"),this._register(this._onDidChangeTreeData),this._register(this._onDidChangeNotifications)}get sortingMethod(){return this._sortingMethod}async getChildren(e){if(e!==void 0)return;const t=await this.getNotifications();if(t!==void 0)return t.hasNextPage?[...t.notifications,{kind:"loadMoreNotifications"}]:t.notifications}async getTreeItem(e){return Jl(e)?this._resolveNotificationTreeItem(e):this._resolveLoadMoreNotificationsTreeItem()}_resolveNotificationTreeItem(e){const t=e.notification.subject.title,i=new s.TreeItem(t,s.TreeItemCollapsibleState.None),r=e.notification,a=e.model;return r.subject.type===Ni.Issue&&a instanceof Pn&&(i.iconPath=e.model.isOpen?new s.ThemeIcon("issues",new s.ThemeColor("issues.open")):new s.ThemeIcon("issue-closed",new s.ThemeColor("issues.closed"))),r.subject.type===Ni.PullRequest&&a instanceof Mn&&(i.iconPath=a.isOpen?new s.ThemeIcon("git-pull-request",new s.ThemeColor("pullRequests.open")):a.isMerged?new s.ThemeIcon("git-pull-request",new s.ThemeColor("pullRequests.merged")):new s.ThemeIcon("git-pull-request-closed",new s.ThemeColor("pullRequests.closed"))),i.description=`${r.owner}/${r.name}`,i.contextValue=r.subject.type,i.resourceUri=Ec({key:e.notification.key}),e.model instanceof Mn?i.command={command:"pr.openDescription",title:s.l10n.t("Open Pull Request Description"),arguments:[e.model]}:i.command={command:"issue.openDescription",title:s.l10n.t("Open Issue Description"),arguments:[e.model]},i}_resolveLoadMoreNotificationsTreeItem(){const e=new s.TreeItem(s.l10n.t("Load More Notifications..."),s.TreeItemCollapsibleState.None);return e.command={title:"Load More Notifications",command:"notifications.loadMore"},e.contextValue="loadMoreNotifications",e}async getNotifications(){if(this._fetchNotifications){const t=await this._notificationProvider.getNotifications(this._dateTime.toISOString(),this._pageCount);if(!t)return;const i=new Map;await Promise.all(t.notifications.map(async r=>{const a=await this._notificationProvider.getNotificationModel(r);a&&i.set(r.key,{notification:r,model:a,kind:"notification"})}));for(const[r,a]of i.entries())this._notifications.set(r,a);this._hasNextPage=t.hasNextPage,this._fetchNotifications=!1}if(this._sortingMethod==="Priority"){const t=Array.from(this._notifications.values()).filter(r=>r.priority===void 0),i=await this._notificationProvider.getNotificationsPriority(t);for(const{key:r,priority:a,priorityReasoning:o}of i){const v=this._notifications.get(r);v&&(v.priority=a,v.priorityReason=o,this._notifications.set(r,v))}}const e=Array.from(this._notifications.values());return this._updateContext(),this._onDidChangeNotifications.fire(e),{notifications:this._sortNotifications(e),hasNextPage:this._hasNextPage}}_updateContext(){const e=this._notifications.size;lt.setContext(Ri.NOTIFICATION_COUNT,e===0?-1:e)}getNotification(e){return this._notifications.get(e)}getAllNotifications(){return Array.from(this._notifications.values())}refresh(){if(this._notifications.size!==0){const e=Array.from(this._notifications.values());this._onDidChangeNotifications.fire(e)}this._pageCount=1,this._dateTime=new Date,this._notifications.clear(),this._refresh(!0)}loadMore(){this._pageCount++,this._refresh(!0)}_refresh(e){this._fetchNotifications=e,this._onDidChangeTreeData.fire()}async markAsRead(e){const t=this._notifications.get(e.notificationKey);t&&(await this._notificationProvider.markAsRead(e),this._onDidChangeNotifications.fire([t]),this._notifications.delete(e.notificationKey),this._updateContext(),this._refresh(!1))}async markAsDone(e){const t=this._notifications.get(e.notificationKey);t&&(await this._notificationProvider.markAsDone(e),this._onDidChangeNotifications.fire([t]),this._notifications.delete(e.notificationKey),this._updateContext(),this._refresh(!1))}_getMeaningfulEventTime(e,t,i){var r,a;const o=v=>{if(i)return v===t;if(!i)return v!==t};if(e.event===Bi.Committed){if(o(e.author.login))return new Date(e.authoredDate)}else if(e.event===Bi.Commented){if(o((r=e.user)==null?void 0:r.login))return new Date(e.createdAt)}else if(e.event===Bi.Reviewed&&(i||e.comments.length>0||e.body.length>0)&&o((a=e.user)==null?void 0:a.login))return new Date(e.submittedAt)}async markPullRequests(e=!1){const t=Array.from(this._notifications.values()).filter(a=>a.notification.subject.type===Ni.PullRequest),i=await Promise.all(t.map(a=>a.model.getTimelineEvents())),r=[];for(const[a,o]of t.entries()){const v=await this._credentialStore.getCurrentUser(o.model.remote.authProviderId),I=i[a];let G,Q;for(let re=I.length-1;re>=0;re--){const le=I[re];if(G||(G=this._getMeaningfulEventTime(le,v.login,!0)),Q||(Q=this._getMeaningfulEventTime(le,v.login,!1)),G&&Q)break}(!Q||G&&G.getTime()>Q.getTime())&&(e?r.push(this._notificationProvider.markAsDone({threadId:o.notification.id,notificationKey:o.notification.key})):r.push(this._notificationProvider.markAsRead({threadId:o.notification.id,notificationKey:o.notification.key})),this._notifications.delete(o.notification.key))}await Promise.all(r),this.refresh()}sortNotifications(e){this._sortingMethod!==e&&(this._sortingMethod=e,this._refresh(!1))}_sortNotifications(e){return this._sortingMethod==="Timestamp"?e.sort((t,i)=>i.notification.updatedAd.getTime()-t.notification.updatedAd.getTime()):this._sortingMethod==="Priority"?e.sort((t,i)=>Number(i.priority)-Number(t.priority)):e}}var kS=Object.defineProperty,SS=(n,e,t)=>e in n?kS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Qp=(n,e,t)=>SS(n,typeof e!="symbol"?e+"":e,t);class RS extends g{constructor(e){super(),this._notificationsManager=e,Qp(this,"_readonlyOnDidChangeFileDecorations",this._register(new s.EventEmitter)),Qp(this,"onDidChangeFileDecorations",this._readonlyOnDidChangeFileDecorations.event),this._register(e.onDidChangeNotifications(t=>{const i=t.map(r=>Ec({key:r.notification.key}));this._readonlyOnDidChangeFileDecorations.fire(i)})),this._register(s.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(`${it}.${fr}`)&&this._readonlyOnDidChangeFileDecorations.fire(e.getAllNotifications().map(i=>Ec({key:i.notification.key})))}))}settingValue(){return s.workspace.getConfiguration(it).get(fr,!1)}provideFileDecoration(e,t){var i,r;if(!this.settingValue()||this._notificationsManager.sortingMethod!==Mu.Priority)return;const a=db(e);if(!a)return;const o=this._notificationsManager.getNotification(a.key),v=(o==null?void 0:o.priority)==="100"?"99":(i=o==null?void 0:o.priority)!=null?i:"0";return{badge:v,tooltip:s.l10n.t("Priority score is {0}. {1}",v,(r=o==null?void 0:o.priorityReason)!=null?r:"")}}}var ES=Object.defineProperty,TS=(n,e,t)=>e in n?ES(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,NS=(n,e,t)=>TS(n,typeof e!="symbol"?e+"":e,t);class CS extends g{constructor(e,t){super(),this._credentialStore=e,this._repositoriesManager=t,NS(this,"_authProvider"),e.isAuthenticated(li.githubEnterprise)&&Cr()?this._authProvider=li.githubEnterprise:e.isAuthenticated(li.github)&&(this._authProvider=li.github),this._register(e.onDidChangeSessions(i=>{e.isAuthenticated(li.githubEnterprise)&&Cr()&&(this._authProvider=li.githubEnterprise),e.isAuthenticated(li.github)&&(this._authProvider=li.github)}))}_getGitHub(){return this._authProvider!==void 0?this._credentialStore.getHub(this._authProvider):void 0}async markAsRead(e){const t=this._getGitHub();t!==void 0&&await t.octokit.call(t.octokit.api.activity.markThreadAsRead,{thread_id:Number(e.threadId)})}async markAsDone(e){const t=this._getGitHub();t!==void 0&&await t.octokit.call(t.octokit.api.activity.markThreadAsDone,{thread_id:Number(e.threadId)})}async getNotifications(e,t){var i;const r=this._getGitHub();if(r===void 0||this._repositoriesManager.folderManagers.length===0)return;const a=s.workspace.getConfiguration(it).get(Ir,50),{data:o,headers:v}=await r.octokit.call(r.octokit.api.activity.listNotificationsForAuthenticatedUser,{all:!1,before:e,page:t,per_page:a});return{notifications:o.map(G=>P0(G)).filter(G=>!!G),hasNextPage:((i=v.link)==null?void 0:i.includes('rel="next"'))===!0}}async getNotificationModel(e){var t;const i=e.subject.url;if(typeof i!="string")return;const r=i.split("/").pop();if(r===void 0)return;const a=(t=this._repositoriesManager.getManagerForRepository(e.owner,e.name))!=null?t:this._repositoriesManager.folderManagers[0];return e.subject.type===Ni.Issue?await a.resolveIssue(e.owner,e.name,parseInt(r),!0):await a.resolvePullRequest(e.owner,e.name,parseInt(r))}async getNotificationsPriority(e){const i=[];for(let o=0;o<e.length;o+=5)i.push(e.slice(o,o+5));const r=await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"});return(await Promise.all(i.map(o=>this._prioritizeNotificationBatch(o,r[0])))).flat()}async _prioritizeNotificationBatch(e,t){try{const i=(await this._credentialStore.getCurrentUser(li.github)).login,r=[s.LanguageModelChatMessage.User(PS(i))];for(const[v,I]of e.entries()){const G=I.model;if(!G)continue;let Q=this._getBasePrompt(G,v);Q+=await this._getLabelsPrompt(G),Q+=await this._getCommentsPrompt(G),r.push(s.LanguageModelChatMessage.User(Q))}r.push(s.LanguageModelChatMessage.User("Please provide the priority for each notification in a separate text code block. Remember to place the title and the reasoning outside of the text code block."));const a=await t.sendRequest(r,{}),o=await ms(a.text);return this._updateNotificationsWithPriorityFromLLM(e,o)}catch(i){return console.log(i),[]}}_getBasePrompt(e,t){var i;const r=e.assignees;return`
The following is the data for notification ${t+1}:
\u2022 Title: ${e.title}
\u2022 Author: ${e.author.login}
\u2022 Assignees: ${(r==null?void 0:r.map(a=>a.login).join(", "))||"none"}
\u2022 Body:

${e.body}

\u2022 Reaction Count: ${(i=e.item.reactionCount)!=null?i:0}
\u2022 isOpen: ${e.isOpen}
\u2022 isMerged: ${e.isMerged}
\u2022 Created At: ${e.createdAt}
\u2022 Updated At: ${e.updatedAt}`}async _getLabelsPrompt(e){const t=e.item.labels;if(!t)return"";let i="";return t.length>0&&(i=`
\u2022 Labels: ${t.map(a=>a.name).join(", ")}`),i}async _getCommentsPrompt(e){const t=e.item.comments;if(!t||t.length===0)return"";let i=`

The following is the data concerning the at most last 5 comments for the notification:`,r=1;const a=Math.max(0,t.length-5);for(let o=a;o<t.length;o++){const v=t.at(o);i+=`

Comment ${r} for notification:
\u2022 Body:
${v.body}
\u2022 Reaction Count: ${v.reactionCount}`,r+=1}return i}_updateNotificationsWithPriorityFromLLM(e,t){const i=/```text\s*[\s\S]+?\s*=\s*([\S]+?)\s*```/gm,r=/```(?!text)([\s\S]+?)(###|$)/g,a=[];for(let o=0;o<e.length;o++){const v=i.exec(t);if(v){const I=r.exec(t);a.push({key:e[o].notification.key,priority:v[1],priorityReasoning:I?I[1].trim():void 0})}}return a}}function PS(n){return`
You are an intelligent assistant tasked with prioritizing GitHub notifications.
You are given a list of notifications for the current user ${n}, each related to an issue, pull request or discussion. In the case of an issue/PR, if there are comments, you are given the last 5 comments under it.
Use the following scoring mechanism to prioritize the notifications and assign them a score from 0 to 100:

	1. Assign points from 0 to 30 for the relevance of the notification. Below when we talk about the current user, it is always the user with the GitHub login handle ${n}. First consider if the corresponding thread is open or closed:
		- If the thread is closed, assign points as follows:
			- 0 points: If the current user is neither assigned, nor requested for a review, nor mentioned in the issue/PR/discussion.
			- 5 points: If the current user is mentioned or is the author of the issue/PR. In the case of an issue/PR, the current user should not be assigned to it.
			- 10 points: If the current user is assigned to the issue/PR or is requested for a review.
		- If the thread is open, assign points as follows:
			- 20 points: If the current user is neither assigned, nor requested for a review, nor mentioned in the issue/PR/discussion.
			- 25 points: If the current user is mentioned or is the author of the issue/PR. In the case of an issue/PR, the current user should not be assigned to it.
			- 30 points: If the current user is assigned to the issue/PR or is requested for a review.
	2. Assign points from 0 to 40 to the importance of the notification. Consider the following points:
		- In case of an issue, does the content/title suggest this is a critical issue? In the case of a PR, does the content/title suggest it fixes a critical issue? In the case of a discussion, do the comments suggest a critical discussion? A critical issue/pr/discussion has a higher priority.
		- To evaluate the importance/criticality of a notification evaluate whether it references the following. Such notifications should be assigned a higher priority.
			- security vulnerabilities
			- major regressions
			- data loss
			- crashes
			- performance issues
			- memory leaks
			- breaking changes
		- Do the labels assigned to the issue/PR/discussion indicate it is critical? Labels that include the following: 'critical', 'urgent', 'important', 'high priority' should be assigned a higher priority.
		- Is the issue/PR suggesting it is blocking for other work and must be addressed immediately? If so, the notification should be assigned a higher priority.
		- Is the issue/PR user facing? User facing issues/PRs that have a clear negative impact on the user should be assigned a higher priority.
		- Is the tone of voice urgent or neutral? An urgent tone of voice has a higher priority.
		- For issues, do the comments mention that the issue is a duplicate of another issue or is already fixed? If so assign a lower priority.
		- Issues should generally be assigned a higher score than PRs and discussions.
		- Issues about bugs/regressions should be assigned a higher priority than issues about feature requests which are less critical.
	3. Assign points from 0 to 30 for the community engagement. Consider the following points:
		- Reactions: Consider the number of reactions under an issue/PR/discussion that correspond to real users. A higher number of reactions should be assigned a higher priority.
		- Comments: Evaluate the community engagement on the issue/PR through the last 5 comments. If you detect a comment coming from a bot, do not include it in the following evaluation. Consider the following:
			- Does the issue/PR/discussion have a lot of comments indicating widespread interest?
			- Does the issue/PR/discussion have comments from many different users which would indicate widespread interest?
			- Evaluate the comments content. Do they indicate that the issue/PR is critical and touches many people? A critical issue/PR should be assigned a higher priority.
			- Evaluate the effort/detail put into the comments, are the users invested in the issue/PR/discussion? A higher effort should be assigned a higher priority.
			- Evaluate the tone of voice in the comments, an urgent tone of voice should be assigned a higher priority.
			- Evaluate the reactions under the comments, a higher number of reactions indicate widespread interest and issue/PR/discussion following. A higher number of reactions should be assigned a higher priority.
		- Generally evaluate the issue/PR/discussion content quality. Consider the following points:
			- Description: In the case of an issue, are there clear steps to reproduce the issue? In the case of a PR, is there a clear description of the change? A clearer, more complete description should be assigned a higher priority.
			- Effort: Evaluate the general effort put into writing this issue/PR. Does the user provide a lengthy clear explanation? A higher effort should be assigned a higher priority.

Use the above guidelines to assign points to each notification. Provide the sum of the individual points in a SEPARATE text code block for each notification. The points sum to 100 as a maximum.
After the text code block containing the priority, add a detailed summary of the notification and generally explain why it is important or not, do NOT reference the scoring mechanism above. This summary and reasoning will be displayed to the user.
The output should look as follow. Here <summary + reasoning> corresponds to your summary and reasoning and <title> corresponds to the notification title. The title should be placed after three hashtags:

### <title>
\`\`\`text
20 + 30 + 20 = 70
\`\`\`text
<summary + reasoning>

The following is INCORRECT:

<title>
20 + 30 + 20 = 70
<summary + reasoning>
`}class MS extends g{constructor(e,t,i){super(),this.credentialStore=e,this._repositoriesManager=t,this._telemetry=i;const r=new CS(e,this._repositoriesManager);this._register(r);const a=new _S(r,e);this._register(a);const o=new RS(a);this._register(s.window.registerFileDecorationProvider(o)),this._register(s.window.createTreeView("notifications:github",{treeDataProvider:a})),a.refresh(),this._register(s.commands.registerCommand("notifications.sortByTimestamp",async()=>{this._telemetry.sendTelemetryEvent("notifications.sortByTimestamp"),a.sortNotifications(Mu.Timestamp)},this)),this._register(s.commands.registerCommand("notifications.sortByPriority",async()=>{this._telemetry.sendTelemetryEvent("notifications.sortByTimestamp"),a.sortNotifications(Mu.Priority)},this)),this._register(s.commands.registerCommand("notifications.refresh",()=>{this._telemetry.sendTelemetryEvent("notifications.refresh"),a.refresh()},this)),this._register(s.commands.registerCommand("notifications.loadMore",()=>{this._telemetry.sendTelemetryEvent("notifications.loadMore"),a.loadMore()})),this._register(s.commands.registerCommand("notification.chatSummarizeNotification",v=>{Jl(v)&&(this._telemetry.sendTelemetryEvent("notification.chatSummarizeNotification"),s.commands.executeCommand(Ym(),s.l10n.t("@githubpr Summarize notification with thread ID #{0}",v.notification.id)))})),this._register(s.commands.registerCommand("notification.markAsRead",v=>{const{threadId:I,notificationKey:G}=this._extractMarkAsCommandOptions(v);this._telemetry.sendTelemetryEvent("notification.markAsRead"),a.markAsRead({threadId:I,notificationKey:G})})),this._register(s.commands.registerCommand("notification.markAsDone",v=>{const{threadId:I,notificationKey:G}=this._extractMarkAsCommandOptions(v);this._telemetry.sendTelemetryEvent("notification.markAsDone"),a.markAsDone({threadId:I,notificationKey:G})})),this._register(s.commands.registerCommand("notifications.markPullRequestsAsRead",()=>(this._telemetry.sendTelemetryEvent("notifications.markPullRequestsAsRead"),a.markPullRequests()))),this._register(s.commands.registerCommand("notifications.markPullRequestsAsDone",()=>(this._telemetry.sendTelemetryEvent("notifications.markPullRequestsAsDone"),a.markPullRequests(!0)))),this._register(s.commands.registerCommand("notifications.configureNotificationsViewlet",()=>(this._telemetry.sendTelemetryEvent("notifications.configureNotificationsViewlet"),s.commands.executeCommand("workbench.action.openSettings",`@ext:${wa} notifications`)))),this._register(j(this._repositoriesManager.onDidLoadAnyRepositories)(()=>{a.refresh()}))}_extractMarkAsCommandOptions(e){let t,i;if(Jl(e))t=e.notification.id,i=e.notification.key;else if("threadId"in e&&"notificationKey"in e&&typeof e.threadId=="number"&&typeof e.notificationKey=="string")t=e.threadId,i=e.notificationKey;else throw new Error(`Invalid arguments for command notification.markAsRead : ${JSON.stringify(e)}`);return{threadId:t,notificationKey:i}}}var AS=Object.defineProperty,IS=(n,e,t)=>e in n?AS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,lo=(n,e,t)=>IS(n,typeof e!="symbol"?e+"":e,t);class Yp extends g{constructor(){super(),lo(this,"_onDidChangeFileDecorations",this._register(new s.EventEmitter)),lo(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this))}_handlePullRequestPropertyChange(e,t,i){const r=i.path,a=s.Uri.joinPath(e.repository.rootUri,r),o=t.fileChanges.get(r);if(o){const v=kc(a,t.number,r,o.status,o.previousFileName);this._onDidChangeFileDecorations.fire(v),this._onDidChangeFileDecorations.fire(v.with({scheme:e.repository.rootUri.scheme})),this._onDidChangeFileDecorations.fire(v.with({scheme:$t.Pr,authority:""}))}}}class DS extends g{constructor(e){super(),this._repositoriesManager=e,lo(this,"_gitHubReposListeners",[]),lo(this,"_pullRequestListeners",[]),lo(this,"_pullRequestPropertyChangeListeners",[]),lo(this,"_providers",[])}registerProviders(e){this._providers.push(...e),this._registerListeners()}_registerPullRequestPropertyListeners(e,t){return this._providers.map(i=>i.registerPullRequestPropertyChangedListeners(e,t))}_registerPullRequestAddedListeners(e){e.gitHubRepositories.forEach(t=>{this._pullRequestListeners.push(t.onDidAddPullRequest(a=>{this._pullRequestPropertyChangeListeners.push(...this._registerPullRequestPropertyListeners(e,a))}));const r=Array.from(t.pullRequestModels.values()).map(a=>this._registerPullRequestPropertyListeners(e,a)).flat();this._pullRequestPropertyChangeListeners.push(...r)})}_registerRepositoriesChangedListeners(){_(this._gitHubReposListeners),_(this._pullRequestListeners),_(this._pullRequestPropertyChangeListeners),this._repositoriesManager.folderManagers.forEach(e=>{this._gitHubReposListeners.push(e.onDidChangeRepositories(()=>{this._registerPullRequestAddedListeners(e)}))})}_registerListeners(){this._registerRepositoriesChangedListeners(),this._register(this._repositoriesManager.onDidChangeFolderRepositories(()=>{this._registerRepositoriesChangedListeners()}))}dispose(){super.dispose(),_(this._gitHubReposListeners),_(this._pullRequestListeners),_(this._pullRequestPropertyChangeListeners),_(this._providers)}}class xS extends Yp{constructor(e){super(),this._repositoriesManager=e}registerPullRequestPropertyChangedListeners(e,t){return t.onDidChangeReviewThreads(i=>{[...i.added,...i.removed].forEach(r=>{this._handlePullRequestPropertyChange(e,t,r)})})}provideFileDecoration(e,t){if(e.scheme!==$t.Pr&&e.scheme!==$t.File&&e.scheme!==$t.Review&&e.scheme!==$t.FileChange)return;const i=kh(e),r=this._repositoriesManager.getManagerForFile(e);if(i&&r&&r.gitHubRepositories.find(o=>{const v=o.pullRequestModels.get(i.prNumber);if(v!=null&&v.reviewThreadsCache.find(I=>I.path===i.fileName))return!0}))return{propagate:!1,tooltip:s.l10n.t("Commented"),badge:new s.ThemeIcon("comment")}}}var FS=Object.defineProperty,OS=(n,e,t)=>e in n?FS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ea=(n,e,t)=>OS(n,typeof e!="symbol"?e+"":e,t);function Xp(n){switch(n){case ut.DELETED:return Ot.DELETE;case ut.ADDED_BY_US:case ut.INDEX_ADDED:return Ot.ADD;case ut.INDEX_RENAMED:return Ot.RENAME;case ut.MODIFIED:return Ot.MODIFY;default:return Ot.UNKNOWN}}class LS extends On{constructor(e,t,i,r){super(e),this.model=t,this.commit=i,this.parentRef=r}getTreeItem(){var e;return{label:this.commit.commit.message,description:(e=this.commit.commit.author)!=null&&e.date?X(new Date(this.commit.commit.author.date)):void 0,iconPath:new s.ThemeIcon("git-commit"),collapsibleState:s.TreeItemCollapsibleState.Collapsed}}async getChildren(){if(!this.model.gitHubRepository)return[];const{octokit:e,remote:t}=await this.model.gitHubRepository.ensure(),{data:i}=await e.call(e.api.repos.compareCommits,{repo:t.repositoryName,owner:t.owner,base:this.parentRef,head:this.commit.sha}),r=i.files;return r?r.map(a=>new tu(this,a.filename,a.previous_filename,zi(a.status),this.parentRef,this.commit.sha,!1)):[]}}class US extends On{constructor(e,t,i,r){super(e),this.commit=t,this.folderRepoManager=i,this.parentRef=r}getTreeItem(){return{label:this.commit.message,description:this.commit.authorDate?X(new Date(this.commit.authorDate)):void 0,iconPath:new s.ThemeIcon("git-commit"),collapsibleState:s.TreeItemCollapsibleState.Collapsed}}async getChildren(){return(await this.folderRepoManager.repository.diffBetween(this.parentRef,this.commit.hash)).map(t=>{const i=L.posix.relative(this.folderRepoManager.repository.rootUri.path,t.uri.path),r=L.posix.relative(this.folderRepoManager.repository.rootUri.path,t.originalUri.path);return new tu(this,i,r,Xp(t.status),this.parentRef,this.commit.hash,!0)})}}const Jp=class Pv extends g{constructor(e){super(),this.model=e,Ea(this,"_view"),Ea(this,"_children"),Ea(this,"_onDidChangeTreeData",new s.EventEmitter),Ea(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),this._register(e.onDidChange(()=>{this._onDidChangeTreeData.fire()}))}get view(){return this._view}set view(e){this._view=this._register(e)}async reveal(e,t){return this._view.reveal(e,t)}refresh(){this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async getRawGitHubData(){try{const e=await this.model.gitHubFiles(),t=await this.model.gitHubCommits(),i=await this.model.gitHubMergeBase();return!(e!=null&&e.length)||!(t!=null&&t.length)?(this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),{}):this._isDisposed?{}:(this.view.message=void 0,{rawFiles:e,rawCommits:t,mergeBase:i})}catch(e){return"name"in e&&e.name==="HttpError"&&e.status===404&&(this.view.message=new s.MarkdownString(s.l10n.t("The upstream branch `{0}` does not exist on GitHub",this.model.baseBranch))),{}}}get children(){return this._children}async getChildren(e){try{await this.model.getCompareHasUpstream()?this._children=await this.getGitHubChildren(e):this._children=await this.getGitChildren(e)}catch(t){return b.error(`Comparing changes failed: ${t}`,Pv.ID),[]}return this._children}static closeTabs(){s.window.tabGroups.all.forEach(e=>e.tabs.forEach(t=>{t.input instanceof s.TabInputTextDiff&&(t.input.modified.scheme===$t.GithubPr||t.input.modified.scheme===$t.GitPr)&&s.window.tabGroups.close(t)}))}};Ea(Jp,"ID","CompareChangesTreeProvider");let Ad=Jp;class BS extends Ad{constructor(e,t){super(e),this.folderRepoManager=t}async getGitHubChildren(e){if(e)return e.getChildren();const{rawFiles:t,mergeBase:i}=await this.getRawGitHubData();if(t&&i)return this.view.message=this.addReviewMessage(),t.map(r=>new tu(this,r.filename,r.previous_filename,zi(r.status),i,this.model.compareBranch,!1))}async getGitFileChildren(e){return e.map(t=>{const i=L.posix.relative(this.folderRepoManager.repository.rootUri.path,t.uri.path),r=L.posix.relative(this.folderRepoManager.repository.rootUri.path,t.originalUri.path);return new tu(this,i,r,Xp(t.status),this.model.baseBranch,this.model.compareBranch,!0)})}addReviewMessage(e){const t=this.folderRepoManager.getAutoReviewer();return t&&(e?e.appendMarkdown(`

`):e=new s.MarkdownString,e.supportThemeIcons=!0,e.appendMarkdown(`[${s.l10n.t("$(sparkle) {0} Code Review",t.title)}](command:pr.preReview)`)),e}async getGitChildren(e){if(e)return e.getChildren();{const t=await this.model.gitFiles();if(t.length===0)return this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),[];if(await this.model.getCompareHasUpstream()){if(this._isDisposed)return[];this.view.message=void 0}else{const i=new s.MarkdownString(s.l10n.t({message:"Branch `{0}` has not been pushed yet. [Publish branch](command:git.publish) to see all changes from base branch.",args:[this.model.compareBranch],comment:"{Locked='](command:git.publish)'}"}));i.isTrusted={enabledCommands:["git.publish"]},this.view.message=this.addReviewMessage(i)}return this.getGitFileChildren(t)}}}class qS extends Ad{constructor(e,t){super(e),this.folderRepoManager=t}async getGitHubChildren(e){if(e)return e.getChildren();const{rawCommits:t}=await this.getRawGitHubData();if(t)return t.map((i,r)=>new LS(this,this.model,i,r===0?this.model.baseBranch:t[r-1].sha))}async getGitChildren(e){if(e)return e.getChildren();const t=await this.model.gitCommits();return t.length===0?(this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),[]):this._isDisposed?[]:(this.view.message=void 0,t.reverse().map((i,r)=>new US(this,i,this.folderRepoManager,r===0?this.model.baseBranch:t[r-1].hash)))}}class Zp extends g{constructor(e,t){super(),this.model=t,Ea(this,"_filesView"),Ea(this,"_filesDataProvider"),Ea(this,"_commitsView"),Ea(this,"_commitsDataProvider"),this._filesDataProvider=this._register(new BS(t,e)),this._filesView=this._register(s.window.createTreeView("github:compareChangesFiles",{treeDataProvider:this._filesDataProvider})),this._filesDataProvider.view=this._filesView,this._commitsDataProvider=this._register(new qS(t,e)),this._commitsView=this._register(s.window.createTreeView("github:compareChangesCommits",{treeDataProvider:this._commitsDataProvider})),this._commitsDataProvider.view=this._commitsView,this.initialize()}set compareOwner(e){this.model.compareOwner=e}initialize(){if(this.model.gitHubRepository)try{this._register(s.workspace.registerFileSystemProvider($t.GithubPr,this.model.gitHubContentProvider)),this._register(s.workspace.registerFileSystemProvider($t.GitPr,this.model.gitContentProvider)),this._register(y(()=>Ad.closeTabs()))}catch{}}static closeTabs(){s.window.tabGroups.all.forEach(e=>e.tabs.forEach(t=>{t.input instanceof s.TabInputTextDiff&&(t.input.modified.scheme===$t.GithubPr||t.input.modified.scheme===$t.GitPr)&&s.window.tabGroups.close(t)}))}}var HS=Object.defineProperty,GS=(n,e,t)=>e in n?HS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,tr=(n,e,t)=>GS(n,typeof e!="symbol"?e+"":e,t);const $S=new RegExp("closes|closed|close|fixes|fixed|fix|resolves|resolved|resolves$","i"),ev=class Bu extends bf{constructor(e,t,i,r,a,o){super(i),this.telemetry=e,this.model=t,this._folderRepositoryManager=r,this._pullRequestDefaults=a,this._defaultCompareBranch=o,tr(this,"viewType","github:createPullRequestWebview"),tr(this,"_onDone",new s.EventEmitter),tr(this,"onDone",this._onDone.event),tr(this,"_firstLoad",!0),tr(this,"initializeWhenVisibleDisposable"),tr(this,"_alreadyInitializing"),tr(this,"milestone"),tr(this,"reviewers",[]),tr(this,"assignees",[]),tr(this,"projects",[]),tr(this,"labels",[])}resolveWebviewView(e,t,i){return super.resolveWebviewView(e,t,i),e.webview.html=this._getHtmlForWebview(),this._firstLoad?(this._firstLoad=!1,this.initializeParams(!0)):this.initializeParams()}show(){super.show()}static withProgress(e){return s.window.withProgress({location:{viewId:"github:createPullRequestWebview"}},e)}async getPullRequestDefaultLabels(e){const t=s.workspace.getConfiguration(it).inspect(wt);if(!t)return[];const i=new Array;return t.workspaceValue&&i.push(...t.workspaceValue),t.globalValue&&i.push(...t.globalValue),!i||i.length===0?[]:(await this._folderRepositoryManager.getLabels(void 0,{owner:e.owner,repo:e.repositoryName})).filter(o=>i.includes(o.name))}async getMergeConfiguration(e,t,i=!1){return(await this._folderRepositoryManager.createGitHubRepositoryFromOwnerName(e,t)).getRepoAccessAndMergeMethods(i)}async initializeParams(e=!1){var t,i;if(((t=this._view)==null?void 0:t.visible)===!1&&this.initializeWhenVisibleDisposable===void 0){this.initializeWhenVisibleDisposable=(i=this._view)==null?void 0:i.onDidChangeVisibility(()=>{var r;(r=this.initializeWhenVisibleDisposable)==null||r.dispose(),this.initializeWhenVisibleDisposable=void 0,this.initializeParams()});return}e&&this._postMessage({command:"reset"}),await this.initializeParamsPromise()}async initializeParamsPromise(){return this._alreadyInitializing||(this._alreadyInitializing=this.doInitializeParams(),this._alreadyInitializing.then(()=>{this._alreadyInitializing=void 0})),this._alreadyInitializing}getTitleAndDescriptionProvider(e){return this._folderRepositoryManager.getTitleAndDescriptionProvider(e)}async getCreateParams(){var e,t,i,r,a;const o=await this._folderRepositoryManager.repository.getBranch(this._defaultCompareBranch),[v,I,G]=await Promise.all([this.detectBaseMetadata(o),this._folderRepositoryManager.getGitHubRemotes(),this._folderRepositoryManager.getOrigin(o)]),Q={owner:(e=v==null?void 0:v.owner)!=null?e:this._pullRequestDefaults.owner,repositoryName:(t=v==null?void 0:v.repositoryName)!=null?t:this._pullRequestDefaults.repo},re={owner:G.remote.owner,repositoryName:G.remote.repositoryName},le=(i=v==null?void 0:v.branch)!=null?i:this._pullRequestDefaults.base,[ge,Re,Ie,Oe,ue]=await Promise.all([this.getTitleAndDescription(o,le),this.getMergeConfiguration(Q.owner,Q.repositoryName),G.getViewerPermission(),this._folderRepositoryManager.mergeQueueMethodForBranch(le,Q.owner,Q.repositoryName),this.getPullRequestDefaultLabels(Q)]),ye=s.workspace.getConfiguration(it).get(Ht,"lastUsed"),Te=this._folderRepositoryManager.context.workspaceState.get(Dc,void 0),Ae=Ll(Re.mergeMethodsAvailability);let Ue=Ae,We=!1,ze=!1;Ue=ye==="lastUsed"&&(Te!=null&&Te.mergeMethod)?Te==null?void 0:Te.mergeMethod:Ae,ye==="lastUsed"?(Ue=(r=Te==null?void 0:Te.mergeMethod)!=null?r:Ae,We=!!(Te!=null&&Te.isDraft),ze=Re.viewerCanAutoMerge&&!!(Te!=null&&Te.autoMerge)):ye==="createDraft"?We=!0:ye==="createAutoMerge"&&(ze=Re.viewerCanAutoMerge),lt.setContext(Ri.CREATE_PR_PERMISSIONS,Ie);const bt=!!this.getTitleAndDescriptionProvider("Copilot")&&s.workspace.getConfiguration(it).get(Nt)==="Copilot",It=(a=this.getTitleAndDescriptionProvider())==null?void 0:a.title;It&&this.telemetry.sendTelemetryEvent("pr.defaultTitleAndDescriptionProvider",{providerTitle:It});const ui=this._folderRepositoryManager.getAutoReviewer();return this.labels=ue,{canModifyBranches:!0,defaultBaseRemote:Q,defaultBaseBranch:le,defaultCompareRemote:re,defaultCompareBranch:this._defaultCompareBranch,defaultTitle:ge.title,defaultDescription:ge.description,defaultMergeMethod:Ue,baseHasMergeQueue:!!Oe,remoteCount:I.length,allowAutoMerge:Re.viewerCanAutoMerge,mergeMethodsAvailability:Re.mergeMethodsAvailability,autoMergeDefault:ze,createError:"",labels:this.labels,isDraftDefault:We,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,generateTitleAndDescriptionTitle:It,creating:!1,initializeWithGeneratedTitleAndDescription:bt,preReviewState:Ol.None,preReviewer:ui==null?void 0:ui.title,reviewing:!1}}async doInitializeParams(){const e=await this.getCreateParams();return b.appendLine(`Initializing "create" view: ${JSON.stringify(e)}`,Bu.ID),this._postMessage({command:"pr.initialize",params:e}),e}async autoAssign(e){var t;const i=s.workspace.getConfiguration(it).get(De);if(!i)return;const r=await Gs(i,e,void 0,(t=await this._folderRepositoryManager.getCurrentUser(e.githubRepository))==null?void 0:t.login);if(r)try{await e.addAssignees([r])}catch{b.error(`Unable to assign pull request to user ${r}.`,Bu.ID)}}async enableAutoMerge(e,t,i){if(t&&i)return e.enableAutoMerge(i)}async setLabels(e,t){t.length>0&&await e.setLabels(t.map(i=>i.name))}async setAssignees(e,t){t.length?await e.replaceAssignees(t):await this.autoAssign(e)}async setReviewers(e,t){if(t.length){const i=[],r=[];for(const a of t)jt(a)?r.push(a):i.push(a);await e.requestReview(i,r,!0)}}setMilestone(e,t){if(t)return e.updateMilestone(t.id)}setProjects(e,t){if(t.length)return e.updateProjects(t)}async getBaseRemote(){return(await this._folderRepositoryManager.getGitHubRemotes()).find(e=>pe(e.owner,this.model.baseOwner)===0&&pe(e.repositoryName,this.model.repositoryName)===0)}getBaseGitHubRepo(){return this._folderRepositoryManager.gitHubRepositories.find(e=>pe(e.remote.owner,this.model.baseOwner)===0&&pe(e.remote.repositoryName,this.model.repositoryName)===0)}async addMilestone(){const e=await this.getBaseRemote(),t=this._folderRepositoryManager.gitHubRepositories.find(i=>i.remote.remoteName===e.remoteName);return Nf(this._folderRepositoryManager,t,this.milestone,i=>(this.milestone=i,this._postMessage({command:"set-milestone",params:{milestone:this.milestone}})))}async addReviewers(){let e;const t=await this.getBaseRemote();try{const i=this._folderRepositoryManager.gitHubRepositories.find(Q=>Q.remote.remoteName===t.remoteName),[r,a,o]=await Promise.all([i==null?void 0:i.getMetadata(),this._folderRepositoryManager.getCurrentUser(),this._folderRepositoryManager.getOrgTeamsCount(i)]);e=await Ef(this._folderRepositoryManager,t.remoteName,!!(r!=null&&r.organization),o,a,this.reviewers.map(Q=>({reviewer:Q,state:"REQUESTED"})),[]),e.busy=!1;const v=Ee(e.onDidAccept).then(()=>e.selectedItems.filter(Q=>Q.user)),I=Ee(e.onDidHide),G=await Promise.race([v,I]);e.busy=!0,G&&(this.reviewers=G.map(Q=>Q.user),this._postMessage({command:"set-reviewers",params:{reviewers:this.reviewers}}))}catch(i){b.error(`Failed to add reviewers: ${he(i)}`,Bu.ID),s.window.showErrorMessage(he(i))}finally{e==null||e.hide(),e==null||e.dispose()}}async addAssignees(){const e=await this.getBaseRemote(),t=this._folderRepositoryManager.gitHubRepositories.find(r=>r.remote.owner===e.owner&&r.remote.repositoryName===e.repositoryName),i=await s.window.showQuickPick(Rf(this._folderRepositoryManager,t,e.remoteName,this.assignees,void 0,!0),{canPickMany:!0,matchOnDescription:!0,placeHolder:s.l10n.t("Add assignees")});if(i){const r=new Set,a=i.map(o=>o.user).filter(o=>o&&!r.has(o.login)?(r.add(o.login),!0):!1);this.assignees=a,this._postMessage({command:"set-assignees",params:{assignees:this.assignees}})}}async addProjects(){const e=this.getBaseGitHubRepo();e&&await new Promise(t=>{Tf(this._folderRepositoryManager,e,this.projects,async i=>{this.projects=i,this._postMessage({command:"set-projects",params:{projects:this.projects}}),t()})})}async addLabels(){let e=[];const t=await s.window.showQuickPick(Cf(this._folderRepositoryManager,this.labels,this.model.baseOwner,this.model.repositoryName).then(i=>(e=i.newLabels,i.labelPicks)),{canPickMany:!0,matchOnDescription:!0,placeHolder:s.l10n.t("Apply labels")});if(t){const i=t.map(r=>e.find(a=>a.name===r.label));this.labels=i,this._postMessage({command:"set-labels",params:{labels:this.labels}})}}async removeLabel(e){const{label:t}=e.args;if(!t)return;const i=this.labels.length;this.labels=this.labels.filter(r=>r.name!==t.name),i!==this.labels.length&&this._postMessage({command:"set-labels",params:{labels:this.labels}})}async createFromCommand(e,t,i,r){const a={isDraft:e,autoMerge:t,autoMergeMethod:r?"merge":i,creating:!0};return this._postMessage({command:"create",params:a})}async postCreate(e,t){return Promise.all([this.setLabels(t,e.args.labels),this.enableAutoMerge(t,e.args.autoMerge,e.args.autoMergeMethod),this.setAssignees(t,e.args.assignees),this.setReviewers(t,e.args.reviewers),this.setMilestone(t,e.args.milestone),this.setProjects(t,e.args.projects)])}async cancel(e){return this._onDone.fire(void 0),await this.getMergeConfiguration(e.args.owner,e.args.repo,!0),this._replyMessage(e,void 0)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.requestInitialize":return this.initializeParamsPromise();case"pr.cancelCreate":return this.cancel(e);case"pr.create":return this.create(e);case"pr.changeLabels":return this.addLabels();case"pr.changeReviewers":return this.addReviewers();case"pr.changeAssignees":return this.addAssignees();case"pr.changeMilestone":return this.addMilestone();case"pr.changeProjects":return this.addProjects();case"pr.removeLabel":return this.removeLabel(e);default:return this.MESSAGE_UNHANDLED}}dispose(){super.dispose(),this._postMessage({command:"reset"})}_getHtmlForWebview(){const e=rc(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-create-pr-view-new.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Create Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}};tr(ev,"ID","CreatePullRequestViewProvider");let tv=ev;function iv(n){return{owner:n.owner,repositoryName:n.repositoryName}}class Vn extends tv{constructor(e,t,i,r,a){super(e,t,i,r,a,t.compareBranch),tr(this,"viewType","github:createPullRequestWebview"),tr(this,"lastGeneratedTitleAndDescription"),tr(this,"generatingCancellationToken"),tr(this,"reviewingCancellationToken"),this._register(this.model.onDidChange(async o=>{var v,I;let G,Q;if(o.baseOwner){const Re=(v=this._folderRepositoryManager.findRepo(Ie=>pe(Ie.remote.owner,o.baseOwner)===0&&pe(Ie.remote.repositoryName,this.model.repositoryName)===0))==null?void 0:v.remote;G=Re?iv(Re):void 0,Q=this.model.baseBranch}o.baseBranch&&(Q=o.baseBranch);let re,le;if(o.compareOwner){const Re=(I=this._folderRepositoryManager.findRepo(Ie=>pe(Ie.remote.owner,o.compareOwner)===0&&pe(Ie.remote.repositoryName,this.model.repositoryName)===0))==null?void 0:I.remote;re=Re?iv(Re):void 0,le=this.model.compareBranch}o.compareBranch&&(le=o.compareBranch);const ge={baseRemote:G,baseBranch:Q,compareRemote:re,compareBranch:le,warning:await this.existingPRMessage()};return this._postMessage({command:"pr.initialize",params:ge})}))}async existingPRMessage(){return await Zn.getMatchingPullRequestMetadataForBranch(this._folderRepositoryManager.repository,this.model.compareBranch)?s.l10n.t("A pull request already exists for this branch."):""}async setDefaultCompareBranch(e){var t,i;const r=e&&e.name!==this.model.compareBranch,a=(t=this._folderRepositoryManager.gitHubRepositories.find(v=>v.remote.owner===this.model.compareOwner))==null?void 0:t.remote.remoteName,o=e&&((i=e.upstream)==null?void 0:i.remote)!==a;(r||o)&&(this._defaultCompareBranch=e.name,this.model.setCompareBranch(e.name),this.changeBranch(e.name,!1).then(async v=>{const I={defaultTitle:v.title,defaultDescription:v.description,compareBranch:e==null?void 0:e.name,defaultCompareBranch:e==null?void 0:e.name,warning:await this.existingPRMessage()};if(!o)return this._postMessage({command:"pr.initialize",params:I})}))}show(e){e&&this.setDefaultCompareBranch(e),super.show()}async getTotalGitHubCommits(e,t){var i;const r=await this._folderRepositoryManager.getOrigin(e);if(e.upstream){const a=this._folderRepositoryManager.findRepo(Ys(e.upstream.remote));if(a){const o=`${a.remote.owner}:${(i=e.name)!=null?i:""}`,v=`${this._pullRequestDefaults.owner}:${t}`,I=await r.compareCommits(v,o);return I==null?void 0:I.commits}}}async getTitleAndDescription(e,t){let i="",r="";const a=s.workspace.getConfiguration(it).get(Nt);if(a==="none")return{title:i,description:r};const o=await this._folderRepositoryManager.getOrigin(e);let v=this._pullRequestDefaults.base===e.name;b.debug(`Compare branch name: ${e.name}, Base branch name: ${this._pullRequestDefaults.base}`,Vn.ID);try{const I=e.name,[G,Q,re]=await Promise.all([this.getTotalGitHubCommits(e,t),I?iy(Ne(this._folderRepositoryManager.getTipCommitMessage(I),5e3)):void 0,a==="template"?await this.getPullRequestTemplate():void 0]),le=G==null?void 0:G.filter(ge=>ge.parents.length<2);if(b.debug(`Total commits: ${le==null?void 0:le.length}`,Vn.ID),le===void 0?v=!1:le&&le.length>1&&(v=await o.getDefaultBranch()!==e.name),I&&!Q&&(b.appendLine("Timeout getting last commit message",Vn.ID),this.telemetry.sendTelemetryEvent("pr.create.getCommitTimeout")),v&&I?i=`${I.charAt(0).toUpperCase()}${I.slice(1)}`:I&&Q&&(i=Q.title),re&&(Q!=null&&Q.body)?r=`${Q.body}

${re}`:re?r=re:Q!=null&&Q.body&&this._pullRequestDefaults.base!==e.name&&(r=Q.body),!r){const ge=i.match(u0),Re=Ls(ge);if(Re!=null&&Re.issueNumber&&!Re.name&&!Re.owner){r=`#${Re.issueNumber}`;const Oe=i.substr(0,i.indexOf(ge[0])).match($S);Oe&&(r=`${Oe[0]} ${r}`)}}}catch(I){b.debug(`Error while getting total commits: ${I}`,Vn.ID)}return{title:i,description:r}}async getPullRequestTemplate(){return this._folderRepositoryManager.getPullRequestTemplateBody(this.model.baseOwner)}async detectBaseMetadata(e){var t;const i=this.model.compareOwner,r=this.model.repositoryName,a=s.workspace.getConfiguration(it).get(ti);if(!e.name||a==="repositoryDefault")return;const o=this._folderRepositoryManager.findRepo(v=>pe(v.remote.owner,i)===0&&pe(v.remote.repositoryName,r)===0);if(!(a==="auto"&&((t=await(o==null?void 0:o.getMetadata()))!=null&&t.fork)))try{const v=await this._folderRepositoryManager.repository.getBranchBase(e.name);if(v!=null&&v.name){const I=this._folderRepositoryManager.findRepo(G=>G.remote.remoteName===v.remote);if(I)return{branch:v.name,owner:I.remote.owner,repositoryName:I.remote.repositoryName}}}catch{return}}async getCreateParams(){const e=await super.getCreateParams();return this.model.baseOwner=e.defaultBaseRemote.owner,this.model.baseBranch=e.defaultBaseBranch,e}async remotePicks(e){return(e?await this._folderRepositoryManager.getActiveGitHubRemotes(await this._folderRepositoryManager.getGitHubRemotes()):this._folderRepositoryManager.gitHubRepositories.map(i=>i.remote)).map(i=>({iconPath:new s.ThemeIcon("repo"),label:`${i.owner}/${i.repositoryName}`,remote:{owner:i.owner,repositoryName:i.repositoryName}}))}async branchPicks(e,t,i){let r;i?r=await e.listBranches(e.remote.owner,e.remote.repositoryName):r=(await this._folderRepositoryManager.repository.getBranches({remote:!1})).filter(o=>o.name);const a=r.map(o=>{const v=typeof o=="string"?o:o.name;return{iconPath:new s.ThemeIcon("git-branch"),label:v,remote:{owner:e.remote.owner,repositoryName:e.remote.repositoryName},branch:v}});return a.unshift({kind:s.QuickPickItemKind.Separator,label:`${e.remote.owner}/${e.remote.repositoryName}`}),a.unshift({iconPath:new s.ThemeIcon("repo"),label:t}),a}async processRemoteAndBranchResult(e,t,i){const[r,a]=await Promise.all([e.getDefaultBranch(),e.getViewerPermission()]);lt.setContext(Ri.CREATE_PR_PERMISSIONS,a);let o;if(i){const v=this.model.baseOwner!==t.remote.owner,I=v||this.model.baseBranch!==t.branch;this.model.baseOwner=t.remote.owner,this.model.baseBranch=t.branch;const G=await this._folderRepositoryManager.repository.getBranch(this.model.compareBranch),[Q,re,le]=await Promise.all([this.getMergeConfiguration(t.remote.owner,t.remote.repositoryName),this.getTitleAndDescription(G,this.model.baseBranch),this._folderRepositoryManager.mergeQueueMethodForBranch(this.model.baseBranch,this.model.baseOwner,this.model.repositoryName)]);let ge=!1;if(Q.viewerCanAutoMerge){const Re=s.workspace.getConfiguration(it).get(Ht,"lastUsed"),Ie=this._folderRepositoryManager.context.workspaceState.get(Dc,void 0);ge=Re==="lastUsed"&&(Ie==null?void 0:Ie.autoMerge)||Re==="createAutoMerge"}o={baseRemote:t.remote,baseBranch:t.branch,defaultBaseBranch:r,defaultMergeMethod:Ll(Q.mergeMethodsAvailability),allowAutoMerge:Q.viewerCanAutoMerge,baseHasMergeQueue:!!le,mergeMethodsAvailability:Q.mergeMethodsAvailability,autoMergeDefault:ge,defaultTitle:re.title,defaultDescription:re.description},v&&this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseRemote"),I&&this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseBranch")}else await this.changeBranch(t.branch,!1),o={compareRemote:t.remote,compareBranch:t.branch,defaultCompareBranch:r},this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedCompare");return o}async changeRemoteAndBranch(e,t){this.cancelGenerateTitleAndDescription();const i=s.window.createQuickPick();let r=this._folderRepositoryManager.findRepo(Re=>{var Ie;return((Ie=e.args.currentRemote)==null?void 0:Ie.owner)===Re.remote.owner&&e.args.currentRemote.repositoryName===Re.remote.repositoryName});const a=s.l10n.t("Change Repository..."),o=s.l10n.t("Choose a remote"),v=t?s.l10n.t("Choose a base branch"):s.l10n.t("Choose a branch to merge"),I=t?s.l10n.t("Choose a base repository"):s.l10n.t("Choose a repository to merge from");i.placeholder=r?v:o,i.show(),i.busy=!0,i.items=r?await this.branchPicks(r,a,t):await this.remotePicks(t);const G=e.args.currentBranch?i.items.find(Re=>Re.branch===e.args.currentBranch):void 0;i.activeItems=G?[G]:[],i.busy=!1;const Q=new Promise(Re=>{i.onDidAccept(async()=>{if(i.selectedItems.length===0)return;const Ie=i.selectedItems[0];if(Ie.label===a)i.busy=!0,i.items=await this.remotePicks(t),i.busy=!1,i.placeholder=r?I:o;else if(Ie.branch===void 0&&Ie.remote){const Oe=Ie;i.busy=!0,r=this._folderRepositoryManager.findRepo(ue=>ue.remote.owner===Oe.remote.owner&&ue.remote.repositoryName===Oe.remote.repositoryName),i.items=await this.branchPicks(r,a,t),i.placeholder=v,i.busy=!1}else if(Ie.branch&&Ie.remote){const Oe=Ie;Re({remote:Oe.remote,branch:Oe.branch})}})}),re=new Promise(Re=>i.onDidHide(()=>Re())),le=await Promise.race([Q,re]);if(!le||!r){i.hide(),i.dispose();return}i.busy=!0;const ge=await this.processRemoteAndBranchResult(r,le,t);return i.hide(),i.dispose(),this._replyMessage(e,ge)}async findIssueContext(e){var t,i;const r=[];for(const a of e){const o=Ls(a.match(as));if(o){const v=(t=o.owner)!=null?t:this.model.baseOwner,I=(i=o.name)!=null?i:this.model.repositoryName;r.push(new Promise(G=>{this._folderRepositoryManager.resolveIssue(v,I,o.issueNumber).then(Q=>{G(Q?{content:`${Q.title}
${Q.body}`,reference:mc(o)}:void 0)}).catch(()=>G(void 0))}))}}if(r.length)return(await Promise.all(r)).filter(a=>!!a)}async getCommitsAndPatches(){var e;let t,i;await this.model.getCompareHasUpstream()?[t,i]=await Promise.all([this.model.gitHubCommits().then(a=>a.map(o=>o.commit.message)),this.model.gitHubFiles().then(a=>a==null?void 0:a.map(o=>{if(!o.patch)return;const v=s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,o.filename).toString(),I=o.previous_filename?s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,o.previous_filename).toString():void 0;return{patch:o.patch,fileUri:v,previousFileUri:I}}))]):[t,i]=await Promise.all([this.model.gitCommits().then(a=>a.filter(o=>o.parents.length===1).map(o=>o.message)),Promise.all((await this.model.gitFiles()).map(async a=>({patch:await this._folderRepositoryManager.repository.diffBetween(this.model.baseBranch,this.model.compareBranch,a.uri.fsPath),fileUri:a.uri.toString()})))]);const r=(e=i==null?void 0:i.filter(a=>!!a))!=null?e:[];return{commitMessages:t,patches:r}}async getTitleAndDescriptionFromProvider(e,t){return Vn.withProgress(async()=>{try{const{commitMessages:i,patches:r}=await this.getCommitsAndPatches(),a=await this.findIssueContext(i),o=this._folderRepositoryManager.getTitleAndDescriptionProvider(t),v=await(o==null?void 0:o.provider.provideTitleAndDescription({commitMessages:i,patches:r,issues:a},e));return o&&(this.lastGeneratedTitleAndDescription={...v,providerTitle:o.title},this.telemetry.sendTelemetryEvent("pr.generatedTitleAndDescription",{providerTitle:o==null?void 0:o.title})),v}catch(i){b.error(`Error while generating title and description: ${i}`,Vn.ID);return}})}async generateTitleAndDescription(e){this.generatingCancellationToken&&this.generatingCancellationToken.cancel(),this.generatingCancellationToken=new s.CancellationTokenSource;const t=await Promise.race([this.getTitleAndDescriptionFromProvider(this.generatingCancellationToken.token,e.args.useCopilot?"Copilot":void 0),new Promise(r=>{var a;return(a=this.generatingCancellationToken)==null?void 0:a.token.onCancellationRequested(()=>r(!0))})]);this.generatingCancellationToken=void 0;const i={title:void 0,description:void 0};return t!==!0&&(i.title=t==null?void 0:t.title,i.description=t==null?void 0:t.description),this._replyMessage(e,{title:i==null?void 0:i.title,description:i==null?void 0:i.description})}async cancelGenerateTitleAndDescription(){this.generatingCancellationToken&&this.generatingCancellationToken.cancel()}async getPreReviewFromProvider(e){const t=this._folderRepositoryManager.getAutoReviewer();if(!t)return;const{commitMessages:i,patches:r}=await this.getCommitsAndPatches(),a=await t.provider.provideReviewerComments({repositoryRoot:this._folderRepositoryManager.repository.rootUri.fsPath,commitMessages:i,patches:r},e);return a&&a.succeeded&&a.files.length>0?Ol.ReviewedWithComments:Ol.ReviewedWithoutComments}async review(){this._postMessage({command:"reviewing",params:{reviewing:!0}})}async preReview(e){return Vn.withProgress(async()=>{await lt.setContext("pr:preReviewing",!0),this.reviewingCancellationToken&&this.reviewingCancellationToken.cancel(),this.reviewingCancellationToken=new s.CancellationTokenSource;const t=await Promise.race([this.getPreReviewFromProvider(this.reviewingCancellationToken.token),new Promise(i=>{var r;return(r=this.reviewingCancellationToken)==null?void 0:r.token.onCancellationRequested(()=>i())})]);return this.reviewingCancellationToken=void 0,await lt.setContext("pr:preReviewing",!1),this._replyMessage(e,t)})}async cancelPreReview(){this.reviewingCancellationToken&&this.reviewingCancellationToken.cancel()}async pushUpstream(e,t,i){let r;const a=this._folderRepositoryManager.repository.state.remotes.find(o=>{if(!o.pushUrl)return!1;const v=new os(o.name,o.pushUrl,new Kn(o.pushUrl),Zi.GitHubDotCom);return v.owner.toLowerCase()===e.toLowerCase()&&v.repositoryName.toLowerCase()===t.toLowerCase()?(r=v,!0):!1});if(a&&r){b.appendLine(`Found push remote ${a.name} for ${e}/${t} and branch ${i}`,Vn.ID);const o=await this._folderRepositoryManager.publishBranch(r,i);return o?{compareUpstream:o,repo:this._folderRepositoryManager.findRepo(Ys(o.remoteName))}:void 0}}checkGeneratedTitleAndDescription(e,t){var i,r;if(!this.lastGeneratedTitleAndDescription)return;const a=!!this.lastGeneratedTitleAndDescription.title&&(this.lastGeneratedTitleAndDescription.title===e||((i=this.lastGeneratedTitleAndDescription.title)==null?void 0:i.includes(e))||(e==null?void 0:e.includes(this.lastGeneratedTitleAndDescription.title))),o=!!this.lastGeneratedTitleAndDescription.description&&(this.lastGeneratedTitleAndDescription.description===t||((r=this.lastGeneratedTitleAndDescription.description)==null?void 0:r.includes(t))||(t==null?void 0:t.includes(this.lastGeneratedTitleAndDescription.description)));this.telemetry.sendTelemetryEvent("pr.usedGeneratedTitleAndDescription",{providerTitle:this.lastGeneratedTitleAndDescription.providerTitle,usedGeneratedTitle:a.toString(),usedGeneratedDescription:o.toString()})}async checkForChanges(){if(await this.model.filesHaveChanges()){const e=s.l10n.t("Commit"),t=s.l10n.t("Delete my changes"),i=await s.window.showWarningMessage(s.l10n.t("You have made changes to the files in this pull request. Do you want to commit these changes to the pull request before creating it?"),{modal:!0},e,t);if(i===e){const r=await s.window.showInputBox({prompt:s.l10n.t("Commit message for your changes")});if(r)return this.model.applyChanges(r)}else if(i!==t)return!1}return!0}async create(e){if(b.debug(`Creating pull request with args ${JSON.stringify(e.args)}`,Vn.ID),!await this.checkForChanges()){b.debug("Not continuing past checking for file changes.",Vn.ID),await this._replyMessage(e,{});return}const t={autoMerge:e.args.autoMerge,mergeMethod:e.args.autoMergeMethod,isDraft:e.args.draft};this._folderRepositoryManager.context.workspaceState.update(Dc,t),Vn.withProgress(()=>s.window.withProgress({location:s.ProgressLocation.Notification},async i=>{lt.setContext(Ri.CREATING,!0);let r=0;i.report({message:s.l10n.t("Checking for upstream branch"),increment:r});let a;try{const o=e.args.compareOwner,v=e.args.compareRepo,I=e.args.compareBranch,G=`${o}/${v}`;let re=(await this._folderRepositoryManager.repository.getBranch(I)).upstream?this._folderRepositoryManager.findRepo(Re=>Re.remote.owner===o&&Re.remote.repositoryName===v):void 0,le=re==null?void 0:re.remote;if(!le||le.owner!==o||le.repositoryName!==v){const Re=s.l10n.t("Always Publish Branch"),Ie=s.l10n.t("Publish Branch"),ue=s.workspace.getConfiguration(it).get($e)==="always"?Ie:await s.window.showInformationMessage(s.l10n.t(`There is no remote branch on {0}/{1} for '{2}'.

Do you want to publish it and then create the pull request?`,o,v,I),{modal:!0},Ie,Re);if(ue===Re&&await s.workspace.getConfiguration(it).update($e,"always",s.ConfigurationTarget.Global),ue===Re||ue===Ie){i.report({message:s.l10n.t("Pushing branch"),increment:10}),r+=10;const ye=await this.pushUpstream(o,v,I);ye?(le=ye.compareUpstream,re=ye.repo):this._throwError(e,s.l10n.t("The current repository does not have a push remote for {0}",G))}}if(!le){this._throwError(e,s.l10n.t("No remote branch on {0}/{1} for the merge branch.",o,v)),i.report({message:s.l10n.t("Pull request cancelled"),increment:100-r});return}if(!re)throw new Error(s.l10n.t(`Unable to find GitHub repository matching '{0}'. You can add '{0}' to the setting "githubPullRequests.remotes" to ensure '{0}' is found.`,le.remoteName));i.report({message:s.l10n.t("Creating pull request"),increment:70-r}),r+=70-r;const ge=`${re.remote.owner}:${I}`;this.checkGeneratedTitleAndDescription(e.args.title,e.args.body),a=await this._folderRepositoryManager.createPullRequest({...e.args,head:ge}),a?await this.postCreate(e,a):this._throwError(e,s.l10n.t("There must be a difference in commits to create a pull request."))}catch(o){if(a)o.message==='GraphQL error: ["Pull request Pull request is in unstable status"]'&&await this.postCreate(e,a),s.window.showErrorMessage(s.l10n.t("There was an error creating the pull request: {0}",o.message));else{let v=o.message;v.startsWith("GraphQL error: ")&&(v=v.substring(15)),this._throwError(e,v)}}finally{lt.setContext(Ri.CREATING,!1);let o;a?(this._onDone.fire(a),o=s.l10n.t("Pull request created")):(await this._replyMessage(e,{}),o=s.l10n.t("Unable to create pull request")),i.report({message:o,increment:100-r})}}))}async changeBranch(e,t){let i;if(t)this.model.baseBranch=e;else try{i=await this._folderRepositoryManager.repository.getBranch(e),await this.model.setCompareBranch(e)}catch{s.window.showErrorMessage(s.l10n.t("Branch does not exist locally."))}return i=i!=null?i:await this._folderRepositoryManager.repository.getBranch(this.model.compareBranch),this.getTitleAndDescription(i,this.model.baseBranch)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.changeBaseRemoteAndBranch":return this.changeRemoteAndBranch(e,!0);case"pr.changeCompareRemoteAndBranch":return this.changeRemoteAndBranch(e,!1);case"pr.generateTitleAndDescription":return this.generateTitleAndDescription(e);case"pr.cancelGenerateTitleAndDescription":return this.cancelGenerateTitleAndDescription();case"pr.preReview":return this.preReview(e);case"pr.cancelPreReview":return this.cancelPreReview();default:s.window.showErrorMessage("Unsupported webview message")}}}class Au extends tv{constructor(e,t,i,r,a,o){var v,I;super(e,t,i,r,a,(I=(v=r.repository.state.HEAD)==null?void 0:v.name)!=null?I:o.base.name),this.pullRequest=o}async getTitleAndDescription(){return{title:s.l10n.t('Revert "{0}"',this.pullRequest.title),description:s.l10n.t("Reverts {0}",`${this.pullRequest.remote.owner}/${this.pullRequest.remote.repositoryName}#${this.pullRequest.number}`)}}async detectBaseMetadata(){return{owner:this.pullRequest.remote.owner,repositoryName:this.pullRequest.remote.repositoryName,branch:this.pullRequest.base.name}}getTitleAndDescriptionProvider(e){}async getCreateParams(){const e=await super.getCreateParams();return e.canModifyBranches=!1,e.actionDetail=s.l10n.t("Reverting"),e.associatedExistingPullRequest=this.pullRequest.number,e}openAssociatedPullRequest(){return Qo(this.telemetry,this.pullRequest,void 0,this._folderRepositoryManager,!1,!0)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.openAssociatedPullRequest":return this.openAssociatedPullRequest();default:s.window.showErrorMessage("Unsupported webview message")}}async create(e){let t;Au.withProgress(async()=>{lt.setContext(Ri.CREATING,!0);try{t=await this._folderRepositoryManager.revert(this.pullRequest,e.args.title,e.args.body,e.args.draft),t&&(await this.postCreate(e,t),await Qo(this.telemetry,t,void 0,this._folderRepositoryManager,!0))}catch(i){if(t)i.message==='GraphQL error: ["Pull request Pull request is in unstable status"]'&&await this.postCreate(e,t),s.window.showErrorMessage(s.l10n.t("There was an error creating the pull request: {0}",i.message));else{let r=i.message;r.startsWith("GraphQL error: ")&&(r=r.substring(15)),this._throwError(e,r)}}finally{lt.setContext(Ri.CREATING,!1),t?this._onDone.fire(t):await this._replyMessage(e,{})}})}}var VS=Object.defineProperty,jS=(n,e,t)=>e in n?VS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jn=(n,e,t)=>jS(n,typeof e!="symbol"?e+"":e,t);const nv=class Ud extends g{constructor(e,t,i,r,a,o){super(),this.folderRepositoryManager=e,this.repositoryName=o,jn(this,"_baseOwner"),jn(this,"_baseBranch"),jn(this,"_compareOwner"),jn(this,"_compareBranch"),jn(this,"_constructed"),jn(this,"_onDidChange",new s.EventEmitter),jn(this,"onDidChange",this._onDidChange.event),jn(this,"_compareGitHubRepository"),jn(this,"_gitLog"),jn(this,"_gitFiles"),jn(this,"_compareHasUpstream",!1),jn(this,"_gitHubMergeBase"),jn(this,"_gitHubLog"),jn(this,"_gitHubFiles"),jn(this,"_gitHubcontentProvider"),jn(this,"_gitcontentProvider"),this._baseOwner=t,this._baseBranch=i,this._compareBranch=i,this._gitcontentProvider=new qb(this.folderRepositoryManager),this._compareGitHubRepository=this.folderRepositoryManager.gitHubRepositories.find(v=>v.remote.owner===r&&v.remote.repositoryName===o),this._gitHubcontentProvider=new Hh(this.folderRepositoryManager.gitHubRepositories),this._constructed=new Promise(v=>this.setCompareBranch(a).then(v)),this.compareOwner=r,this._register(e.repository.state.onDidChange(()=>{var v;((v=e.repository.state.HEAD)==null?void 0:v.name)===this._compareBranch&&this.update({})}))}get gitHubContentProvider(){return this._gitHubcontentProvider}get gitContentProvider(){return this._gitcontentProvider}get baseRemoteName(){var e,t;const i=`/${this._baseOwner.toLowerCase()}/`;return(t=(e=this.folderRepositoryManager.repository.state.remotes.find(r=>{var a;return(a=r.fetchUrl)==null?void 0:a.toLowerCase().includes(i)}))==null?void 0:e.name)!=null?t:"origin"}get baseOwner(){return this._baseOwner}set baseOwner(e){e!==this._baseOwner&&(this._baseOwner=e,this.update({baseOwner:this._baseOwner}))}get baseBranch(){return this._baseBranch}set baseBranch(e){e!==this._baseBranch&&(this._baseBranch=e,this.update({baseBranch:this._baseBranch}))}get compareOwner(){return this._compareOwner}set compareOwner(e){e!==this._compareOwner&&(this._compareOwner=e,this._compareGitHubRepository=this.folderRepositoryManager.gitHubRepositories.find(t=>t.remote.owner===this._compareOwner),this._compareGitHubRepository&&(this._gitHubcontentProvider.gitHubRepository=this._compareGitHubRepository),this.update({compareOwner:this._compareOwner}))}async getContentProvider(){return await this.getCompareHasUpstream()?this.gitHubContentProvider:this.gitContentProvider}async filesHaveChanges(){return this.getContentProvider().then(e=>e.hasChanges())}async applyChanges(e){return await this.getCompareHasUpstream()?this.gitHubContentProvider.applyChanges(e,this._compareBranch):this.gitContentProvider.applyChanges(e)}get compareBranch(){return this._compareBranch}async setCompareBranch(e){const t=this._compareHasUpstream;let i=!1;e&&(i=await this.updateHasUpstream(e)!==t),this._compareBranch!==e&&(i=!0,e&&(this._compareBranch=e)),i&&this.update({compareBranch:this._compareBranch})}async updateHasUpstream(e){const t=await this.folderRepositoryManager.repository.getBranch(e);return this._compareHasUpstream=!!t.upstream,this._compareHasUpstream}async getCompareHasUpstream(){return await this._constructed,this._compareHasUpstream}get gitHubRepository(){return this._compareGitHubRepository}update(e){var t;this._gitLog=void 0,this._gitFiles=void 0,this._gitHubLog=void 0,this._gitHubFiles=void 0,this.gitContentProvider.editableBranch=this._compareBranch===((t=this.folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name)?this._compareBranch:void 0,this.gitHubContentProvider.editableBranch=this._compareBranch,this._onDidChange.fire(e)}async gitCommits(){if(await this._constructed,this._gitLog===void 0){const e=this._baseBranch,t=this._compareBranch,i=this.folderRepositoryManager.repository.log({range:`${this.baseRemoteName}/${this._baseBranch}..${this._compareBranch}`});if(e!==this._baseBranch||t!==this._compareBranch)return i;this._gitLog=i}return this._gitLog}async gitFiles(){if(await this._constructed,this._gitFiles===void 0){const e=this._baseBranch,t=this._compareBranch,i=await this.folderRepositoryManager.repository.diffBetween(`${this.baseRemoteName}/${this._baseBranch}`,this._compareBranch);if(e!==this._baseBranch||t!==this._compareBranch)return b.debug(`Branches have changed while getting git diff. Base: ${e} -> ${this._baseBranch}, Compare: ${t} -> ${this._compareBranch}`,Ud.ID),i;b.debug(`Got ${i.length} git file diffs for merging ${this._compareOwner}/${this._compareBranch} in ${this._baseOwner}/${this._baseBranch}`,Ud.ID),this._gitFiles=i}return this._gitFiles}async gitHubCommits(){var e;if(await this._constructed,!this._compareGitHubRepository)return[];if(this._gitHubLog===void 0){const{octokit:t,remote:i}=await this._compareGitHubRepository.ensure(),{data:r}=await t.call(t.api.repos.compareCommits,{repo:i.repositoryName,owner:i.owner,base:`${this._baseOwner}:${this._baseBranch}`,head:`${this._compareOwner}:${this._compareBranch}`});this._gitHubLog=r.commits,this._gitHubFiles=(e=r.files)!=null?e:[],this._gitHubMergeBase=r.merge_base_commit.sha}return this._gitHubLog}async gitHubFiles(){return await this._constructed,this._gitHubFiles===void 0&&await this.gitHubCommits(),this._gitHubFiles}async gitHubMergeBase(){return await this._constructed,this._gitHubMergeBase===void 0&&await this.gitHubCommits(),this._gitHubMergeBase}};jn(nv,"ID","CreatePullRequestDataModel");let WS=nv;var zS=Object.defineProperty,KS=(n,e,t)=>e in n?zS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ol=(n,e,t)=>KS(n,typeof e!="symbol"?e+"":e,t);class QS extends g{constructor(){super(),ol(this,"_currentDisposables",[]),ol(this,"_createPRViewProvider"),ol(this,"_treeView"),ol(this,"_postCreateCallback"),ol(this,"_activeContext")}async setActiveContext(e){this._activeContext&&await lt.setContext(this._activeContext,e)}registerListeners(e,t){m(this._createPRViewProvider.onDone(async i=>{await Vn.withProgress(async()=>{var r;return(r=this._postCreateCallback)==null?void 0:r.call(this,i)}),this.dispose()}),this._currentDisposables),m(s.commands.registerCommand("pr.addAssigneesToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addAssignees()}),this._currentDisposables),m(s.commands.registerCommand("pr.addReviewersToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addReviewers()}),this._currentDisposables),m(s.commands.registerCommand("pr.addLabelsToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addLabels()}),this._currentDisposables),m(s.commands.registerCommand("pr.addMilestoneToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addMilestone()}),this._currentDisposables),m(s.commands.registerCommand("pr.addProjectsToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addProjects()}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuCreate",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!1,void 0)}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuDraft",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!0,!1,void 0)}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuMergeWhenReady",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,void 0,!0)}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuMerge",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,"merge")}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuSquash",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,"squash")}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuRebase",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,"rebase")}),this._currentDisposables),m(s.commands.registerCommand("pr.preReview",()=>{this._createPRViewProvider instanceof Vn&&this._createPRViewProvider.review()}),this._currentDisposables),t&&m(e.state.onDidChange(i=>{this._createPRViewProvider&&e.state.HEAD&&this._createPRViewProvider instanceof Vn&&this._createPRViewProvider.setDefaultCompareBranch(e.state.HEAD)}),this._currentDisposables)}get isCreatingPullRequest(){return!!this._createPRViewProvider}async ensureDefaultsAreLocal(e,t){if(e.gitHubRepositories.some(i=>i.remote.owner===t.owner&&i.remote.repositoryName===t.repo))return t;{const i=await e.getOrigin(),r=await e.getMetadata(i.remote.remoteName);return{owner:r.owner.login,repo:r.name,base:r.default_branch}}}async revert(e,t,i,r,a){var o;const v=!this._createPRViewProvider||!(this._createPRViewProvider instanceof Au);if(v&&this.reset(),this._postCreateCallback=a,await i.loginAndUpdate(),this._activeContext="github:revertPullRequest",this.setActiveContext(!0),v){(o=this._createPRViewProvider)==null||o.dispose();const I={baseOwner:r.remote.owner,repositoryName:r.remote.repositoryName};this._createPRViewProvider=m(new Au(e,I,t,i,{base:r.base.name,owner:r.remote.owner,repo:r.remote.repositoryName},r),this._currentDisposables),this.registerListeners(i.repository,!1),m(s.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider),this._currentDisposables)}this._createPRViewProvider.show()}async create(e,t,i,r,a){var o,v,I,G;const Q=!this._createPRViewProvider||!(this._createPRViewProvider instanceof Vn);Q&&this.reset(),this._postCreateCallback=a,await i.loginAndUpdate(),this._activeContext="github:createPullRequest",this.setActiveContext(!0);const re=((v=r?await i.repository.getBranch(r):void 0)!=null?v:(o=i.repository.state.HEAD)!=null&&o.name)?i.repository.state.HEAD:void 0;let le;if(Q){(I=this._createPRViewProvider)==null||I.dispose();const ge=await this.ensureDefaultsAreLocal(i,await i.getPullRequestDefaults(re)),Re=await i.getOrigin(re),Ie=m(new WS(i,ge.owner,ge.base,Re.remote.owner,(G=re==null?void 0:re.name)!=null?G:ge.base,Re.remote.repositoryName),this._currentDisposables);le=this._createPRViewProvider=new Vn(e,Ie,t,i,ge),this._treeView=m(new Zp(i,Ie),this._currentDisposables),this.registerListeners(i.repository,!r),m(s.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider),this._currentDisposables)}else le=this._createPRViewProvider;le.show(re)}reset(){this.setActiveContext(!1),_(this._currentDisposables),this._createPRViewProvider=void 0,this._treeView=void 0,this._postCreateCallback=void 0,this._activeContext=void 0}dispose(){this.reset(),super.dispose()}}class YS extends Yp{constructor(){super()}registerPullRequestPropertyChangedListeners(e,t){return t.onDidChangeFileViewedState(i=>{i.changed.forEach(r=>{this._handlePullRequestPropertyChange(e,t,{path:r.fileName})})})}provideFileDecoration(e,t){if(!e.query)return;const i=kh(e);if(i&&i.status!==void 0)return{propagate:!1,badge:this.letter(i.status),color:this.color(i.status),tooltip:this.tooltip(i)};const r=cn(e);if(r&&r.status!==void 0)return{propagate:!1,badge:this.letter(r.status),color:this.color(r.status),tooltip:this.tooltip(r)}}gitColors(e){switch(e){case Ot.MODIFY:return"gitDecoration.modifiedResourceForeground";case Ot.ADD:return"gitDecoration.addedResourceForeground";case Ot.DELETE:return"gitDecoration.deletedResourceForeground";case Ot.RENAME:return"gitDecoration.renamedResourceForeground";case Ot.UNKNOWN:return;case Ot.UNMERGED:return"gitDecoration.conflictingResourceForeground"}}remoteReposColors(e){switch(e){case Ot.MODIFY:return"remoteHub.decorations.modifiedForegroundColor";case Ot.ADD:return"remoteHub.decorations.addedForegroundColor";case Ot.DELETE:return"remoteHub.decorations.deletedForegroundColor";case Ot.RENAME:return"remoteHub.decorations.incomingRenamedForegroundColor";case Ot.UNKNOWN:return;case Ot.UNMERGED:return"remoteHub.decorations.conflictForegroundColor"}}color(e){let t=s.extensions.getExtension("vscode.git")?this.gitColors(e):this.remoteReposColors(e);return t?new s.ThemeColor(t):void 0}letter(e){switch(e){case Ot.MODIFY:return"M";case Ot.ADD:return"A";case Ot.DELETE:return"D";case Ot.RENAME:return"R";case Ot.UNKNOWN:return"U";case Ot.UNMERGED:return"C"}return""}tooltip(e){if(e.status===Ot.RENAME&&e.previousFileName)return`Renamed ${e.previousFileName} to ${L.basename(e.fileName)}`}}var Iu;(n=>{function e(t,i){const r=i.some(v=>t.items.some(I=>I[0]===v)),a=[],o=[];if(t.items.forEach(v=>{const I=v[0],G=v[1];I instanceof cs&&(G==s.TreeItemCheckboxState.Checked?a.push(I):o.push(I)),I.updateFromCheckboxChanged(G)}),r)for(const v of i)v instanceof cs&&!a.includes(v)&&!o.includes(v)&&(v.checkboxState.state===s.TreeItemCheckboxState.Unchecked?a.push(v):o.push(v));if(a.length>0){const v=a[0].pullRequest,I=a.map(G=>G.fileName);v.markFiles(I,!0,"viewed")}if(o.length>0){const v=o[0].pullRequest,I=o.map(G=>G.fileName);v.markFiles(I,!0,"unviewed")}}n.processCheckboxUpdates=e})(Iu||(Iu={}));var XS=Object.defineProperty,JS=(n,e,t)=>e in n?XS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ll=(n,e,t)=>JS(n,typeof e!="symbol"?e+"":e,t);class rv extends g{constructor(e,t){super(),this._git=e,this._reposManager=t,ll(this,"_onDidChangeTreeData",new s.EventEmitter),ll(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),ll(this,"_pullRequestManagerMap",new Map),ll(this,"_view"),ll(this,"_children"),this._view=this._register(s.window.createTreeView("prStatus:github",{treeDataProvider:this,showCollapseAll:!0,canSelectMany:!0})),this._register(s.workspace.onDidChangeConfiguration(async i=>{if(i.affectsConfiguration(`${it}.${Ji}`)){this._onDidChangeTreeData.fire();const r=s.workspace.getConfiguration(it).get(Ji);await s.commands.executeCommand("setContext","fileListLayout:flat",r==="flat")}else i.affectsConfiguration(`${nr}.${zn}`)&&this._onDidChangeTreeData.fire()})),this._register(this._view.onDidChangeCheckboxState(i=>Iu.processCheckboxUpdates(i,this._view.selection)))}get view(){return this._view}refresh(e){this._onDidChangeTreeData.fire(e)}updateViewTitle(){let e;if(this._pullRequestManagerMap.size===1){const t=this._pullRequestManagerMap.values().next();t.done||(e=t.value.pullRequestModel.number)}this._view.title=e?s.l10n.t("Changes in Pull Request #{0}",e):this._pullRequestManagerMap.size>1?s.l10n.t("Changes in Pull Requests"):s.l10n.t("Changes in Pull Request")}async addPrToView(e,t,i,r,a){if(b.appendLine(`Adding PR #${t.number} to tree`,x),this._pullRequestManagerMap.has(e)){const v=this._pullRequestManagerMap.get(e);if(v&&v.pullRequestModel===t){b.appendLine(`PR #${t.number} already exists in tree`,x);return}else v==null||v.dispose()}const o=new oa(this,t,e,i,a);this._pullRequestManagerMap.set(e,o),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire(),r&&this.reveal(o)}async setReviewModeContexts(){await lt.setContext(Ri.IN_REVIEW_MODE,this._pullRequestManagerMap.size>0);const e=[],t=[];this._git.repositories.forEach(i=>{const r=this._reposManager.getManagerForFile(i.rootUri);r&&!this._pullRequestManagerMap.has(r)?e.push(i.rootUri):r&&t.push(i.rootUri)}),await lt.setContext(Ri.REPOS_NOT_IN_REVIEW_MODE,e),await lt.setContext(Ri.REPOS_IN_REVIEW_MODE,t)}async removePrFromView(e){const t=this._pullRequestManagerMap.has(e)?this._pullRequestManagerMap.get(e):void 0;t&&b.appendLine(`Removing PR #${t.pullRequestModel.number} from tree`,x),t==null||t.dispose(),this._pullRequestManagerMap.delete(e),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}getParent(e){return e.getParent()}async reveal(e,t){try{await this._view.reveal(e,t)}catch(i){b.error(i,x)}}get children(){return this._children}sortMap(){const e=s.workspace.workspaceFolders,t=(i,r)=>{const a=i.fsPath.toLowerCase(),o=r.fsPath.toLowerCase();return Z(a,o)||Z(o,a)};return Array.from(this._pullRequestManagerMap.entries()).sort((i,r)=>{if(i[0].repository.rootUri.toString()===r[0].repository.rootUri.toString()||!e)return 0;const a=e.findIndex(v=>t(v.uri,i[0].repository.rootUri)),o=e.findIndex(v=>t(v.uri,r[0].repository.rootUri));return a===-1?1:o===-1?-1:a-o}).map(([i,r])=>r)}async getChildren(e){if(e)return await e.getChildren();if(this._children=[],this._pullRequestManagerMap.size>=1){const t=this.sortMap();for(const i of t)this._children.push(i)}return this._children}getDescriptionNode(e){return this._pullRequestManagerMap.get(e)}async resolveTreeItem(e,t){return t instanceof zs&&await t.resolve(),t}}var ZS=Object.defineProperty,eR=(n,e,t)=>e in n?ZS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,av=(n,e,t)=>eR(n,typeof e!="symbol"?e+"":e,t);class tR extends g{constructor(e){super(),this._notificationProvider=e,av(this,"_onDidChangeFileDecorations",new s.EventEmitter),av(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this)),this._register(this._notificationProvider.onDidChangeNotifications(t=>this._onDidChangeFileDecorations.fire(t)))}provideFileDecoration(e,t){if(!e.query)return;const i=bh(e);if(i&&this._notificationProvider.hasNotification(i.prIdentifier))return{propagate:!1,color:new s.ThemeColor("pullRequests.notification"),badge:"\u25CF",tooltip:"unread notification"}}}var iR=Object.defineProperty,nR=(n,e,t)=>e in n?iR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ir=(n,e,t)=>nR(n,typeof e!="symbol"?e+"":e,t);const sv=60;class rR{constructor(e,t,i,r,a){ir(this,"identifier"),ir(this,"threadId"),ir(this,"repositoryName"),ir(this,"pullRequestNumber"),ir(this,"pullRequestModel"),this.identifier=e,this.threadId=t,this.repositoryName=i,this.pullRequestNumber=r,this.pullRequestModel=a}}const ov=class $a extends g{constructor(e,t,i){super(),ir(this,"_gitHubPrsTree"),ir(this,"_credentialStore"),ir(this,"_authProvider"),ir(this,"_notifications"),ir(this,"_reposManager"),ir(this,"_pollingDuration"),ir(this,"_lastModified"),ir(this,"_pollingHandler"),ir(this,"_onDidChangeNotifications",this._register(new s.EventEmitter)),ir(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),this._gitHubPrsTree=e,this._credentialStore=t,this._reposManager=i,this._notifications=new Map,this._lastModified="",this._pollingDuration=sv,this._pollingHandler=null,this.registerAuthProvider(t);for(const r of this._reposManager.folderManagers)this._register(r.onDidChangeGithubRepositories(()=>{this.refreshOrLaunchPolling()}));this._register(e.onDidChangeTreeData(r=>{$a.isPRNotificationsOn()&&this.adaptPRNotifications(r)})),this._register(e.onDidChange(()=>{$a.isPRNotificationsOn()&&this.adaptPRNotifications()})),this._register(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${it}.${Dt}`)&&this.checkNotificationSetting()}))}static isPRNotificationsOn(){return s.workspace.getConfiguration(it).get(Dt)==="pullRequests"}registerAuthProvider(e){e.isAuthenticated(li.githubEnterprise)&&Cr()?this._authProvider=li.githubEnterprise:e.isAuthenticated(li.github)&&(this._authProvider=li.github),this._register(s.authentication.onDidChangeSessions(t=>{e.isAuthenticated(li.githubEnterprise)&&Cr()&&(this._authProvider=li.githubEnterprise),e.isAuthenticated(li.github)&&(this._authProvider=li.github)}))}getPrIdentifier(e){if(e instanceof Pn)return`${e.remote.url}:${e.number}`;const t=e.subject.url.split("/"),i=t[t.length-1];return`${e.repository.html_url}.git:${i}`}hasNotification(e){const t=e instanceof Pn?this.getPrIdentifier(e):e,i=this._notifications.get(t);return i!==void 0&&i.length>0}updateViewBadge(){const e=this._gitHubPrsTree.view,t=s.l10n.t("1 notification"),i=s.l10n.t("{0} notifications",this._notifications.size);e.badge=this._notifications.size!==0?{tooltip:this._notifications.size===1?t:i,value:this._notifications.size}:void 0}adaptPRNotifications(e){if(this._pollingHandler===void 0&&this.startPolling(),e instanceof er){const t=this._notifications.get(this.getPrIdentifier(e.pullRequestModel));if(t){for(const i of t)if(i){i.pullRequestModel=e.pullRequestModel;return}}}this._gitHubPrsTree.cachedChildren().then(async t=>{let i=[];for(const r of t)if(r.id==="All Open")if(r.prs.size===0)for(const a of await r.cachedChildren())a instanceof er&&i.push(a.pullRequestModel);else i=Array.from(r.prs.values());i.forEach(r=>{const a=this._notifications.get(this.getPrIdentifier(r));if(a)for(const o of a)o.pullRequestModel=r})})}refreshOrLaunchPolling(){this._lastModified="",this.checkNotificationSetting()}checkNotificationSetting(){const e=$a.isPRNotificationsOn();e&&this._pollingHandler===null?this.startPolling():!e&&this._pollingHandler!==null&&(clearInterval(this._pollingHandler),this._lastModified="",this._pollingHandler=null,this._pollingDuration=sv,this._onDidChangeNotifications.fire(this.uriFromNotifications()),this._notifications.clear(),this.updateViewBadge())}uriFromNotifications(){const e=[];for(const[t,i]of this._notifications.entries())i.length&&e.push(Rc(t));return e}getGitHub(){return this._authProvider!==void 0?this._credentialStore.getHub(this._authProvider):void 0}async getNotifications(){const e=this.getGitHub();if(e===void 0)return;const{data:t,headers:i}=await e.octokit.call(e.octokit.api.activity.listNotificationsForAuthenticatedUser,{});return{data:t,headers:i}}async markNotificationThreadAsRead(e){const t=this.getGitHub();t&&await t.octokit.call(t.octokit.api.activity.markThreadAsRead,{thread_id:e})}async markPrNotificationsAsRead(e){const t=this.getPrIdentifier(e),i=this._notifications.get(t);if(i&&i.length){for(const a of i)await this.markNotificationThreadAsRead(a.threadId);const r=this.uriFromNotifications();this._onDidChangeNotifications.fire(r),this._notifications.delete(t),this.updateViewBadge()}}async pollForNewNotifications(){var e;const t=await this.getNotifications();if(t===void 0)return;const{data:i,headers:r}=t,a=Number(r["x-poll-interval"]);if(a!==this._pollingDuration&&(this._pollingDuration=a,this._pollingHandler&&$a.isPRNotificationsOn()&&(b.appendLine("Notifications: Clearing interval",$a.ID),clearInterval(this._pollingHandler),b.appendLine(`Notifications: Starting new polling interval with ${this._pollingDuration}`,$a.ID),this.startPolling())),this._lastModified===r["last-modified"])return;this._lastModified=(e=r["last-modified"])!=null?e:"";const o=this.uriFromNotifications();this._notifications.clear();const v=new Map;this._reposManager.folderManagers.forEach(I=>{I.gitHubRepositories.forEach(G=>{v.set(G.remote.url,G)})}),await Promise.all(i.map(async I=>{var G;const Q=`${I.repository.html_url}.git`,re=v.get(Q);if(re&&I.subject.type==="PullRequest"){const le=I.subject.url.split("/"),ge=Number(le[le.length-1]),Re=this.getPrIdentifier(I),{remote:Ie,query:Oe,schema:ue}=await re.ensure(),{data:ye}=await Oe({query:ue.PullRequestState,variables:{owner:Ie.owner,name:Ie.repositoryName,number:ge}});if(ye.repository===null&&b.error("Unexpected null repository when getting notifications",$a.ID),((G=ye.repository)==null?void 0:G.pullRequest.state)==="OPEN"){const Te=new rR(Re,Number(I.id),I.repository.name,Number(ge)),Ae=this._notifications.get(Re);Ae===void 0?this._notifications.set(Re,[Te]):Ae.push(Te)}}})),this.adaptPRNotifications(),this.updateViewBadge();for(const I of this.uriFromNotifications())o.find(G=>G.fsPath===I.fsPath)===void 0&&o.push(I);this._onDidChangeNotifications.fire(o)}startPolling(){this.pollForNewNotifications(),this._pollingHandler=setInterval(function(e){e.pollForNewNotifications()},this._pollingDuration*1e3,this),this._register({dispose:()=>clearInterval(this._pollingHandler)})}};ir(ov,"ID","NotificationProvider");let aR=ov;var sR=Object.defineProperty,oR=(n,e,t)=>e in n?sR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,lv=(n,e,t)=>oR(n,typeof e!="symbol"?e+"":e,t);class lR extends g{constructor(e){super(),this._prsTreeModel=e,lv(this,"_onDidChangeFileDecorations",new s.EventEmitter),lv(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this)),this._register(this._prsTreeModel.onDidChangePrStatus(t=>{this._onDidChangeFileDecorations.fire(t.map(i=>Rc(i)))}))}provideFileDecoration(e,t){if(e.scheme!==$t.PRNode)return;const i=bh(e);if(!i)return;const r=this._prsTreeModel.cachedPRStatus(i.prIdentifier);if(r)return pp(r.status)}}var uR=Object.defineProperty,cR=(n,e,t)=>e in n?uR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fa=(n,e,t)=>cR(n,typeof e!="symbol"?e+"":e,t),uo=(n=>(n[n.Empty=0]="Empty",n[n.More=1]="More",n[n.TryOtherRemotes=2]="TryOtherRemotes",n[n.Login=3]="Login",n[n.LoginEnterprise=4]="LoginEnterprise",n[n.NoRemotes=5]="NoRemotes",n[n.NoMatchingRemotes=6]="NoMatchingRemotes",n[n.ConfigureRemotes=7]="ConfigureRemotes",n))(uo||{});class qa extends On{constructor(e,t,i){switch(super(e),fa(this,"collapsibleState"),fa(this,"iconPath"),fa(this,"type"),fa(this,"command"),this.type=t,this.collapsibleState=s.TreeItemCollapsibleState.None,t){case 0:this.label=s.l10n.t("0 pull requests in this category");break;case 1:this.label=s.l10n.t("Load more"),this.command={title:s.l10n.t("Load more"),command:"pr.loadMore",arguments:[i]};break;case 2:this.label=s.l10n.t("Continue fetching from other remotes"),this.command={title:s.l10n.t("Load more"),command:"pr.loadMore",arguments:[i]};break;case 3:this.label=s.l10n.t("Sign in"),this.command={title:s.l10n.t("Sign in"),command:"pr.signinAndRefreshList",arguments:[]};break;case 4:this.label=s.l10n.t("Sign in with GitHub Enterprise..."),this.command={title:"Sign in",command:"pr.signinAndRefreshList",arguments:[]};break;case 5:this.label=s.l10n.t("No GitHub repositories found.");break;case 6:this.label=s.l10n.t("No remotes match the current setting.");break;case 7:this.label=s.l10n.t("Configure remotes..."),this.command={title:s.l10n.t("Configure remotes"),command:"pr.configureRemotes",arguments:[]};break;default:break}}getTreeItem(){return this}}class Du extends On{constructor(e,t,i,r,a,o,v,I){var G;switch(super(e),this._folderRepoManager=t,this._telemetry=i,this.type=r,this._notificationProvider=a,this._prsTreeModel=o,this._categoryQuery=I,fa(this,"collapsibleState"),fa(this,"prs"),fa(this,"fetchNextPage",!1),fa(this,"repositoryPageInformation",new Map),fa(this,"contextValue"),fa(this,"_firstLoad"),this.prs=new Map,this.type){case dt.All:this.label=s.l10n.t("All Open");break;case dt.Query:this.label=v;break;case dt.LocalPullRequest:this.label=s.l10n.t("Local Pull Request Branches");break;default:this.label="";break}this.id=e instanceof On?`${(G=e.id)!=null?G:e.label}/${this.label}`:this.label,this._prsTreeModel.expandedQueries.size===0&&this.type===dt.All?this.collapsibleState=s.TreeItemCollapsibleState.Expanded:this.collapsibleState=this._prsTreeModel.expandedQueries.has(this.id)?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed,this._categoryQuery&&(this.contextValue="query")}async expandPullRequest(e,t=!0){if(!this.children&&t&&(await this.getChildren(),t=!1),this.children){for(const i of this.children)if(i instanceof er&&i.pullRequestModel.equals(e))return this.reveal(i,{expand:!0,select:!0}),!0;if(t)return await this.getChildren(),await this.expandPullRequest(e,!1)}return!1}async getChildren(){await super.getChildren();const e=!this._firstLoad;return e&&(this._firstLoad=this.doGetChildren(),!this._prsTreeModel.hasLoaded)?(this._firstLoad.then(()=>this.refresh(this)),[]):e?this._firstLoad:this.doGetChildren()}async doGetChildren(){let e=!1,t=!1,i=!1;const r=this.fetchNextPage;if(this.fetchNextPage=!1,this.type===dt.LocalPullRequest)try{this.prs.clear(),(await this._prsTreeModel.getLocalPullRequests(this._folderRepoManager)).items.forEach(a=>this.prs.set(a.id,a))}catch(a){s.window.showErrorMessage(s.l10n.t("Fetching local pull requests failed: {0}",he(a))),i=a instanceof Xa}else try{let a;switch(this.type){case dt.All:a=await this._prsTreeModel.getAllPullRequests(this._folderRepoManager,r);break;case dt.Query:a=await this._prsTreeModel.getPullRequestsForQuery(this._folderRepoManager,r,this._categoryQuery);break}r||this.prs.clear(),a.items.forEach(o=>this.prs.set(o.id,o)),e=a.hasMorePages,t=a.hasUnsearchedRepositories}catch(a){const o=he(a),v=[];o.includes("Bad credentials")&&v.push(s.l10n.t("Login again")),s.window.showErrorMessage(s.l10n.t("Fetching pull requests failed: {0}",he(a)),...v).then(I=>{I&&I===v[0]&&this._folderRepoManager.credentialStore.recreate(s.l10n.t("Your login session is no longer valid."))}),i=a instanceof Xa}if(this.prs.size>0){const a=Array.from(this.prs.values()).map(o=>new er(this,this._folderRepoManager,o,this.type===dt.LocalPullRequest,this._notificationProvider));return e?a.push(new qa(this,1,this)):t&&a.push(new qa(this,2,this)),this.children=a,a}else{const a=i?3:0,o=[new qa(this,a)];return this.children=o,o}}getTreeItem(){return this}}var dR=Object.defineProperty,fR=(n,e,t)=>e in n?dR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Hr=(n,e,t)=>fR(n,typeof e!="symbol"?e+"":e,t);const uv="expandedQueries";class hR extends g{constructor(e,t,i){super(),this._telemetry=e,this._reposManager=t,this._context=i,Hr(this,"_activePRDisposables",new Map),Hr(this,"_onDidChangePrStatus",this._register(new s.EventEmitter)),Hr(this,"onDidChangePrStatus",this._onDidChangePrStatus.event),Hr(this,"_onDidChangeData",this._register(new s.EventEmitter)),Hr(this,"onDidChangeData",this._onDidChangeData.event),Hr(this,"_expandedQueries",new Set),Hr(this,"_hasLoaded",!1),Hr(this,"_onLoaded",this._register(new s.EventEmitter)),Hr(this,"onLoaded",this._onLoaded.event),Hr(this,"_queriedPullRequests",new Map),Hr(this,"_cachedPRs",new Map);const r=a=>{this._register(a.onDidChangeActivePullRequest(()=>{this.clearRepo(a),this._activePRDisposables.has(a)&&(_(this._activePRDisposables.get(a)),this._activePRDisposables.delete(a)),a.activePullRequest&&this._activePRDisposables.set(a,[a.activePullRequest.onDidChangeComments(()=>{this.clearRepo(a)})])}))};for(const a of this._reposManager.folderManagers)r(a);this._register(this._reposManager.onDidChangeFolderRepositories(a=>{a.added&&(r(a.added),this._onDidChangeData.fire(a.added))})),this._expandedQueries=new Set(this._context.workspaceState.get(uv,[]))}updateExpandedQueries(e,t){e instanceof Du&&e.id&&(t?this._expandedQueries.add(e.id):this._expandedQueries.delete(e.id),this._context.workspaceState.update(uv,Array.from(this._expandedQueries.keys())))}get expandedQueries(){return this._reposManager.folderManagers.length>3&&this._expandedQueries.size>0?new Set:this._expandedQueries}get hasLoaded(){return this._hasLoaded}set hasLoaded(e){this._hasLoaded=e,this._onLoaded.fire()}cachedPRStatus(e){return this._queriedPullRequests.get(e)}clearCache(){this._cachedPRs.clear(),this._onDidChangeData.fire()}clearRepo(e){this._cachedPRs.delete(e),this._onDidChangeData.fire(e)}async _getChecks(e){let t=[];for(let r=0;r<e.length;r+=100){const a=r+100<e.length?r+100:e.length;t.push(...await Promise.all(e.slice(r,a).map(o=>o.getStatusChecks())))}const i=[];for(let r=0;r<e.length;r++){const a=e[r],[o,v]=t[r];let I=sr.None;if(v&&(v.state===ri.Failure?I|=sr.ReviewRequired:v.state==ri.Pending&&(I|=sr.ChangesRequested)),!o||o.state===ri.Unknown)continue;if(o.state!==ri.Success){for(const re of o.statuses)re.state===ri.Failure?I|=sr.CIFailed:re.state===ri.Pending&&(I|=sr.CIPending);I===sr.None&&(I|=sr.CIPending)}const G=Sc(a),Q=this._queriedPullRequests.get(G);if(Q===void 0||Q.status!==I){const re={pullRequest:a,status:I};i.push(G),this._queriedPullRequests.set(G,re)}}this._onDidChangePrStatus.fire(i)}getFolderCache(e){let t=this._cachedPRs.get(e);return t||(t=new Map,this._cachedPRs.set(e,t)),t}async getLocalPullRequests(e,t){const i=this.getFolderCache(e);if(!t&&i.has(dt.LocalPullRequest))return i.get(dt.LocalPullRequest);const r=za(),a=(await e.getLocalPullRequests()).filter(o=>o.isOpen||o.isClosed&&r.closed||o.isMerged&&r.merged);return i.set(dt.LocalPullRequest,{hasMorePages:!1,hasUnsearchedRepositories:!1,items:a,totalCount:a.length}),this._telemetry.sendTelemetryEvent("pr.expand.local"),this._getChecks(a),this.hasLoaded=!0,{hasMorePages:!1,hasUnsearchedRepositories:!1,items:a}}async getPullRequestsForQuery(e,t,i){const r=this.getFolderCache(e);if(!t&&r.has(i))return r.get(i);const a=await e.getPullRequests(dt.Query,{fetchNextPage:t},i);return r.set(i,a),this._telemetry.sendTelemetryEvent("pr.expand.query"),this._getChecks(a.items),this.hasLoaded=!0,a}async getAllPullRequests(e,t,i){const r=this.getFolderCache(e);if(!i&&r.has(dt.All)&&!t)return r.get(dt.All);const a=await e.getPullRequests(dt.All,{fetchNextPage:t});return r.set(dt.All,a),this._telemetry.sendTelemetryEvent("pr.expand.all"),this._getChecks(a.items),this.hasLoaded=!0,a}dispose(){super.dispose(),_(Array.from(this._activePRDisposables.values()).flat())}}var mR=Object.defineProperty,pR=(n,e,t)=>e in n?mR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Id=(n,e,t)=>pR(n,typeof e!="symbol"?e+"":e,t);class ps extends On{constructor(e,t,i,r,a,o,v){super(e),this.folderManager=i,this.telemetry=r,this.notificationProvider=a,this.context=o,this._prsTreeModel=v,Id(this,"children"),Id(this,"collapsibleState"),Id(this,"iconPath"),this.collapsibleState=s.TreeItemCollapsibleState.Expanded,this.label=L.basename(t.fsPath),this.id=i.repository.rootUri.toString()}async expandPullRequest(e){if(this.children){for(const t of this.children)if(t.type===dt.All)return t.expandPullRequest(e)}return!1}static getQueries(e){return s.workspace.getConfiguration(it,e.repository.rootUri).get(st)||[]}getTreeItem(){return this}async getChildren(){return super.getChildren(),this.children=ps.getCategoryTreeNodes(this.folderManager,this.telemetry,this,this.notificationProvider,this.context,this._prsTreeModel),this.children}static getCategoryTreeNodes(e,t,i,r,a,o){const v=ps.getQueries(e).map(I=>new Du(i,e,t,dt.Query,r,o,I.label,I.query));return[new Du(i,e,t,dt.LocalPullRequest,r,o),...v,new Du(i,e,t,dt.All,r,o)]}}var vR=Object.defineProperty,gR=(n,e,t)=>e in n?vR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ha=(n,e,t)=>gR(n,typeof e!="symbol"?e+"":e,t);class cv extends g{constructor(e,t,i){super(),this._telemetry=e,this._context=t,this._reposManager=i,Ha(this,"_onDidChangeTreeData",new s.EventEmitter),Ha(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Ha(this,"_onDidChange",new s.EventEmitter),Ha(this,"_children"),Ha(this,"_view"),Ha(this,"_initialized",!1),Ha(this,"notificationProvider"),Ha(this,"prsTreeModel"),this.prsTreeModel=this._register(new hR(this._telemetry,this._reposManager,t)),this._register(this.prsTreeModel.onDidChangeData(r=>r?this.refreshRepo(r):this.refresh())),this._register(new lR(this.prsTreeModel)),this._register(s.commands.registerCommand("pr.refreshList",r=>{this.refresh(void 0,!0)})),this._register(s.commands.registerCommand("pr.loadMore",r=>{r.fetchNextPage=!0,this._onDidChangeTreeData.fire(r)})),this._view=this._register(s.window.createTreeView("pr:github",{treeDataProvider:this,showCollapseAll:!0})),this._children=[],this._register(s.commands.registerCommand("pr.configurePRViewlet",async()=>{switch(await s.window.showQuickPick(["Configure Remotes...","Configure Queries...","Configure All Pull Request Settings..."])){case"Configure Queries...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${wa} pull request queries`);case"Configure Remotes...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${wa} remotes`);case"Configure All Pull Request Settings...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${wa} pull request`);default:return}})),this._register(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${it}.${Ji}`)&&this._onDidChangeTreeData.fire()})),this._register(this._view.onDidChangeCheckboxState(r=>Iu.processCheckboxUpdates(r,[]))),this._register(this._view.onDidExpandElement(r=>{this.prsTreeModel.updateExpandedQueries(r.element,!0)})),this._register(this._view.onDidCollapseElement(r=>{this.prsTreeModel.updateExpandedQueries(r.element,!1)}))}get onDidChange(){return this._onDidChange.event}get children(){return this._children}get view(){return this._view}async expandPullRequest(e){this._children.length===0&&await this.getChildren();for(const t of this._children)if(t instanceof ps){if(await t.expandPullRequest(e))return}else if(t.type===dt.All&&await t.expandPullRequest(e))return}async reveal(e,t){return this._view.reveal(e,t)}initialize(e,t){if(this._initialized)throw new Error("Tree has already been initialized!");this._initialized=!0,this._register(this._reposManager.onDidChangeState(()=>{this.refresh()}));for(const i of e)this._register(i.onDidChangeLocalFileChanges(r=>{this.refresh()}));this.notificationProvider=this._register(new aR(this,t,this._reposManager)),this.initializeCategories(),this.refresh()}async initializeCategories(){this._register(s.workspace.onDidChangeConfiguration(async e=>{e.affectsConfiguration(`${it}.${st}`)&&this.refresh()}))}refresh(e,t){return t&&this.prsTreeModel.clearCache(),e?this._onDidChangeTreeData.fire(e):this._onDidChangeTreeData.fire()}refreshRepo(e){if(this._children.length===0)return this.refresh();if(this._children[0]instanceof ps){const i=this._children.find(r=>r.folderManager===e);if(i){this._onDidChangeTreeData.fire(i);return}}}getTreeItem(e){return e.getTreeItem()}async resolveTreeItem(e,t){var i;return t instanceof Mc?(await t.resolve(),e=t.getTreeItem()):t instanceof er&&(e.tooltip=await _u(t.pullRequestModel,this._context,this._reposManager,void 0,(i=this.prsTreeModel.cachedPRStatus(Sc(t.pullRequestModel)))==null?void 0:i.status)),e}async needsRemotes(){var e,t,i;if(((e=this._reposManager)==null?void 0:e.state)===aa.NeedsAuthentication)return[];const r=s.workspace.getConfiguration(it).get(Ti);let a;r?a=[new qa(this,uo.NoMatchingRemotes),new qa(this,uo.ConfigureRemotes)]:a=[new qa(this,uo.NoRemotes)];const{enterpriseRemotes:o}=this._reposManager?await rh((t=this._reposManager)==null?void 0:t.folderManagers):{enterpriseRemotes:[]};return o.length>0&&!((i=this._reposManager)!=null&&i.credentialStore.isAuthenticated(li.githubEnterprise))&&a.push(new qa(this,uo.LoginEnterprise)),a}async cachedChildren(e){return e?e.cachedChildren():this._children}async getChildren(e){var t;if(!((t=this._reposManager)!=null&&t.folderManagers.length))return[];if(this._reposManager.state===aa.Initializing)return lt.setContext(Ri.LOADING_PRS_TREE,!0),[];const i=await Promise.all(this._reposManager.folderManagers.map(a=>a.getGitHubRemotes()));if(this._reposManager.folderManagers.filter((a,o)=>i[o].length>0).length===0)return this.needsRemotes();const r=this._reposManager.folderManagers.filter(a=>a.gitHubRepositories.length>0);if(!e){this._children&&this._children.length&&this._children.forEach(o=>o.dispose());let a;return r.length===1?a=ps.getCategoryTreeNodes(r[0],this._telemetry,this,this.notificationProvider,this._context,this.prsTreeModel):a=r.map(o=>new ps(this,o.repository.rootUri,o,this._telemetry,this.notificationProvider,this._context,this.prsTreeModel)),this._children=a,a}return r.filter(a=>a.repository.state.remotes.length>0).length===0?Promise.resolve([new qa(this,uo.Empty)]):e.getChildren()}async getParent(e){return e.getParent()}}var bR=Object.defineProperty,yR=(n,e,t)=>e in n?bR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dv=(n,e,t)=>yR(n,typeof e!="symbol"?e+"":e,t);const fv=class ul extends zh{constructor(e,t,i){super(e,t),this.getReviewManagers=i,dv(this,"_fallback")}getChangeModelForFileAndFilesArray(e,t){for(const i of this.getReviewManagers()){const r=t(i);for(const a of r)if(a.changeModel.filePath.authority===e.authority&&a.changeModel.filePath.path===e.path)return a.changeModel}}getChangeModelForFile(e){return this.getChangeModelForFileAndFilesArray(e,t=>t.reviewModel.localFileChanges)}getOutdatedChangeModelForFile(e){return this.getChangeModelForFileAndFilesArray(e,t=>t.reviewModel.obsoleteFileChanges)}async getRepositoryForFile(e){return await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3),fc(this.gitAPI,e)}async readFile(e){var t;if(!this._fallback)return new TextEncoder().encode("");const{path:i,commit:r,rootPath:a}=Ur(e.query);if(!i||!r)return new TextEncoder().encode("");const o=await this.getRepositoryForFile(s.Uri.file(a));if(!o)return s.window.showErrorMessage(`We couldn't find an open repository for ${r} locally.`),new TextEncoder().encode("");const v=L.join(o.rootUri.fsPath,i).replace(/\\/g,"/");let I;try{if(b.appendLine(`Getting change model (${o.rootUri}) content for commit ${r} and path ${v}`,ul.ID),I=await((t=this.getChangeModelForFile(e))==null?void 0:t.showBase()),I||(b.appendLine(`Getting repository (${o.rootUri}) content for commit ${r} and path ${v}`,ul.ID),I=await o.show(r,v)),!I)throw new Error}catch{if(b.appendLine("Using fallback content provider.",ul.ID),I=await this._fallback(e),!I)try{await o.getCommit(r)}catch(Q){b.error(Q,ul.ID),this.getOutdatedChangeModelForFile(e)||s.window.showErrorMessage(`We couldn't find commit ${r} locally. You may want to sync the branch with remote. Sometimes commits can disappear after a force-push`)}}return new TextEncoder().encode(I||"")}registerTextDocumentContentFallback(e){this._fallback=e}};dv(fv,"ID","GitContentFileSystemProvider");let wR=fv;var _R=Object.defineProperty,kR=(n,e,t)=>e in n?_R(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,SR=(n,e,t)=>kR(n,typeof e!="symbol"?e+"":e,t);class hv extends g{constructor(e,t,i,r,a,o,v,I){super(),this._context=e,this._reposManager=t,this._reviewManagers=i,this._prsTreeDataProvider=r,this._prFileChangesProvider=a,this._telemetry=o,this._credentialStore=v,this._gitApi=I;const G=new wR(I,v,()=>this._reviewManagers);G.registerTextDocumentContentFallback(this.provideTextDocumentContent.bind(this)),this._register(s.workspace.registerFileSystemProvider($t.Review,G,{isReadonly:!0})),this.registerListeners(),this._register(this._prsTreeDataProvider)}get reviewManagers(){return this._reviewManagers}registerListeners(){this._register(s.workspace.onDidChangeConfiguration(async e=>{if(e.affectsConfiguration("githubPullRequests.showInSCM")){if(this._prFileChangesProvider){this._prFileChangesProvider.dispose(),this._prFileChangesProvider=new rv(this._gitApi,this._reposManager);for(const t of this._reviewManagers)t.updateState(!0)}this._prsTreeDataProvider.dispose(),this._prsTreeDataProvider=this._register(new cv(this._telemetry,this._context,this._reposManager)),this._prsTreeDataProvider.initialize(this._reviewManagers.map(t=>t.reviewModel),this._credentialStore)}}))}async provideTextDocumentContent(e){for(const t of this._reviewManagers)if(Z(t.repository.rootUri.fsPath,e.fsPath))return t.provideTextDocumentContent(e);return""}addReviewManager(e){const t=s.workspace.workspaceFolders;if(t){const i=t.findIndex(r=>r.uri.toString()===e.repository.rootUri.toString());if(i>-1){const r=this._reviewManagers.slice(i,this._reviewManagers.length);this._reviewManagers=this._reviewManagers.slice(0,i),this._reviewManagers.push(e),this._reviewManagers.push(...r);return}}this._reviewManagers.push(e)}removeReviewManager(e){const t=this._reviewManagers.findIndex(i=>i.repository.rootUri.toString()===e.rootUri.toString());if(t>=0){const i=this._reviewManagers[t];this._reviewManagers.splice(t),i.dispose()}}}SR(hv,"ID","Reviews");var RR=Object.defineProperty,ER=(n,e,t)=>e in n?RR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,xu=(n,e,t)=>ER(n,typeof e!="symbol"?e+"":e,t);class TR extends bf{constructor(e,t,i,r){super(e),this._folderRepositoryManager=t,this._reviewManager=i,this._item=r,xu(this,"viewType","github:activePullRequest"),xu(this,"_existingReviewers",[]),xu(this,"_prDisposables"),xu(this,"_updatePendingVisibility"),this._register(Xh(a=>{a&&this._item.update(a),this._postMessage({command:"update-state",state:this._item.state})})),this._register(this._folderRepositoryManager.onDidMergePullRequest(a=>{this._postMessage({command:"update-state",state:Gt.Merged})})),this._register(s.commands.registerCommand("review.approve",a=>this.approvePullRequestCommand(a))),this._register(s.commands.registerCommand("review.comment",a=>this.submitReviewCommand(a))),this._register(s.commands.registerCommand("review.requestChanges",a=>this.requestChangesCommand(a))),this._register(s.commands.registerCommand("review.approveOnDotCom",()=>la(this._item,this._item._telemetry))),this._register(s.commands.registerCommand("review.requestChangesOnDotCom",()=>la(this._item,this._item._telemetry)))}resolveWebviewView(e,t,i){super.resolveWebviewView(e,t,i),e.webview.html=this._getHtmlForWebview(),this.updatePullRequest(this._item)}async updateBranch(e){if(this._folderRepositoryManager.repository.state.workingTreeChanges.length>0||this._folderRepositoryManager.repository.state.indexChanges.length>0)return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),this._replyMessage(e,{});await this._folderRepositoryManager.tryMergeBaseIntoHead(this._item,!0)||this._replyMessage(e,{});let i=zt.Unknown,r=5;do i=(await this._item.getMergeability()).mergeability,r--,await new Promise(o=>setTimeout(o,1e3));while(r>0&&i===zt.Unknown);const a={events:await this._item.getTimelineEvents(),mergeable:i};await this.refresh(),this._replyMessage(e,a)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":s.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.comment":return this.createComment(e);case"pr.merge":return this.mergePullRequest(e);case"pr.open-create":return this.create();case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequestMessage(e);case"pr.request-changes":return this.requestChangesMessage(e);case"pr.submit":return this.submitReviewMessage(e);case"pr.openOnGitHub":return la(this._item,this._item._telemetry);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e);case"pr.update-branch":return this.updateBranch(e);case"pr.re-request-review":return this.reRequestReview(e)}}async checkoutDefaultBranch(e){var t;try{const i=await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item),r=(t=this._folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name;await this._folderRepositoryManager.checkoutDefaultBranch(i),r&&await this._folderRepositoryManager.cleanupAfterPullRequest(r,this._item)}finally{this._replyMessage(e,{})}}reRequestReview(e){let t;const i=[],r=[];for(const a of this._existingReviewers){let o=a.reviewer.id;o&&(a.state==="REQUESTED"||o===e.args)&&o===e.args&&(t=a)}t&&jt(t.reviewer)?r.push(t.reviewer):t&&!jt(t.reviewer)&&i.push(t.reviewer),this._item.requestReview(i,r,!0).then(()=>{t&&(t.state="REQUESTED"),this._replyMessage(e,{reviewers:this._existingReviewers})})}async refresh(){return s.window.withProgress({location:{viewId:"github:activePullRequest"}},async()=>{await this._item.initializeReviewThreadCache(),await this.updatePullRequest(this._item)})}getCurrentUserReviewState(e,t){const i=e.find(r=>Et(r.reviewer)===t.login);return i==null?void 0:i.state}registerPrSpecificListeners(e){this._prDisposables!==void 0&&_(this._prDisposables),this._prDisposables=[],this._prDisposables.push(e.onDidInvalidate(()=>this.updatePullRequest(e))),this._prDisposables.push(e.onDidChangePendingReviewState(()=>this.updatePullRequest(e)))}async updatePullRequest(e){var t;return this._view&&!this._view.visible&&((t=this._updatePendingVisibility)==null||t.dispose(),this._updatePendingVisibility=this._view.onDidChangeVisibility(async()=>{var i;this.updatePullRequest(e),(i=this._updatePendingVisibility)==null||i.dispose()})),(this._prDisposables===void 0||e.number!==this._item.number)&&this.registerPrSpecificListeners(e),this._item=e,Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.getTimelineEvents(),e.getReviewRequests(),this._folderRepositoryManager.getBranchNameForPullRequest(e),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(e),this._folderRepositoryManager.getCurrentUser(e.githubRepository),e.canEdit(),e.validateDraftMode()]).then(i=>{var r,a;const[o,v,I,G,Q,re,le,ge,Re]=i;if(!o)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);if(this._item=o,!this._view)return;try{this._view.title=`${s.l10n.t("Review Pull Request")} #${e.number.toString()}`}catch{}const Ie=e.equals(this._folderRepositoryManager.activePullRequest),Oe=v.hasWritePermission,ue=v.mergeMethodsAvailability,ye=Oe||ge,Te=Ll(ue);this._existingReviewers=eh(G!=null?G:[],I!=null?I:[],o.author);const Ue=!!(o.base&&o.head&&!o.base.repositoryCloneUrl.equals(o.head.repositoryCloneUrl)&&Wl()),We=this.getCurrentUserReviewState(this._existingReviewers,le),ze={number:o.number,title:o.title,url:o.html_url,createdAt:o.createdAt,body:o.body,bodyHTML:o.bodyHTML,labels:o.item.labels,author:{login:o.author.login,name:o.author.name,avatarUrl:o.userAvatar,url:o.author.url,email:o.author.email,id:o.author.id,accountType:o.author.accountType},state:o.state,isCurrentlyCheckedOut:Ie,isRemoteBaseDeleted:o.isRemoteBaseDeleted,base:o.base.label,isRemoteHeadDeleted:o.isRemoteHeadDeleted,isLocalHeadDeleted:!Q,head:(a=(r=o.head)==null?void 0:r.label)!=null?a:"",canEdit:ye,hasWritePermission:Oe,mergeable:o.item.mergeable,isDraft:o.isDraft,status:null,reviewRequirement:null,canUpdateBranch:o.item.viewerCanUpdate,events:I,mergeMethodsAvailability:ue,defaultMergeMethod:Te,repositoryDefaultBranch:re,isIssue:!1,isAuthor:le.login===o.author.login,reviewers:this._existingReviewers,continueOnGitHub:Ue,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,isEnterprise:o.githubRepository.remote.isEnterprise,hasReviewDraft:Re,currentUserReviewState:We};this._postMessage({command:"pr.initialize",pullrequest:ze})}).catch(i=>{s.window.showErrorMessage(`Error updating active pull request view: ${he(i)}`)})}close(e){s.commands.executeCommand("pr.close",this._item,e.args).then(t=>{t&&this._replyMessage(e,{value:t})})}create(){this._reviewManager.createPullRequest()}createComment(e){this._item.createIssueComment(e.args).then(t=>{this._replyMessage(e,{value:t})})}updateReviewers(e){if(e&&e.state){const t=this._existingReviewers.find(i=>e.user.login===Et(i.reviewer));t?t.state=e.state:this._existingReviewers.push({reviewer:e.user,state:e.state})}}async doReviewCommand(e,t,i){const r={command:"pr.submitting-review",lastReviewType:t};this._postMessage(r);try{const a=await i(e.body);this.updateReviewers(a);const o={command:"pr.append-review",event:a,reviewers:this._existingReviewers};await this._postMessage(o)}catch(a){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",he(a))),this._throwError(void 0,`${he(a)}`),this._postMessage({command:"pr.append-review"})}}async doReviewMessage(e,t){try{const i=await t(e.args);this.updateReviewers(i),this._replyMessage(e,{review:i,reviewers:this._existingReviewers})}catch(i){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",he(i))),this._throwError(e,`${he(i)}`)}}approvePullRequest(e){return this._item.approve(this._folderRepositoryManager.repository,e)}approvePullRequestMessage(e){return this.doReviewMessage(e,t=>this.approvePullRequest(t))}approvePullRequestCommand(e){return this.doReviewCommand(e,ns.Approve,t=>this.approvePullRequest(t))}requestChanges(e){return this._item.requestChanges(e)}requestChangesCommand(e){return this.doReviewCommand(e,ns.RequestChanges,t=>this.requestChanges(t))}requestChangesMessage(e){return this.doReviewMessage(e,t=>this.requestChanges(t))}submitReview(e){return this._item.submitReview(Mt.Comment,e)}submitReviewCommand(e){return this.doReviewCommand(e,ns.Comment,t=>this.submitReview(t))}submitReviewMessage(e){return this.doReviewMessage(e,t=>this.submitReview(t))}async deleteBranch(e){const t=await Fl.deleteBranch(this._folderRepositoryManager,this._item);t.isReply?this._replyMessage(e,t.message):this._postMessage(t.message)}setReadyForReview(e){this._item.setReadyForReview().then(t=>{s.commands.executeCommand("pr.refreshList"),this._replyMessage(e,t)}).catch(t=>{s.window.showErrorMessage(s.l10n.t("Unable to set PR ready for review. {0}",he(t))),this._throwError(e,{})})}async mergePullRequest(e){const{title:t,description:i,method:r}=e.args,a=await this._folderRepositoryManager.getPreferredEmail(this._item),o=s.l10n.t("Yes");if(await s.window.showInformationMessage(s.l10n.t("Merge this pull request?"),{modal:!0},o)!==o){this._replyMessage(e,{state:Gt.Open});return}this._folderRepositoryManager.mergePullRequest(this._item,t,i,r,a).then(I=>{var G;s.commands.executeCommand("pr.refreshList"),I.merged||s.window.showErrorMessage(s.l10n.t("Merging PR failed: {0}",(G=I==null?void 0:I.message)!=null?G:"")),this._replyMessage(e,{state:I.merged?Gt.Merged:Gt.Open})}).catch(I=>{s.window.showErrorMessage(s.l10n.t("Unable to merge pull request. {0}",he(I))),this._throwError(e,{})})}_getHtmlForWebview(){const e=rc(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-open-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Active Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}}var NR=Object.defineProperty,CR=(n,e,t)=>e in n?NR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Dd=(n,e,t)=>CR(n,typeof e!="symbol"?e+"":e,t);class PR extends g{constructor(e){super(),this._context=e,Dd(this,"_webviewViewProvider"),Dd(this,"_pullRequestModel",new Map),Dd(this,"_currentDisposables",[])}dispose(){super.dispose(),this.reset()}reset(){_(this._currentDisposables),this._webviewViewProvider=void 0}create(e,t,i){this._webviewViewProvider=m(new TR(this._context.extensionUri,t,i,e),this._currentDisposables),m(s.window.registerWebviewViewProvider(this._webviewViewProvider.viewType,this._webviewViewProvider),this._currentDisposables),m(s.commands.registerCommand("pr.refreshActivePullRequest",r=>{var a;(a=this._webviewViewProvider)==null||a.refresh()}),this._currentDisposables)}setPullRequest(e,t,i,r){r&&this._pullRequestModel.delete(r),this._pullRequestModel.set(e,{folderRepositoryManager:t,reviewManager:i}),this.updatePullRequest()}updatePullRequest(){const e=Array.from(this._pullRequestModel.keys())[0];if(!e){this.reset();return}const{folderRepositoryManager:t,reviewManager:i}=this._pullRequestModel.get(e);this._webviewViewProvider?this._webviewViewProvider.updatePullRequest(e):this.create(e,t,i)}removePullRequest(e){const t=Array.from(this._pullRequestModel.keys())[0];this._pullRequestModel.delete(e),Array.from(this._pullRequestModel.keys())[0]!==t&&this.updatePullRequest()}show(e){this._webviewViewProvider&&this._pullRequestModel.size>0&&Array.from(this._pullRequestModel.keys())[0]===e&&this._webviewViewProvider.show()}}const MR="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";let Wn;const co="Activation";async function AR(n,e,t,i,r,a,o,v,I){n.subscriptions.push(b),b.appendLine("Git repository found, initializing review manager and pr tree view.",co),n.subscriptions.push(t.onDidChangeSessions(async Ae=>{Ae.provider.id==="github"&&(await v.clearCredentialCache(),Ie&&Ie.reviewManagers.forEach(Ue=>Ue.updateState(!0)))})),n.subscriptions.push(e.onDidPublish(async Ae=>{if(!Ae.branch||s.workspace.getConfiguration(it).get(Vt)!=="ask")return;const Ue=Ie.reviewManagers.find(pn=>pn.repository.rootUri.toString()===Ae.repository.rootUri.toString());if(Ue!=null&&Ue.isCreatingPullRequest)return;const We=v.folderManagers.find(pn=>pn.repository.rootUri.toString()===Ae.repository.rootUri.toString());if(!We||We.gitHubRepositories.length===0||(await We.getPullRequestDefaults()).base===Ae.branch)return;const bt=s.l10n.t("Create Pull Request..."),It=s.l10n.t("Don't Show Again"),ui=await s.window.showInformationMessage(s.l10n.t("Would you like to create a Pull Request for branch '{0}'?",Ae.branch),bt,It);ui===bt?Ue==null||Ue.createPullRequest(Ae.branch):ui===It&&await s.workspace.getConfiguration(it).update(Vt,"never",s.ConfigurationTarget.Global)})),n.subscriptions.push(s.window.registerUriHandler(pb));const G=s.workspace.workspaceFolders;G&&(i=i.sort((Ae,Ue)=>{let We=G.length,ze=G.length;for(let bt=0;bt<G.length&&(G[bt].uri.toString()===Ae.rootUri.toString()?We=bt:G[bt].uri.toString()===Ue.rootUri.toString()&&(ze=bt),!(We!==G.length&&ze!==G.length));bt++);return We-ze})),a.then(Ae=>{Ae&&Ae.registerContactServiceProvider("github-pr",new lk(v))});const Q=new rv(e,v);n.subscriptions.push(Q);const re=new PR(n);n.subscriptions.push(re);let le=0;const ge=v.folderManagers.map(Ae=>new br(le++,n,Ae.repository,Ae,Wn,Q,r,o,re,I,e)),Re=new DS(v);n.subscriptions.push(Re),Re.registerProviders([new YS,new xS(v)]);const Ie=new hv(n,v,ge,r,Q,Wn,t,e);n.subscriptions.push(Ie),e.onDidChangeState(()=>{b.appendLine(`Git initialization state changed: state=${e.state}`,co),Ie.reviewManagers.forEach(Ae=>Ae.updateState(!0))}),e.onDidOpenRepository(Ae=>{function Ue(){if(v.folderManagers.find(ui=>ui.repository.rootUri.toString()===Ae.rootUri.toString())){b.appendLine(`Repo ${Ae.rootUri} has already been setup.`,co);return}const bt=new Qs(v.folderManagers.length,n,Ae,Wn,e,t,I);v.insertFolderManager(bt);const It=new br(le++,n,bt.repository,bt,Wn,Q,r,o,re,I,e);Ie.addReviewManager(It)}Ue(),r.notificationProvider.refreshOrLaunchPolling();const We=Ae.state.onDidChange(()=>{b.appendLine(`Repo state for ${Ae.rootUri} changed.`,co),Ue(),We.dispose()})}),e.onDidCloseRepository(Ae=>{v.removeRepo(Ae),Ie.removeReviewManager(Ae),r.notificationProvider.refreshOrLaunchPolling()}),r.initialize(Ie.reviewManagers.map(Ae=>Ae.reviewModel),t),n.subscriptions.push(new tR(r.notificationProvider)),Fy(n,v,Ie,Wn,r);const Oe=s.workspace.getConfiguration(it).get(Ji);await s.commands.executeCommand("setContext","fileListLayout:flat",Oe==="flat");const ue=new x1(e,v,Ie,n,Wn);n.subscriptions.push(ue),await ue.initialize();const ye=()=>s.workspace.getConfiguration(it).get(In,!1),Te=()=>{const Ae=new MS(t,v,Wn);n.subscriptions.push(Ae)};ye()?Te():xr(it,In,ye,Te,n.subscriptions),n.subscriptions.push(new fk),await s.commands.executeCommand("setContext","github:initialized",!0),FR(v,e),IR(n,t,v),Zp.closeTabs(),Wn.sendTelemetryEvent("startup")}function IR(n,e,t){const i=()=>{const a=new B1;n.subscriptions.push(new q1(n,a)),dS(n,e,t,a)},r=()=>s.workspace.getConfiguration(it).get(gn,!1);r()?i():xr(it,gn,r,i,n.subscriptions)}async function DR(n){var e;if(b.appendLine(`Extension version: ${(e=s.extensions.getExtension(wa))==null?void 0:e.packageJSON.version}`,"Activation"),wa==="GitHub.vscode-pull-request-github-insiders"&&s.extensions.getExtension("github.vscode-pull-request-github")!==void 0)throw new Error("GitHub Pull Requests and Issues Nightly cannot be used while GitHub Pull Requests and Issues is also installed. Please ensure that only one version of the extension is installed.");const t=new by;s.commands.registerCommand("github.api.preloadPullRequest",async r=>{await s.commands.executeCommand("setContext",js,!0),await lt.focusView("github:activePullRequest:welcome"),t.shouldShow=r}),await xR(n),Ki.initialize(n),b.debug("Creating API implementation.","Activation");const i=new vt;return Wn=new qy(new c(MR)),n.subscriptions.push(Wn),await LR(n,i,t),i}async function xR(n){const e=[["openDiffOnClick",()=>s.workspace.getConfiguration(nr,null).get(zn,!0)],["showInlineOpenFileAction",()=>s.workspace.getConfiguration(nr,null).get(Vr,!0)]];for(const[t,i]of e)lt.setContext(t,i()),n.subscriptions.push(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${nr}.${t}`)&&lt.setContext(t,i())}))}async function mv(n,e,t){const i=await ak(e,t);return i?(n.subscriptions.push(i),!0):!1}function FR(n,e){const t="GitPostCommitCommands";class i{getCommands(v){b.debug(`Looking for remote. Comparing ${v.state.remotes.length} local repo remotes with ${n.folderManagers.reduce((Q,re)=>Q+re.gitHubRepositories.length,0)} GitHub repositories.`,t);const I=ba(v),G=n.folderManagers.find(Q=>Q.findRepo(re=>!!I.find(le=>le.equals(re.remote))));return b.debug(`Found ${G?"a repo":"no repos"} when getting post commit commands.`,t),G?[{command:"pr.pushAndCreate",title:s.l10n.t("{0} Commit & Create Pull Request","$(git-pull-request-create)"),tooltip:s.l10n.t("Commit & Create Pull Request")}]:[]}}function r(){return n.folderManagers.some(o=>o.gitHubRepositories.length>0)}function a(){return b.debug("Trying to register post commit commands.","GitPostCommitCommands"),r()?(b.debug("GitHub remote(s) found, registering post commit commands.",t),e.registerPostCommitCommandsProvider(new i),!0):!1}if(!a()){const o=n.onDidLoadAnyRepositories(()=>{a()&&o.dispose()})}}async function OR(n,e,t){if(b.debug("Registering built in git provider.","Activation"),!await mv(n,t,e)){const i=s.extensions.onDidChange(async()=>{await mv(n,t,e)&&i.dispose()});n.subscriptions.push(i)}}async function LR(n,e,t){b.debug("Initializing state.","Activation"),Ly(n),await vS(n),gh.init(n),b.debug("Creating credential store.","Activation");const i=new L_(Wn,n);n.subscriptions.push(i);const r=await $y(n,Wn);await r.initializePromise,await r.isCachedFlightEnabled("githubaa");const a=s.env.appHost==="desktop";await i.create(a?void 0:{silent:!0}),OR(n,e,i),b.debug("Registering live share git provider.","Activation");const o=rk(e);n.subscriptions.push(o);const v=o.initialize();n.subscriptions.push(e),b.debug("Creating tree view.","Activation");const I=new H_(i,Wn);n.subscriptions.push(I);const G=new cv(Wn,n,I);n.subscriptions.push(G),n.subscriptions.push(i.onDidGetSession(()=>G.refresh(void 0,!0))),b.appendLine("Looking for git repository",co);const Q=e.repositories;b.appendLine(`Found ${Q.length} repositories during activation`,co);const re=new QS;n.subscriptions.push(re);let le=0;const ge=Q.map(Oe=>new Qs(le++,n,Oe,Wn,e,i,re));n.subscriptions.push(...ge);for(const Oe of ge)I.insertFolderManager(Oe);const Re=Lc({reposManager:I,gitAPI:e,credentialStore:i}),Ie=new s.MarkdownString(s.l10n.t("Cannot edit this pull request file. [Check out](command:pr.checkoutFromReadonlyFile) this pull request to edit."));Ie.isTrusted={enabledCommands:["pr.checkoutFromReadonlyFile"]},n.subscriptions.push(s.workspace.registerFileSystemProvider($t.Pr,Re,{isReadonly:Ie})),await AR(n,e,i,Q,G,v,t,I,re)}async function UR(){Wn&&Wn.dispose()}})(),module.exports=qu})();
